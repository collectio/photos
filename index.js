(()=>{var U3=Object.create,Jy=Object.defineProperty,F3=Object.getPrototypeOf,V3=Object.prototype.hasOwnProperty,B3=Object.getOwnPropertyNames,q3=Object.getOwnPropertyDescriptor;var z3=e=>Jy(e,"__esModule",{value:!0});var Tt=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports);var H3=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of B3(t))!V3.call(e,r)&&r!=="default"&&Jy(e,r,{get:()=>t[r],enumerable:!(n=q3(t,r))||n.enumerable});return e},Ze=e=>H3(z3(Jy(e!=null?U3(F3(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var UI=Tt((Eh,jI)=>{(function(e,t){typeof Eh=="object"&&typeof jI!="undefined"?t(Eh):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.idb={}))})(Eh,function(e){"use strict";function t(b){return Array.prototype.slice.call(b)}function n(b){return new Promise(function(T,N){b.onsuccess=function(){T(b.result)},b.onerror=function(){N(b.error)}})}function r(b,T,N){var k,C=new Promise(function(P,j){k=b[T].apply(b,N),n(k).then(P,j)});return C.request=k,C}function o(b,T,N){var k=r(b,T,N);return k.then(function(C){if(!!C)return new d(C,k.request)})}function s(b,T,N){N.forEach(function(k){Object.defineProperty(b.prototype,k,{get:function(){return this[T][k]},set:function(C){this[T][k]=C}})})}function u(b,T,N,k){k.forEach(function(C){C in N.prototype&&(b.prototype[C]=function(){return r(this[T],C,arguments)})})}function c(b,T,N,k){k.forEach(function(C){C in N.prototype&&(b.prototype[C]=function(){return this[T][C].apply(this[T],arguments)})})}function f(b,T,N,k){k.forEach(function(C){C in N.prototype&&(b.prototype[C]=function(){return o(this[T],C,arguments)})})}function h(b){this._index=b}s(h,"_index",["name","keyPath","multiEntry","unique"]),u(h,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),f(h,"_index",IDBIndex,["openCursor","openKeyCursor"]);function d(b,T){this._cursor=b,this._request=T}s(d,"_cursor",["direction","key","primaryKey","value"]),u(d,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(b){b in IDBCursor.prototype&&(d.prototype[b]=function(){var T=this,N=arguments;return Promise.resolve().then(function(){return T._cursor[b].apply(T._cursor,N),n(T._request).then(function(k){if(!!k)return new d(k,T._request)})})})});function y(b){this._store=b}y.prototype.createIndex=function(){return new h(this._store.createIndex.apply(this._store,arguments))},y.prototype.index=function(){return new h(this._store.index.apply(this._store,arguments))},s(y,"_store",["name","keyPath","indexNames","autoIncrement"]),u(y,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),f(y,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),c(y,"_store",IDBObjectStore,["deleteIndex"]);function v(b){this._tx=b,this.complete=new Promise(function(T,N){b.oncomplete=function(){T()},b.onerror=function(){N(b.error)},b.onabort=function(){N(b.error)}})}v.prototype.objectStore=function(){return new y(this._tx.objectStore.apply(this._tx,arguments))},s(v,"_tx",["objectStoreNames","mode"]),c(v,"_tx",IDBTransaction,["abort"]);function E(b,T,N){this._db=b,this.oldVersion=T,this.transaction=new v(N)}E.prototype.createObjectStore=function(){return new y(this._db.createObjectStore.apply(this._db,arguments))},s(E,"_db",["name","version","objectStoreNames"]),c(E,"_db",IDBDatabase,["deleteObjectStore","close"]);function S(b){this._db=b}S.prototype.transaction=function(){return new v(this._db.transaction.apply(this._db,arguments))},s(S,"_db",["name","version","objectStoreNames"]),c(S,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(b){[y,h].forEach(function(T){b in T.prototype&&(T.prototype[b.replace("open","iterate")]=function(){var N=t(arguments),k=N[N.length-1],C=this._store||this._index,P=C[b].apply(C,N.slice(0,-1));P.onsuccess=function(){k(P.result)}})})}),[h,y].forEach(function(b){b.prototype.getAll||(b.prototype.getAll=function(T,N){var k=this,C=[];return new Promise(function(P){k.iterateCursor(T,function(j){if(!j){P(C);return}if(C.push(j.value),N!==void 0&&C.length==N){P(C);return}j.continue()})})})});function I(b,T,N){var k=r(indexedDB,"open",[b,T]),C=k.request;return C&&(C.onupgradeneeded=function(P){N&&N(new E(C.result,P.oldVersion,C.transaction))}),k.then(function(P){return new S(P)})}function _(b){return r(indexedDB,"deleteDatabase",[b])}e.openDb=I,e.deleteDb=_,Object.defineProperty(e,"__esModule",{value:!0})})});var Bw=Tt((wG,oA)=>{"use strict";var sA=Object.getOwnPropertySymbols,cz=Object.prototype.hasOwnProperty,lz=Object.prototype.propertyIsEnumerable;function fz(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function hz(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(s){return!1}}oA.exports=hz()?Object.assign:function(e,t){for(var n,r=fz(e),o,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var u in n)cz.call(n,u)&&(r[u]=n[u]);if(sA){o=sA(n);for(var c=0;c<o.length;c++)lz.call(n,o[c])&&(r[o[c]]=n[o[c]])}}return r}});var EA=Tt(me=>{"use strict";var qw=Bw(),Za=60103,aA=60106;me.Fragment=60107;me.StrictMode=60108;me.Profiler=60114;var uA=60109,cA=60110,lA=60112;me.Suspense=60113;var fA=60115,hA=60116;typeof Symbol=="function"&&Symbol.for&&(or=Symbol.for,Za=or("react.element"),aA=or("react.portal"),me.Fragment=or("react.fragment"),me.StrictMode=or("react.strict_mode"),me.Profiler=or("react.profiler"),uA=or("react.provider"),cA=or("react.context"),lA=or("react.forward_ref"),me.Suspense=or("react.suspense"),fA=or("react.memo"),hA=or("react.lazy"));var or,pA=typeof Symbol=="function"&&Symbol.iterator;function pz(e){return e===null||typeof e!="object"?null:(e=pA&&e[pA]||e["@@iterator"],typeof e=="function"?e:null)}function hl(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA={};function eu(e,t,n){this.props=e,this.context=t,this.refs=mA,this.updater=n||dA}eu.prototype.isReactComponent={};eu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(hl(85));this.updater.enqueueSetState(this,e,t,"setState")};eu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vA(){}vA.prototype=eu.prototype;function zw(e,t,n){this.props=e,this.context=t,this.refs=mA,this.updater=n||dA}var Hw=zw.prototype=new vA;Hw.constructor=zw;qw(Hw,eu.prototype);Hw.isPureReactComponent=!0;var Kw={current:null},yA=Object.prototype.hasOwnProperty,gA={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,n){var r,o={},s=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)yA.call(t,r)&&!gA.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),h=0;h<c;h++)f[h]=arguments[h+2];o.children=f}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Za,type:e,key:s,ref:u,props:o,_owner:Kw.current}}function dz(e,t){return{$$typeof:Za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Za}function mz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bA=/\/+/g;function Ww(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mz(""+e.key):t.toString(36)}function Wp(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Za:case aA:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+Ww(u,0):r,Array.isArray(o)?(n="",e!=null&&(n=e.replace(bA,"$&/")+"/"),Wp(o,t,n,"",function(h){return h})):o!=null&&(Gw(o)&&(o=dz(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(bA,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){s=e[c];var f=r+Ww(s,c);u+=Wp(s,t,n,f,o)}else if(f=pz(e),typeof f=="function")for(e=f.call(e),c=0;!(s=e.next()).done;)s=s.value,f=r+Ww(s,c++),u+=Wp(s,t,n,f,o);else if(s==="object")throw t=""+e,Error(hl(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function $p(e,t,n){if(e==null)return e;var r=[],o=0;return Wp(e,r,"","",function(s){return t.call(n,s,o++)}),r}function vz(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var _A={current:null};function mi(){var e=_A.current;if(e===null)throw Error(hl(321));return e}var yz={ReactCurrentDispatcher:_A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Kw,IsSomeRendererActing:{current:!1},assign:qw};me.Children={map:$p,forEach:function(e,t,n){$p(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $p(e,function(){t++}),t},toArray:function(e){return $p(e,function(t){return t})||[]},only:function(e){if(!Gw(e))throw Error(hl(143));return e}};me.Component=eu;me.PureComponent=zw;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yz;me.cloneElement=function(e,t,n){if(e==null)throw Error(hl(267,e));var r=qw({},e.props),o=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=Kw.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)yA.call(t,f)&&!gA.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var h=0;h<f;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Za,type:e.type,key:o,ref:s,props:r,_owner:u}};me.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:cA,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:uA,_context:e},e.Consumer=e};me.createElement=wA;me.createFactory=function(e){var t=wA.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:lA,render:e}};me.isValidElement=Gw;me.lazy=function(e){return{$$typeof:hA,_payload:{_status:-1,_result:e},_init:vz}};me.memo=function(e,t){return{$$typeof:fA,type:e,compare:t===void 0?null:t}};me.useCallback=function(e,t){return mi().useCallback(e,t)};me.useContext=function(e,t){return mi().useContext(e,t)};me.useDebugValue=function(){};me.useEffect=function(e,t){return mi().useEffect(e,t)};me.useImperativeHandle=function(e,t,n){return mi().useImperativeHandle(e,t,n)};me.useLayoutEffect=function(e,t){return mi().useLayoutEffect(e,t)};me.useMemo=function(e,t){return mi().useMemo(e,t)};me.useReducer=function(e,t,n){return mi().useReducer(e,t,n)};me.useRef=function(e){return mi().useRef(e)};me.useState=function(e){return mi().useState(e)};me.version="17.0.2"});var qn=Tt((_G,TA)=>{"use strict";TA.exports=EA()});var OA=Tt(Te=>{"use strict";var tu,pl,Yp,$w;typeof performance=="object"&&typeof performance.now=="function"?(SA=performance,Te.unstable_now=function(){return SA.now()}):(Yw=Date,IA=Yw.now(),Te.unstable_now=function(){return Yw.now()-IA});var SA,Yw,IA;typeof window=="undefined"||typeof MessageChannel!="function"?(nu=null,Xw=null,Qw=function(){if(nu!==null)try{var e=Te.unstable_now();nu(!0,e),nu=null}catch(t){throw setTimeout(Qw,0),t}},tu=function(e){nu!==null?setTimeout(tu,0,e):(nu=e,setTimeout(Qw,0))},pl=function(e,t){Xw=setTimeout(e,t)},Yp=function(){clearTimeout(Xw)},Te.unstable_shouldYield=function(){return!1},$w=Te.unstable_forceFrameRate=function(){}):(xA=window.setTimeout,NA=window.clearTimeout,typeof console!="undefined"&&(kA=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof kA!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),dl=!1,ml=null,Xp=-1,Jw=5,Zw=0,Te.unstable_shouldYield=function(){return Te.unstable_now()>=Zw},$w=function(){},Te.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Jw=0<e?Math.floor(1e3/e):5},eb=new MessageChannel,Qp=eb.port2,eb.port1.onmessage=function(){if(ml!==null){var e=Te.unstable_now();Zw=e+Jw;try{ml(!0,e)?Qp.postMessage(null):(dl=!1,ml=null)}catch(t){throw Qp.postMessage(null),t}}else dl=!1},tu=function(e){ml=e,dl||(dl=!0,Qp.postMessage(null))},pl=function(e,t){Xp=xA(function(){e(Te.unstable_now())},t)},Yp=function(){NA(Xp),Xp=-1});var nu,Xw,Qw,xA,NA,kA,dl,ml,Xp,Jw,Zw,eb,Qp;function tb(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(o!==void 0&&0<Jp(o,t))e[r]=t,e[n]=o,n=r;else break e}}function Nr(e){return e=e[0],e===void 0?null:e}function Zp(e){var t=e[0];if(t!==void 0){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,f=e[c];if(u!==void 0&&0>Jp(u,n))f!==void 0&&0>Jp(f,u)?(e[r]=f,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else if(f!==void 0&&0>Jp(f,n))e[r]=f,e[c]=n,r=c;else break e}}return t}return null}function Jp(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}var Gr=[],oo=[],gz=1,sr=null,Bt=3,ed=!1,Es=!1,vl=!1;function nb(e){for(var t=Nr(oo);t!==null;){if(t.callback===null)Zp(oo);else if(t.startTime<=e)Zp(oo),t.sortIndex=t.expirationTime,tb(Gr,t);else break;t=Nr(oo)}}function rb(e){if(vl=!1,nb(e),!Es)if(Nr(Gr)!==null)Es=!0,tu(ib);else{var t=Nr(oo);t!==null&&pl(rb,t.startTime-e)}}function ib(e,t){Es=!1,vl&&(vl=!1,Yp()),ed=!0;var n=Bt;try{for(nb(t),sr=Nr(Gr);sr!==null&&(!(sr.expirationTime>t)||e&&!Te.unstable_shouldYield());){var r=sr.callback;if(typeof r=="function"){sr.callback=null,Bt=sr.priorityLevel;var o=r(sr.expirationTime<=t);t=Te.unstable_now(),typeof o=="function"?sr.callback=o:sr===Nr(Gr)&&Zp(Gr),nb(t)}else Zp(Gr);sr=Nr(Gr)}if(sr!==null)var s=!0;else{var u=Nr(oo);u!==null&&pl(rb,u.startTime-t),s=!1}return s}finally{sr=null,Bt=n,ed=!1}}var wz=$w;Te.unstable_IdlePriority=5;Te.unstable_ImmediatePriority=1;Te.unstable_LowPriority=4;Te.unstable_NormalPriority=3;Te.unstable_Profiling=null;Te.unstable_UserBlockingPriority=2;Te.unstable_cancelCallback=function(e){e.callback=null};Te.unstable_continueExecution=function(){Es||ed||(Es=!0,tu(ib))};Te.unstable_getCurrentPriorityLevel=function(){return Bt};Te.unstable_getFirstCallbackNode=function(){return Nr(Gr)};Te.unstable_next=function(e){switch(Bt){case 1:case 2:case 3:var t=3;break;default:t=Bt}var n=Bt;Bt=t;try{return e()}finally{Bt=n}};Te.unstable_pauseExecution=function(){};Te.unstable_requestPaint=wz;Te.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Bt;Bt=e;try{return t()}finally{Bt=n}};Te.unstable_scheduleCallback=function(e,t,n){var r=Te.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:gz++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,tb(oo,e),Nr(Gr)===null&&e===Nr(oo)&&(vl?Yp():vl=!0,pl(rb,n-r))):(e.sortIndex=o,tb(Gr,e),Es||ed||(Es=!0,tu(ib))),e};Te.unstable_wrapCallback=function(e){var t=Bt;return function(){var n=Bt;Bt=t;try{return e.apply(this,arguments)}finally{Bt=n}}}});var AA=Tt((TG,PA)=>{"use strict";PA.exports=OA()});var gD=Tt(ar=>{"use strict";var td=qn(),Ue=Bw(),wt=AA();function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!td)throw Error(B(227));var CA=new Set,yl={};function Ts(e,t){ru(e,t),ru(e+"Capture",t)}function ru(e,t){for(yl[e]=t,e=0;e<t.length;e++)CA.add(t[e])}var vi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RA=Object.prototype.hasOwnProperty,DA={},LA={};function _z(e){return RA.call(LA,e)?!0:RA.call(DA,e)?!1:bz.test(e)?LA[e]=!0:(DA[e]=!0,!1)}function Ez(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tz(e,t,n,r){if(t===null||typeof t=="undefined"||Ez(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fn(e,t,n,r,o,s,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=u}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ob=/[\-:]([a-z])/g;function sb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ob,sb);Ot[t]=new fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ob,sb);Ot[t]=new fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ob,sb);Ot[t]=new fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ab(e,t,n,r){var o=Ot.hasOwnProperty(t)?Ot[t]:null,s=o!==null?o.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(Tz(t,n,o,r)&&(n=null),r||o===null?_z(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ss=td.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=60103,Is=60106,so=60107,ub=60108,wl=60114,cb=60109,lb=60110,nd=60112,bl=60113,rd=60120,id=60115,fb=60116,hb=60121,pb=60128,MA=60129,db=60130,mb=60131;typeof Symbol=="function"&&Symbol.for&&(ht=Symbol.for,gl=ht("react.element"),Is=ht("react.portal"),so=ht("react.fragment"),ub=ht("react.strict_mode"),wl=ht("react.profiler"),cb=ht("react.provider"),lb=ht("react.context"),nd=ht("react.forward_ref"),bl=ht("react.suspense"),rd=ht("react.suspense_list"),id=ht("react.memo"),fb=ht("react.lazy"),hb=ht("react.block"),ht("react.scope"),pb=ht("react.opaque.id"),MA=ht("react.debug_trace_mode"),db=ht("react.offscreen"),mb=ht("react.legacy_hidden"));var ht,jA=typeof Symbol=="function"&&Symbol.iterator;function _l(e){return e===null||typeof e!="object"?null:(e=jA&&e[jA]||e["@@iterator"],typeof e=="function"?e:null)}var vb;function El(e){if(vb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vb=t&&t[1]||""}return`
`+vb+e}var yb=!1;function od(e,t){if(!e||yb)return"";yb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),s=r.stack.split(`
`),u=o.length-1,c=s.length-1;1<=u&&0<=c&&o[u]!==s[c];)c--;for(;1<=u&&0<=c;u--,c--)if(o[u]!==s[c]){if(u!==1||c!==1)do if(u--,c--,0>c||o[u]!==s[c])return`
`+o[u].replace(" at new "," at ");while(1<=u&&0<=c);break}}}finally{yb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?El(e):""}function Sz(e){switch(e.tag){case 5:return El(e.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return e=od(e.type,!1),e;case 11:return e=od(e.type.render,!1),e;case 22:return e=od(e.type._render,!1),e;case 1:return e=od(e.type,!0),e;default:return""}}function iu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case so:return"Fragment";case Is:return"Portal";case wl:return"Profiler";case ub:return"StrictMode";case bl:return"Suspense";case rd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lb:return(e.displayName||"Context")+".Consumer";case cb:return(e._context.displayName||"Context")+".Provider";case nd:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case id:return iu(e.type);case hb:return iu(e._render);case fb:t=e._payload,e=e._init;try{return iu(e(t))}catch(n){}}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function UA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iz(e){var t=UA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){e._valueTracker||(e._valueTracker=Iz(e))}function FA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=UA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ad(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function gb(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function VA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BA(e,t){t=t.checked,t!=null&&ab(e,"checked",t,!1)}function bb(e,t){BA(e,t);var n=ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wb(e,t.type,n):t.hasOwnProperty("defaultValue")&&wb(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wb(e,t,n){(t!=="number"||ad(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xz(e){var t="";return td.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function _b(e,t){return e=Ue({children:void 0},t),(t=xz(t.children))&&(e.children=t),e}function ou(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ao(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Eb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ao(n)}}function HA(e,t){var n=ao(t.value),r=ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function KA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Tb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function GA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ud,WA=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!==Tb.svg||"innerHTML"in e)e.innerHTML=t;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ud.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nz=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){Nz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function $A(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function YA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=$A(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var kz=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ib(e,t){if(t){if(kz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function xb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Nb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kb=null,su=null,au=null;function XA(e){if(e=Il(e)){if(typeof kb!="function")throw Error(B(280));var t=e.stateNode;t&&(t=cd(t),kb(e.stateNode,e.type,t))}}function QA(e){su?au?au.push(e):au=[e]:su=e}function JA(){if(su){var e=su,t=au;if(au=su=null,XA(e),t)for(e=0;e<t.length;e++)XA(t[e])}}function Ob(e,t){return e(t)}function ZA(e,t,n,r,o){return e(t,n,r,o)}function Pb(){}var eC=Ob,xs=!1,Ab=!1;function Cb(){(su!==null||au!==null)&&(Pb(),JA())}function Oz(e,t,n){if(Ab)return e(t,n);Ab=!0;try{return eC(e,t,n)}finally{Ab=!1,Cb()}}function xl(e,t){var n=e.stateNode;if(n===null)return null;var r=cd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Rb=!1;if(vi)try{uu={},Object.defineProperty(uu,"passive",{get:function(){Rb=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch(e){Rb=!1}var uu;function Pz(e,t,n,r,o,s,u,c,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var Nl=!1,ld=null,fd=!1,Db=null,Az={onError:function(e){Nl=!0,ld=e}};function Cz(e,t,n,r,o,s,u,c,f){Nl=!1,ld=null,Pz.apply(Az,arguments)}function Rz(e,t,n,r,o,s,u,c,f){if(Cz.apply(this,arguments),Nl){if(Nl){var h=ld;Nl=!1,ld=null}else throw Error(B(198));fd||(fd=!0,Db=h)}}function Ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!=0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nC(e){if(Ns(e)!==e)throw Error(B(188))}function Dz(e){var t=e.alternate;if(!t){if(t=Ns(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return nC(o),e;if(s===r)return nC(o),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=s;else{for(var u=!1,c=o.child;c;){if(c===n){u=!0,n=o,r=s;break}if(c===r){u=!0,r=o,n=s;break}c=c.sibling}if(!u){for(c=s.child;c;){if(c===n){u=!0,n=s,r=o;break}if(c===r){u=!0,r=s,n=o;break}c=c.sibling}if(!u)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function rC(e){if(e=Dz(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function iC(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var oC,Lb,sC,aC,Mb=!1,Wr=[],uo=null,co=null,lo=null,kl=new Map,Ol=new Map,Pl=[],uC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jb(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function cC(e,t){switch(e){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(t.pointerId)}}function Al(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e=jb(t,n,r,o,s),t!==null&&(t=Il(t),t!==null&&Lb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Lz(e,t,n,r,o){switch(t){case"focusin":return uo=Al(uo,e,t,n,r,o),!0;case"dragenter":return co=Al(co,e,t,n,r,o),!0;case"mouseover":return lo=Al(lo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return kl.set(s,Al(kl.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ol.set(s,Al(Ol.get(s)||null,e,t,n,r,o)),!0}return!1}function Mz(e){var t=ks(e.target);if(t!==null){var n=Ns(t);if(n!==null){if(t=n.tag,t===13){if(t=tC(n),t!==null){e.blockedOn=t,aC(e.lanePriority,function(){wt.unstable_runWithPriority(e.priority,function(){sC(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ub(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=Il(n),t!==null&&Lb(t),e.blockedOn=n,!1;t.shift()}return!0}function lC(e,t,n){hd(e)&&n.delete(t)}function jz(){for(Mb=!1;0<Wr.length;){var e=Wr[0];if(e.blockedOn!==null){e=Il(e.blockedOn),e!==null&&oC(e);break}for(var t=e.targetContainers;0<t.length;){var n=Ub(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Wr.shift()}uo!==null&&hd(uo)&&(uo=null),co!==null&&hd(co)&&(co=null),lo!==null&&hd(lo)&&(lo=null),kl.forEach(lC),Ol.forEach(lC)}function Cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mb||(Mb=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,jz)))}function fC(e){function t(o){return Cl(o,e)}if(0<Wr.length){Cl(Wr[0],e);for(var n=1;n<Wr.length;n++){var r=Wr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(uo!==null&&Cl(uo,e),co!==null&&Cl(co,e),lo!==null&&Cl(lo,e),kl.forEach(t),Ol.forEach(t),n=0;n<Pl.length;n++)r=Pl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Mz(n),n.blockedOn===null&&Pl.shift()}function pd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cu={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},Fb={},hC={};vi&&(hC=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function dd(e){if(Fb[e])return Fb[e];if(!cu[e])return e;var t=cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hC)return Fb[e]=t[n];return e}var pC=dd("animationend"),dC=dd("animationiteration"),mC=dd("animationstart"),vC=dd("transitionend"),yC=new Map,Vb=new Map,Uz=["abort","abort",pC,"animationEnd",dC,"animationIteration",mC,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",vC,"transitionEnd","waiting","waiting"];function Bb(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Vb.set(r,t),yC.set(r,o),Ts(o,[r])}}var Fz=wt.unstable_now;Fz();var Ae=8;function lu(e){if((1&e)!=0)return Ae=15,1;if((2&e)!=0)return Ae=14,2;if((4&e)!=0)return Ae=13,4;var t=24&e;return t!==0?(Ae=12,t):(e&32)!=0?(Ae=11,32):(t=192&e,t!==0?(Ae=10,t):(e&256)!=0?(Ae=9,256):(t=3584&e,t!==0?(Ae=8,t):(e&4096)!=0?(Ae=7,4096):(t=4186112&e,t!==0?(Ae=6,t):(t=62914560&e,t!==0?(Ae=5,t):e&67108864?(Ae=4,67108864):(e&134217728)!=0?(Ae=3,134217728):(t=805306368&e,t!==0?(Ae=2,t):(1073741824&e)!=0?(Ae=1,1073741824):(Ae=8,e))))))}function Vz(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Bz(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(B(358,e))}}function Rl(e,t){var n=e.pendingLanes;if(n===0)return Ae=0;var r=0,o=0,s=e.expiredLanes,u=e.suspendedLanes,c=e.pingedLanes;if(s!==0)r=s,o=Ae=15;else if(s=n&134217727,s!==0){var f=s&~u;f!==0?(r=lu(f),o=Ae):(c&=s,c!==0&&(r=lu(c),o=Ae))}else s=n&~u,s!==0?(r=lu(s),o=Ae):c!==0&&(r=lu(c),o=Ae);if(r===0)return 0;if(r=31-fo(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&u)==0){if(lu(t),o<=Ae)return t;Ae=o}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fo(t),o=1<<n,r|=e[n],t&=~o;return r}function gC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function md(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=fu(24&~t),e===0?md(10,t):e;case 10:return e=fu(192&~t),e===0?md(8,t):e;case 8:return e=fu(3584&~t),e===0&&(e=fu(4186112&~t),e===0&&(e=512)),e;case 2:return t=fu(805306368&~t),t===0&&(t=268435456),t}throw Error(B(358,e))}function fu(e){return e&-e}function qb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vd(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-fo(t),e[t]=n}var fo=Math.clz32?Math.clz32:qz,zz=Math.log,Hz=Math.LN2;function qz(e){return e===0?32:31-(zz(e)/Hz|0)|0}var Kz=wt.unstable_UserBlockingPriority,Gz=wt.unstable_runWithPriority,yd=!0;function Wz(e,t,n,r){xs||Pb();var o=zb,s=xs;xs=!0;try{ZA(o,e,t,n,r)}finally{(xs=s)||Cb()}}function $z(e,t,n,r){Gz(Kz,zb.bind(null,e,t,n,r))}function zb(e,t,n,r){if(yd){var o;if((o=(t&4)==0)&&0<Wr.length&&-1<uC.indexOf(e))e=jb(null,e,t,n,r),Wr.push(e);else{var s=Ub(e,t,n,r);if(s===null)o&&cC(e,r);else{if(o){if(-1<uC.indexOf(e)){e=jb(s,e,t,n,r),Wr.push(e);return}if(Lz(s,e,t,n,r))return;cC(e,r)}wC(e,t,r,null,n)}}}}function Ub(e,t,n,r){var o=Nb(r);if(o=ks(o),o!==null){var s=Ns(o);if(s===null)o=null;else{var u=s.tag;if(u===13){if(o=tC(s),o!==null)return o;o=null}else if(u===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return wC(e,t,r,o,n),null}var ho=null,Hb=null,gd=null;function bC(){if(gd)return gd;var e,t=Hb,n=t.length,r,o="value"in ho?ho.value:ho.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[s-r];r++);return gd=o.slice(e,1<r?1-r:void 0)}function wd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bd(){return!0}function _C(){return!1}function zn(e){function t(n,r,o,s,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bd:_C,this.isPropagationStopped=_C,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),t}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kb=zn(hu),Dl=Ue({},hu,{view:0,detail:0}),Yz=zn(Dl),Gb,Wb,Ll,_d=Ue({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ll&&(Ll&&e.type==="mousemove"?(Gb=e.screenX-Ll.screenX,Wb=e.screenY-Ll.screenY):Wb=Gb=0,Ll=e),Gb)},movementY:function(e){return"movementY"in e?e.movementY:Wb}}),EC=zn(_d),Xz=Ue({},_d,{dataTransfer:0}),Qz=zn(Xz),Jz=Ue({},Dl,{relatedTarget:0}),Yb=zn(Jz),Zz=Ue({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),eH=zn(Zz),tH=Ue({},hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nH=zn(tH),rH=Ue({},hu,{data:0}),TC=zn(rH),iH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sH[e])?!!t[e]:!1}function $b(){return aH}var uH=Ue({},Dl,{key:function(e){if(e.key){var t=iH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(e){return e.type==="keypress"?wd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cH=zn(uH),lH=Ue({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SC=zn(lH),fH=Ue({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),hH=zn(fH),pH=Ue({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dH=zn(pH),mH=Ue({},_d,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vH=zn(mH),yH=[9,13,27,32],Xb=vi&&"CompositionEvent"in window,Ml=null;vi&&"documentMode"in document&&(Ml=document.documentMode);var gH=vi&&"TextEvent"in window&&!Ml,IC=vi&&(!Xb||Ml&&8<Ml&&11>=Ml),xC=String.fromCharCode(32),NC=!1;function kC(e,t){switch(e){case"keyup":return yH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pu=!1;function wH(e,t){switch(e){case"compositionend":return OC(t);case"keypress":return t.which!==32?null:(NC=!0,xC);case"textInput":return e=t.data,e===xC&&NC?null:e;default:return null}}function bH(e,t){if(pu)return e==="compositionend"||!Xb&&kC(e,t)?(e=bC(),gd=Hb=ho=null,pu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IC&&t.locale!=="ko"?null:t.data;default:return null}}var _H={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_H[e.type]:t==="textarea"}function AC(e,t,n,r){QA(r),t=Ed(t,"onChange"),0<t.length&&(n=new Kb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jl=null,Ul=null;function EH(e){CC(e,0)}function Td(e){var t=du(e);if(FA(t))return e}function TH(e,t){if(e==="change")return t}var RC=!1;vi&&(vi?(Id="oninput"in document,Id||(Qb=document.createElement("div"),Qb.setAttribute("oninput","return;"),Id=typeof Qb.oninput=="function"),Sd=Id):Sd=!1,RC=Sd&&(!document.documentMode||9<document.documentMode));var Sd,Id,Qb;function LC(){jl&&(jl.detachEvent("onpropertychange",DC),Ul=jl=null)}function DC(e){if(e.propertyName==="value"&&Td(Ul)){var t=[];if(AC(t,Ul,e,Nb(e)),e=EH,xs)e(t);else{xs=!0;try{Ob(e,t)}finally{xs=!1,Cb()}}}}function SH(e,t,n){e==="focusin"?(LC(),jl=t,Ul=n,jl.attachEvent("onpropertychange",DC)):e==="focusout"&&LC()}function IH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Td(Ul)}function xH(e,t){if(e==="click")return Td(t)}function NH(e,t){if(e==="input"||e==="change")return Td(t)}function kH(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:kH,OH=Object.prototype.hasOwnProperty;function Fl(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!OH.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function MC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jC(e,t){var n=MC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=MC(n)}}function UC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FC(){for(var e=window,t=ad();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=ad(e.document)}return t}function Jb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var PH=vi&&"documentMode"in document&&11>=document.documentMode,mu=null,Zb=null,Vl=null,e_=!1;function VC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e_||mu==null||mu!==ad(r)||(r=mu,"selectionStart"in r&&Jb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vl&&Fl(Vl,r)||(Vl=r,r=Ed(Zb,"onSelect"),0<r.length&&(t=new Kb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mu)))}Bb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Bb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Bb(Uz,2);for(var BC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),t_=0;t_<BC.length;t_++)Vb.set(BC[t_],0);ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function zC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rz(r,t,void 0,e),e.currentTarget=null}function CC(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var u=r.length-1;0<=u;u--){var c=r[u],f=c.instance,h=c.currentTarget;if(c=c.listener,f!==s&&o.isPropagationStopped())break e;zC(o,c,h),s=f}else for(u=0;u<r.length;u++){if(c=r[u],f=c.instance,h=c.currentTarget,c=c.listener,f!==s&&o.isPropagationStopped())break e;zC(o,c,h),s=f}}}if(fd)throw e=Db,fd=!1,Db=null,e}function Re(e,t){var n=KC(t),r=e+"__bubble";n.has(r)||(HC(t,e,2,!1),n.add(r))}var GC="_reactListening"+Math.random().toString(36).slice(2);function $C(e){e[GC]||(e[GC]=!0,CA.forEach(function(t){qC.has(t)||WC(t,!1,e,null),WC(t,!0,e,null)}))}function WC(e,t,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&qC.has(e)){if(e!=="scroll")return;o|=2,s=r}var u=KC(s),c=e+"__"+(t?"capture":"bubble");u.has(c)||(t&&(o|=4),HC(s,e,o,t),u.add(c))}function HC(e,t,n,r){var o=Vb.get(t);switch(o===void 0?2:o){case 0:o=Wz;break;case 1:o=$z;break;default:o=zb}n=o.bind(null,t,n,e),o=void 0,!Rb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function wC(e,t,n,r,o){var s=r;if((t&1)==0&&(t&2)==0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;c!==null;){if(u=ks(c),u===null)return;if(f=u.tag,f===5||f===6){r=s=u;continue e}c=c.parentNode}}r=r.return}Oz(function(){var h=s,d=Nb(n),y=[];e:{var v=yC.get(e);if(v!==void 0){var E=Kb,S=e;switch(e){case"keypress":if(wd(n)===0)break e;case"keydown":case"keyup":E=cH;break;case"focusin":S="focus",E=Yb;break;case"focusout":S="blur",E=Yb;break;case"beforeblur":case"afterblur":E=Yb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=EC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Qz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=hH;break;case pC:case dC:case mC:E=eH;break;case vC:E=dH;break;case"scroll":E=Yz;break;case"wheel":E=vH;break;case"copy":case"cut":case"paste":E=nH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=SC}var I=(t&4)!=0,_=!I&&e==="scroll",b=I?v!==null?v+"Capture":null:v;I=[];for(var T=h,N;T!==null;){N=T;var k=N.stateNode;if(N.tag===5&&k!==null&&(N=k,b!==null&&(k=xl(T,b),k!=null&&I.push(ql(T,k,N)))),_)break;T=T.return}0<I.length&&(v=new E(v,S,null,n,d),y.push({event:v,listeners:I}))}}if((t&7)==0){e:{if(v=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",v&&(t&16)==0&&(S=n.relatedTarget||n.fromElement)&&(ks(S)||S[yu]))break e;if((E||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,E?(S=n.relatedTarget||n.toElement,E=h,S=S?ks(S):null,S!==null&&(_=Ns(S),S!==_||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=h),E!==S)){if(I=EC,k="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=SC,k="onPointerLeave",b="onPointerEnter",T="pointer"),_=E==null?v:du(E),N=S==null?v:du(S),v=new I(k,T+"leave",E,n,d),v.target=_,v.relatedTarget=N,k=null,ks(d)===h&&(I=new I(b,T+"enter",S,n,d),I.target=N,I.relatedTarget=_,k=I),_=k,E&&S)t:{for(I=E,b=S,T=0,N=I;N;N=vu(N))T++;for(N=0,k=b;k;k=vu(k))N++;for(;0<T-N;)I=vu(I),T--;for(;0<N-T;)b=vu(b),N--;for(;T--;){if(I===b||b!==null&&I===b.alternate)break t;I=vu(I),b=vu(b)}I=null}else I=null;E!==null&&YC(y,v,E,I,!1),S!==null&&_!==null&&YC(y,_,S,I,!0)}}e:{if(v=h?du(h):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var C=TH;else if(PC(v))if(RC)C=NH;else{C=IH;var P=SH}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=xH);if(C&&(C=C(e,h))){AC(y,C,n,d);break e}P&&P(e,v,h),e==="focusout"&&(P=v._wrapperState)&&P.controlled&&v.type==="number"&&wb(v,"number",v.value)}switch(P=h?du(h):window,e){case"focusin":(PC(P)||P.contentEditable==="true")&&(mu=P,Zb=h,Vl=null);break;case"focusout":Vl=Zb=mu=null;break;case"mousedown":e_=!0;break;case"contextmenu":case"mouseup":case"dragend":e_=!1,VC(y,n,d);break;case"selectionchange":if(PH)break;case"keydown":case"keyup":VC(y,n,d)}var j;if(Xb)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else pu?kC(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(IC&&n.locale!=="ko"&&(pu||q!=="onCompositionStart"?q==="onCompositionEnd"&&pu&&(j=bC()):(ho=d,Hb="value"in ho?ho.value:ho.textContent,pu=!0)),P=Ed(h,q),0<P.length&&(q=new TC(q,e,null,n,d),y.push({event:q,listeners:P}),j?q.data=j:(j=OC(n),j!==null&&(q.data=j)))),(j=gH?wH(e,n):bH(e,n))&&(h=Ed(h,"onBeforeInput"),0<h.length&&(d=new TC("onBeforeInput","beforeinput",null,n,d),y.push({event:d,listeners:h}),d.data=j))}CC(y,t)})}function ql(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ed(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=xl(e,n),s!=null&&r.unshift(ql(e,s,o)),s=xl(e,t),s!=null&&r.push(ql(e,s,o))),e=e.return}return r}function vu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YC(e,t,n,r,o){for(var s=t._reactName,u=[];n!==null&&n!==r;){var c=n,f=c.alternate,h=c.stateNode;if(f!==null&&f===r)break;c.tag===5&&h!==null&&(c=h,o?(f=xl(n,s),f!=null&&u.unshift(ql(n,f,c))):o||(f=xl(n,s),f!=null&&u.push(ql(n,f,c)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}function xd(){}var n_=null,r_=null;function XC(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function i_(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var QC=typeof setTimeout=="function"?setTimeout:void 0,AH=typeof clearTimeout=="function"?clearTimeout:void 0;function o_(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function gu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function JC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var s_=0;function CH(e){return{$$typeof:pb,toString:e,valueOf:e}}var Nd=Math.random().toString(36).slice(2),po="__reactFiber$"+Nd,kd="__reactProps$"+Nd,yu="__reactContainer$"+Nd,ZC="__reactEvents$"+Nd;function ks(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yu]||n[po]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=JC(e);e!==null;){if(n=e[po])return n;e=JC(e)}return t}e=n,n=e.parentNode}return null}function Il(e){return e=e[po]||e[yu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function du(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function cd(e){return e[kd]||null}function KC(e){var t=e[ZC];return t===void 0&&(t=e[ZC]=new Set),t}var a_=[],wu=-1;function mo(e){return{current:e}}function De(e){0>wu||(e.current=a_[wu],a_[wu]=null,wu--)}function He(e,t){wu++,a_[wu]=e.current,e.current=t}var vo={},qt=mo(vo),_n=mo(!1),Os=vo;function bu(e,t){var n=e.type.contextTypes;if(!n)return vo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function En(e){return e=e.childContextTypes,e!=null}function Od(){De(_n),De(qt)}function eR(e,t,n){if(qt.current!==vo)throw Error(B(168));He(qt,t),He(_n,n)}function tR(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(B(108,iu(t)||"Unknown",o));return Ue({},n,r)}function Pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,Os=qt.current,He(qt,e),He(_n,_n.current),!0}function nR(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=tR(e,t,Os),r.__reactInternalMemoizedMergedChildContext=e,De(_n),De(qt),He(qt,e)):De(_n),He(_n,n)}var u_=null,Ps=null,RH=wt.unstable_runWithPriority,c_=wt.unstable_scheduleCallback,l_=wt.unstable_cancelCallback,DH=wt.unstable_shouldYield,rR=wt.unstable_requestPaint,f_=wt.unstable_now,LH=wt.unstable_getCurrentPriorityLevel,Ad=wt.unstable_ImmediatePriority,iR=wt.unstable_UserBlockingPriority,oR=wt.unstable_NormalPriority,sR=wt.unstable_LowPriority,aR=wt.unstable_IdlePriority,h_={},MH=rR!==void 0?rR:function(){},yi=null,Cd=null,p_=!1,uR=f_(),zt=1e4>uR?f_:function(){return f_()-uR};function _u(){switch(LH()){case Ad:return 99;case iR:return 98;case oR:return 97;case sR:return 96;case aR:return 95;default:throw Error(B(332))}}function cR(e){switch(e){case 99:return Ad;case 98:return iR;case 97:return oR;case 96:return sR;case 95:return aR;default:throw Error(B(332))}}function As(e,t){return e=cR(e),RH(e,t)}function zl(e,t,n){return e=cR(e),c_(e,t,n)}function $r(){if(Cd!==null){var e=Cd;Cd=null,l_(e)}lR()}function lR(){if(!p_&&yi!==null){p_=!0;var e=0;try{var t=yi;As(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),yi=null}catch(n){throw yi!==null&&(yi=yi.slice(e+1)),c_(Ad,$r),n}finally{p_=!1}}}var jH=Ss.ReactCurrentBatchConfig;function kr(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Rd=mo(null),Dd=null,Eu=null,Ld=null;function d_(){Ld=Eu=Dd=null}function m_(e){var t=Rd.current;De(Rd),e.type._context._currentValue=t}function fR(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Tu(e,t){Dd=e,Ld=Eu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!=0&&(Or=!0),e.firstContext=null)}function cr(e,t){if(Ld!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Ld=e,t=1073741823),t={context:e,observedBits:t,next:null},Eu===null){if(Dd===null)throw Error(B(308));Eu=t,Dd.dependencies={lanes:0,firstContext:t,responders:null}}else Eu=Eu.next=t;return e._currentValue}var yo=!1;function v_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wo(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function pR(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kl(e,t,n,r){var o=e.updateQueue;yo=!1;var s=o.firstBaseUpdate,u=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,h=f.next;f.next=null,u===null?s=h:u.next=h,u=f;var d=e.alternate;if(d!==null){d=d.updateQueue;var y=d.lastBaseUpdate;y!==u&&(y===null?d.firstBaseUpdate=h:y.next=h,d.lastBaseUpdate=f)}}if(s!==null){y=o.baseState,u=0,d=h=f=null;do{c=s.lane;var v=s.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=e,S=s;switch(c=t,v=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){y=E.call(v,y,c);break e}y=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=S.payload,c=typeof E=="function"?E.call(v,y,c):E,c==null)break e;y=Ue({},y,c);break e;case 2:yo=!0}}s.callback!==null&&(e.flags|=32,c=o.effects,c===null?o.effects=[s]:c.push(s))}else v={eventTime:v,lane:c,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(h=d=v,f=y):d=d.next=v,u|=c;if(s=s.next,s===null){if(c=o.shared.pending,c===null)break;s=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}while(1);d===null&&(f=y),o.baseState=f,o.firstBaseUpdate=h,o.lastBaseUpdate=d,Hl|=u,e.lanes=u,e.memoizedState=y}}function dR(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var mR=new td.Component().refs;function Md(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jd={isMounted:function(e){return(e=e._reactInternals)?Ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hn(),o=bo(e),s=go(r,o);s.payload=t,n!=null&&(s.callback=n),wo(e,s),_o(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hn(),o=bo(e),s=go(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),wo(e,s),_o(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hn(),r=bo(e),o=go(n,r);o.tag=2,t!=null&&(o.callback=t),wo(e,o),_o(e,r,n)}};function vR(e,t,n,r,o,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,u):t.prototype&&t.prototype.isPureReactComponent?!Fl(n,r)||!Fl(o,s):!0}function yR(e,t,n){var r=!1,o=vo,s=t.contextType;return typeof s=="object"&&s!==null?s=cr(s):(o=En(t)?Os:qt.current,r=t.contextTypes,s=(r=r!=null)?bu(e,o):vo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function gR(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jd.enqueueReplaceState(t,t.state,null)}function y_(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=mR,v_(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=cr(s):(s=En(t)?Os:qt.current,o.context=bu(e,s)),Kl(e,n,o,r),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Md(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&jd.enqueueReplaceState(o,o.state,null),Kl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var Ud=Array.isArray;function Gl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var u=r.refs;u===mR&&(u=r.refs={}),s===null?delete u[o]:u[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Fd(e,t){if(e.type!=="textarea")throw Error(B(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wR(e){function t(_,b){if(e){var T=_.lastEffect;T!==null?(T.nextEffect=b,_.lastEffect=b):_.firstEffect=_.lastEffect=b,b.nextEffect=null,b.flags=8}}function n(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function o(_,b){return _=Eo(_,b),_.index=0,_.sibling=null,_}function s(_,b,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags=2,b):T):(_.flags=2,b)):b}function u(_){return e&&_.alternate===null&&(_.flags=2),_}function c(_,b,T,N){return b===null||b.tag!==6?(b=g_(T,_.mode,N),b.return=_,b):(b=o(b,T),b.return=_,b)}function f(_,b,T,N){return b!==null&&b.elementType===T.type?(N=o(b,T.props),N.ref=Gl(_,b,T),N.return=_,N):(N=Vd(T.type,T.key,T.props,null,_.mode,N),N.ref=Gl(_,b,T),N.return=_,N)}function h(_,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=w_(T,_.mode,N),b.return=_,b):(b=o(b,T.children||[]),b.return=_,b)}function d(_,b,T,N,k){return b===null||b.tag!==7?(b=Su(T,_.mode,N,k),b.return=_,b):(b=o(b,T),b.return=_,b)}function y(_,b,T){if(typeof b=="string"||typeof b=="number")return b=g_(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gl:return T=Vd(b.type,b.key,b.props,null,_.mode,T),T.ref=Gl(_,null,b),T.return=_,T;case Is:return b=w_(b,_.mode,T),b.return=_,b}if(Ud(b)||_l(b))return b=Su(b,_.mode,T,null),b.return=_,b;Fd(_,b)}return null}function v(_,b,T,N){var k=b!==null?b.key:null;if(typeof T=="string"||typeof T=="number")return k!==null?null:c(_,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gl:return T.key===k?T.type===so?d(_,b,T.props.children,N,k):f(_,b,T,N):null;case Is:return T.key===k?h(_,b,T,N):null}if(Ud(T)||_l(T))return k!==null?null:d(_,b,T,N,null);Fd(_,T)}return null}function E(_,b,T,N,k){if(typeof N=="string"||typeof N=="number")return _=_.get(T)||null,c(b,_,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case gl:return _=_.get(N.key===null?T:N.key)||null,N.type===so?d(b,_,N.props.children,k,N.key):f(b,_,N,k);case Is:return _=_.get(N.key===null?T:N.key)||null,h(b,_,N,k)}if(Ud(N)||_l(N))return _=_.get(T)||null,d(b,_,N,k,null);Fd(b,N)}return null}function S(_,b,T,N){for(var k=null,C=null,P=b,j=b=0,q=null;P!==null&&j<T.length;j++){P.index>j?(q=P,P=null):q=P.sibling;var D=v(_,P,T[j],N);if(D===null){P===null&&(P=q);break}e&&P&&D.alternate===null&&t(_,P),b=s(D,b,j),C===null?k=D:C.sibling=D,C=D,P=q}if(j===T.length)return n(_,P),k;if(P===null){for(;j<T.length;j++)P=y(_,T[j],N),P!==null&&(b=s(P,b,j),C===null?k=P:C.sibling=P,C=P);return k}for(P=r(_,P);j<T.length;j++)q=E(P,_,j,T[j],N),q!==null&&(e&&q.alternate!==null&&P.delete(q.key===null?j:q.key),b=s(q,b,j),C===null?k=q:C.sibling=q,C=q);return e&&P.forEach(function(he){return t(_,he)}),k}function I(_,b,T,N){var k=_l(T);if(typeof k!="function")throw Error(B(150));if(T=k.call(T),T==null)throw Error(B(151));for(var C=k=null,P=b,j=b=0,q=null,D=T.next();P!==null&&!D.done;j++,D=T.next()){P.index>j?(q=P,P=null):q=P.sibling;var he=v(_,P,D.value,N);if(he===null){P===null&&(P=q);break}e&&P&&he.alternate===null&&t(_,P),b=s(he,b,j),C===null?k=he:C.sibling=he,C=he,P=q}if(D.done)return n(_,P),k;if(P===null){for(;!D.done;j++,D=T.next())D=y(_,D.value,N),D!==null&&(b=s(D,b,j),C===null?k=D:C.sibling=D,C=D);return k}for(P=r(_,P);!D.done;j++,D=T.next())D=E(P,_,j,D.value,N),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?j:D.key),b=s(D,b,j),C===null?k=D:C.sibling=D,C=D);return e&&P.forEach(function(O){return t(_,O)}),k}return function(_,b,T,N){var k=typeof T=="object"&&T!==null&&T.type===so&&T.key===null;k&&(T=T.props.children);var C=typeof T=="object"&&T!==null;if(C)switch(T.$$typeof){case gl:e:{for(C=T.key,k=b;k!==null;){if(k.key===C){switch(k.tag){case 7:if(T.type===so){n(_,k.sibling),b=o(k,T.props.children),b.return=_,_=b;break e}break;default:if(k.elementType===T.type){n(_,k.sibling),b=o(k,T.props),b.ref=Gl(_,k,T),b.return=_,_=b;break e}}n(_,k);break}else t(_,k);k=k.sibling}T.type===so?(b=Su(T.props.children,_.mode,N,T.key),b.return=_,_=b):(N=Vd(T.type,T.key,T.props,null,_.mode,N),N.ref=Gl(_,b,T),N.return=_,_=N)}return u(_);case Is:e:{for(k=T.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),b=o(b,T.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else t(_,b);b=b.sibling}b=w_(T,_.mode,N),b.return=_,_=b}return u(_)}if(typeof T=="string"||typeof T=="number")return T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),b=o(b,T),b.return=_,_=b):(n(_,b),b=g_(T,_.mode,N),b.return=_,_=b),u(_);if(Ud(T))return S(_,b,T,N);if(_l(T))return I(_,b,T,N);if(C&&Fd(_,T),typeof T=="undefined"&&!k)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(B(152,iu(_.type)||"Component"))}return n(_,b)}}var Bd=wR(!0),bR=wR(!1),Wl={},Yr=mo(Wl),$l=mo(Wl),Yl=mo(Wl);function Cs(e){if(e===Wl)throw Error(B(174));return e}function b_(e,t){switch(He(Yl,t),He($l,e),He(Yr,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sb(t,e)}De(Yr),He(Yr,t)}function Iu(){De(Yr),De($l),De(Yl)}function _R(e){Cs(Yl.current);var t=Cs(Yr.current),n=Sb(t,e.type);t!==n&&(He($l,e),He(Yr,n))}function __(e){$l.current===e&&(De(Yr),De($l))}var Ke=mo(0);function qd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gi=null,To=null,Xr=!1;function ER(e,t){var n=lr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function TR(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function E_(e){if(Xr){var t=To;if(t){var n=t;if(!TR(e,t)){if(t=gu(n.nextSibling),!t||!TR(e,t)){e.flags=e.flags&-1025|2,Xr=!1,gi=e;return}ER(gi,n)}gi=e,To=gu(t.firstChild)}else e.flags=e.flags&-1025|2,Xr=!1,gi=e}}function SR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gi=e}function zd(e){if(e!==gi)return!1;if(!Xr)return SR(e),Xr=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!i_(t,e.memoizedProps))for(t=To;t;)ER(e,t),t=gu(t.nextSibling);if(SR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){To=gu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}To=null}}else To=gi?gu(e.stateNode.nextSibling):null;return!0}function T_(){To=gi=null,Xr=!1}var xu=[];function S_(){for(var e=0;e<xu.length;e++)xu[e]._workInProgressVersionPrimary=null;xu.length=0}var Xl=Ss.ReactCurrentDispatcher,fr=Ss.ReactCurrentBatchConfig,Ql=0,Xe=null,Ht=null,Pt=null,Hd=!1,Jl=!1;function Tn(){throw Error(B(321))}function I_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function x_(e,t,n,r,o,s){if(Ql=s,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xl.current=e===null||e.memoizedState===null?UH:FH,e=n(r,o),Jl){s=0;do{if(Jl=!1,!(25>s))throw Error(B(301));s+=1,Pt=Ht=null,t.updateQueue=null,Xl.current=VH,e=n(r,o)}while(Jl)}if(Xl.current=Kd,t=Ht!==null&&Ht.next!==null,Ql=0,Pt=Ht=Xe=null,Hd=!1,t)throw Error(B(300));return e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Xe.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Ds(){if(Ht===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Pt===null?Xe.memoizedState:Pt.next;if(t!==null)Pt=t,Ht=e;else{if(e===null)throw Error(B(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Pt===null?Xe.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Qr(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Ds(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ht,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var u=o.next;o.next=s.next,s.next=u}r.baseQueue=o=s,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var c=u=s=null,f=o;do{var h=f.lane;if((Ql&h)===h)c!==null&&(c=c.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),r=f.eagerReducer===e?f.eagerState:e(r,f.action);else{var d={lane:h,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};c===null?(u=c=d,s=r):c=c.next=d,Xe.lanes|=h,Hl|=h}f=f.next}while(f!==null&&f!==o);c===null?s=r:c.next=u,ur(r,t.memoizedState)||(Or=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ef(e){var t=Ds(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do s=e(s,u.action),u=u.next;while(u!==o);ur(s,t.memoizedState)||(Or=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function IR(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(o!==null?e=o===r:(e=e.mutableReadLanes,(e=(Ql&e)===e)&&(t._workInProgressVersionPrimary=r,xu.push(t))),e)return n(t._source);throw xu.push(t),Error(B(350))}function xR(e,t,n,r){var o=hn;if(o===null)throw Error(B(349));var s=t._getVersion,u=s(t._source),c=Xl.current,f=c.useState(function(){return IR(o,t,n)}),h=f[1],d=f[0];f=Pt;var y=e.memoizedState,v=y.refs,E=v.getSnapshot,S=y.source;y=y.subscribe;var I=Xe;return e.memoizedState={refs:v,source:t,subscribe:r},c.useEffect(function(){v.getSnapshot=n,v.setSnapshot=h;var _=s(t._source);if(!ur(u,_)){_=n(t._source),ur(d,_)||(h(_),_=bo(I),o.mutableReadLanes|=_&o.pendingLanes),_=o.mutableReadLanes,o.entangledLanes|=_;for(var b=o.entanglements,T=_;0<T;){var N=31-fo(T),k=1<<N;b[N]|=_,T&=~k}}},[n,t,r]),c.useEffect(function(){return r(t._source,function(){var _=v.getSnapshot,b=v.setSnapshot;try{b(_(t._source));var T=bo(I);o.mutableReadLanes|=T&o.pendingLanes}catch(N){b(function(){throw N})}})},[t,r]),ur(E,n)&&ur(S,t)&&ur(y,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:d},e.dispatch=h=N_.bind(null,Xe,e),f.queue=e,f.baseQueue=null,d=IR(o,t,n),f.memoizedState=f.baseState=d),d}function NR(e,t,n){var r=Ds();return xR(r,e,t,n)}function tf(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},e=e.dispatch=N_.bind(null,Xe,e),[t.memoizedState,e]}function Gd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kR(e){var t=Rs();return e={current:e},t.memoizedState=e}function Wd(){return Ds().memoizedState}function k_(e,t,n,r){var o=Rs();Xe.flags|=e,o.memoizedState=Gd(1|t,n,void 0,r===void 0?null:r)}function O_(e,t,n,r){var o=Ds();r=r===void 0?null:r;var s=void 0;if(Ht!==null){var u=Ht.memoizedState;if(s=u.destroy,r!==null&&I_(r,u.deps)){Gd(t,n,s,r);return}}Xe.flags|=e,o.memoizedState=Gd(1|t,n,s,r)}function OR(e,t){return k_(516,4,e,t)}function $d(e,t){return O_(516,4,e,t)}function PR(e,t){return O_(4,2,e,t)}function AR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CR(e,t,n){return n=n!=null?n.concat([e]):null,O_(4,2,AR.bind(null,t,e),n)}function P_(){}function RR(e,t){var n=Ds();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&I_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DR(e,t){var n=Ds();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&I_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BH(e,t){var n=_u();As(98>n?98:n,function(){e(!0)}),As(97<n?97:n,function(){var r=fr.transition;fr.transition=1;try{e(!1),t()}finally{fr.transition=r}})}function N_(e,t,n){var r=Hn(),o=bo(e),s={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?s.next=s:(s.next=u.next,u.next=s),t.pending=s,u=e.alternate,e===Xe||u!==null&&u===Xe)Jl=Hd=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var c=t.lastRenderedState,f=u(c,n);if(s.eagerReducer=u,s.eagerState=f,ur(f,c))return}catch(h){}finally{}_o(e,o,r)}}var Kd={readContext:cr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useOpaqueIdentifier:Tn,unstable_isNewReconciler:!1},UH={readContext:cr,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:OR,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,k_(4,2,AR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return k_(4,2,e,t)},useMemo:function(e,t){var n=Rs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=N_.bind(null,Xe,e),[r.memoizedState,e]},useRef:kR,useState:tf,useDebugValue:P_,useDeferredValue:function(e){var t=tf(e),n=t[0],r=t[1];return OR(function(){var o=fr.transition;fr.transition=1;try{r(e)}finally{fr.transition=o}},[e]),n},useTransition:function(){var e=tf(!1),t=e[0];return e=BH.bind(null,e[1]),kR(e),[e,t]},useMutableSource:function(e,t,n){var r=Rs();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},xR(r,e,t,n)},useOpaqueIdentifier:function(){if(Xr){var e=!1,t=CH(function(){throw e||(e=!0,n("r:"+(s_++).toString(36))),Error(B(355))}),n=tf(t)[1];return(Xe.mode&2)==0&&(Xe.flags|=516,Gd(5,function(){n("r:"+(s_++).toString(36))},void 0,null)),t}return t="r:"+(s_++).toString(36),tf(t),t},unstable_isNewReconciler:!1},FH={readContext:cr,useCallback:RR,useContext:cr,useEffect:$d,useImperativeHandle:CR,useLayoutEffect:PR,useMemo:DR,useReducer:Zl,useRef:Wd,useState:function(){return Zl(Qr)},useDebugValue:P_,useDeferredValue:function(e){var t=Zl(Qr),n=t[0],r=t[1];return $d(function(){var o=fr.transition;fr.transition=1;try{r(e)}finally{fr.transition=o}},[e]),n},useTransition:function(){var e=Zl(Qr)[0];return[Wd().current,e]},useMutableSource:NR,useOpaqueIdentifier:function(){return Zl(Qr)[0]},unstable_isNewReconciler:!1},VH={readContext:cr,useCallback:RR,useContext:cr,useEffect:$d,useImperativeHandle:CR,useLayoutEffect:PR,useMemo:DR,useReducer:ef,useRef:Wd,useState:function(){return ef(Qr)},useDebugValue:P_,useDeferredValue:function(e){var t=ef(Qr),n=t[0],r=t[1];return $d(function(){var o=fr.transition;fr.transition=1;try{r(e)}finally{fr.transition=o}},[e]),n},useTransition:function(){var e=ef(Qr)[0];return[Wd().current,e]},useMutableSource:NR,useOpaqueIdentifier:function(){return ef(Qr)[0]},unstable_isNewReconciler:!1},qH=Ss.ReactCurrentOwner,Or=!1;function Sn(e,t,n,r){t.child=e===null?bR(t,null,n,r):Bd(t,e.child,n,r)}function LR(e,t,n,r,o){n=n.render;var s=t.ref;return Tu(t,o),r=x_(e,t,n,r,s,o),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,wi(e,t,o)):(t.flags|=1,Sn(e,t,r,o),t.child)}function jR(e,t,n,r,o,s){if(e===null){var u=n.type;return typeof u=="function"&&!A_(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,MR(e,t,u,r,o,s)):(e=Vd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,(o&s)==0&&(o=u.memoizedProps,n=n.compare,n=n!==null?n:Fl,n(o,r)&&e.ref===t.ref)?wi(e,t,s):(t.flags|=1,e=Eo(u,r),e.ref=t.ref,e.return=t,t.child=e)}function MR(e,t,n,r,o,s){if(e!==null&&Fl(e.memoizedProps,r)&&e.ref===t.ref)if(Or=!1,(s&o)!=0)(e.flags&16384)!=0&&(Or=!0);else return t.lanes=e.lanes,wi(e,t,s);return C_(e,t,n,r,s)}function R_(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)==0)t.memoizedState={baseLanes:0},Yd(t,n);else if((n&1073741824)!=0)t.memoizedState={baseLanes:0},Yd(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Yd(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Yd(t,r);return Sn(e,t,o,n),t.child}function UR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function C_(e,t,n,r,o){var s=En(n)?Os:qt.current;return s=bu(t,s),Tu(t,o),n=x_(e,t,n,r,s,o),e!==null&&!Or?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,wi(e,t,o)):(t.flags|=1,Sn(e,t,n,o),t.child)}function FR(e,t,n,r,o){if(En(n)){var s=!0;Pd(t)}else s=!1;if(Tu(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),yR(t,n,r),y_(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,c=t.memoizedProps;u.props=c;var f=u.context,h=n.contextType;typeof h=="object"&&h!==null?h=cr(h):(h=En(n)?Os:qt.current,h=bu(t,h));var d=n.getDerivedStateFromProps,y=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==r||f!==h)&&gR(t,u,r,h),yo=!1;var v=t.memoizedState;u.state=v,Kl(t,r,u,o),f=t.memoizedState,c!==r||v!==f||_n.current||yo?(typeof d=="function"&&(Md(t,n,d,r),f=t.memoizedState),(c=yo||vR(t,n,c,r,v,f,h))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=h,r=c):(typeof u.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{u=t.stateNode,hR(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:kr(t.type,c),u.props=h,y=t.pendingProps,v=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=cr(f):(f=En(n)?Os:qt.current,f=bu(t,f));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==y||v!==f)&&gR(t,u,r,f),yo=!1,v=t.memoizedState,u.state=v,Kl(t,r,u,o);var S=t.memoizedState;c!==y||v!==S||_n.current||yo?(typeof E=="function"&&(Md(t,n,E,r),S=t.memoizedState),(h=yo||vR(t,n,h,r,v,S,f))?(d||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,S,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,S,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=S),u.props=r,u.state=S,u.context=f,r=h):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),r=!1)}return D_(e,t,n,r,s,o)}function D_(e,t,n,r,o,s){UR(e,t);var u=(t.flags&64)!=0;if(!r&&!u)return o&&nR(t,n,!1),wi(e,t,s);r=t.stateNode,qH.current=t;var c=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Bd(t,e.child,null,s),t.child=Bd(t,null,c,s)):Sn(e,t,c,s),t.memoizedState=r.state,o&&nR(t,n,!0),t.child}function VR(e){var t=e.stateNode;t.pendingContext?eR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eR(e,t.context,!1),b_(e,t.containerInfo)}var Xd={dehydrated:null,retryLane:0};function HR(e,t,n){var r=t.pendingProps,o=Ke.current,s=!1,u;return(u=(t.flags&64)!=0)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!=0),u?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),He(Ke,o&1),e===null?(r.fallback!==void 0&&E_(t),e=r.children,o=r.fallback,s?(e=BR(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xd,e):typeof r.unstable_expectedLoadTime=="number"?(e=BR(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xd,t.lanes=33554432,e):(n=L_({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=zR(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Xd,r):(n=qR(e,t,r.children,n),t.memoizedState=null,n):s?(r=zR(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Xd,r):(n=qR(e,t,r.children,n),t.memoizedState=null,n)}function BR(e,t,n,r){var o=e.mode,s=e.child;return t={mode:"hidden",children:t},(o&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=t):s=L_(t,o,0,null),n=Su(n,o,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function qR(e,t,n,r){var o=e.child;return e=o.sibling,n=Eo(o,{mode:"visible",children:n}),(t.mode&2)==0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function zR(e,t,n,r,o){var s=t.mode,u=e.child;e=u.sibling;var c={mode:"hidden",children:n};return(s&2)==0&&t.child!==u?(n=t.child,n.childLanes=0,n.pendingProps=c,u=n.lastEffect,u!==null?(t.firstEffect=n.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Eo(u,c),e!==null?r=Eo(e,r):(r=Su(r,s,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function KR(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fR(e.return,t)}function M_(e,t,n,r,o,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=o,u.lastEffect=s)}function GR(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Sn(e,t,r.children,n),r=Ke.current,(r&2)!=0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!=0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&KR(e,n);else if(e.tag===19)KR(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Ke,r),(t.mode&2)==0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&qd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),M_(t,!1,o,n,s,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&qd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}M_(t,!0,n,null,s,t.lastEffect);break;case"together":M_(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,(n&t.childLanes)!=0){if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Eo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Eo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var WR,j_,$R,YR;WR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j_=function(){};$R=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Cs(Yr.current);var s=null;switch(n){case"input":o=gb(e,o),r=gb(e,r),s=[];break;case"option":o=_b(e,o),r=_b(e,r),s=[];break;case"select":o=Ue({},o,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":o=Eb(e,o),r=Eb(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xd)}Ib(n,r);var u;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var c=o[h];for(u in c)c.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(yl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var f=r[h];if(c=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&f!==c&&(f!=null||c!=null))if(h==="style")if(c){for(u in c)!c.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&c[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(s||(s=[]),s.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(s=s||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(yl.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Re("scroll",e),s||c===f||(s=[])):typeof f=="object"&&f!==null&&f.$$typeof===pb?f.toString():(s=s||[]).push(h,f))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};YR=function(e,t,n,r){n!==r&&(t.flags|=4)};function nf(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zH(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return En(t.type)&&Od(),null;case 3:return Iu(),De(_n),De(qt),S_(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zd(t)?t.flags|=4:r.hydrate||(t.flags|=256)),j_(t),null;case 5:__(t);var o=Cs(Yl.current);if(n=t.type,e!==null&&t.stateNode!=null)$R(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(B(166));return null}if(e=Cs(Yr.current),zd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[kd]=s,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(e=0;e<Bl.length;e++)Re(Bl[e],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":VA(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":zA(r,s),Re("invalid",r)}Ib(n,s),e=null;for(var u in s)s.hasOwnProperty(u)&&(o=s[u],u==="children"?typeof o=="string"?r.textContent!==o&&(e=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(e=["children",""+o]):yl.hasOwnProperty(u)&&o!=null&&u==="onScroll"&&Re("scroll",r));switch(n){case"input":sd(r),qA(r,s,!0);break;case"textarea":sd(r),KA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xd)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(u=o.nodeType===9?o:o.ownerDocument,e===Tb.html&&(e=GA(n)),e===Tb.html?n==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[po]=t,e[kd]=r,WR(e,t,!1,!1),t.stateNode=e,u=xb(n,r),n){case"dialog":Re("cancel",e),Re("close",e),o=r;break;case"iframe":case"object":case"embed":Re("load",e),o=r;break;case"video":case"audio":for(o=0;o<Bl.length;o++)Re(Bl[o],e);o=r;break;case"source":Re("error",e),o=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),o=r;break;case"details":Re("toggle",e),o=r;break;case"input":VA(e,r),o=gb(e,r),Re("invalid",e);break;case"option":o=_b(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ue({},r,{value:void 0}),Re("invalid",e);break;case"textarea":zA(e,r),o=Eb(e,r),Re("invalid",e);break;default:o=r}Ib(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];s==="style"?YA(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&WA(e,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Tl(e,f):typeof f=="number"&&Tl(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Re("scroll",e):f!=null&&ab(e,s,f,u))}switch(n){case"input":sd(e),qA(e,r,!1);break;case"textarea":sd(e),KA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ou(e,!!r.multiple,s,!1):r.defaultValue!=null&&ou(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=xd)}XC(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)YR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));n=Cs(Yl.current),Cs(Yr.current),zd(t)?(r=t.stateNode,n=t.memoizedProps,r[po]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[po]=t,t.stateNode=r)}return null;case 13:return De(Ke),r=t.memoizedState,(t.flags&64)!=0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&zd(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!=0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Ke.current&1)!=0?At===0&&(At=3):((At===0||At===3)&&(At=4),hn===null||(Hl&134217727)==0&&(Nu&134217727)==0||ku(hn,Kt))),(r||n)&&(t.flags|=4),null);case 4:return Iu(),j_(t),e===null&&$C(t.stateNode.containerInfo),null;case 10:return m_(t),null;case 17:return En(t.type)&&Od(),null;case 19:if(De(Ke),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!=0,u=r.rendering,u===null)if(s)nf(r,!1);else{if(At!==0||e!==null&&(e.flags&64)!=0)for(e=t.child;e!==null;){if(u=qd(e),u!==null){for(t.flags|=64,nf(r,!1),s=u.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,u=s.alternate,u===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Ke,Ke.current&1|2),t.child}e=e.sibling}r.tail!==null&&zt()>U_&&(t.flags|=64,s=!0,nf(r,!1),t.lanes=33554432)}else{if(!s)if(e=qd(u),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Xr)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*zt()-r.renderingStartTime>U_&&n!==1073741824&&(t.flags|=64,s=!0,nf(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(n=r.last,n!==null?n.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zt(),n.sibling=null,t=Ke.current,He(Ke,s?t&1|2:t&1),n):null;case 23:case 24:return F_(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(B(156,t.tag))}function HH(e){switch(e.tag){case 1:En(e.type)&&Od();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Iu(),De(_n),De(qt),S_(),t=e.flags,(t&64)!=0)throw Error(B(285));return e.flags=t&-4097|64,e;case 5:return __(e),null;case 13:return De(Ke),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return De(Ke),null;case 4:return Iu(),null;case 10:return m_(e),null;case 23:case 24:return F_(),null;default:return null}}function V_(e,t){try{var n="",r=t;do n+=Sz(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o}}function B_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KH=typeof WeakMap=="function"?WeakMap:Map;function XR(e,t,n){n=go(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qd||(Qd=!0,q_=r),B_(e,t)},n}function QR(e,t,n){n=go(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return B_(e,t),r(o)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this),B_(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}var GH=typeof WeakSet=="function"?WeakSet:Set;function JR(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){So(e,n)}else t.current=null}function WH(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:kr(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&o_(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(B(163))}function YH(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)==3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var o=e;r=o.next,o=o.tag,(o&4)!=0&&(o&1)!=0&&(ZR(n,e),$H(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:kr(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&dR(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}dR(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&XC(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&fC(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(B(163))}function eD(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=$A("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function nD(e,t){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(u_,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if((r&4)!=0)ZR(t,n);else{r=t;try{o()}catch(s){So(r,s)}}n=n.next}while(n!==e)}break;case 1:if(JR(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){So(t,s)}break;case 5:JR(t);break;case 4:tD(e,t)}}function rD(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function iD(e){return e.tag===5||e.tag===3||e.tag===4}function oD(e){e:{for(var t=e.return;t!==null;){if(iD(t))break e;t=t.return}throw Error(B(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(B(161))}n.flags&16&&(Tl(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||iD(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?z_(e,n,t):H_(e,n,t)}function z_(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xd));else if(r!==4&&(e=e.child,e!==null))for(z_(e,t,n),e=e.sibling;e!==null;)z_(e,t,n),e=e.sibling}function H_(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(H_(e,t,n),e=e.sibling;e!==null;)H_(e,t,n),e=e.sibling}function tD(e,t){for(var n=t,r=!1,o,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(B(160));switch(o=r.stateNode,r.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var u=e,c=n,f=c;;)if(nD(u,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s?(u=o,c=n.stateNode,u.nodeType===8?u.parentNode.removeChild(c):u.removeChild(c)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(nD(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function G_(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)==3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var o=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[kd]=r,e==="input"&&r.type==="radio"&&r.name!=null&&BA(n,r),xb(e,o),t=xb(e,r),o=0;o<s.length;o+=2){var u=s[o],c=s[o+1];u==="style"?YA(n,c):u==="dangerouslySetInnerHTML"?WA(n,c):u==="children"?Tl(n,c):ab(n,u,c,t)}switch(e){case"input":bb(n,r);break;case"textarea":HA(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?ou(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?ou(n,!!r.multiple,r.defaultValue,!0):ou(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(B(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,fC(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(K_=zt(),eD(t.child,!0)),sD(t);return;case 19:sD(t);return;case 17:return;case 23:case 24:eD(t,t.memoizedState!==null);return}throw Error(B(163))}function sD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new GH),t.forEach(function(r){var o=XH.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function QH(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var JH=Math.ceil,Jd=Ss.ReactCurrentDispatcher,W_=Ss.ReactCurrentOwner,re=0,hn=null,pt=null,Kt=0,Ls=0,$_=mo(0),At=0,Zd=null,Ou=0,Hl=0,Nu=0,Y_=0,X_=null,K_=0,U_=Infinity;function Pu(){U_=zt()+500}var K=null,Qd=!1,q_=null,Jr=null,Io=!1,rf=null,of=90,Q_=[],J_=[],bi=null,sf=0,Z_=null,em=-1,_i=0,tm=0,af=null,nm=!1;function Hn(){return(re&48)!=0?zt():em!==-1?em:em=zt()}function bo(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return _u()===99?1:2;if(_i===0&&(_i=Ou),jH.transition!==0){tm!==0&&(tm=X_!==null?X_.pendingLanes:0),e=_i;var t=4186112&~tm;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=_u(),(re&4)!=0&&e===98?e=md(12,_i):(e=Vz(e),e=md(e,_i)),e}function _o(e,t,n){if(50<sf)throw sf=0,Z_=null,Error(B(185));if(e=rm(e,t),e===null)return null;vd(e,t,n),e===hn&&(Nu|=t,At===4&&ku(e,Kt));var r=_u();t===1?(re&8)!=0&&(re&48)==0?e1(e):(hr(e,n),re===0&&(Pu(),$r())):((re&4)==0||r!==98&&r!==99||(bi===null?bi=new Set([e]):bi.add(e)),hr(e,n)),X_=e}function rm(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function hr(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var c=31-fo(u),f=1<<c,h=s[c];if(h===-1){if((f&r)==0||(f&o)!=0){h=t,lu(f);var d=Ae;s[c]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=t&&(e.expiredLanes|=f);u&=~f}if(r=Rl(e,e===hn?Kt:0),t=Ae,r===0)n!==null&&(n!==h_&&l_(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==h_&&l_(n)}t===15?(n=e1.bind(null,e),yi===null?(yi=[n],Cd=c_(Ad,lR)):yi.push(n),n=h_):t===14?n=zl(99,e1.bind(null,e)):(n=Bz(t),n=zl(n,aD.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function aD(e){if(em=-1,tm=_i=0,(re&48)!=0)throw Error(B(327));var t=e.callbackNode;if(xo()&&e.callbackNode!==t)return null;var n=Rl(e,e===hn?Kt:0);if(n===0)return null;var r=n,o=re;re|=16;var s=cD();(hn!==e||Kt!==r)&&(Pu(),Au(e,r));do try{ZH();break}catch(c){uD(e,c)}while(1);if(d_(),Jd.current=s,re=o,pt!==null?r=0:(hn=null,Kt=0,r=At),(Ou&Nu)!=0)Au(e,0);else if(r!==0){if(r===2&&(re|=64,e.hydrate&&(e.hydrate=!1,o_(e.containerInfo)),n=gC(e),n!==0&&(r=uf(e,n))),r===1)throw t=Zd,Au(e,0),ku(e,n),hr(e,zt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(B(345));case 2:Ms(e);break;case 3:if(ku(e,n),(n&62914560)===n&&(r=K_+500-zt(),10<r)){if(Rl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Hn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=QC(Ms.bind(null,e),r);break}Ms(e);break;case 4:if(ku(e,n),(n&4186112)===n)break;for(r=e.eventTimes,o=-1;0<n;){var u=31-fo(n);s=1<<u,u=r[u],u>o&&(o=u),n&=~s}if(n=o,n=zt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JH(n/1960))-n,10<n){e.timeoutHandle=QC(Ms.bind(null,e),n);break}Ms(e);break;case 5:Ms(e);break;default:throw Error(B(329))}}return hr(e,zt()),e.callbackNode===t?aD.bind(null,e):null}function ku(e,t){for(t&=~Y_,t&=~Nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fo(t),r=1<<n;e[n]=-1,t&=~r}}function e1(e){if((re&48)!=0)throw Error(B(327));if(xo(),e===hn&&(e.expiredLanes&Kt)!=0){var t=Kt,n=uf(e,t);(Ou&Nu)!=0&&(t=Rl(e,t),n=uf(e,t))}else t=Rl(e,0),n=uf(e,t);if(e.tag!==0&&n===2&&(re|=64,e.hydrate&&(e.hydrate=!1,o_(e.containerInfo)),t=gC(e),t!==0&&(n=uf(e,t))),n===1)throw n=Zd,Au(e,0),ku(e,t),hr(e,zt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ms(e),hr(e,zt()),null}function e5(){if(bi!==null){var e=bi;bi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,hr(t,zt())})}$r()}function lD(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Pu(),$r())}}function fD(e,t){var n=re;re&=-2,re|=8;try{return e(t)}finally{re=n,re===0&&(Pu(),$r())}}function Yd(e,t){He($_,Ls),Ls|=t,Ou|=t}function F_(){Ls=$_.current,De($_)}function Au(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,AH(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Od();break;case 3:Iu(),De(_n),De(qt),S_();break;case 5:__(r);break;case 4:Iu();break;case 13:De(Ke);break;case 19:De(Ke);break;case 10:m_(r);break;case 23:case 24:F_()}n=n.return}hn=e,pt=Eo(e.current,null),Kt=Ls=Ou=t,At=0,Zd=null,Y_=Nu=Hl=0}function uD(e,t){do{var n=pt;try{if(d_(),Xl.current=Kd,Hd){for(var r=Xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Hd=!1}if(Ql=0,Pt=Ht=Xe=null,Jl=!1,W_.current=null,n===null||n.return===null){At=1,Zd=t,pt=null;break}e:{var s=e,u=n.return,c=n,f=t;if(t=Kt,c.flags|=2048,c.firstEffect=c.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f;if((c.mode&2)==0){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=(Ke.current&1)!=0,v=u;do{var E;if(E=v.tag===13){var S=v.memoizedState;if(S!==null)E=S.dehydrated!==null;else{var I=v.memoizedProps;E=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!y}}if(E){var _=v.updateQueue;if(_===null){var b=new Set;b.add(h),v.updateQueue=b}else _.add(h);if((v.mode&2)==0){if(v.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var T=go(-1,1);T.tag=2,wo(c,T)}c.lanes|=1;break e}f=void 0,c=t;var N=s.pingCache;if(N===null?(N=s.pingCache=new KH,f=new Set,N.set(h,f)):(f=N.get(h),f===void 0&&(f=new Set,N.set(h,f))),!f.has(c)){f.add(c);var k=t5.bind(null,s,h,c);h.then(k,k)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);f=Error((iu(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}At!==5&&(At=2),f=V_(f,c),v=u;do{switch(v.tag){case 3:s=f,v.flags|=4096,t&=-t,v.lanes|=t;var C=XR(v,s,t);pR(v,C);break e;case 1:s=f;var P=v.type,j=v.stateNode;if((v.flags&64)==0&&(typeof P.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Jr===null||!Jr.has(j)))){v.flags|=4096,t&=-t,v.lanes|=t;var q=QR(v,s,t);pR(v,q);break e}}v=v.return}while(v!==null)}hD(n)}catch(D){t=D,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function cD(){var e=Jd.current;return Jd.current=Kd,e===null?Kd:e}function uf(e,t){var n=re;re|=16;var r=cD();hn===e&&Kt===t||Au(e,t);do try{n5();break}catch(o){uD(e,o)}while(1);if(d_(),re=n,Jd.current=r,pt!==null)throw Error(B(261));return hn=null,Kt=0,At}function n5(){for(;pt!==null;)pD(pt)}function ZH(){for(;pt!==null&&!DH();)pD(pt)}function pD(e){var t=dD(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,t===null?hD(e):pt=t,W_.current=null}function hD(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)==0){if(n=zH(n,t,Ls),n!==null){pt=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Ls&1073741824)!=0||(n.mode&4)==0){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=HH(t),n!==null){n.flags&=2047,pt=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);At===0&&(At=5)}function Ms(e){var t=_u();return As(99,r5.bind(null,e,t)),null}function r5(e,t){do xo();while(rf!==null);if((re&48)!=0)throw Error(B(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,s=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var u=e.eventTimes,c=e.expirationTimes;0<s;){var f=31-fo(s),h=1<<f;o[f]=0,u[f]=-1,c[f]=-1,s&=~h}if(bi!==null&&(r&24)==0&&bi.has(e)&&bi.delete(e),e===hn&&(pt=hn=null,Kt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=re,re|=32,W_.current=null,n_=yd,u=FC(),Jb(u)){if("selectionStart"in u)c={start:u.selectionStart,end:u.selectionEnd};else e:if(c=(c=u.ownerDocument)&&c.defaultView||window,(h=c.getSelection&&c.getSelection())&&h.rangeCount!==0){c=h.anchorNode,s=h.anchorOffset,f=h.focusNode,h=h.focusOffset;try{c.nodeType,f.nodeType}catch(D){c=null;break e}var d=0,y=-1,v=-1,E=0,S=0,I=u,_=null;t:for(;;){for(var b;I!==c||s!==0&&I.nodeType!==3||(y=d+s),I!==f||h!==0&&I.nodeType!==3||(v=d+h),I.nodeType===3&&(d+=I.nodeValue.length),(b=I.firstChild)!==null;)_=I,I=b;for(;;){if(I===u)break t;if(_===c&&++E===s&&(y=d),_===f&&++S===h&&(v=d),(b=I.nextSibling)!==null)break;I=_,_=I.parentNode}I=b}c=y===-1||v===-1?null:{start:y,end:v}}else c=null;c=c||{start:0,end:0}}else c=null;r_={focusedElem:u,selectionRange:c},yd=!1,af=null,nm=!1,K=r;do try{i5()}catch(D){if(K===null)throw Error(B(330));So(K,D),K=K.nextEffect}while(K!==null);af=null,K=r;do try{for(u=e;K!==null;){var T=K.flags;if(T&16&&Tl(K.stateNode,""),T&128){var N=K.alternate;if(N!==null){var k=N.ref;k!==null&&(typeof k=="function"?k(null):k.current=null)}}switch(T&1038){case 2:oD(K),K.flags&=-3;break;case 6:oD(K),K.flags&=-3,G_(K.alternate,K);break;case 1024:K.flags&=-1025;break;case 1028:K.flags&=-1025,G_(K.alternate,K);break;case 4:G_(K.alternate,K);break;case 8:c=K,tD(u,c);var C=c.alternate;rD(c),C!==null&&rD(C)}K=K.nextEffect}}catch(D){if(K===null)throw Error(B(330));So(K,D),K=K.nextEffect}while(K!==null);if(k=r_,N=FC(),T=k.focusedElem,u=k.selectionRange,N!==T&&T&&T.ownerDocument&&UC(T.ownerDocument.documentElement,T)){for(u!==null&&Jb(T)&&(N=u.start,k=u.end,k===void 0&&(k=N),"selectionStart"in T?(T.selectionStart=N,T.selectionEnd=Math.min(k,T.value.length)):(k=(N=T.ownerDocument||document)&&N.defaultView||window,k.getSelection&&(k=k.getSelection(),c=T.textContent.length,C=Math.min(u.start,c),u=u.end===void 0?C:Math.min(u.end,c),!k.extend&&C>u&&(c=u,u=C,C=c),c=jC(T,C),s=jC(T,u),c&&s&&(k.rangeCount!==1||k.anchorNode!==c.node||k.anchorOffset!==c.offset||k.focusNode!==s.node||k.focusOffset!==s.offset)&&(N=N.createRange(),N.setStart(c.node,c.offset),k.removeAllRanges(),C>u?(k.addRange(N),k.extend(s.node,s.offset)):(N.setEnd(s.node,s.offset),k.addRange(N)))))),N=[],k=T;k=k.parentNode;)k.nodeType===1&&N.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<N.length;T++)k=N[T],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}yd=!!n_,r_=n_=null,e.current=n,K=r;do try{for(T=e;K!==null;){var P=K.flags;if(P&36&&YH(T,K.alternate,K),P&128){N=void 0;var j=K.ref;if(j!==null){var q=K.stateNode;switch(K.tag){case 5:N=q;break;default:N=q}typeof j=="function"?j(N):j.current=N}}K=K.nextEffect}}catch(D){if(K===null)throw Error(B(330));So(K,D),K=K.nextEffect}while(K!==null);K=null,MH(),re=o}else e.current=n;if(Io)Io=!1,rf=e,of=t;else for(K=r;K!==null;)t=K.nextEffect,K.nextEffect=null,K.flags&8&&(P=K,P.sibling=null,P.stateNode=null),K=t;if(r=e.pendingLanes,r===0&&(Jr=null),r===1?e===Z_?sf++:(sf=0,Z_=e):sf=0,n=n.stateNode,Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(u_,n,void 0,(n.current.flags&64)==64)}catch(D){}if(hr(e,zt()),Qd)throw Qd=!1,e=q_,q_=null,e;return(re&8)!=0||$r(),null}function i5(){for(;K!==null;){var e=K.alternate;nm||af===null||((K.flags&8)!=0?iC(K,af)&&(nm=!0):K.tag===13&&QH(e,K)&&iC(K,af)&&(nm=!0));var t=K.flags;(t&256)!=0&&WH(e,K),(t&512)==0||Io||(Io=!0,zl(97,function(){return xo(),null})),K=K.nextEffect}}function xo(){if(of!==90){var e=97<of?97:of;return of=90,As(e,o5)}return!1}function $H(e,t){Q_.push(t,e),Io||(Io=!0,zl(97,function(){return xo(),null}))}function ZR(e,t){J_.push(t,e),Io||(Io=!0,zl(97,function(){return xo(),null}))}function o5(){if(rf===null)return!1;var e=rf;if(rf=null,(re&48)!=0)throw Error(B(331));var t=re;re|=32;var n=J_;J_=[];for(var r=0;r<n.length;r+=2){var o=n[r],s=n[r+1],u=o.destroy;if(o.destroy=void 0,typeof u=="function")try{u()}catch(f){if(s===null)throw Error(B(330));So(s,f)}}for(n=Q_,Q_=[],r=0;r<n.length;r+=2){o=n[r],s=n[r+1];try{var c=o.create;o.destroy=c()}catch(f){if(s===null)throw Error(B(330));So(s,f)}}for(c=e.current.firstEffect;c!==null;)e=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=e;return re=t,$r(),!0}function mD(e,t,n){t=V_(n,t),t=XR(e,t,1),wo(e,t),t=Hn(),e=rm(e,1),e!==null&&(vd(e,1,t),hr(e,t))}function So(e,t){if(e.tag===3)mD(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){mD(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r))){e=V_(t,e);var o=QR(n,e,1);if(wo(n,o),o=Hn(),n=rm(n,1),n!==null)vd(n,1,o),hr(n,o);else if(typeof r.componentDidCatch=="function"&&(Jr===null||!Jr.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function t5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&n,hn===e&&(Kt&n)===n&&(At===4||At===3&&(Kt&62914560)===Kt&&500>zt()-K_?Au(e,0):Y_|=n),hr(e,t)}function XH(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)==0?t=1:(t&4)==0?t=_u()===99?1:2:(_i===0&&(_i=Ou),t=fu(62914560&~_i),t===0&&(t=4194304))),n=Hn(),e=rm(e,t),e!==null&&(vd(e,t,n),hr(e,n))}var dD;dD=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)Or=!0;else if((n&r)!=0)Or=(e.flags&16384)!=0;else{switch(Or=!1,t.tag){case 3:VR(t),T_();break;case 5:_R(t);break;case 1:En(t.type)&&Pd(t);break;case 4:b_(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;He(Rd,o._currentValue),o._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!=0?HR(e,t,n):(He(Ke,Ke.current&1),t=wi(e,t,n),t!==null?t.sibling:null);He(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!=0,(e.flags&64)!=0){if(r)return GR(e,t,n);t.flags|=64}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),He(Ke,Ke.current),r)break;return null;case 23:case 24:return t.lanes=0,R_(e,t,n)}return wi(e,t,n)}else Or=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=bu(t,qt.current),Tu(t,n),o=x_(null,t,r,e,o,n),t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,En(r)){var s=!0;Pd(t)}else s=!1;t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,v_(t);var u=r.getDerivedStateFromProps;typeof u=="function"&&Md(t,r,u,e),o.updater=jd,t.stateNode=o,o._reactInternals=t,y_(t,r,e,n),t=D_(null,t,r,!0,s,n)}else t.tag=0,Sn(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=s5(o),e=kr(o,e),s){case 0:t=C_(null,t,o,e,n);break e;case 1:t=FR(null,t,o,e,n);break e;case 11:t=LR(null,t,o,e,n);break e;case 14:t=jR(null,t,o,kr(o.type,e),r,n);break e}throw Error(B(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kr(r,o),C_(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kr(r,o),FR(e,t,r,o,n);case 3:if(VR(t),r=t.updateQueue,e===null||r===null)throw Error(B(282));if(r=t.pendingProps,o=t.memoizedState,o=o!==null?o.element:null,hR(e,t),Kl(t,r,null,n),r=t.memoizedState.element,r===o)T_(),t=wi(e,t,n);else{if(o=t.stateNode,(s=o.hydrate)&&(To=gu(t.stateNode.containerInfo.firstChild),gi=t,s=Xr=!0),s){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)s=e[o],s._workInProgressVersionPrimary=e[o+1],xu.push(s);for(n=bR(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Sn(e,t,r,n),T_();t=t.child}return t;case 5:return _R(t),e===null&&E_(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,u=o.children,i_(r,o)?u=null:s!==null&&i_(r,s)&&(t.flags|=16),UR(e,t),Sn(e,t,u,n),t.child;case 6:return e===null&&E_(t),null;case 13:return HR(e,t,n);case 4:return b_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bd(t,null,r,n):Sn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kr(r,o),LR(e,t,r,o,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,u=t.memoizedProps,s=o.value;var c=t.type._context;if(He(Rd,c._currentValue),c._currentValue=s,u!==null)if(c=u.value,s=ur(c,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(c,s):1073741823)|0,s===0){if(u.children===o.children&&!_n.current){t=wi(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){u=c.child;for(var h=f.firstContext;h!==null;){if(h.context===r&&(h.observedBits&s)!=0){c.tag===1&&(h=go(-1,n&-n),h.tag=2,wo(c,h)),c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),fR(c.return,n),f.lanes|=n;break}h=h.next}}else u=c.tag===10&&c.type===t.type?null:c.child;if(u!==null)u.return=c;else for(u=c;u!==null;){if(u===t){u=null;break}if(c=u.sibling,c!==null){c.return=u.return,u=c;break}u=u.return}c=u}Sn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps,r=s.children,Tu(t,n),o=cr(o,s.unstable_observedBits),r=r(o),t.flags|=1,Sn(e,t,r,n),t.child;case 14:return o=t.type,s=kr(o,t.pendingProps),s=kr(o.type,s),jR(e,t,o,s,r,n);case 15:return MR(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kr(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,En(r)?(e=!0,Pd(t)):e=!1,Tu(t,n),yR(t,r,o),y_(t,r,o,n),D_(null,t,r,!0,e,n);case 19:return GR(e,t,n);case 23:return R_(e,t,n);case 24:return R_(e,t,n)}throw Error(B(156,t.tag))};function a5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,n,r){return new a5(e,t,n,r)}function A_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s5(e){if(typeof e=="function")return A_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nd)return 11;if(e===id)return 14}return 2}function Eo(e,t){var n=e.alternate;return n===null?(n=lr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vd(e,t,n,r,o,s){var u=2;if(r=e,typeof e=="function")A_(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case so:return Su(n.children,o,s,t);case MA:u=8,o|=16;break;case ub:u=8,o|=1;break;case wl:return e=lr(12,n,t,o|8),e.elementType=wl,e.type=wl,e.lanes=s,e;case bl:return e=lr(13,n,t,o),e.type=bl,e.elementType=bl,e.lanes=s,e;case rd:return e=lr(19,n,t,o),e.elementType=rd,e.lanes=s,e;case db:return L_(n,o,s,t);case mb:return e=lr(24,n,t,o),e.elementType=mb,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cb:u=10;break e;case lb:u=9;break e;case nd:u=11;break e;case id:u=14;break e;case fb:u=16,r=null;break e;case hb:u=22;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=lr(u,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Su(e,t,n,r){return e=lr(7,e,r,t),e.lanes=n,e}function L_(e,t,n,r){return e=lr(23,e,r,t),e.elementType=db,e.lanes=n,e}function g_(e,t,n){return e=lr(6,e,null,t),e.lanes=n,e}function w_(e,t,n){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function u5(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qb(0),this.expirationTimes=qb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qb(0),this.mutableSourceEagerHydrationData=null}function c5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function im(e,t,n,r){var o=t.current,s=Hn(),u=bo(o);e:if(n){n=n._reactInternals;t:{if(Ns(n)!==n||n.tag!==1)throw Error(B(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(En(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(B(171))}if(n.tag===1){var f=n.type;if(En(f)){n=tR(n,f,c);break e}}n=c}else n=vo;return t.context===null?t.context=n:t.pendingContext=n,t=go(s,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),wo(o,t),_o(o,u,s),u}function t1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function n1(e,t){vD(e,t),(e=e.alternate)&&vD(e,t)}function l5(){return null}function r1(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new u5(e,t,n!=null&&n.hydrate===!0),t=lr(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,v_(t),e[yu]=n.current,$C(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var o=t._getVersion;o=o(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}r1.prototype.render=function(e){im(e,this._internalRoot,null,null)};r1.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;im(null,e,null,function(){t[yu]=null})};function cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f5(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new r1(e,0,t?{hydrate:!0}:void 0)}function om(e,t,n,r,o){var s=n._reactRootContainer;if(s){var u=s._internalRoot;if(typeof o=="function"){var c=o;o=function(){var h=t1(u);c.call(h)}}im(t,u,e,o)}else{if(s=n._reactRootContainer=f5(n,r),u=s._internalRoot,typeof o=="function"){var f=o;o=function(){var h=t1(u);f.call(h)}}fD(function(){im(t,u,e,o)})}return t1(u)}oC=function(e){if(e.tag===13){var t=Hn();_o(e,4,t),n1(e,4)}};Lb=function(e){if(e.tag===13){var t=Hn();_o(e,67108864,t),n1(e,67108864)}};sC=function(e){if(e.tag===13){var t=Hn(),n=bo(e);_o(e,n,t),n1(e,n)}};aC=function(e,t){return t()};kb=function(e,t,n){switch(t){case"input":if(bb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=cd(r);if(!o)throw Error(B(90));FA(r),bb(r,o)}}}break;case"textarea":HA(e,n);break;case"select":t=n.value,t!=null&&ou(e,!!n.multiple,t,!1)}};Ob=lD;ZA=function(e,t,n,r,o){var s=re;re|=4;try{return As(98,e.bind(null,t,n,r,o))}finally{re=s,re===0&&(Pu(),$r())}};Pb=function(){(re&49)==0&&(e5(),xo())};eC=function(e,t){var n=re;re|=2;try{return e(t)}finally{re=n,re===0&&(Pu(),$r())}};function yD(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(t))throw Error(B(200));return c5(e,t,null,n)}var h5={Events:[Il,du,cd,QA,JA,xo,{current:!1}]},lf={findFiberByHostInstance:ks,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},p5={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rC(e),e===null?null:e.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||l5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(ff=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ff.isDisabled&&ff.supportsFiber))try{u_=ff.inject(p5),Ps=ff}catch(e){}var ff;ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h5;ar.createPortal=yD;ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):Error(B(268,Object.keys(e)));return e=rC(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e,t){var n=re;if((n&48)!=0)return e(t);re|=1;try{if(e)return As(99,e.bind(null,t))}finally{re=n,$r()}};ar.hydrate=function(e,t,n){if(!cf(t))throw Error(B(200));return om(null,e,t,!0,n)};ar.render=function(e,t,n){if(!cf(t))throw Error(B(200));return om(null,e,t,!1,n)};ar.unmountComponentAtNode=function(e){if(!cf(e))throw Error(B(40));return e._reactRootContainer?(fD(function(){om(null,null,e,!1,function(){e._reactRootContainer=null,e[yu]=null})}),!0):!1};ar.unstable_batchedUpdates=lD;ar.unstable_createPortal=function(e,t){return yD(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ar.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cf(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return om(e,t,n,!1,r)};ar.version="17.0.2"});var _D=Tt((IG,wD)=>{"use strict";function bD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bD)}catch(e){console.error(e)}}bD(),wD.exports=gD()});var TD=Tt((OG,ED)=>{"use strict";var d5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";ED.exports=d5});var ND=Tt((PG,SD)=>{"use strict";var m5=TD();function ID(){}function xD(){}xD.resetWarningCache=ID;SD.exports=function(){function e(r,o,s,u,c,f){if(f!==m5){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xD,resetWarningCache:ID};return n.PropTypes=n,n}});var sm=Tt((RG,kD)=>{kD.exports=ND()();var AG,CG});var WD=Tt((GG,GD)=>{GD.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}});var QD=Tt((WG,Cu)=>{var um=WD();Cu.exports=$D;Cu.exports.parse=l1;Cu.exports.compile=R5;Cu.exports.tokensToFunction=YD;Cu.exports.tokensToRegExp=XD;var D5=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function l1(e,t){for(var n=[],r=0,o=0,s="",u=t&&t.delimiter||"/",c;(c=D5.exec(e))!=null;){var f=c[0],h=c[1],d=c.index;if(s+=e.slice(o,d),o=d+f.length,h){s+=h[1];continue}var y=e[o],v=c[2],E=c[3],S=c[4],I=c[5],_=c[6],b=c[7];s&&(n.push(s),s="");var T=v!=null&&y!=null&&y!==v,N=_==="+"||_==="*",k=_==="?"||_==="*",C=c[2]||u,P=S||I;n.push({name:E||r++,prefix:v||"",delimiter:C,optional:k,repeat:N,partial:T,asterisk:!!b,pattern:P?L5(P):b?".*":"[^"+cm(C)+"]+?"})}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function R5(e,t){return YD(l1(e,t),t)}function M5(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function j5(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function YD(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",f1(t)));return function(o,s){for(var u="",c=o||{},f=s||{},h=f.pretty?M5:encodeURIComponent,d=0;d<e.length;d++){var y=e[d];if(typeof y=="string"){u+=y;continue}var v=c[y.name],E;if(v==null)if(y.optional){y.partial&&(u+=y.prefix);continue}else throw new TypeError('Expected "'+y.name+'" to be defined');if(um(v)){if(!y.repeat)throw new TypeError('Expected "'+y.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(y.optional)continue;throw new TypeError('Expected "'+y.name+'" to not be empty')}for(var S=0;S<v.length;S++){if(E=h(v[S]),!n[d].test(E))throw new TypeError('Expected all "'+y.name+'" to match "'+y.pattern+'", but received `'+JSON.stringify(E)+"`");u+=(S===0?y.prefix:y.delimiter)+E}continue}if(E=y.asterisk?j5(v):h(v),!n[d].test(E))throw new TypeError('Expected "'+y.name+'" to match "'+y.pattern+'", but received "'+E+'"');u+=y.prefix+E}return u}}function cm(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function L5(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h1(e,t){return e.keys=t,e}function f1(e){return e&&e.sensitive?"":"i"}function U5(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h1(e,t)}function F5(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push($D(e[o],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",f1(n));return h1(s,t)}function V5(e,t,n){return XD(l1(e,n),t,n)}function XD(e,t,n){um(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=n.end!==!1,s="",u=0;u<e.length;u++){var c=e[u];if(typeof c=="string")s+=cm(c);else{var f=cm(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+f+h+")*"),c.optional?c.partial?h=f+"("+h+")?":h="(?:"+f+"("+h+"))?":h=f+"("+h+")",s+=h}}var d=cm(n.delimiter||"/"),y=s.slice(-d.length)===d;return r||(s=(y?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),o?s+="$":s+=r&&y?"":"(?="+d+"|$)",h1(new RegExp("^"+s,f1(n)),t)}function $D(e,t,n){return um(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?U5(e,t):um(e)?F5(e,t,n):V5(e,t,n)}});var ZD=Tt(xe=>{"use strict";var bt=typeof Symbol=="function"&&Symbol.for,p1=bt?Symbol.for("react.element"):60103,d1=bt?Symbol.for("react.portal"):60106,lm=bt?Symbol.for("react.fragment"):60107,fm=bt?Symbol.for("react.strict_mode"):60108,hm=bt?Symbol.for("react.profiler"):60114,pm=bt?Symbol.for("react.provider"):60109,dm=bt?Symbol.for("react.context"):60110,m1=bt?Symbol.for("react.async_mode"):60111,mm=bt?Symbol.for("react.concurrent_mode"):60111,vm=bt?Symbol.for("react.forward_ref"):60112,ym=bt?Symbol.for("react.suspense"):60113,B5=bt?Symbol.for("react.suspense_list"):60120,gm=bt?Symbol.for("react.memo"):60115,wm=bt?Symbol.for("react.lazy"):60116,q5=bt?Symbol.for("react.block"):60121,z5=bt?Symbol.for("react.fundamental"):60117,H5=bt?Symbol.for("react.responder"):60118,K5=bt?Symbol.for("react.scope"):60119;function Gn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p1:switch(e=e.type,e){case m1:case mm:case lm:case hm:case fm:case ym:return e;default:switch(e=e&&e.$$typeof,e){case dm:case vm:case wm:case gm:case pm:return e;default:return t}}case d1:return t}}}function JD(e){return Gn(e)===mm}xe.AsyncMode=m1;xe.ConcurrentMode=mm;xe.ContextConsumer=dm;xe.ContextProvider=pm;xe.Element=p1;xe.ForwardRef=vm;xe.Fragment=lm;xe.Lazy=wm;xe.Memo=gm;xe.Portal=d1;xe.Profiler=hm;xe.StrictMode=fm;xe.Suspense=ym;xe.isAsyncMode=function(e){return JD(e)||Gn(e)===m1};xe.isConcurrentMode=JD;xe.isContextConsumer=function(e){return Gn(e)===dm};xe.isContextProvider=function(e){return Gn(e)===pm};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p1};xe.isForwardRef=function(e){return Gn(e)===vm};xe.isFragment=function(e){return Gn(e)===lm};xe.isLazy=function(e){return Gn(e)===wm};xe.isMemo=function(e){return Gn(e)===gm};xe.isPortal=function(e){return Gn(e)===d1};xe.isProfiler=function(e){return Gn(e)===hm};xe.isStrictMode=function(e){return Gn(e)===fm};xe.isSuspense=function(e){return Gn(e)===ym};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lm||e===mm||e===hm||e===fm||e===ym||e===B5||typeof e=="object"&&e!==null&&(e.$$typeof===wm||e.$$typeof===gm||e.$$typeof===pm||e.$$typeof===dm||e.$$typeof===vm||e.$$typeof===z5||e.$$typeof===H5||e.$$typeof===K5||e.$$typeof===q5)};xe.typeOf=Gn});var v1=Tt((YG,eL)=>{"use strict";eL.exports=ZD()});var aL=Tt((QG,tL)=>{"use strict";var y1=v1(),G5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},W5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g1={};g1[y1.ForwardRef]=$5;g1[y1.Memo]=nL;function rL(e){return y1.isMemo(e)?nL:g1[e.$$typeof]||G5}var Y5=Object.defineProperty,X5=Object.getOwnPropertyNames,iL=Object.getOwnPropertySymbols,Q5=Object.getOwnPropertyDescriptor,J5=Object.getPrototypeOf,oL=Object.prototype;function sL(e,t,n){if(typeof t!="string"){if(oL){var r=J5(t);r&&r!==oL&&sL(e,r,n)}var o=X5(t);iL&&(o=o.concat(iL(t)));for(var s=rL(e),u=rL(t),c=0;c<o.length;++c){var f=o[c];if(!W5[f]&&!(n&&n[f])&&!(u&&u[f])&&!(s&&s[f])){var h=Q5(t,f);try{Y5(e,f,h)}catch(d){}}}}return e}tL.exports=sL});var xL=Tt((Em,S1)=>{(function(e,t){if(typeof define=="function"&&define.amd)define(["exports","module"],t);else if(typeof Em!="undefined"&&typeof S1!="undefined")t(Em,S1);else{var n={exports:{}};t(n.exports,n),e.fetchJsonp=n.exports}})(Em,function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function o(c){try{delete window[c]}catch(f){window[c]=void 0}}function s(c){var f=document.getElementById(c);f&&document.getElementsByTagName("head")[0].removeChild(f)}function u(c){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],h=c,d=f.timeout||n.timeout,y=f.jsonpCallback||n.jsonpCallback,v=void 0;return new Promise(function(E,S){var I=f.jsonpCallbackFunction||r(),_=y+"_"+I;window[I]=function(T){E({ok:!0,json:function(){return Promise.resolve(T)}}),v&&clearTimeout(v),s(_),o(I)},h+=h.indexOf("?")===-1?"?":"&";var b=document.createElement("script");b.setAttribute("src",""+h+y+"="+I),f.charset&&b.setAttribute("charset",f.charset),b.id=_,document.getElementsByTagName("head")[0].appendChild(b),v=setTimeout(function(){S(new Error("JSONP request to "+c+" timed out")),o(I),s(_),window[I]=function(){o(I)}},d),b.onerror=function(){S(new Error("JSONP request to "+c+" failed")),o(I),s(_),v&&clearTimeout(v)}})}t.exports=u})});var yc=function(){return yc=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},yc.apply(this,arguments)};var Zy=function(e,t){return Zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Zy(e,t)};function mI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var K3=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},G3=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},mK={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,c=u?e[o+1]:0,f=o+2<e.length,h=f?e[o+2]:0,d=s>>2,y=(s&3)<<4|c>>4,v=(c&15)<<2|h>>6,E=h&63;f||(E=64,u||(v=64)),r.push(n[d],n[y],n[v],n[E])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(K3(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):G3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,c=u?n[e.charAt(o)]:0;++o;var f=o<e.length,h=f?n[e.charAt(o)]:64;++o;var d=o<e.length,y=d?n[e.charAt(o)]:64;if(++o,s==null||c==null||h==null||y==null)throw Error();var v=s<<2|c>>4;if(r.push(v),h!==64){var E=c<<4&240|h>>2;if(r.push(E),y!==64){var S=h<<6&192|y;r.push(S)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function vI(e){return ca(void 0,e)}function ca(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!W3(r)||(e[r]=ca(e[r],t[r]));return e}function W3(e){return e!=="__proto__"}var yI=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();function Ai(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gI(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ai())}function wI(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(e){return!1}}function bI(){return typeof self=="object"&&self.self===self}function gc(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){return Ai().indexOf("Electron/")>=0}function TI(){var e=Ai();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function SI(){return Ai().indexOf("MSAppHost/")>=0}function eg(){return"indexedDB"in self&&indexedDB!=null}function tg(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function ng(){return!(!navigator||!navigator.cookieEnabled)}var $3="FirebaseError",Qo=function(e){mI(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=$3,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ci.prototype.create),s}return t}(Error),Ci=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?Y3(u,o):"Error",f=this.serviceName+": "+c+" ("+s+").",h=new Qo(s,f,o);return h},e}();function Y3(e,t){return e.replace(X3,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var X3=/\{\$([^}]+)}/g;function rg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var vK=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var o=0;o<16;o++)r[o]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var o=0;o<16;o++)r[o]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var o=16;o<80;o++){var s=r[o-3]^r[o-8]^r[o-14]^r[o-16];r[o]=(s<<1|s>>>31)&4294967295}for(var u=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],y,v,o=0;o<80;o++){o<40?o<20?(y=h^c&(f^h),v=1518500249):(y=c^f^h,v=1859775393):o<60?(y=c&f|h&(c|f),v=2400959708):(y=c^f^h,v=3395469782);var s=(u<<5|u>>>27)+y+d+v+r[o]&4294967295;d=h,h=f,f=(c<<30|c>>>2)&4294967295,c=u,u=s}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,o=0,s=this.buf_,u=this.inbuf_;o<n;){if(u===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(s[u]=t.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(s),u=0;break}}else for(;o<n;)if(s[u]=t[o],++u,++o,u===this.blockSize){this.compress_(s),u=0;break}}this.inbuf_=u,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var o=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[o]=this.chain_[r]>>s&255,++o;return t},e}();function II(e,t){var n=new Q3(e,t);return n.subscribe.bind(n)}var Q3=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J3(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=ig),s.error===void 0&&(s.error=ig),s.complete===void 0&&(s.complete=ig);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch(c){}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console!="undefined"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function J3(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function ig(){}var Z3=1e3,eU=2,tU=4*60*60*1e3,nU=.5;function og(e,t,n){t===void 0&&(t=Z3),n===void 0&&(n=eU);var r=t*Math.pow(n,e),o=Math.round(nU*r*(Math.random()-.5)*2);return Math.min(tU,r+o)}function _e(e){return e&&e._delegate?e._delegate:e}var wh=function(){return wh=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wh.apply(this,arguments)};function xI(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function NI(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function sg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wc(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function ag(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var Cn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();var Ri="[DEFAULT]";var oU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Ri);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new yI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(s){}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=wh({identifier:Ri,optional:!1},t),r=n.identifier,o=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(iU(t))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch(y){}try{for(var o=sg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=wc(s.value,2),c=u[0],f=u[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:h});f.resolve(d)}catch(y){}}}catch(y){n={error:y}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ri),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return xI(this,void 0,void 0,function(){var t;return NI(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ag(ag([],wc(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),wc(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ri),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.instanceIdentifier,s=o===void 0?Ri:o,u=t.options,c=u===void 0?{}:u,f=this.normalizeInstanceIdentifier(s);if(this.isInitialized(f))throw Error(this.name+"("+f+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:f,options:c});try{for(var d=sg(this.instancesDeferred.entries()),y=d.next();!y.done;y=d.next()){var v=wc(y.value,2),E=v[0],S=v[1],I=this.normalizeInstanceIdentifier(E);f===I&&S.resolve(h)}}catch(_){n={error:_}}finally{try{y&&!y.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return h},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rU(n),options:o}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(u){}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Ri:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function rU(e){return e===Ri?void 0:e}function iU(e){return e.instantiationMode==="EAGER"}var kI=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new oU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Er(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,c=s.length;u<c;u++,o++)r[o]=s[u];return r}var Jo,ug=[],de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));var OI={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},sU=de.INFO,aU=(Jo={},Jo[de.DEBUG]="log",Jo[de.VERBOSE]="log",Jo[de.INFO]="info",Jo[de.WARN]="warn",Jo[de.ERROR]="error",Jo),uU=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=aU[t];if(s)console[s].apply(console,Er(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},la=function(){function e(t){this.name=t,this._logLevel=sU,this._logHandler=uU,this._userLogHandler=null,ug.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in de))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?OI[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,de.DEBUG],t)),this._logHandler.apply(this,Er([this,de.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,de.VERBOSE],t)),this._logHandler.apply(this,Er([this,de.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,de.INFO],t)),this._logHandler.apply(this,Er([this,de.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,de.WARN],t)),this._logHandler.apply(this,Er([this,de.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,de.ERROR],t)),this._logHandler.apply(this,Er([this,de.ERROR],t))},e}();function PI(e){ug.forEach(function(t){t.setLogLevel(e)})}function AI(e,t){for(var n=function(u){var c=null;t&&t.level&&(c=OI[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,h){for(var d=[],y=2;y<arguments.length;y++)d[y-2]=arguments[y];var v=d.map(function(E){if(E==null)return null;if(typeof E=="string")return E;if(typeof E=="number"||typeof E=="boolean")return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch(S){return null}}).filter(function(E){return E}).join(" ");h>=(c!=null?c:f.logLevel)&&e({level:de[h].toLowerCase(),message:v,args:d,type:f.name})}},r=0,o=ug;r<o.length;r++){var s=o[r];n(s)}}var Di,cU=(Di={},Di["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Di["bad-app-name"]="Illegal App name: '{$appName}",Di["duplicate-app"]="Firebase App named '{$appName}' already exists",Di["app-deleted"]="Firebase App named '{$appName}' already deleted",Di["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Di["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Di),fa=new Ci("app","Firebase",cU),CI="@firebase/app",lU="0.6.20",fU="@firebase/analytics",hU="@firebase/auth",pU="@firebase/database",dU="@firebase/functions",mU="@firebase/installations",vU="@firebase/messaging",yU="@firebase/performance",gU="@firebase/remote-config",wU="@firebase/storage",bU="@firebase/firestore",_U="firebase-wrapper";var Zt,bh="[DEFAULT]",EU=(Zt={},Zt[CI]="fire-core",Zt[fU]="fire-analytics",Zt[hU]="fire-auth",Zt[pU]="fire-rtdb",Zt[dU]="fire-fn",Zt[mU]="fire-iid",Zt[vU]="fire-fcm",Zt[yU]="fire-perf",Zt[gU]="fire-rc",Zt[wU]="fire-gcs",Zt[bU]="fire-fst",Zt["fire-js"]="fire-js",Zt[_U]="fire-js-all",Zt);var ha=new la("@firebase/app");var _h=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=vI(t),this.container=new kI(n.name),this._addComponent(new Cn("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=bh),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=bh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ha.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fa.create("app-deleted",{appName:this.name_})},e}();_h.prototype.name&&_h.prototype.options||_h.prototype.delete||console.log("dc");var TU="8.4.0";function SU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:h,setLogLevel:PI,onLog:d,apps:null,SDK_VERSION:TU,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:y}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(v){delete t[v]}function s(v){if(v=v||bh,!rg(t,v))throw fa.create("no-app",{appName:v});return t[v]}s.App=e;function u(v,E){if(E===void 0&&(E={}),typeof E!="object"||E===null){var S=E;E={name:S}}var I=E;I.name===void 0&&(I.name=bh);var _=I.name;if(typeof _!="string"||!_)throw fa.create("bad-app-name",{appName:String(_)});if(rg(t,_))throw fa.create("duplicate-app",{appName:_});var b=new e(v,I,r);return t[_]=b,b}function c(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var E=v.name;if(n.has(E))return ha.debug("There were multiple attempts to register component "+E+"."),v.type==="PUBLIC"?r[E]:null;if(n.set(E,v),v.type==="PUBLIC"){var S=function(T){if(T===void 0&&(T=s()),typeof T[E]!="function")throw fa.create("invalid-app-argument",{appName:E});return T[E]()};v.serviceProps!==void 0&&ca(S,v.serviceProps),r[E]=S,e.prototype[E]=function(){for(var T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];var k=this._getService.bind(this,E);return k.apply(this,v.multipleInstances?T:[])}}for(var I=0,_=Object.keys(t);I<_.length;I++){var b=_[I];t[b]._addComponent(v)}return v.type==="PUBLIC"?r[E]:null}function h(v,E,S){var I,_=(I=EU[v])!==null&&I!==void 0?I:v;S&&(_+="-"+S);var b=_.match(/\s|\//),T=E.match(/\s|\//);if(b||T){var N=['Unable to register library "'+_+'" with version "'+E+'":'];b&&N.push('library name "'+_+'" contains illegal characters (whitespace or "/")'),b&&T&&N.push("and"),T&&N.push('version name "'+E+'" contains illegal characters (whitespace or "/")'),ha.warn(N.join(" "));return}f(new Cn(_+"-version",function(){return{library:_,version:E}},"VERSION"))}function d(v,E){if(v!==null&&typeof v!="function")throw fa.create("invalid-log-argument");AI(v,E)}function y(v,E){if(E==="serverAuth")return null;var S=E;return S}return r}function RI(){var e=SU(_h);e.INTERNAL=yc(yc({},e.INTERNAL),{createFirebaseNamespace:RI,extendNamespace:t,createSubscribe:II,ErrorFactory:Ci,deepExtend:ca});function t(n){ca(e,n)}return e}var cg=RI();var xU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(IU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function IU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}function NU(e,t){e.INTERNAL.registerComponent(new Cn("platform-logger",function(n){return new xU(n)},"PRIVATE")),e.registerVersion(CI,lU,t),e.registerVersion("fire-js","")}bI()&&self.firebase!==void 0&&(ha.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),lg=self.firebase.SDK_VERSION,lg&&lg.indexOf("LITE")>=0&&ha.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));var lg,kU=cg.initializeApp;cg.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wI()&&ha.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),kU.apply(void 0,e)};var DI=cg;NU(DI);var $=DI;var OU="firebase",PU="8.4.2";$.registerVersion(OU,PU,"app");var bc=function(){return bc=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},bc.apply(this,arguments)};function Ct(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function Rt(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Tr=function(){return Tr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Tr.apply(this,arguments)};function at(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function ut(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function fg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function LI(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function MI(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var FI=Ze(UI()),AU="@firebase/installations",VI="0.4.25";var BI=1e4,qI="w:"+VI,zI="FIS_v2",CU="https://firebaseinstallations.googleapis.com/v1",RU=60*60*1e3,DU="installations",LU="Installations";var Li,MU=(Li={},Li["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Li["not-registered"]="Firebase Installation is not registered.",Li["installation-not-found"]="Firebase Installation not found.",Li["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Li["app-offline"]="Could not process request. Application offline.",Li["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Li),ai=new Ci(DU,LU,MU);function HI(e){return e instanceof Qo&&e.code.includes("request-failed")}function hg(e){var t=e.projectId;return CU+"/projects/"+t+"/installations"}function KI(e){return{token:e.token,requestStatus:2,expiresIn:jU(e.expiresIn),creationTime:Date.now()}}function pg(e,t){return at(this,void 0,void 0,function(){var n,r;return ut(this,function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,ai.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function GI(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WI(e,t){var n=t.refreshToken,r=GI(e);return r.append("Authorization",UU(n)),r}function dg(e){return at(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function jU(e){return Number(e.replace("s","000"))}function UU(e){return zI+" "+e}function FU(e,t){var n=t.fid;return at(this,void 0,void 0,function(){var r,o,s,u,c,f,h;return ut(this,function(d){switch(d.label){case 0:return r=hg(e),o=GI(e),s={fid:n,authVersion:zI,appId:e.appId,sdkVersion:qI},u={method:"POST",headers:o,body:JSON.stringify(s)},[4,dg(function(){return fetch(r,u)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return f=d.sent(),h={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:KI(f.authToken)},[2,h];case 3:return[4,pg("Create Installation",c)];case 4:throw d.sent()}})})}function $I(e){return new Promise(function(t){setTimeout(t,e)})}function VU(e){var t=btoa(String.fromCharCode.apply(String,MI([],LI(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var BU=/^[cdef][\w-]{21}$/,mg="";function zU(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=qU(e);return BU.test(n)?n:mg}catch(r){return mg}}function qU(e){var t=VU(e);return t.substr(0,22)}function pa(e){return e.appName+"!"+e.appId}var da=new Map;function XI(e,t){var n=pa(e);YI(n,t),HU(n,t)}function KU(e,t){QI();var n=pa(e),r=da.get(n);r||(r=new Set,da.set(n,r)),r.add(t)}function GU(e,t){var n=pa(e),r=da.get(n);!r||(r.delete(t),r.size===0&&da.delete(n),JI())}function YI(e,t){var n,r,o=da.get(e);if(!!o)try{for(var s=fg(o),u=s.next();!u.done;u=s.next()){var c=u.value;c(t)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function HU(e,t){var n=QI();n&&n.postMessage({key:e,fid:t}),JI()}var Zo=null;function QI(){return!Zo&&"BroadcastChannel"in self&&(Zo=new BroadcastChannel("[Firebase] FID Change"),Zo.onmessage=function(e){YI(e.data.key,e.data.fid)}),Zo}function JI(){da.size===0&&Zo&&(Zo.close(),Zo=null)}var WU="firebase-installations-database",$U=1,es="firebase-installations-store",vg=null;function yg(){return vg||(vg=(0,FI.openDb)(WU,$U,function(e){switch(e.oldVersion){case 0:e.createObjectStore(es)}})),vg}function Th(e,t){return at(this,void 0,void 0,function(){var n,r,o,s,u;return ut(this,function(c){switch(c.label){case 0:return n=pa(e),[4,yg()];case 1:return r=c.sent(),o=r.transaction(es,"readwrite"),s=o.objectStore(es),[4,s.get(n)];case 2:return u=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,o.complete];case 4:return c.sent(),(!u||u.fid!==t.fid)&&XI(e,t.fid),[2,t]}})})}function gg(e){return at(this,void 0,void 0,function(){var t,n,r;return ut(this,function(o){switch(o.label){case 0:return t=pa(e),[4,yg()];case 1:return n=o.sent(),r=n.transaction(es,"readwrite"),[4,r.objectStore(es).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}})})}function _c(e,t){return at(this,void 0,void 0,function(){var n,r,o,s,u,c;return ut(this,function(f){switch(f.label){case 0:return n=pa(e),[4,yg()];case 1:return r=f.sent(),o=r.transaction(es,"readwrite"),s=o.objectStore(es),[4,s.get(n)];case 2:return u=f.sent(),c=t(u),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return f.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),c&&(!u||u.fid!==c.fid)&&XI(e,c.fid),[2,c]}})})}function wg(e){return at(this,void 0,void 0,function(){var t,n,r;return ut(this,function(o){switch(o.label){case 0:return[4,_c(e,function(s){var u=YU(s),c=XU(e,u);return t=c.registrationPromise,c.installationEntry})];case 1:return n=o.sent(),n.fid!==mg?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function YU(e){var t=e||{fid:zU(),registrationStatus:0};return ZI(t)}function XU(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ai.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=QU(e,r);return{installationEntry:r,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:JU(e)}:{installationEntry:t}}function QU(e,t){return at(this,void 0,void 0,function(){var n,r;return ut(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,FU(e,t)];case 1:return n=o.sent(),[2,Th(e,n)];case 2:return r=o.sent(),HI(r)&&r.customData.serverCode===409?[4,gg(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Th(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}})})}function JU(e){return at(this,void 0,void 0,function(){var t,n,r,o;return ut(this,function(s){switch(s.label){case 0:return[4,ex(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,$I(100)];case 3:return s.sent(),[4,ex(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,wg(e)];case 6:return n=s.sent(),r=n.installationEntry,o=n.registrationPromise,o?[2,o]:[2,r];case 7:return[2,t]}})})}function ex(e){return _c(e,function(t){if(!t)throw ai.create("installation-not-found");return ZI(t)})}function ZI(e){return ZU(e)?{fid:e.fid,registrationStatus:0}:e}function ZU(e){return e.registrationStatus===1&&e.registrationTime+BI<Date.now()}function tF(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return at(this,void 0,void 0,function(){var o,s,u,c,f,h,d,y;return ut(this,function(v){switch(v.label){case 0:return o=eF(n,t),s=WI(n,t),u=r.getImmediate({optional:!0}),u&&s.append("x-firebase-client",u.getPlatformInfoString()),c={installation:{sdkVersion:qI}},f={method:"POST",headers:s,body:JSON.stringify(c)},[4,dg(function(){return fetch(o,f)})];case 1:return h=v.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=v.sent(),y=KI(d),[2,y];case 3:return[4,pg("Generate Auth Token",h)];case 4:throw v.sent()}})})}function eF(e,t){var n=t.fid;return hg(e)+"/"+n+"/authTokens:generate"}function bg(e,t){return t===void 0&&(t=!1),at(this,void 0,void 0,function(){var n,r,o,s;return ut(this,function(u){switch(u.label){case 0:return[4,_c(e.appConfig,function(c){if(!tx(c))throw ai.create("not-registered");var f=c.authToken;if(!t&&iF(f))return c;if(f.requestStatus===1)return n=nF(e,t),c;if(!navigator.onLine)throw ai.create("app-offline");var h=oF(c);return n=rF(e,h),h})];case 1:return r=u.sent(),n?[4,n]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=r.authToken,u.label=4;case 4:return o=s,[2,o]}})})}function nF(e,t){return at(this,void 0,void 0,function(){var n,r;return ut(this,function(o){switch(o.label){case 0:return[4,nx(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,$I(100)];case 3:return o.sent(),[4,nx(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,bg(e,t)]:[2,r]}})})}function nx(e){return _c(e,function(t){if(!tx(t))throw ai.create("not-registered");var n=t.authToken;return sF(n)?Tr(Tr({},t),{authToken:{requestStatus:0}}):t})}function rF(e,t){return at(this,void 0,void 0,function(){var n,r,o,r;return ut(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,tF(e,t)];case 1:return n=s.sent(),r=Tr(Tr({},t),{authToken:n}),[4,Th(e.appConfig,r)];case 2:return s.sent(),[2,n];case 3:return o=s.sent(),HI(o)&&(o.customData.serverCode===401||o.customData.serverCode===404)?[4,gg(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return r=Tr(Tr({},t),{authToken:{requestStatus:0}}),[4,Th(e.appConfig,r)];case 6:s.sent(),s.label=7;case 7:throw o;case 8:return[2]}})})}function tx(e){return e!==void 0&&e.registrationStatus===2}function iF(e){return e.requestStatus===2&&!aF(e)}function aF(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+RU}function oF(e){var t={requestStatus:1,requestTime:Date.now()};return Tr(Tr({},e),{authToken:t})}function sF(e){return e.requestStatus===1&&e.requestTime+BI<Date.now()}function uF(e){return at(this,void 0,void 0,function(){var t,n,r;return ut(this,function(o){switch(o.label){case 0:return[4,wg(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):bg(e).catch(console.error),[2,n.fid]}})})}function lF(e,t){return t===void 0&&(t=!1),at(this,void 0,void 0,function(){var n;return ut(this,function(r){switch(r.label){case 0:return[4,cF(e.appConfig)];case 1:return r.sent(),[4,bg(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function cF(e){return at(this,void 0,void 0,function(){var t;return ut(this,function(n){switch(n.label){case 0:return[4,wg(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function hF(e,t){return at(this,void 0,void 0,function(){var n,r,o,s;return ut(this,function(u){switch(u.label){case 0:return n=fF(e,t),r=WI(e,t),o={method:"DELETE",headers:r},[4,dg(function(){return fetch(n,o)})];case 1:return s=u.sent(),s.ok?[3,3]:[4,pg("Delete Installation",s)];case 2:throw u.sent();case 3:return[2]}})})}function fF(e,t){var n=t.fid;return hg(e)+"/"+n}function pF(e){return at(this,void 0,void 0,function(){var t,n;return ut(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,_c(t,function(o){if(!(o&&o.registrationStatus===0))return o})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ai.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ai.create("app-offline");case 3:return[4,hF(t,n)];case 4:return r.sent(),[4,gg(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function dF(e,t){var n=e.appConfig;return KU(n,t),function(){GU(n,t)}}function mF(e){var t,n;if(!e||!e.options)throw _g("App Configuration");if(!e.name)throw _g("App Name");var r=["projectId","apiKey","appId"];try{for(var o=fg(r),s=o.next();!s.done;s=o.next()){var u=s.value;if(!e.options[u])throw _g(u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _g(e){return ai.create("missing-app-config-values",{valueName:e})}function vF(e){var t="installations";e.INTERNAL.registerComponent(new Cn(t,function(n){var r=n.getProvider("app").getImmediate(),o=mF(r),s=n.getProvider("platform-logger"),u={appConfig:o,platformLoggerProvider:s},c={app:r,getId:function(){return uF(u)},getToken:function(f){return lF(u,f)},delete:function(){return pF(u)},onIdChange:function(f){return dF(u,f)}};return c},"PUBLIC")),e.registerVersion(AU,VI)}vF($);var yF="firebase_id",gF="origin",wF=60*1e3,bF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rx="https://www.googletagmanager.com/gtag/js",Dt;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Dt||(Dt={}));var Eg;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Eg||(Eg={}));function _F(e,t,n,r,o){return Ct(this,void 0,void 0,function(){var s,u;return Rt(this,function(c){switch(c.label){case 0:return o&&o.global?(e(Dt.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),u=bc(bc({},r),{send_to:s}),e(Dt.EVENT,n,u),c.label=3;case 3:return[2]}})})}function EF(e,t,n,r){return Ct(this,void 0,void 0,function(){var o;return Rt(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Dt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=s.sent(),e(Dt.CONFIG,o,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function TF(e,t,n,r){return Ct(this,void 0,void 0,function(){var o;return Rt(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Dt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=s.sent(),e(Dt.CONFIG,o,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function SF(e,t,n,r){return Ct(this,void 0,void 0,function(){var o,s,u,c,f;return Rt(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(o={},s=0,u=Object.keys(n);s<u.length;s++)c=u[s],o["user_properties."+c]=n[c];return e(Dt.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:f=h.sent(),e(Dt.CONFIG,f,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function IF(e,t){return Ct(this,void 0,void 0,function(){var n;return Rt(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}var St=new la("@firebase/analytics");function xF(e,t){var n=document.createElement("script");n.src=rx+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function NF(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function kF(e,t,n,r,o,s){return Ct(this,void 0,void 0,function(){var u,c,f,h;return Rt(this,function(d){switch(d.label){case 0:u=r[o],d.label=1;case 1:return d.trys.push([1,7,,8]),u?[4,t[u]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),f=c.find(function(y){return y.measurementId===o}),f?[4,t[f.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),St.error(h),[3,8];case 8:return e(Dt.CONFIG,o,s),[2]}})})}function OF(e,t,n,r,o){return Ct(this,void 0,void 0,function(){var s,u,c,f,h,d,y,v,E;return Rt(this,function(S){switch(S.label){case 0:return S.trys.push([0,4,,5]),s=[],o&&o.send_to?(u=o.send_to,Array.isArray(u)||(u=[u]),[4,Promise.all(n)]):[3,2];case 1:for(c=S.sent(),f=function(I){var _=c.find(function(T){return T.measurementId===I}),b=_&&t[_.appId];if(b)s.push(b);else return s=[],"break"},h=0,d=u;h<d.length&&(y=d[h],v=f(y),v!=="break");h++);S.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return S.sent(),e(Dt.EVENT,r,o||{}),[3,5];case 4:return E=S.sent(),St.error(E),[3,5];case 5:return[2]}})})}function PF(e,t,n,r){function o(s,u,c){return Ct(this,void 0,void 0,function(){var f;return Rt(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Dt.EVENT?[3,2]:[4,OF(e,t,n,u,c)];case 1:return h.sent(),[3,5];case 2:return s!==Dt.CONFIG?[3,4]:[4,kF(e,t,n,r,u,c)];case 3:return h.sent(),[3,5];case 4:e(Dt.SET,u),h.label=5;case 5:return[3,7];case 6:return f=h.sent(),St.error(f),[3,7];case 7:return[2]}})})}return o}function AF(e,t,n,r,o){var s=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(s=window[o]),window[o]=PF(s,e,t,n),{gtagCore:s,wrappedGtag:window[o]}}function CF(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(rx))return r}return null}var Sr,RF=(Sr={},Sr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Sr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Sr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Sr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Sr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Sr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Sr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Sr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Sr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Sr),Zn=new Ci("analytics","Analytics",RF);var DF=30,LF=1e3,MF=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=LF),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),ix=new MF;function jF(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function UF(e){var t;return Ct(this,void 0,void 0,function(){var n,r,o,s,u,c,f,h;return Rt(this,function(d){switch(d.label){case 0:return n=e.appId,r=e.apiKey,o={method:"GET",headers:jF(r)},s=bF.replace("{app-id}",n),[4,fetch(s,o)];case 1:if(u=d.sent(),!(u.status!==200&&u.status!==304))return[3,6];c="",d.label=2;case 2:return d.trys.push([2,4,,5]),[4,u.json()];case 3:return f=d.sent(),((t=f.error)===null||t===void 0?void 0:t.message)&&(c=f.error.message),[3,5];case 4:return h=d.sent(),[3,5];case 5:throw Zn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 6:return[2,u.json()]}})})}function VF(e,t,n){return t===void 0&&(t=ix),Ct(this,void 0,void 0,function(){var r,o,s,u,c,f,h=this;return Rt(this,function(d){if(r=e.options,o=r.appId,s=r.apiKey,u=r.measurementId,!o)throw Zn.create("no-app-id");if(!s){if(u)return[2,{measurementId:u,appId:o}];throw Zn.create("no-api-key")}return c=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new FF,setTimeout(function(){return Ct(h,void 0,void 0,function(){return Rt(this,function(y){return f.abort(),[2]})})},n!==void 0?n:wF),[2,ox({appId:o,apiKey:s,measurementId:u},c,f,t)]})})}function ox(e,t,n,r){var o=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=ix),Ct(this,void 0,void 0,function(){var u,c,f,h,d,y,v;return Rt(this,function(E){switch(E.label){case 0:u=e.appId,c=e.measurementId,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,BF(n,o)];case 2:return E.sent(),[3,4];case 3:if(f=E.sent(),c)return St.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:u,measurementId:c}];throw f;case 4:return E.trys.push([4,6,,7]),[4,UF(e)];case 5:return h=E.sent(),r.deleteThrottleMetadata(u),[2,h];case 6:if(d=E.sent(),!qF(d)){if(r.deleteThrottleMetadata(u),c)return St.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:u,measurementId:c}];throw d}return y=Number(d.customData.httpStatus)===503?og(s,r.intervalMillis,DF):og(s,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:s+1},r.setThrottleMetadata(u,v),St.debug("Calling attemptFetch again in "+y+" millis"),[2,ox(e,v,n,r)];case 7:return[2]}})})}function BF(e,t){return new Promise(function(n,r){var o=Math.max(t-Date.now(),0),s=setTimeout(n,o);e.addEventListener(function(){clearTimeout(s),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function qF(e){if(!(e instanceof Qo)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var FF=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();function zF(){return Ct(this,void 0,void 0,function(){var e;return Rt(this,function(t){switch(t.label){case 0:return eg()?[3,1]:(St.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,tg()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),St.warn(Zn.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function HF(e,t,n,r,o,s){return Ct(this,void 0,void 0,function(){var u,c,f,h,d,y,v;return Rt(this,function(E){switch(E.label){case 0:return u=VF(e),u.then(function(S){n[S.measurementId]=S.appId,e.options.measurementId&&S.measurementId!==e.options.measurementId&&St.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+S.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(S){return St.error(S)}),t.push(u),c=zF().then(function(S){if(S)return r.getId()}),[4,Promise.all([u,c])];case 1:return f=E.sent(),h=f[0],d=f[1],CF()||xF(s,h.measurementId),o("js",new Date),y=(v={},v[gF]="firebase",v.update=!0,v),d!=null&&(y[yF]=d),o(Dt.CONFIG,h.measurementId,y),[2,h.measurementId]}})})}var ui={},sx=[],ax={},Sh="dataLayer",ux="gtag",cx,Ec,Tg=!1;function KF(e){if(Tg)throw Zn.create("already-initialized");e.dataLayerName&&(Sh=e.dataLayerName),e.gtagName&&(ux=e.gtagName)}function GF(){var e=[];if(gc()&&e.push("This is a browser extension environment."),ng()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,o){return"("+(o+1)+") "+r}).join(" "),n=Zn.create("invalid-analytics-context",{errorInfo:t});St.warn(n.message)}}function WF(e,t){GF();var n=e.options.appId;if(!n)throw Zn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)St.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Zn.create("no-api-key");if(ui[n]!=null)throw Zn.create("already-exists",{id:n});if(!Tg){NF(Sh);var r=AF(ui,sx,ax,Sh,ux),o=r.wrappedGtag,s=r.gtagCore;Ec=o,cx=s,Tg=!0}ui[n]=HF(e,sx,ax,t,cx,Sh);var u={app:e,logEvent:function(c,f,h){_F(Ec,ui[n],c,f,h).catch(function(d){return St.error(d)})},setCurrentScreen:function(c,f){EF(Ec,ui[n],c,f).catch(function(h){return St.error(h)})},setUserId:function(c,f){TF(Ec,ui[n],c,f).catch(function(h){return St.error(h)})},setUserProperties:function(c,f){SF(Ec,ui[n],c,f).catch(function(h){return St.error(h)})},setAnalyticsCollectionEnabled:function(c){IF(ui[n],c).catch(function(f){return St.error(f)})},INTERNAL:{delete:function(){return delete ui[n],Promise.resolve()}}};return u}var $F="@firebase/analytics",YF="0.6.9",lx="analytics";function QF(e){e.INTERNAL.registerComponent(new Cn(lx,function(n){var r=n.getProvider("app").getImmediate(),o=n.getProvider("installations").getImmediate();return WF(r,o)},"PUBLIC").setServiceProps({settings:KF,EventName:Eg,isSupported:XF})),e.INTERNAL.registerComponent(new Cn("analytics-internal",t,"PRIVATE")),e.registerVersion($F,YF);function t(n){try{var r=n.getProvider(lx).getImmediate();return{logEvent:r.logEvent}}catch(o){throw Zn.create("interop-component-reg-failed",{reason:o})}}}QF($);function XF(){return Ct(this,void 0,void 0,function(){var e,t;return Rt(this,function(n){switch(n.label){case 0:if(gc())return[2,!1];if(!ng())return[2,!1];if(!eg())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,tg()];case 2:return e=n.sent(),[2,e];case 3:return t=n.sent(),[2,!1];case 4:return[2]}})})}(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,l){i!=Array.prototype&&i!=Object.prototype&&(i[a]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var l=i[a];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,a){if(a){var l=r;i=i.split(".");for(var p=0;p<i.length-1;p++){var m=i[p];m in l||(l[m]={}),l=l[m]}i=i[i.length-1],p=l[i],a=a(p),a!=p&&a!=null&&t(l,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol!="undefined"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(w){this.b=0,this.c=void 0,this.a=[];var x=this.f();try{w(x.resolve,x.reject)}catch(R){x.reject(R)}}function l(){this.a=null}function p(w){return w instanceof a?w:new a(function(x){x(w)})}if(i)return i;l.prototype.b=function(w){if(this.a==null){this.a=[];var x=this;this.c(function(){x.g()})}this.a.push(w)};var m=r.setTimeout;l.prototype.c=function(w){m(w,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var x=0;x<w.length;++x){var R=w[x];w[x]=null;try{R()}catch(U){this.f(U)}}}this.a=null},l.prototype.f=function(w){this.c(function(){throw w})},a.prototype.f=function(){function w(U){return function(ne){R||(R=!0,U.call(x,ne))}}var x=this,R=!1;return{resolve:w(this.m),reject:w(this.g)}},a.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof a)this.s(w);else{e:switch(typeof w){case"object":var x=w!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.v(w):this.h(w)}},a.prototype.v=function(w){var x=void 0;try{x=w.then}catch(R){this.g(R);return}typeof x=="function"?this.u(x,w):this.h(w)},a.prototype.g=function(w){this.i(2,w)},a.prototype.h=function(w){this.i(1,w)},a.prototype.i=function(w,x){if(this.b!=0)throw Error("Cannot settle("+w+", "+x+"): Promise already settled in state"+this.b);this.b=w,this.c=x,this.l()},a.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)g.b(this.a[w]);this.a=null}};var g=new l;return a.prototype.s=function(w){var x=this.f();w.Qa(x.resolve,x.reject)},a.prototype.u=function(w,x){var R=this.f();try{w.call(x,R.resolve,R.reject)}catch(U){R.reject(U)}},a.prototype.then=function(w,x){function R(ge,yt){return typeof ge=="function"?function(si){try{U(ge(si))}catch(Qy){ne(Qy)}}:yt}var U,ne,Se=new a(function(ge,yt){U=ge,ne=yt});return this.Qa(R(w,U),R(x,ne)),Se},a.prototype.catch=function(w){return this.then(void 0,w)},a.prototype.Qa=function(w,x){function R(){switch(U.b){case 1:w(U.c);break;case 2:x(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?g.b(R):this.a.push(R)},a.resolve=p,a.reject=function(w){return new a(function(x,R){R(w)})},a.race=function(w){return new a(function(x,R){for(var U=u(w),ne=U.next();!ne.done;ne=U.next())p(ne.value).Qa(x,R)})},a.all=function(w){var x=u(w),R=x.next();return R.done?p([]):new a(function(U,ne){function Se(si){return function(Qy){ge[si]=Qy,yt--,yt==0&&U(ge)}}var ge=[],yt=0;do ge.push(void 0),yt++,p(R.value).Qa(Se(ge.length-1),ne),R=x.next();while(!R.done)})},a});var c=c||{},f=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function y(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&h.test(i)?i:""}function v(){}function E(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function S(i){var a=E(i);return a=="array"||a=="object"&&typeof i.length=="number"}function I(i){return E(i)=="function"}function _(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,T)&&i[T]||(i[T]=++N)}var T="closure_uid_"+(1e9*Math.random()>>>0),N=0;function k(i,a,l){return i.call.apply(i.bind,arguments)}function C(i,a,l){if(!i)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),i.apply(a,m)}}return function(){return i.apply(a,arguments)}}function P(i,a,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P=k:P=C,P.apply(null,arguments)}function j(i,a){var l=Array.prototype.slice.call(arguments,1);return function(){var p=l.slice();return p.push.apply(p,arguments),i.apply(this,p)}}var q=Date.now;function D(i,a){function l(){}l.prototype=a.prototype,i.ab=a.prototype,i.prototype=new l,i.prototype.constructor=i}function he(i){return i}function O(i,a,l){this.code=Nn+i,this.message=a||kn[i]||"",this.a=l||null}D(O,Error),O.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},O.prototype.toJSON=function(){return this.w()};function Wt(i){var a=i&&i.code;return a?new O(a.substring(Nn.length),i.message,i.serverResponse):null}var Nn="auth/",kn={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},mt={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Wn(i){for(var a in mt)if(mt[a].id===i)return i=mt[a],{firebaseEndpoint:i.Ta,secureTokenEndpoint:i.Za,identityPlatformEndpoint:i.Wa};return null}var $n;$n=Wn("__EID__")?"__EID__":void 0;function $t(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch(a){return!1}}function ie(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ie);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}D(ie,Error),ie.prototype.name="CustomError";function be(i,a){i=i.split("%s");for(var l="",p=i.length-1,m=0;m<p;m++)l+=i[m]+(m<a.length?a[m]:"%s");ie.call(this,l+i[p])}D(be,ie),be.prototype.name="AssertionError";function Q(i,a){throw new be("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function oe(i,a){this.c=i,this.f=a,this.b=0,this.a=null}oe.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function ye(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function Oe(){this.b=this.a=null}var Yt=new oe(function(){return new vt},function(i){i.reset()});Oe.prototype.add=function(i,a){var l=Yt.get();l.set(i,a),this.b?this.b.next=l:this.a=l,this.b=l};function Xt(){var i=X1,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function vt(){this.next=this.b=this.a=null}vt.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},vt.prototype.reset=function(){this.next=this.b=this.a=null};var ei=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===a)return l;return-1},Ne=Array.prototype.forEach?function(i,a,l){Array.prototype.forEach.call(i,a,l)}:function(i,a,l){for(var p=i.length,m=typeof i=="string"?i.split(""):i,g=0;g<p;g++)g in m&&a.call(l,m[g],g,i)};function yf(i,a){for(var l=typeof i=="string"?i.split(""):i,p=i.length-1;0<=p;--p)p in l&&a.call(void 0,l[p],p,i)}var ML=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var l=i.length,p=[],m=0,g=typeof i=="string"?i.split(""):i,w=0;w<l;w++)if(w in g){var x=g[w];a.call(void 0,x,w,i)&&(p[m++]=x)}return p},gf=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var l=i.length,p=Array(l),m=typeof i=="string"?i.split(""):i,g=0;g<l;g++)g in m&&(p[g]=a.call(void 0,m[g],g,i));return p},jL=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var l=i.length,p=typeof i=="string"?i.split(""):i,m=0;m<l;m++)if(m in p&&a.call(void 0,p[m],m,i))return!0;return!1};function UL(i){e:{for(var a=yM,l=i.length,p=typeof i=="string"?i.split(""):i,m=0;m<l;m++)if(m in p&&a.call(void 0,p[m],m,i)){a=m;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function ti(i,a){return 0<=ei(i,a)}function wf(i,a){a=ei(i,a);var l;return(l=0<=a)&&Array.prototype.splice.call(i,a,1),l}function mr(i,a){var l=0;yf(i,function(p,m){a.call(void 0,p,m,i)&&Array.prototype.splice.call(i,m,1).length==1&&l++})}function Tm(i){return Array.prototype.concat.apply([],arguments)}function Po(i){var a=i.length;if(0<a){for(var l=Array(a),p=0;p<a;p++)l[p]=i[p];return l}return[]}var I1=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},FL=/&/g,VL=/</g,BL=/>/g,qL=/"/g,zL=/'/g,HL=/\x00/g,KL=/[\x00&<>"']/;function Pe(i,a){return i.indexOf(a)!=-1}function Sm(i,a){return i<a?-1:i>a?1:0}var Us;e:{var x1=f.navigator;if(x1){var N1=x1.userAgent;if(N1){Us=N1;break e}}Us=""}function ot(i){return Pe(Us,i)}function k1(i,a){for(var l in i)a.call(void 0,i[l],l,i)}function Ao(i){for(var a in i)return!1;return!0}function Ei(i){var a={},l;for(l in i)a[l]=i[l];return a}var O1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dn(i,a){for(var l,p,m=1;m<arguments.length;m++){p=arguments[m];for(l in p)i[l]=p[l];for(var g=0;g<O1.length;g++)l=O1[g],Object.prototype.hasOwnProperty.call(p,l)&&(i[l]=p[l])}}function P1(i,a){e:{try{var l=i&&i.ownerDocument,p=l&&(l.defaultView||l.parentWindow);if(p=p||f,p.Element&&p.Location){var m=p;break e}}catch(w){}m=null}if(m&&typeof m[a]!="undefined"&&(!i||!(i instanceof m[a])&&(i instanceof m.Location||i instanceof m.Element))){if(_(i))try{var g=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch(w){g="<object could not be stringified>"}else g=i===void 0?"undefined":i===null?"null":typeof i;Q("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,g)}}function Ar(i,a){this.a=i===bf&&a||"",this.b=A1}Ar.prototype.sa=!0,Ar.prototype.ra=function(){return this.a},Ar.prototype.toString=function(){return"Const{"+this.a+"}"};function Im(i){return i instanceof Ar&&i.constructor===Ar&&i.b===A1?i.a:(Q("expected object of type Const, got '"+i+"'"),"type_error:Const")}var A1={},bf={},_f;function C1(){if(_f===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:he,createScript:he,createScriptURL:he})}catch(l){f.console&&f.console.error(l.message)}_f=i}else _f=i}return _f}function Fs(i,a){this.a=a===D1?i:""}Fs.prototype.sa=!0,Fs.prototype.ra=function(){return this.a.toString()},Fs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function R1(i){return i instanceof Fs&&i.constructor===Fs?i.a:(Q("expected object of type TrustedResourceUrl, got '"+i+"' of type "+E(i)),"type_error:TrustedResourceUrl")}function xm(i,a){var l=Im(i);if(!WL.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(GL,function(p,m){if(!Object.prototype.hasOwnProperty.call(a,m))throw Error('Found marker, "'+m+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(a));return p=a[m],p instanceof Ar?Im(p):encodeURIComponent(String(p))}),$L(i)}var GL=/%{(\w+)}/g,WL=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,D1={};function $L(i){var a=C1();return i=a?a.createScriptURL(i):i,new Fs(i,D1)}function mn(i,a){this.a=a===Lu?i:""}mn.prototype.sa=!0,mn.prototype.ra=function(){return this.a.toString()},mn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ef(i){return i instanceof mn&&i.constructor===mn?i.a:(Q("expected object of type SafeUrl, got '"+i+"' of type "+E(i)),"type_error:SafeUrl")}var YL=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,XL=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,L1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function M1(i){if(i instanceof mn)return i;if(i=typeof i=="object"&&i.sa?i.ra():String(i),L1.test(i))i=new mn(i,Lu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(XL);i=a&&YL.test(a[1])?new mn(i,Lu):null}return i}function j1(i){return i instanceof mn?i:(i=typeof i=="object"&&i.sa?i.ra():String(i),L1.test(i)||(i="about:invalid#zClosurez"),new mn(i,Lu))}var Lu={},U1=new mn("about:invalid#zClosurez",Lu);function Vs(i,a,l){this.a=l===F1?i:""}Vs.prototype.sa=!0,Vs.prototype.ra=function(){return this.a.toString()},Vs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function QL(i){return i instanceof Vs&&i.constructor===Vs?i.a:(Q("expected object of type SafeHtml, got '"+i+"' of type "+E(i)),"type_error:SafeHtml")}var F1={};function JL(i,a){P1(i,"HTMLScriptElement"),i.src=R1(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=y(a.document):(d===null&&(d=y(f.document)),a=d),a&&i.setAttribute("nonce",a)}function V1(i,a,l,p){return i=i instanceof mn?i:j1(i),a=a||f,l=l instanceof Ar?Im(l):l||"",a.open(Ef(i),l,p,void 0)}function B1(i,a){for(var l=i.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<l.length;)p+=l.shift()+m.shift();return p+l.join("%s")}function Nm(i){return KL.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(FL,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(VL,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(BL,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(qL,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(zL,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(HL,"&#0;"))),i}function km(i){return km[" "](i),i}km[" "]=v;function ZL(i,a){var l=r2;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=a(i)}var e2=ot("Opera"),vr=ot("Trident")||ot("MSIE"),q1=ot("Edge"),t2=q1||vr,z1=ot("Gecko")&&!(Pe(Us.toLowerCase(),"webkit")&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),n2=Pe(Us.toLowerCase(),"webkit")&&!ot("Edge");function H1(){var i=f.document;return i?i.documentMode:void 0}var Tf;e:{var Om="",Pm=function(){var i=Us;if(z1)return/rv:([^\);]+)(\)|;)/.exec(i);if(q1)return/Edge\/([\d\.]+)/.exec(i);if(vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(n2)return/WebKit\/(\S+)/.exec(i);if(e2)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Pm&&(Om=Pm?Pm[1]:""),vr){var Am=H1();if(Am!=null&&Am>parseFloat(Om)){Tf=String(Am);break e}}Tf=Om}var r2={};function K1(i){return ZL(i,function(){for(var a=0,l=I1(String(Tf)).split("."),p=I1(String(i)).split("."),m=Math.max(l.length,p.length),g=0;a==0&&g<m;g++){var w=l[g]||"",x=p[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],w[0].length==0&&x[0].length==0)break;a=Sm(w[1].length==0?0:parseInt(w[1],10),x[1].length==0?0:parseInt(x[1],10))||Sm(w[2].length==0,x[2].length==0)||Sm(w[2],x[2]),w=w[3],x=x[3]}while(a==0)}return 0<=a})}var Cm;if(f.document&&vr){var G1=H1();Cm=G1||parseInt(Tf,10)||void 0}else Cm=void 0;var Ti=Cm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(i){}var i2=!vr||9<=Number(Ti);function Mu(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function W1(i,a){k1(a,function(l,p){l&&typeof l=="object"&&l.sa&&(l=l.ra()),p=="style"?i.style.cssText=l:p=="class"?i.className=l:p=="for"?i.htmlFor=l:$1.hasOwnProperty(p)?i.setAttribute($1[p],l):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?i.setAttribute(p,l):i[p]=l})}var $1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function o2(i,a,l){var p=arguments,m=document,g=String(p[0]),w=p[1];if(!i2&&w&&(w.name||w.type)){if(g=["<",g],w.name&&g.push(' name="',Nm(w.name),'"'),w.type){g.push(' type="',Nm(w.type),'"');var x={};dn(x,w),delete x.type,w=x}g.push(">"),g=g.join("")}return g=Sf(m,g),w&&(typeof w=="string"?g.className=w:Array.isArray(w)?g.className=w.join(" "):W1(g,w)),2<p.length&&s2(m,g,p),g}function s2(i,a,l){function p(x){x&&a.appendChild(typeof x=="string"?i.createTextNode(x):x)}for(var m=2;m<l.length;m++){var g=l[m];if(!S(g)||_(g)&&0<g.nodeType)p(g);else{e:{if(g&&typeof g.length=="number"){if(_(g)){var w=typeof g.item=="function"||typeof g.item=="string";break e}if(I(g)){w=typeof g.item=="function";break e}}w=!1}Ne(w?Po(g):g,p)}}}function Sf(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function Y1(i){f.setTimeout(function(){throw i},0)}var Rm;function a2(){var i=f.MessageChannel;if(typeof i=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(i=function(){var m=Sf(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.close();var w="callImmediate"+Math.random(),x=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=P(function(R){(x=="*"||R.origin==x)&&R.data==w&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,x)}}}),typeof i!="undefined"&&!ot("Trident")&&!ot("MSIE")){var a=new i,l={},p=l;return a.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var m=l.Gb;l.Gb=null,m()}},function(m){p.next={Gb:m},p=p.next,a.port2.postMessage(0)}}return function(m){f.setTimeout(m,0)}}function If(i,a){xf||u2(),Dm||(xf(),Dm=!0),X1.add(i,a)}var xf;function u2(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);xf=function(){i.then(Q1)}}else xf=function(){var a=Q1;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!ot("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Rm||(Rm=a2()),Rm(a)):f.setImmediate(a)}}var Dm=!1,X1=new Oe;function Q1(){for(var i;i=Xt();){try{i.a.call(i.b)}catch(a){Y1(a)}ye(Yt,i)}Dm=!1}function ce(i,a){if(this.a=Co,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=v)try{var l=this;i.call(a,function(p){Ro(l,ju,p)},function(p){if(!(p instanceof Bs))try{throw p instanceof Error?p:Error("Promise rejected.")}catch(m){}Ro(l,ni,p)})}catch(p){Ro(this,ni,p)}}var Co=0,ju=2,ni=3;function J1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}J1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Z1=new oe(function(){return new J1},function(i){i.reset()});function Lm(i,a,l){var p=Z1.get();return p.g=i,p.b=a,p.f=l,p}function Z(i){if(i instanceof ce)return i;var a=new ce(v);return Ro(a,ju,i),a}function Le(i){return new ce(function(a,l){l(i)})}function eE(i,a,l){iE(i,a,l,null)||If(j(a,i))}function c2(i){return new ce(function(a,l){var p=i.length,m=[];if(p)for(var g=function(U,ne){p--,m[U]=ne,p==0&&a(m)},w=function(U){l(U)},x=0,R;x<i.length;x++)R=i[x],eE(R,j(g,x),w);else a(m)})}function tE(i){return new ce(function(a){var l=i.length,p=[];if(l)for(var m=function(x,R,U){l--,p[x]=R?{Pb:!0,value:U}:{Pb:!1,reason:U},l==0&&a(p)},g=0,w;g<i.length;g++)w=i[g],eE(w,j(m,g,!0),j(m,g,!1));else a(p)})}ce.prototype.then=function(i,a,l){return rE(this,I(i)?i:null,I(a)?a:null,l)},ce.prototype.$goog_Thenable=!0,e=ce.prototype,e.oa=function(i,a){return i=Lm(i,i,a),i.c=!0,Mm(this,i),this},e.o=function(i,a){return rE(this,null,i,a)},e.cancel=function(i){if(this.a==Co){var a=new Bs(i);If(function(){nE(this,a)},this)}};function nE(i,a){if(i.a==Co)if(i.c){var l=i.c;if(l.b){for(var p=0,m=null,g=null,w=l.b;w&&(w.c||(p++,w.a==i&&(m=w),!(m&&1<p)));w=w.next)m||(g=w);m&&(l.a==Co&&p==1?nE(l,a):(g?(p=g,p.next==l.f&&(l.f=p),p.next=p.next.next):sE(l),aE(l,m,ni,a)))}i.c=null}else Ro(i,ni,a)}function Mm(i,a){i.b||i.a!=ju&&i.a!=ni||oE(i),i.f?i.f.next=a:i.b=a,i.f=a}function rE(i,a,l,p){var m=Lm(null,null,null);return m.a=new ce(function(g,w){m.g=a?function(x){try{var R=a.call(p,x);g(R)}catch(U){w(U)}}:g,m.b=l?function(x){try{var R=l.call(p,x);R===void 0&&x instanceof Bs?w(x):g(R)}catch(U){w(U)}}:w}),m.a.c=i,Mm(i,m),m.a}e.$c=function(i){this.a=Co,Ro(this,ju,i)},e.ad=function(i){this.a=Co,Ro(this,ni,i)};function Ro(i,a,l){i.a==Co&&(i===l&&(a=ni,l=new TypeError("Promise cannot resolve to itself")),i.a=1,iE(l,i.$c,i.ad,i)||(i.i=l,i.a=a,i.c=null,oE(i),a!=ni||l instanceof Bs||f2(i,l)))}function iE(i,a,l,p){if(i instanceof ce)return Mm(i,Lm(a||v,l||null,p)),!0;if($t(i))return i.then(a,l,p),!0;if(_(i))try{var m=i.then;if(I(m))return l2(i,m,a,l,p),!0}catch(g){return l.call(p,g),!0}return!1}function l2(i,a,l,p,m){function g(R){x||(x=!0,p.call(m,R))}function w(R){x||(x=!0,l.call(m,R))}var x=!1;try{a.call(i,w,g)}catch(R){g(R)}}function oE(i){i.h||(i.h=!0,If(i.gc,i))}function sE(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=sE(this);)aE(this,i,this.a,this.i);this.h=!1};function aE(i,a,l,p){if(l==ni&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,uE(a,l,p);else try{a.c?a.g.call(a.f):uE(a,l,p)}catch(m){cE.call(null,m)}ye(Z1,a)}function uE(i,a,l){a==ju?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function f2(i,a){i.g=!0,If(function(){i.g&&cE.call(null,a)})}var cE=Y1;function Bs(i){ie.call(this,i)}D(Bs,ie),Bs.prototype.name="cancel";function Nf(){jm!=0&&(lE[b(this)]=this),this.xa=this.xa,this.pa=this.pa}var jm=0,lE={};Nf.prototype.xa=!1;function fE(i){if(!i.xa&&(i.xa=!0,i.Da(),jm!=0)){var a=b(i);if(jm!=0&&i.pa&&0<i.pa.length)throw Error(i+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete lE[a]}}Nf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var h2=Object.freeze||function(i){return i},hE=!vr||9<=Number(Ti),p2=vr&&!K1("9"),d2=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",v,a),f.removeEventListener("test",v,a)}catch(l){}return i}();function vn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}vn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Do(i,a){if(vn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(z1){e:{try{km(a.nodeName);var m=!0;break e}catch(g){}m=!1}m||(a=null)}}else l=="mouseover"?a=i.fromElement:l=="mouseout"&&(a=i.toElement);this.relatedTarget=a,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:m2[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}D(Do,vn);var m2=h2({2:"touch",3:"pen",4:"mouse"});Do.prototype.preventDefault=function(){Do.ab.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,p2)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch(a){}},Do.prototype.g=function(){return this.a};var Uu="closure_listenable_"+(1e6*Math.random()|0),v2=0;function y2(i,a,l,p,m){this.listener=i,this.proxy=null,this.src=a,this.type=l,this.capture=!!p,this.Va=m,this.key=++v2,this.va=this.Pa=!1}function kf(i){i.va=!0,i.listener=null,i.proxy=null,i.src=null,i.Va=null}function Of(i){this.src=i,this.a={},this.b=0}Of.prototype.add=function(i,a,l,p,m){var g=i.toString();i=this.a[g],i||(i=this.a[g]=[],this.b++);var w=Fm(i,a,p,m);return-1<w?(a=i[w],l||(a.Pa=!1)):(a=new y2(a,this.src,g,!!p,m),a.Pa=l,i.push(a)),a};function Um(i,a){var l=a.type;l in i.a&&wf(i.a[l],a)&&(kf(a),i.a[l].length==0&&(delete i.a[l],i.b--))}function Fm(i,a,l,p){for(var m=0;m<i.length;++m){var g=i[m];if(!g.va&&g.listener==a&&g.capture==!!l&&g.Va==p)return m}return-1}var Vm="closure_lm_"+(1e6*Math.random()|0),Bm={},pE=0;function Yn(i,a,l,p,m){if(p&&p.once)qm(i,a,l,p,m);else if(Array.isArray(a))for(var g=0;g<a.length;g++)Yn(i,a[g],l,p,m);else l=Hm(l),i&&i[Uu]?wE(i,a,l,_(p)?!!p.capture:!!p,m):dE(i,a,l,!1,p,m)}function dE(i,a,l,p,m,g){if(!a)throw Error("Invalid event type");var w=_(m)?!!m.capture:!!m,x=Pf(i);if(x||(i[Vm]=x=new Of(i)),l=x.add(a,l,p,w,g),!l.proxy){if(p=g2(),l.proxy=p,p.src=i,p.listener=l,i.addEventListener)d2||(m=w),m===void 0&&(m=!1),i.addEventListener(a.toString(),p,m);else if(i.attachEvent)i.attachEvent(vE(a.toString()),p);else if(i.addListener&&i.removeListener)i.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");pE++}}function g2(){var i=w2,a=hE?function(l){return i.call(a.src,a.listener,l)}:function(l){if(l=i.call(a.src,a.listener,l),!l)return l};return a}function qm(i,a,l,p,m){if(Array.isArray(a))for(var g=0;g<a.length;g++)qm(i,a[g],l,p,m);else l=Hm(l),i&&i[Uu]?Km(i,a,l,_(p)?!!p.capture:!!p,m):dE(i,a,l,!0,p,m)}function On(i,a,l,p,m){if(Array.isArray(a))for(var g=0;g<a.length;g++)On(i,a[g],l,p,m);else p=_(p)?!!p.capture:!!p,l=Hm(l),i&&i[Uu]?(i=i.v,a=String(a).toString(),a in i.a&&(g=i.a[a],l=Fm(g,l,p,m),-1<l&&(kf(g[l]),Array.prototype.splice.call(g,l,1),g.length==0&&(delete i.a[a],i.b--)))):i&&(i=Pf(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Fm(a,l,p,m)),(l=-1<i?a[i]:null)&&mE(l))}function mE(i){if(typeof i!="number"&&i&&!i.va){var a=i.src;if(a&&a[Uu])Um(a.v,i);else{var l=i.type,p=i.proxy;a.removeEventListener?a.removeEventListener(l,p,i.capture):a.detachEvent?a.detachEvent(vE(l),p):a.addListener&&a.removeListener&&a.removeListener(p),pE--,(l=Pf(a))?(Um(l,i),l.b==0&&(l.src=null,a[Vm]=null)):kf(i)}}}function vE(i){return i in Bm?Bm[i]:Bm[i]="on"+i}function yE(i,a,l,p){var m=!0;if((i=Pf(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var g=a[i];g&&g.capture==l&&!g.va&&(g=gE(g,p),m=m&&g!==!1)}return m}function gE(i,a){var l=i.listener,p=i.Va||i.src;return i.Pa&&mE(i),l.call(p,a)}function w2(i,a){if(i.va)return!0;if(!hE){if(!a)e:{a=["window","event"];for(var l=f,p=0;p<a.length;p++)if(l=l[a[p]],l==null){a=null;break e}a=l}if(p=a,a=new Do(p,this),l=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch(w){m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=a.b;m;m=m.parentNode)p.push(m);for(i=i.type,m=p.length-1;0<=m;m--){a.b=p[m];var g=yE(p[m],i,!0,a);l=l&&g}for(m=0;m<p.length;m++)a.b=p[m],g=yE(p[m],i,!1,a),l=l&&g}return l}return gE(i,new Do(a,this))}function Pf(i){return i=i[Vm],i instanceof Of?i:null}var zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(i){return I(i)?i:(i[zm]||(i[zm]=function(a){return i.handleEvent(a)}),i[zm])}function Qt(){Nf.call(this),this.v=new Of(this),this.ac=this,this.gb=null}D(Qt,Nf),Qt.prototype[Uu]=!0,Qt.prototype.addEventListener=function(i,a,l,p){Yn(this,i,a,l,p)},Qt.prototype.removeEventListener=function(i,a,l,p){On(this,i,a,l,p)},Qt.prototype.dispatchEvent=function(i){var a,l=this.gb;if(l)for(a=[];l;l=l.gb)a.push(l);l=this.ac;var p=i.type||i;if(typeof i=="string")i=new vn(i,l);else if(i instanceof vn)i.target=i.target||l;else{var m=i;i=new vn(p,l),dn(i,m)}if(m=!0,a)for(var g=a.length-1;0<=g;g--){var w=i.b=a[g];m=Af(w,p,!0,i)&&m}if(w=i.b=l,m=Af(w,p,!0,i)&&m,m=Af(w,p,!1,i)&&m,a)for(g=0;g<a.length;g++)w=i.b=a[g],m=Af(w,p,!1,i)&&m;return m},Qt.prototype.Da=function(){if(Qt.ab.Da.call(this),this.v){var i=this.v,a=0,l;for(l in i.a){for(var p=i.a[l],m=0;m<p.length;m++)++a,kf(p[m]);delete i.a[l],i.b--}}this.gb=null};function wE(i,a,l,p,m){i.v.add(String(a),l,!1,p,m)}function Km(i,a,l,p,m){i.v.add(String(a),l,!0,p,m)}function Af(i,a,l,p){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.va&&w.capture==l){var x=w.listener,R=w.Va||w.src;w.Pa&&Um(i.v,w),m=x.call(R,p)!==!1&&m}}return m&&!p.defaultPrevented}function Gm(i,a,l){if(I(i))l&&(i=P(i,l));else if(i&&typeof i.handleEvent=="function")i=P(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function qs(i){var a=null;return new ce(function(l,p){a=Gm(function(){l(void 0)},i),a==-1&&p(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(a),l})}function bE(i){if(i.W&&typeof i.W=="function")return i.W();if(typeof i=="string")return i.split("");if(S(i)){for(var a=[],l=i.length,p=0;p<l;p++)a.push(i[p]);return a}a=[],l=0;for(p in i)a[l++]=i[p];return a}function _E(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.W||typeof i.W!="function"){if(S(i)||typeof i=="string"){var a=[];i=i.length;for(var l=0;l<i;l++)a.push(l);return a}a=[],l=0;for(var p in i)a[l++]=p;return a}}function b2(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(S(i)||typeof i=="string")Ne(i,a,void 0);else for(var l=_E(i),p=bE(i),m=p.length,g=0;g<m;g++)a.call(void 0,p[g],l&&l[g],i)}function zs(i,a){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var p=0;p<l;p+=2)this.set(arguments[p],arguments[p+1])}else if(i)if(i instanceof zs)for(l=i.Y(),p=0;p<l.length;p++)this.set(l[p],i.get(l[p]));else for(p in i)this.set(p,i[p])}e=zs.prototype,e.W=function(){Wm(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Wm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Wm(i){if(i.c!=i.a.length){for(var a=0,l=0;a<i.a.length;){var p=i.a[a];Lo(i.b,p)&&(i.a[l++]=p),a++}i.a.length=l}if(i.c!=i.a.length){var m={};for(l=a=0;a<i.a.length;)p=i.a[a],Lo(m,p)||(i.a[l++]=p,m[p]=1),a++;i.a.length=l}}e.get=function(i,a){return Lo(this.b,i)?this.b[i]:a},e.set=function(i,a){Lo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var l=this.Y(),p=0;p<l.length;p++){var m=l[p],g=this.get(m);i.call(a,g,m,this)}};function Lo(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var EE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _2(i,a){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var p=i[l].indexOf("="),m=null;if(0<=p){var g=i[l].substring(0,p);m=i[l].substring(p+1)}else g=i[l];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Si(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof Si?(this.i=a!==void 0?a:i.i,Fu(this,i.c),this.l=i.l,this.a=i.a,Vu(this,i.g),this.f=i.f,$m(this,xE(i.b)),this.h=i.h):i&&(l=String(i).match(EE))?(this.i=!!a,Fu(this,l[1]||"",!0),this.l=Bu(l[2]||""),this.a=Bu(l[3]||"",!0),Vu(this,l[4]),this.f=Bu(l[5]||"",!0),$m(this,l[6]||"",!0),this.h=Bu(l[7]||"")):(this.i=!!a,this.b=new Mo(null,this.i))}Si.prototype.toString=function(){var i=[],a=this.c;a&&i.push(qu(a,TE,!0),":");var l=this.a;return(l||a=="file")&&(i.push("//"),(a=this.l)&&i.push(qu(a,TE,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(qu(l,l.charAt(0)=="/"?S2:T2,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",qu(l,x2)),i.join("")},Si.prototype.resolve=function(i){var a=new Si(this),l=!!i.c;l?Fu(a,i.c):l=!!i.l,l?a.l=i.l:l=!!i.a,l?a.a=i.a:l=i.g!=null;var p=i.f;if(l)Vu(a,i.g);else if(l=!!i.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=a.f.lastIndexOf("/");m!=-1&&(p=a.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(Pe(m,"./")||Pe(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var g=[],w=0;w<m.length;){var x=m[w++];x=="."?p&&w==m.length&&g.push(""):x==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),p&&w==m.length&&g.push("")):(g.push(x),p=!0)}p=g.join("/")}else p=m}return l?a.f=p:l=i.b.toString()!=="",l?$m(a,xE(i.b)):l=!!i.h,l&&(a.h=i.h),a};function Fu(i,a,l){i.c=l?Bu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function Vu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function $m(i,a,l){a instanceof Mo?(i.b=a,N2(i.b,i.i)):(l||(a=qu(a,I2)),i.b=new Mo(a,i.i))}function Ge(i,a,l){i.b.set(a,l)}function Xn(i,a){return i.b.get(a)}function yn(i){return i instanceof Si?new Si(i):new Si(i,void 0)}function Cf(i,a,l,p){var m=new Si(null,void 0);return i&&Fu(m,i),a&&(m.a=a),l&&Vu(m,l),p&&(m.f=p),m}function Bu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qu(i,a,l){return typeof i=="string"?(i=encodeURI(i).replace(a,E2),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function E2(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var TE=/[#\/\?@]/g,T2=/[#\?:]/g,S2=/[#\?]/g,I2=/[#\?@]/g,x2=/#/g;function Mo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Ii(i){i.a||(i.a=new zs,i.b=0,i.c&&_2(i.c,function(a,l){i.add(decodeURIComponent(a.replace(/\+/g," ")),l)}))}function SE(i){var a=_E(i);if(typeof a=="undefined")throw Error("Keys are undefined");var l=new Mo(null,void 0);i=bE(i);for(var p=0;p<a.length;p++){var m=a[p],g=i[p];Array.isArray(g)?IE(l,m,g):l.add(m,g)}return l}e=Mo.prototype,e.add=function(i,a){Ii(this),this.c=null,i=Hs(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(a),this.b+=1,this};function Cr(i,a){Ii(i),a=Hs(i,a),Lo(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Lo(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Wm(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ym(i,a){return Ii(i),a=Hs(i,a),Lo(i.a.b,a)}e.forEach=function(i,a){Ii(this),this.a.forEach(function(l,p){Ne(l,function(m){i.call(a,m,p,this)},this)},this)},e.Y=function(){Ii(this);for(var i=this.a.W(),a=this.a.Y(),l=[],p=0;p<a.length;p++)for(var m=i[p],g=0;g<m.length;g++)l.push(a[p]);return l},e.W=function(i){Ii(this);var a=[];if(typeof i=="string")Ym(this,i)&&(a=Tm(a,this.a.get(Hs(this,i))));else{i=this.a.W();for(var l=0;l<i.length;l++)a=Tm(a,i[l])}return a},e.set=function(i,a){return Ii(this),this.c=null,i=Hs(this,i),Ym(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.W(i),0<i.length?String(i[0]):a):a};function IE(i,a,l){Cr(i,a),0<l.length&&(i.c=null,i.a.set(Hs(i,a),Po(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),l=0;l<a.length;l++){var p=a[l],m=encodeURIComponent(String(p));p=this.W(p);for(var g=0;g<p.length;g++){var w=m;p[g]!==""&&(w+="="+encodeURIComponent(String(p[g]))),i.push(w)}}return this.c=i.join("&")};function xE(i){var a=new Mo;return a.c=i.c,i.a&&(a.a=new zs(i.a),a.b=i.b),a}function Hs(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function N2(i,a){a&&!i.f&&(Ii(i),i.c=null,i.a.forEach(function(l,p){var m=p.toLowerCase();p!=m&&(Cr(this,p),IE(this,m,l))},i)),i.f=a}function NE(i){var a=[];return Xm(new k2,i,a),a.join("")}function k2(){}function Xm(i,a,l){if(a==null)l.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var p=a;a=p.length,l.push("[");for(var m="",g=0;g<a;g++)l.push(m),Xm(i,p[g],l),m=",";l.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{l.push("{"),m="";for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&(g=a[p],typeof g!="function"&&(l.push(m),OE(p,l),l.push(":"),Xm(i,g,l),m=","));l.push("}");return}}switch(typeof a){case"string":OE(a,l);break;case"number":l.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":l.push(String(a));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var kE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},O2=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function OE(i,a){a.push('"',i.replace(O2,function(l){var p=kE[l];return p||(p="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),kE[l]=p),p}),'"')}function Qm(){var i=Et();return vr&&!!Ti&&Ti==11||/Edge\/\d+/.test(i)}function zu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function PE(i,a){a=a||f.window;var l="about:blank";i&&(l=Ef(M1(i)||U1)),a.location.href=l}function AE(i,a){var l=[],p;for(p in i)p in a?typeof i[p]!=typeof a[p]?l.push(p):typeof i[p]=="object"&&i[p]!=null&&a[p]!=null?0<AE(i[p],a[p]).length&&l.push(p):i[p]!==a[p]&&l.push(p):l.push(p);for(p in a)p in i||l.push(p);return l}function P2(){var i=Et();return i=Ks(i)!=LE?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!vr||!Ti||9<Ti}function CE(i){return i=(i||Et()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function jo(i){i=i||f.window;try{i.close()}catch(a){}}function RE(i,a,l){var p=Math.floor(1e9*Math.random()).toString();a=a||500,l=l||600;var m=(window.screen.availHeight-l)/2,g=(window.screen.availWidth-a)/2;a={width:a,height:l,top:0<m?m:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=Et().toLowerCase(),p&&(a.target=p,Pe(l,"crios/")&&(a.target="_blank")),Ks(Et())==ev&&(i=i||"http://localhost",a.scrollbars=!0),l=i||"",(i=a)||(i={}),p=window,a=l instanceof mn?l:M1(typeof l.href!="undefined"?l.href:String(l))||U1,l=i.target||l.target,m=[];for(w in i)switch(w){case"width":case"height":case"top":case"left":m.push(w+"="+i[w]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(w+"="+(i[w]?1:0))}var w=m.join(",");if((ot("iPhone")&&!ot("iPod")&&!ot("iPad")||ot("iPad")||ot("iPod"))&&p.navigator&&p.navigator.standalone&&l&&l!="_self"?(w=Sf(document,"A"),P1(w,"HTMLAnchorElement"),a=a instanceof mn?a:j1(a),w.href=Ef(a),w.setAttribute("target",l),i.noreferrer&&w.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(i),w={}):i.noreferrer?(w=V1("",p,l,w),i=Ef(a),w&&(t2&&Pe(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),w.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Nm(i)+'">',i=(p=C1())?p.createHTML(i):i,i=new Vs(i,null,F1),p=w.document)&&(p.write(QL(i)),p.close())):(w=V1(a,p,l,w))&&i.noopener&&(w.opener=null),w)try{w.focus()}catch(x){}return w}function A2(i){return new ce(function(a){function l(){qs(2e3).then(function(){if(!i||i.closed)a();else return l()})}return l()})}var C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R2=/^[^@]+@[^@]+$/;function Rf(){var i=null;return new ce(function(a){f.document.readyState=="complete"?a():(i=function(){a()},qm(window,"load",i))}).o(function(a){throw On(window,"load",i),a})}function D2(){return Jm(void 0)?Rf().then(function(){return new ce(function(i,a){var l=f.document,p=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(p),i()},!1)})}):Le(Error("Cordova must run in an Android or iOS file scheme."))}function Jm(i){return i=i||Et(),!(Ws()!=="file:"&&Ws()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zm(){var i=f.window;try{return!(!i||i==i.top)}catch(a){return!1}}function yr(){return typeof f.WorkerGlobalScope!="undefined"&&typeof f.importScripts=="function"}function Rr(){return $.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":$.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function DE(){var i=Rr();return i==="ReactNative"||i==="Node"}function L2(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var ev="Firefox",LE="Chrome";function Ks(i){var a=i.toLowerCase();if(Pe(a,"opera/")||Pe(a,"opr/")||Pe(a,"opios/"))return"Opera";if(Pe(a,"iemobile"))return"IEMobile";if(Pe(a,"msie")||Pe(a,"trident/"))return"IE";if(Pe(a,"edge/"))return"Edge";if(Pe(a,"firefox/"))return ev;if(Pe(a,"silk/"))return"Silk";if(Pe(a,"blackberry"))return"Blackberry";if(Pe(a,"webos"))return"Webos";if(!Pe(a,"safari/")||Pe(a,"chrome/")||Pe(a,"crios/")||Pe(a,"android"))if(!Pe(a,"chrome/")&&!Pe(a,"crios/")||Pe(a,"edge/")){if(Pe(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return LE;else return"Safari";return"Other"}var ME={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gs(i,a){a=a||[];var l=[],p={},m;for(m in ME)p[ME[m]]=!0;for(m=0;m<a.length;m++)typeof p[a[m]]!="undefined"&&(delete p[a[m]],l.push(a[m]));return l.sort(),a=l,a.length||(a=["FirebaseCore-web"]),l=Rr(),l==="Browser"?(p=Et(),l=Ks(p)):l==="Worker"&&(p=Et(),l=Ks(p)+"-"+l),l+"/JsCore/"+i+"/"+a.join(",")}function Et(){return f.navigator&&f.navigator.userAgent||""}function Me(i,a){i=i.split("."),a=a||f;for(var l=0;l<i.length&&typeof a=="object"&&a!=null;l++)a=a[i[l]];return l!=i.length&&(a=void 0),a}function tv(){try{var i=f.localStorage,a=Fo();if(i)return i.setItem(a,"1"),i.removeItem(a),Qm()?!!f.indexedDB:!0}catch(l){return yr()&&!!f.indexedDB}return!1}function Uo(){return(Df()||Ws()==="chrome-extension:"||Jm())&&!DE()&&tv()&&!yr()}function Df(){return Ws()==="http:"||Ws()==="https:"}function Ws(){return f.location&&f.location.protocol||null}function Hu(i){return i=i||Et(),!(CE(i)||Ks(i)==ev)}function Ku(i){return typeof i=="undefined"?null:NE(i)}function jE(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(a[l]=i[l]);return a}function $s(i){if(i!==null)return JSON.parse(i)}function Fo(i){return i||Math.floor(1e9*Math.random()).toString()}function UE(i){return i=i||Et(),!(Ks(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function FE(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function xi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=Et(),a=Rr(),this.b=CE(i)||a==="ReactNative"}xi.prototype.get=function(){var i=f.navigator;return(i&&typeof i.onLine=="boolean"&&(Df()||Ws()==="chrome-extension:"||typeof i.connection!="undefined")?i.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function nv(){var i=f.document;return i&&typeof i.visibilityState!="undefined"?i.visibilityState=="visible":!0}function M2(){var i=f.document,a=null;return nv()||!i?Z():new ce(function(l){a=function(){nv()&&(i.removeEventListener("visibilitychange",a,!1),l())},i.addEventListener("visibilitychange",a,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",a,!1),l})}function Gu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch(l){}return null}function VE(){return!(!Me("fireauth.oauthhelper",f)&&!Me("fireauth.iframe",f))}function j2(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function U2(){var i=f.navigator;return i&&i.serviceWorker?Z().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Z(null)}var BE={};function rv(i){BE[i]||(BE[i]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(i))}var iv;try{var ov={};Object.defineProperty(ov,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ov,"abcd",{configurable:!0,enumerable:!0,value:2}),iv=ov.abcd==2}catch(i){iv=!1}function W(i,a,l){iv?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:l}):i[a]=l}function Jt(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&W(i,l,a[l])}function Dr(i){var a={};return Jt(a,i),a}function F2(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);return a}function V2(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var l=0;l<a.length;l++){var p=i[a[l]];if(p==null||p==="")return!1}return!0}function sv(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var l in i)W(a,l,sv(i[l]))}return a}function av(i){var a=i&&(i[fv]?"phone":null);if(a&&i&&i[lv]){W(this,"uid",i[lv]),W(this,"displayName",i[qE]||null);var l=null;i[cv]&&(l=new Date(i[cv]).toUTCString()),W(this,"enrollmentTime",l),W(this,"factorId",a)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}av.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function uv(i){try{var a=new Wu(i)}catch(l){a=null}return a}var qE="displayName",cv="enrolledAt",lv="mfaEnrollmentId",fv="phoneInfo";function Wu(i){av.call(this,i),W(this,"phoneNumber",i[fv])}D(Wu,av),Wu.prototype.w=function(){var i=Wu.ab.w.call(this);return i.phoneNumber=this.phoneNumber,i};function B2(i){var a={},l=i[q2],p=i[H2],m=i[K2];if(i=uv(i[z2]),!m||m!=Lf&&m!=$u&&!l||m==$u&&!p||m==hv&&!i)throw Error("Invalid checkActionCode response!");m==$u?(a[HE]=l||null,a[KE]=l||null,a[zE]=p):(a[HE]=p||null,a[KE]=p||null,a[zE]=l||null),a[G2]=i||null,W(this,$2,m),W(this,W2,sv(a))}var hv="REVERT_SECOND_FACTOR_ADDITION",Lf="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",q2="email",z2="mfaInfo",H2="newEmail",K2="requestType",zE="email",HE="fromEmail",G2="multiFactorInfo",KE="previousEmail",W2="data",$2="operation";function pv(i){i=yn(i);var a=Xn(i,GE)||null,l=Xn(i,WE)||null,p=Xn(i,$E)||null;if(p=p&&J2[p]||null,!a||!l||!p)throw new O("argument-error",GE+", "+WE+"and "+$E+" are required in a valid action code URL.");Jt(this,{apiKey:a,operation:p,code:l,continueUrl:Xn(i,Y2)||null,languageCode:Xn(i,X2)||null,tenantId:Xn(i,Q2)||null})}var GE="apiKey",WE="oobCode",Y2="continueUrl",X2="languageCode",$E="mode",Q2="tenantId",J2={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hv,signIn:Lf,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function YE(i){try{return new pv(i)}catch(a){return null}}function Mf(i){var a=i[Z2];if(typeof a=="undefined")throw new O("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new O("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var l=i[XE];if(l&&typeof l=="object"){a=l[tT];var p=l[ZE];if(l=l[eT],typeof a=="string"&&a.length){if(this.a=a,typeof p!="undefined"&&typeof p!="boolean")throw new O("argument-error",ZE+" property must be a boolean when specified.");if(this.g=!!p,typeof l!="undefined"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new O("argument-error",eT+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof a!="undefined")throw new O("argument-error",tT+" property must be a non empty string when specified.");if(typeof p!="undefined"||typeof l!="undefined")throw new O("missing-android-pkg-name")}}else if(typeof l!="undefined")throw new O("argument-error",XE+" property must be a non null object when specified.");if(this.f=null,(a=i[JE])&&typeof a=="object"){if(a=a[nT],typeof a=="string"&&a.length)this.f=a;else if(typeof a!="undefined")throw new O("argument-error",nT+" property must be a non empty string when specified.")}else if(typeof a!="undefined")throw new O("argument-error",JE+" property must be a non null object when specified.");if(a=i[dv],typeof a!="undefined"&&typeof a!="boolean")throw new O("argument-error",dv+" property must be a boolean when specified.");if(this.c=!!a,i=i[QE],typeof i!="undefined"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new O("argument-error",QE+" property must be a non empty string when specified.");this.i=i||null}var XE="android",QE="dynamicLinkDomain",dv="handleCodeInApp",JE="iOS",Z2="url",ZE="installApp",eT="minimumVersion",tT="packageName",nT="bundleId";function jf(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var l in a)a[l]===null&&delete a[l];return a}function eM(i){return gf(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Yu=null;function tM(i){var a=[];return nM(i,function(l){a.push(l)}),a}function nM(i,a){function l(R){for(;p<i.length;){var U=i.charAt(p++),ne=Yu[U];if(ne!=null)return ne;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return R}rM();for(var p=0;;){var m=l(-1),g=l(0),w=l(64),x=l(64);if(x===64&&m===-1)break;a(m<<2|g>>4),w!=64&&(a(g<<4&240|w>>2),x!=64&&a(w<<6&192|x))}}function rM(){if(!Yu){Yu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var p=i.concat(a[l].split("")),m=0;m<p.length;m++){var g=p[m];Yu[g]===void 0&&(Yu[g]=m)}}}function Uf(i){var a=rT(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Uf.prototype.T=function(){return this.f},Uf.prototype.l=function(){return this.c},Uf.prototype.toString=function(){return this.h};function Ff(i){try{return new Uf(i)}catch(a){return null}}function rT(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,l=0;l<a;l++)i+=".";try{var p=tM(i);for(i=[],l=a=0;a<p.length;){var m=p[a++];if(128>m)i[l++]=String.fromCharCode(m);else if(191<m&&224>m){var g=p[a++];i[l++]=String.fromCharCode((m&31)<<6|g&63)}else if(239<m&&365>m){g=p[a++];var w=p[a++],x=p[a++],R=((m&7)<<18|(g&63)<<12|(w&63)<<6|x&63)-65536;i[l++]=String.fromCharCode(55296+(R>>10)),i[l++]=String.fromCharCode(56320+(R&1023))}else g=p[a++],w=p[a++],i[l++]=String.fromCharCode((m&15)<<12|(g&63)<<6|w&63)}return JSON.parse(i.join(""))}catch(U){}return null}var iT="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vf=["client_id","response_type","scope","redirect_uri","state"],mv={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Vf},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Vf},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Vf},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:iT},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function vv(i){for(var a in mv)if(mv[a].fa==i)return mv[a];return null}function oT(i){var a={};a["facebook.com"]=aT,a["google.com"]=cT,a["github.com"]=uT,a["twitter.com"]=lT;var l=i&&i[sT];try{if(l)return a[l]?new a[l](i):new Lr(i);if(typeof i[yv]!="undefined")return new gv(i)}catch(p){}return null}var yv="idToken",sT="providerId";function gv(i){var a=i[sT];if(!a&&i[yv]){var l=Ff(i[yv]);l&&l.b&&(a=l.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),l=!1,typeof i.isNewUser!="undefined"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),W(this,"providerId",a),W(this,"isNewUser",l)}function Lr(i){gv.call(this,i),i=$s(i.rawUserInfo||"{}"),W(this,"profile",sv(i||{}))}D(Lr,gv);function aT(i){if(Lr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(aT,Lr);function uT(i){if(Lr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");W(this,"username",this.profile&&this.profile.login||null)}D(uT,Lr);function cT(i){if(Lr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(cT,Lr);function lT(i){if(Lr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");W(this,"username",i.screenName||null)}D(lT,Lr);function fT(i){var a=yn(i),l=Xn(a,"link"),p=Xn(yn(l),"link");return a=Xn(a,"deep_link_id"),Xn(yn(a),"link")||a||p||l||i}function Bf(i,a){if(!i&&!a)throw new O("internal-error","Internal assert: no raw session string available");if(i&&a)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?Xu:qf}var Xu="enroll",qf="signin";Bf.prototype.Ha=function(){return this.a?Z(this.a):Z(this.b)},Bf.prototype.w=function(){return this.type==Xu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ys(){}Ys.prototype.ka=function(){},Ys.prototype.b=function(){},Ys.prototype.c=function(){},Ys.prototype.w=function(){};function Xs(i,a){return i.then(function(l){if(l[br]){var p=Ff(l[br]);if(!p||a!=p.i)throw new O("user-mismatch");return l}throw new O("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==Nn+"user-not-found"?new O("user-mismatch"):l})}function Vo(i,a){if(a)this.a=a;else throw new O("internal-error","failed to construct a credential");W(this,"providerId",i),W(this,"signInMethod",i)}Vo.prototype.ka=function(i){return qv(i,wv(this))},Vo.prototype.b=function(i,a){var l=wv(this);return l.idToken=a,zv(i,l)},Vo.prototype.c=function(i,a){return Xs(Hv(i,wv(this)),a)};function wv(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Vo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function iM(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Vo(i.providerId,i.pendingToken)}catch(a){}return null}function ri(i,a,l){if(this.a=null,a.idToken||a.accessToken)a.idToken&&W(this,"idToken",a.idToken),a.accessToken&&W(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&W(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)W(this,"accessToken",a.oauthToken),W(this,"secret",a.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");W(this,"providerId",i),W(this,"signInMethod",l)}ri.prototype.ka=function(i){return qv(i,bv(this))},ri.prototype.b=function(i,a){var l=bv(this);return l.idToken=a,zv(i,l)},ri.prototype.c=function(i,a){var l=bv(this);return Xs(Hv(i,l),a)};function bv(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:SE(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}ri.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function oM(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ri(i.providerId,a,i.signInMethod)}catch(l){}}return null}function Bo(i,a){this.Qc=a||[],Jt(this,{providerId:i,isOAuthProvider:!0}),this.Ib={},this.pb=(vv(i)||{}).Ja||null,this.ob=null}Bo.prototype.Ka=function(i){return this.Ib=Ei(i),this};function hT(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Bo.call(this,i,[])}D(hT,Bo);function Pn(i){Bo.call(this,i,Vf),this.a=[]}D(Pn,Bo),Pn.prototype.Ca=function(i){return ti(this.a,i)||this.a.push(i),this},Pn.prototype.Qb=function(){return Po(this.a)},Pn.prototype.credential=function(i,a){var l;if(_(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:a||null},!l.idToken&&!l.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new ri(this.providerId,l,this.providerId)};function qo(){Pn.call(this,"facebook.com")}D(qo,Pn),W(qo,"PROVIDER_ID","facebook.com"),W(qo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function pT(i){if(!i)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return _(i)&&(a=i.accessToken),new qo().credential({accessToken:a})}function zo(){Pn.call(this,"github.com")}D(zo,Pn),W(zo,"PROVIDER_ID","github.com"),W(zo,"GITHUB_SIGN_IN_METHOD","github.com");function dT(i){if(!i)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return _(i)&&(a=i.accessToken),new zo().credential({accessToken:a})}function Ho(){Pn.call(this,"google.com"),this.Ca("profile")}D(Ho,Pn),W(Ho,"PROVIDER_ID","google.com"),W(Ho,"GOOGLE_SIGN_IN_METHOD","google.com");function mT(i,a){var l=i;return _(i)&&(l=i.idToken,a=i.accessToken),new Ho().credential({idToken:l,accessToken:a})}function Qs(){Bo.call(this,"twitter.com",iT)}D(Qs,Bo),W(Qs,"PROVIDER_ID","twitter.com"),W(Qs,"TWITTER_SIGN_IN_METHOD","twitter.com");function vT(i,a){var l=i;if(_(l)||(l={oauthToken:i,oauthTokenSecret:a}),!l.oauthToken||!l.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ri("twitter.com",l,"twitter.com")}function Ni(i,a,l){this.a=i,this.f=a,W(this,"providerId","password"),W(this,"signInMethod",l===Qn.EMAIL_LINK_SIGN_IN_METHOD?Qn.EMAIL_LINK_SIGN_IN_METHOD:Qn.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ni.prototype.ka=function(i){return this.signInMethod==Qn.EMAIL_LINK_SIGN_IN_METHOD?le(i,HM,{email:this.a,oobCode:this.f}):le(i,HT,{email:this.a,password:this.f})},Ni.prototype.b=function(i,a){return this.signInMethod==Qn.EMAIL_LINK_SIGN_IN_METHOD?le(i,KM,{idToken:a,email:this.a,oobCode:this.f}):le(i,zT,{idToken:a,email:this.a,password:this.f})},Ni.prototype.c=function(i,a){return Xs(this.ka(i),a)},Ni.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function sM(i){return i&&i.email&&i.password?new Ni(i.email,i.password,i.signInMethod):null}function Qn(){Jt(this,{providerId:"password",isOAuthProvider:!1})}function yT(i,a){if(a=_v(a),!a)throw new O("argument-error","Invalid email link!");return new Ni(i,a.code,Qn.EMAIL_LINK_SIGN_IN_METHOD)}function _v(i){return i=fT(i),(i=YE(i))&&i.operation===Lf?i:null}Jt(Qn,{PROVIDER_ID:"password"}),Jt(Qn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jt(Qn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ki(i){if(!(i.eb&&i.cb||i.La&&i.ea))throw new O("internal-error");this.a=i,W(this,"providerId","phone"),this.fa="phone",W(this,"signInMethod","phone")}ki.prototype.ka=function(i){return i.fb(Qu(this))},ki.prototype.b=function(i,a){var l=Qu(this);return l.idToken=a,le(i,fj,l)},ki.prototype.c=function(i,a){var l=Qu(this);return l.operation="REAUTH",i=le(i,hj,l),Xs(i,a)},ki.prototype.w=function(){var i={providerId:"phone"};return this.a.eb&&(i.verificationId=this.a.eb),this.a.cb&&(i.verificationCode=this.a.cb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function aM(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return Ne(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(a[l]=i[l])}),new ki(a)}return null}function Qu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.eb,code:i.a.cb}}function ii(i){try{this.a=i||$.auth()}catch(a){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jt(this,{providerId:"phone",isOAuthProvider:!1})}ii.prototype.fb=function(i,a){var l=this.a.a;return Z(a.verify()).then(function(p){if(typeof p!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var m=_(i)?i.session:null,g=_(i)?i.phoneNumber:i,w;return m&&m.type==Xu?w=m.Ha().then(function(x){return LM(l,{idToken:x,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p}})}):m&&m.type==qf?w=m.Ha().then(function(x){return MM(l,{mfaPendingCredential:x,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=DM(l,{phoneNumber:g,recaptchaToken:p}),w.then(function(x){return typeof a.reset=="function"&&a.reset(),x},function(x){throw typeof a.reset=="function"&&a.reset(),x});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function gT(i,a){if(!i)throw new O("missing-verification-id");if(!a)throw new O("missing-verification-code");return new ki({eb:i,cb:a})}Jt(ii,{PROVIDER_ID:"phone"}),Jt(ii,{PHONE_SIGN_IN_METHOD:"phone"});function Ev(i){if(i.temporaryProof&&i.phoneNumber)return new ki({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var l=i&&i.oauthAccessToken,p=i&&i.oauthTokenSecret,m=i&&i.nonce,g=i&&i.oauthIdToken,w=i&&i.pendingToken;try{switch(a){case"google.com":return mT(g,l);case"facebook.com":return pT(l);case"github.com":return dT(l);case"twitter.com":return vT(l,p);default:return l||p||g||w?w?a.indexOf("saml.")==0?new Vo(a,w):new ri(a,{pendingToken:w,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Pn(a).credential({idToken:g,accessToken:l,rawNonce:m}):null}}catch(x){return null}}function Tv(i){if(!i.isOAuthProvider)throw new O("invalid-oauth-provider")}function gr(i,a,l,p,m,g,w){if(this.c=i,this.b=a||null,this.g=l||null,this.f=p||null,this.i=g||null,this.h=w||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}gr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},gr.prototype.T=function(){return this.h},gr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function wT(i){return i=i||{},i.type?new gr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Wt(i.error),i.postBody,i.tenantId):null}function uM(){this.b=null,this.a=[]}var Sv=null;function cM(i){var a=Sv;a.a.push(i),a.b||(a.b=function(l){for(var p=0;p<a.a.length;p++)a.a[p](l)},i=Me("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function Iv(i){var a="unauthorized-domain",l=void 0,p=yn(i);i=p.a,p=p.c,p=="chrome-extension"?l=B1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p=="http"||p=="https"?l=B1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",O.call(this,a,l)}D(Iv,O);function Ju(i,a,l){O.call(this,i,l),i=a||{},i.Jb&&W(this,"email",i.Jb),i.ea&&W(this,"phoneNumber",i.ea),i.credential&&W(this,"credential",i.credential),i.Zb&&W(this,"tenantId",i.Zb)}D(Ju,O),Ju.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&dn(i,a),i},Ju.prototype.toJSON=function(){return this.w()};function zf(i){if(i.code){var a=i.code||"";a.indexOf(Nn)==0&&(a=a.substring(Nn.length));var l={credential:Ev(i),Zb:i.tenantId};if(i.email)l.Jb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new O(a,i.message||void 0);return new Ju(a,l,i.message)}return null}function Zu(){}Zu.prototype.c=null;function bT(i){return i.c||(i.c=i.b())}var xv;function Hf(){}D(Hf,Zu),Hf.prototype.a=function(){var i=_T(this);return i?new ActiveXObject(i):new XMLHttpRequest},Hf.prototype.b=function(){var i={};return _T(this)&&(i[0]=!0,i[1]=!0),i};function _T(i){if(!i.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<a.length;l++){var p=a[l];try{return new ActiveXObject(p),i.f=p}catch(m){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}xv=new Hf;function Kf(){}D(Kf,Zu),Kf.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest!="undefined")return new ET;throw Error("Unsupported browser")},Kf.prototype.b=function(){return{}};function ET(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=P(this.qc,this),this.a.onerror=P(this.Sb,this),this.a.onprogress=P(this.rc,this),this.a.ontimeout=P(this.vc,this)}e=ET.prototype,e.open=function(i,a,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Nv(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Nv(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Nv(this,1)};function Nv(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function kv(i,a,l){this.reset(i,a,l,void 0,void 0)}kv.prototype.a=null;var lM=0;kv.prototype.reset=function(i,a,l,p,m){typeof m=="number"||lM++,p||q(),delete this.a};function Ov(i){this.f=i,this.b=this.c=this.a=null}function ec(i,a){this.name=i,this.value=a}ec.prototype.toString=function(){return this.name};var TT=new ec("SEVERE",1e3),Pv=new ec("WARNING",900),fM=new ec("CONFIG",700),hM=new ec("FINE",500);function ST(i){return i.c?i.c:i.a?ST(i.a):(Q("Root logger has no level set."),null)}Ov.prototype.log=function(i,a,l){if(i.value>=ST(this).value)for(I(a)&&(a=a()),i=new kv(i,String(a),this.f),l&&(i.a=l),l=this;l;)l=l.a};var Av={},Gf=null;function Cv(i){Gf||(Gf=new Ov(""),Av[""]=Gf,Gf.c=fM);var a;if(!(a=Av[i])){a=new Ov(i);var l=i.lastIndexOf("."),p=i.substr(l+1);l=Cv(i.substr(0,l)),l.b||(l.b={}),l.b[p]=a,a.a=l,Av[i]=a}return a}function Jn(i,a){i&&i.log(hM,a,void 0)}function Wf(i){this.f=i}D(Wf,Zu),Wf.prototype.a=function(){return new $f(this.f)},Wf.prototype.b=function(i){return function(){return i}}({});function $f(i){Qt.call(this),this.u=i,this.h=void 0,this.readyState=Rv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Cv("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D($f,Qt);var Rv=0;e=$f.prototype,e.open=function(i,a){if(this.readyState!=Rv)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,nc(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,tc(this)),this.readyState=Rv},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,nc(this)),this.a&&(this.readyState=3,nc(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof f.ReadableStream!="undefined"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,IT(this)):i.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function IT(i){i.c.read().then(i.pc.bind(i)).catch(i.Ua.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?tc(this):nc(this),this.readyState==3&&IT(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,tc(this))},e.sc=function(i){this.a&&(this.response=i,tc(this))},e.Ua=function(i){var a=this.i;a&&a.log(Pv,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&tc(this)};function tc(i){i.readyState=4,i.g=null,i.c=null,i.m=null,nc(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Pv,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Pv,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),l=a.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=a.next();return i.join(`\r
`)};function nc(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty($f.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function rc(i){Qt.call(this),this.headers=new zs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=xT,this.u=this.S=!1}D(rc,Qt);var xT="";rc.prototype.b=Cv("goog.net.XhrIo");var pM=/^https?$/i,dM=["POST","PUT"];function mM(i,a,l,p,m){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);l=l?l.toUpperCase():"GET",i.l=a,i.h="",i.R=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():xv.a(),i.C=i.D?bT(i.D):bT(xv),i.a.onreadystatechange=P(i.Vb,i);try{Jn(i.b,oi(i,"Opening Xhr")),i.O=!0,i.a.open(l,String(a),!0),i.O=!1}catch(w){Jn(i.b,oi(i,"Error opening Xhr: "+w.message)),NT(i,w);return}a=p||"";var g=new zs(i.headers);m&&b2(m,function(w,x){g.set(x,w)}),m=UL(g.Y()),p=f.FormData&&a instanceof f.FormData,!ti(dM,l)||m||p||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(w,x){this.a.setRequestHeader(x,w)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{PT(i),0<i.g&&(i.u=vM(i.a),Jn(i.b,oi(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=P(i.Ma,i)):i.s=Gm(i.Ma,i.g,i)),Jn(i.b,oi(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(w){Jn(i.b,oi(i,"Send error: "+w.message)),NT(i,w)}}function vM(i){return vr&&K1(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function yM(i){return i.toLowerCase()=="content-type"}e=rc.prototype,e.Ma=function(){typeof c!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Jn(this.b,oi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function NT(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,kT(i),Yf(i)}function kT(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Jn(this.b,oi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Yf(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Yf(this,!0)),rc.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?OT(this):this.Jc())},e.Jc=function(){OT(this)};function OT(i){if(i.c&&typeof c!="undefined"){if(i.C[1]&&ic(i)==4&&Xf(i)==2)Jn(i.b,oi(i,"Local request error detected and ignored"));else if(i.i&&ic(i)==4)Gm(i.Vb,0,i);else if(i.dispatchEvent("readystatechange"),ic(i)==4){Jn(i.b,oi(i,"Request complete")),i.c=!1;try{var a=Xf(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var p;if(!(p=l)){var m;if(m=a===0){var g=String(i.l).match(EE)[1]||null;if(!g&&f.self&&f.self.location){var w=f.self.location.protocol;g=w.substr(0,w.length-1)}m=!pM.test(g?g.toLowerCase():"")}p=m}if(p)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var x=2<ic(i)?i.a.statusText:""}catch(R){Jn(i.b,"Can not get status: "+R.message),x=""}i.h=x+" ["+Xf(i)+"]",kT(i)}}finally{Yf(i)}}}}function Yf(i,a){if(i.a){PT(i);var l=i.a,p=i.C[0]?v:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{l.onreadystatechange=p}catch(m){(i=i.b)&&i.log(TT,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function PT(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ic(i){return i.a?i.a.readyState:0}function Xf(i){try{return 2<ic(i)?i.a.status:-1}catch(a){return-1}}function gM(i){try{return i.a?i.a.responseText:""}catch(a){return Jn(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case xT:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(TT,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Jn(this.b,"Can not get response: "+a.message),null}};function oi(i,a){return a+" ["+i.R+" "+i.l+" "+Xf(i)+"]"}function Ko(i){var a=_M;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ko.prototype.cancel=function(i){if(this.a)this.c instanceof Ko&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new sc(this),Qf(this),oc(this,!1,i))}},Ko.prototype.m=function(i,a){this.i=!1,oc(this,i,a)};function oc(i,a,l){i.a=!0,i.c=l,i.f=!a,CT(i)}function Qf(i){if(i.a){if(!i.v)throw new Jf(i);i.v=!1}}function wM(i,a){Dv(i,null,a,void 0)}function Dv(i,a,l,p){i.g.push([a,l,p]),i.a&&CT(i)}Ko.prototype.then=function(i,a,l){var p,m,g=new ce(function(w,x){p=w,m=x});return Dv(this,p,function(w){w instanceof sc?g.cancel():m(w)}),g.then(i,a,l)},Ko.prototype.$goog_Thenable=!0;function AT(i){return jL(i.g,function(a){return I(a[1])})}function CT(i){if(i.h&&i.a&&AT(i)){var a=i.h,l=Zf[a];l&&(f.clearTimeout(l.a),delete Zf[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var p=l=!1;i.g.length&&!i.i;){var m=i.g.shift(),g=m[0],w=m[1];if(m=m[2],g=i.f?w:g)try{var x=g.call(m||i.s,a);x!==void 0&&(i.f=i.f&&(x==a||x instanceof Error),i.c=a=x),($t(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(p=!0,i.i=!0)}catch(R){a=R,i.f=!0,AT(i)||(l=!0)}}i.c=a,p&&(x=P(i.m,i,!0),p=P(i.m,i,!1),a instanceof Ko?(Dv(a,x,p),a.C=!0):a.then(x,p)),l&&(a=new RT(a),Zf[a.a]=a,i.h=a.a)}function Jf(){ie.call(this)}D(Jf,ie),Jf.prototype.message="Deferred has already fired",Jf.prototype.name="AlreadyCalledError";function sc(){ie.call(this)}D(sc,ie),sc.prototype.message="Deferred was canceled",sc.prototype.name="CanceledError";function RT(i){this.a=f.setTimeout(P(this.c,this),0),this.b=i}RT.prototype.c=function(){throw delete Zf[this.a],this.b};var Zf={};function Lv(i){var a={},l=a.document||document,p=R1(i).toString(),m=Sf(document,"SCRIPT"),g={Wb:m,Ma:void 0},w=new Ko(g),x=null,R=a.timeout!=null?a.timeout:5e3;return 0<R&&(x=window.setTimeout(function(){eh(m,!0);var U=new Mv(TM,"Timeout reached for loading script "+p);Qf(w),oc(w,!1,U)},R),g.Ma=x),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(eh(m,a.xd||!1,x),Qf(w),oc(w,!0,null))},m.onerror=function(){eh(m,!0,x);var U=new Mv(EM,"Error while loading script "+p);Qf(w),oc(w,!1,U)},g=a.attributes||{},dn(g,{type:"text/javascript",charset:"UTF-8"}),W1(m,g),JL(m,i),bM(l).appendChild(m),w}function bM(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function _M(){if(this&&this.Wb){var i=this.Wb;i&&i.tagName=="SCRIPT"&&eh(i,!0,this.Ma)}}function eh(i,a,l){l!=null&&f.clearTimeout(l),i.onload=v,i.onerror=v,i.onreadystatechange=v,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var EM=0,TM=1;function Mv(i,a){var l="Jsloader error (code #"+i+")";a&&(l+=": "+a),ie.call(this,l),this.code=i}D(Mv,ie);function th(i){this.f=i}D(th,Zu),th.prototype.a=function(){return new this.f},th.prototype.b=function(){return{}};function wr(i,a,l){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||SM,this.g=Ei(i.secureTokenHeaders||IM),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||xM,this.a=Ei(i.firebaseHeaders||NM),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=Rr()=="Node",l=f.XMLHttpRequest||l&&$.INTERNAL.node&&$.INTERNAL.node.XMLHttpRequest,!l&&!yr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new Wf(self):DE()?this.f=new th(l):this.f=new Kf,this.b=null}var jv,br="idToken",SM=new xi(3e4,6e4),IM={"Content-Type":"application/x-www-form-urlencoded"},xM=new xi(3e4,6e4),NM={"Content-Type":"application/json"};function DT(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Js(i,a){a&&(i.l=Uv("https://securetoken.googleapis.com/v1/token",a),i.h=Uv("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Uv("https://identitytoolkit.googleapis.com/v2/",a))}function Uv(i,a){return i=yn(i),a=yn(a.url),i.f=i.a+i.f,Fu(i,a.c),i.a=a.a,Vu(i,a.g),i.toString()}function LT(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}wr.prototype.T=function(){return this.b};function MT(i,a,l,p,m,g,w){P2()||yr()?i=P(i.u,i):(jv||(jv=new ce(function(x,R){OM(x,R)})),i=P(i.s,i)),i(a,l,p,m,g,w)}wr.prototype.u=function(i,a,l,p,m,g){if(yr()&&(typeof f.fetch=="undefined"||typeof f.Headers=="undefined"||typeof f.Request=="undefined"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new rc(this.f);if(g){w.g=Math.max(0,g);var x=setTimeout(function(){w.dispatchEvent("timeout")},g)}wE(w,"complete",function(){x&&clearTimeout(x);var R=null;try{R=JSON.parse(gM(this))||null}catch(U){R=null}a&&a(R)}),Km(w,"ready",function(){x&&clearTimeout(x),fE(this)}),Km(w,"timeout",function(){x&&clearTimeout(x),fE(this),a&&a(null)}),mM(w,i,l,p,m)};var kM=new Ar(bf,"https://apis.google.com/js/client.js?onload=%{onload}"),jT="__fcb"+Math.floor(1e6*Math.random()).toString();function OM(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[jT]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var l=xm(kM,{onload:jT});wM(Lv(l),function(){a(Error("CORS_UNSUPPORTED"))})}}wr.prototype.s=function(i,a,l,p,m){var g=this;jv.then(function(){window.gapi.client.setApiKey(g.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:p,headers:m,authType:"none",callback:function(x){window.gapi.auth.setToken(w),a&&a(x)}})}).o(function(w){a&&a({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function PM(i,a){return new ce(function(l,p){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?MT(i,i.l+"?key="+encodeURIComponent(i.c),function(m){m?m.error?p(Gv(m)):m.access_token&&m.refresh_token?l(m):p(new O("internal-error")):p(new O("network-request-failed"))},"POST",SE(a).toString(),i.g,i.m.get()):p(new O("internal-error"))})}function UT(i,a,l,p,m,g,w){var x=yn(a+l);Ge(x,"key",i.c),w&&Ge(x,"cb",Date.now().toString());var R=p=="GET";if(R)for(var U in m)m.hasOwnProperty(U)&&Ge(x,U,m[U]);return new ce(function(ne,Se){MT(i,x.toString(),function(ge){ge?ge.error?Se(Gv(ge,g||{})):ne(ge):Se(new O("network-request-failed"))},p,R?void 0:NE(jE(m)),i.a,i.v.get())})}function Go(i){if(i=i.email,typeof i!="string"||!R2.test(i))throw new O("invalid-email")}function FT(i){"email"in i&&Go(i)}function AM(i,a){return le(i,BM,{identifier:a,continueUri:Df()?zu():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function CM(i){return le(i,ZM,{}).then(function(a){return a.authorizedDomains||[]})}function gn(i){if(!i[br])throw i.mfaPendingCredential?new O("multi-factor-auth-required",null,Ei(i)):new O("internal-error")}function Fv(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new O("internal-error")}else{if(!i.sessionInfo)throw new O("missing-verification-id");if(!i.code)throw new O("missing-verification-code")}}wr.prototype.zb=function(){return le(this,rj,{})},wr.prototype.Bb=function(i,a){return le(this,qT,{idToken:i,email:a})},wr.prototype.Cb=function(i,a){return le(this,zT,{idToken:i,password:a})};var RM={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=wr.prototype,e.Db=function(i,a){var l={idToken:i},p=[];return k1(RM,function(m,g){var w=a[g];w===null?p.push(m):g in a&&(l[g]=w)}),p.length&&(l.deleteAttribute=p),le(this,qT,l)},e.vb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},dn(i,a),le(this,JM,i)},e.wb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},dn(i,a),le(this,YM,i)},e.ub=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},dn(i,a),le(this,XM,i)},e.Eb=function(i,a,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},dn(i,l),le(this,QM,i)};function DM(i,a){return le(i,nj,a)}e.fb=function(i){return le(this,lj,i)};function LM(i,a){return le(i,ij,a).then(function(l){return l.phoneSessionInfo.sessionInfo})}function VT(i){if(!i.phoneVerificationInfo)throw new O("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new O("missing-verification-code")}function MM(i,a){return le(i,oj,a).then(function(l){return l.phoneResponseInfo.sessionInfo})}function jM(i,a,l){return le(i,zM,{idToken:a,deleteProvider:l})}function Vv(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new O("internal-error")}function Bv(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Mo(i.postBody),Ym(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function BT(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=zf(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=zf(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=zf(i)):i.errorMessage&&(a=KT(i.errorMessage)),a)throw a;gn(i)}function qv(i,a){return a.returnIdpCredential=!0,le(i,sj,a)}function zv(i,a){return a.returnIdpCredential=!0,le(i,uj,a)}function Hv(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,le(i,aj,a)}function Kv(i){if(!i.oobCode)throw new O("invalid-action-code")}e.nb=function(i,a){return le(this,tj,{oobCode:i,newPassword:a})},e.Ra=function(i){return le(this,FM,{oobCode:i})},e.jb=function(i){return le(this,UM,{oobCode:i})};var UM={endpoint:"setAccountInfo",A:Kv,Z:"email",B:!0},FM={endpoint:"resetPassword",A:Kv,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},VM={endpoint:"signupNewUser",A:function(i){if(Go(i),!i.password)throw new O("weak-password")},G:gn,V:!0,B:!0},BM={endpoint:"createAuthUri",B:!0},qM={endpoint:"deleteAccount",N:["idToken"]},zM={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new O("internal-error")}},HM={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Go,G:gn,V:!0,B:!0},KM={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Go,G:gn,V:!0},GM={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:VT,G:gn,B:!0,Na:!0},WM={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:VT,G:gn,B:!0,Na:!0},$M={endpoint:"getAccountInfo"},YM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Go(i)},Z:"email",B:!0},XM={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},QM={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},JM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new O("internal-error");Go(i)},Z:"email",B:!0},ZM={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},ej={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new O("internal-error")}},tj={endpoint:"resetPassword",A:Kv,Z:"email",B:!0},nj={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qT={endpoint:"setAccountInfo",N:["idToken"],A:FT,V:!0},zT={endpoint:"setAccountInfo",N:["idToken"],A:function(i){if(FT(i),!i.password)throw new O("weak-password")},G:gn,V:!0},rj={endpoint:"signupNewUser",G:gn,V:!0,B:!0},ij={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new O("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},oj={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},sj={endpoint:"verifyAssertion",A:Vv,Ya:Bv,G:BT,V:!0,B:!0},aj={endpoint:"verifyAssertion",A:Vv,Ya:Bv,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(i.errorMessage)throw KT(i.errorMessage);gn(i)},V:!0,B:!0},uj={endpoint:"verifyAssertion",A:function(i){if(Vv(i),!i.idToken)throw new O("internal-error")},Ya:Bv,G:BT,V:!0},cj={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new O("invalid-custom-token")},G:gn,V:!0,B:!0},HT={endpoint:"verifyPassword",A:function(i){if(Go(i),!i.password)throw new O("wrong-password")},G:gn,V:!0,B:!0},lj={endpoint:"verifyPhoneNumber",A:Fv,G:gn,B:!0},fj={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new O("internal-error");Fv(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",zf(i);gn(i)}},hj={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Fv,G:gn,B:!0},pj={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[br]^!!i.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function le(i,a,l){if(!V2(l,a.N))return Le(new O("internal-error"));var p=!!a.Na,m=a.Ub||"POST",g;return Z(l).then(a.A).then(function(){return a.V&&(l.returnSecureToken=!0),a.B&&i.b&&typeof l.tenantId=="undefined"&&(l.tenantId=i.b),p?UT(i,i.i,a.endpoint,m,l,a.Hb,a.lb||!1):UT(i,i.h,a.endpoint,m,l,a.Hb,a.lb||!1)}).then(function(w){return g=w,a.Ya?a.Ya(l,g):g}).then(a.G).then(function(){if(!a.Z)return g;if(!(a.Z in g))throw new O("internal-error");return g[a.Z]})}function KT(i){return Gv({error:{errors:[{message:i}],code:400,message:i}})}function Gv(i,a){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=p[l]?new O(p[l]):null)return l;l=i.error&&i.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},dn(p,a||{}),a=(a=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var m in p)if(l.indexOf(m)===0)return new O(p[m],a);return!a&&i&&(a=Ku(i)),new O("internal-error",a)}function dj(i){this.b=i,this.a=null,this.rb=mj(this)}function mj(i){return _j().then(function(){return new ce(function(a,l){Me("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(g),a()}i.a=p,i.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){l(Error("Network Error"))},bj.get());p.ping(m).then(m,function(){l(Error("Network Error"))})})})})}function vj(i,a){return i.rb.then(function(){return new ce(function(l){i.a.send(a.type,a,l,Me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function yj(i,a){i.rb.then(function(){i.a.register("authEvent",a,Me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var gj=new Ar(bf,"https://apis.google.com/js/api.js?onload=%{onload}"),wj=new xi(3e4,6e4),bj=new xi(5e3,15e3),nh=null;function _j(){return nh||(nh=new ce(function(i,a){function l(){FE(),Me("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){FE(),a(Error("Network Error"))},timeout:wj.get()})}if(Me("gapi.iframes.Iframe"))i();else if(Me("gapi.load"))l();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[p]=function(){Me("gapi.load")?l():a(Error("Network Error"))},p=xm(gj,{onload:p}),Z(Lv(p)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw nh=null,i}))}function GT(i,a,l,p){this.l=i,this.h=a,this.i=l,this.g=p,this.f=null,this.g?(i=yn(this.g.url),i=Cf(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Cf("https",this.l,null,"/__/auth/iframe"),this.a=i,Ge(this.a,"apiKey",this.h),Ge(this.a,"appName",this.i),this.b=null,this.c=[]}GT.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):Cr(this.a.b,"v"),this.b?Ge(this.a,"eid",this.b):Cr(this.a.b,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):Cr(this.a.b,"fw"),this.a.toString()};function Wv(i,a,l,p,m,g){this.u=i,this.s=a,this.c=l,this.m=p,this.v=g,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}Wv.prototype.yb=function(i){return this.h=i,this},Wv.prototype.toString=function(){if(this.v){var i=yn(this.v.url);i=Cf(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Cf("https",this.u,null,"/__/auth/handler");if(Ge(i,"apiKey",this.s),Ge(i,"appName",this.c),Ge(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var l=$.app(this.c).auth().la()}catch(x){l=null}a.ob=l,Ge(i,"providerId",this.a.providerId),l=this.a,a=jE(l.Ib);for(var p in a)a[p]=a[p].toString();p=l.Qc,a=Ei(a);for(var m=0;m<p.length;m++){var g=p[m];g in a&&delete a[g]}l.pb&&l.ob&&!a[l.pb]&&(a[l.pb]=l.ob),Ao(a)||Ge(i,"customParameters",Ku(a))}if(typeof this.a.Qb=="function"&&(l=this.a.Qb(),l.length&&Ge(i,"scopes",l.join(","))),this.l?Ge(i,"redirectUrl",this.l):Cr(i.b,"redirectUrl"),this.g?Ge(i,"eventId",this.g):Cr(i.b,"eventId"),this.i?Ge(i,"v",this.i):Cr(i.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Xn(i,w)&&Ge(i,w,this.b[w]);return this.h?Ge(i,"tid",this.h):Cr(i.b,"tid"),this.f?Ge(i,"eid",this.f):Cr(i.b,"eid"),w=$v(this.c),w.length&&Ge(i,"fw",w.join(",")),i.toString()};function $v(i){try{return $.app(i).auth().Ga()}catch(a){return[]}}function WT(i,a,l,p,m,g){this.s=i,this.g=a,this.b=l,this.f=g,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function $T(i){var a=zu();return CM(i).then(function(l){e:{var p=yn(a),m=p.c;p=p.a;for(var g=0;g<l.length;g++){var w=l[g],x=p,R=m;if(w.indexOf("chrome-extension://")==0?x=yn(w).a==x&&R=="chrome-extension":R!="http"&&R!="https"?x=!1:C2.test(w)?x=x==w:(w=w.split(".").join("\\."),x=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(x)),x){l=!0;break e}}l=!1}if(!l)throw new Iv(zu())})}function YT(i){return i.m||(i.m=Rf().then(function(){if(!i.u){var a=i.c,l=i.i,p=$v(i.b),m=new GT(i.s,i.g,i.b,i.f);m.f=a,m.b=l,m.c=Po(p||[]),i.u=m.toString()}i.v=new dj(i.u),Ej(i)})),i.m}e=WT.prototype,e.Ob=function(i,a,l){var p=new O("popup-closed-by-user"),m=new O("web-storage-unsupported"),g=this,w=!1;return this.ma().then(function(){Tj(g).then(function(x){x||(i&&jo(i),a(m),w=!0)})}).o(function(){}).then(function(){if(!w)return A2(i)}).then(function(){if(!w)return qs(l).then(function(){a(p)})})},e.Xb=function(){var i=Et();return!Hu(i)&&!UE(i)},e.Tb=function(){return!1},e.Mb=function(i,a,l,p,m,g,w,x){if(!i)return Le(new O("popup-blocked"));if(w&&!Hu())return this.ma().o(function(U){jo(i),m(U)}),p(),Z();this.a||(this.a=$T(XT(this)));var R=this;return this.a.then(function(){var U=R.ma().o(function(ne){throw jo(i),m(ne),ne});return p(),U}).then(function(){if(Tv(l),!w){var U=ac(R.s,R.g,R.b,a,l,null,g,R.c,void 0,R.i,x,R.f);PE(U,i)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(R.a=null),U})};function XT(i){return i.l||(i.C=i.c?Gs(i.c,$v(i.b)):null,i.l=new wr(i.g,Wn(i.i),i.C),i.f&&Js(i.l,i.f)),i.l}e.Nb=function(i,a,l,p){this.a||(this.a=$T(XT(this)));var m=this;return this.a.then(function(){Tv(a);var g=ac(m.s,m.g,m.b,i,a,zu(),l,m.c,void 0,m.i,p,m.f);PE(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(m.a=null),g})},e.ma=function(){var i=this;return YT(this).then(function(){return i.v.rb}).o(function(){throw i.a=null,new O("network-request-failed")})},e.$b=function(){return!0};function ac(i,a,l,p,m,g,w,x,R,U,ne,Se){return i=new Wv(i,a,l,p,m,Se),i.l=g,i.g=w,i.i=x,i.b=Ei(R||null),i.f=U,i.yb(ne).toString()}function Ej(i){if(!i.v)throw Error("IfcHandler must be initialized!");yj(i.v,function(a){var l={};if(a&&a.authEvent){var p=!1;for(a=wT(a.authEvent),l=0;l<i.h.length;l++)p=i.h[l](a)||p;return l={},l.status=p?"ACK":"ERROR",Z(l)}return l.status="ERROR",Z(l)})}function Tj(i){var a={type:"webStorageSupport"};return YT(i).then(function(){return vj(i.v,a)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport!="undefined")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Sa=function(i){mr(this.h,function(a){return a==i})};function QT(i){if(this.a=i||$.INTERNAL.reactNative&&$.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=QT.prototype,e.get=function(i){return Z(this.a.getItem(i)).then(function(a){return a&&$s(a)})},e.set=function(i,a){return Z(this.a.setItem(i,Ku(a)))},e.U=function(i){return Z(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function JT(i){this.b=i,this.a={},this.f=P(this.c,this)}var ZT=[];function Sj(){var i=yr()?self:null;if(Ne(ZT,function(l){l.b==i&&(a=l)}),!a){var a=new JT(i);ZT.push(a)}return a}JT.prototype.c=function(i){var a=i.data.eventType,l=i.data.eventId,p=this.a[a];if(p&&0<p.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:a,response:null});var m=[];Ne(p,function(g){m.push(Z().then(function(){return g(i.origin,i.data.data)}))}),tE(m).then(function(g){var w=[];Ne(g,function(x){w.push({fulfilled:x.Pb,value:x.value,reason:x.reason?x.reason.message:void 0})}),Ne(w,function(x){for(var R in x)typeof x[R]=="undefined"&&delete x[R]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:a,response:w})})}};function eS(i,a,l){Ao(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]=="undefined"&&(i.a[a]=[]),i.a[a].push(l)}function tS(i){this.a=i}tS.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function nS(i){this.c=i,this.b=!1,this.a=[]}function rS(i,a,l,p){var m,g=l||{},w,x,R,U=null;if(i.b)return Le(Error("connection_unavailable"));var ne=p?800:50,Se=typeof MessageChannel!="undefined"?new MessageChannel:null;return new ce(function(ge,yt){Se?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),Se.port1.start(),x=setTimeout(function(){yt(Error("unsupported_event"))},ne),w=function(si){si.data.eventId===m&&(si.data.status==="ack"?(clearTimeout(x),R=setTimeout(function(){yt(Error("timeout"))},3e3)):si.data.status==="done"?(clearTimeout(R),typeof si.data.response!="undefined"?ge(si.data.response):yt(Error("unknown_error"))):(clearTimeout(x),clearTimeout(R),yt(Error("invalid_response"))))},U={messageChannel:Se,onMessage:w},i.a.push(U),Se.port1.addEventListener("message",w),i.c.postMessage({eventType:a,eventId:m,data:g},[Se.port2])):yt(Error("connection_unavailable"))}).then(function(ge){return Yv(i,U),ge}).o(function(ge){throw Yv(i,U),ge})}function Yv(i,a){if(a){var l=a.messageChannel,p=a.onMessage;l&&(l.port1.removeEventListener("message",p),l.port1.close()),mr(i.a,function(m){return m==a})}}nS.prototype.close=function(){for(;0<this.a.length;)Yv(this,this.a[0]);this.b=!0};function iS(){if(!Jv())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;yr()&&self?(this.v=Sj(),eS(this.v,"keyChanged",function(a,l){return aS(i).then(function(p){return 0<p.length&&Ne(i.a,function(m){m(p)}),{keyProcessed:ti(p,l.key)}})}),eS(this.v,"ping",function(){return Z(["keyChanged"])})):U2().then(function(a){(i.h=a)&&(i.g=new nS(new tS(a)),rS(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&ti(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Xv;function Ij(i){return new ce(function(a,l){var p=i.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){a()},p.onerror=function(m){l(Error(m.target.error))}})}function oS(i){return new ce(function(a,l){var p=i.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch(g){}l(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){l(g)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?a(m):Ij(i).then(function(){return oS(i)}).then(function(g){a(g)}).o(function(g){l(g)})}})}function Qv(i){return i.i||(i.i=oS(i)),i.i}function rh(i,a){function l(m,g){Qv(i).then(a).then(m).o(function(w){if(3<++p)g(w);else return Qv(i).then(function(x){return x.close(),i.i=void 0,l(m,g)}).o(function(x){g(x)})})}var p=0;return new ce(l)}function Jv(){try{return!!f.indexedDB}catch(i){return!1}}function uc(i){return i.objectStore("firebaseLocalStorage")}function cc(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Zs(i){return new ce(function(a,l){i.onsuccess=function(p){p&&p.target?a(p.target.result):a()},i.onerror=function(p){l(p.target.error)}})}e=iS.prototype,e.set=function(i,a){var l=this,p=!1;return rh(this,function(m){return m=uc(cc(m,!0)),Zs(m.get(i))}).then(function(m){return rh(l,function(g){if(g=uc(cc(g,!0)),m)return m.value=a,Zs(g.put(m));l.b++,p=!0;var w={};return w.fbase_key=i,w.value=a,Zs(g.add(w))})}).then(function(){return l.c[i]=a,sS(l,i)}).oa(function(){p&&l.b--})};function sS(i,a){return i.g&&i.h&&j2()===i.h?rS(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Z()}e.get=function(i){return rh(this,function(a){return Zs(uc(cc(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,l=!1;return rh(this,function(p){return l=!0,a.b++,Zs(uc(cc(p,!0)).delete(i))}).then(function(){return delete a.c[i],sS(a,i)}).oa(function(){l&&a.b--})};function aS(i){return Qv(i).then(function(a){var l=uc(cc(a,!1));return l.getAll?Zs(l.getAll()):new ce(function(p,m){var g=[],w=l.openCursor();w.onsuccess=function(x){(x=x.target.result)?(g.push(x.value),x.continue()):p(g)},w.onerror=function(x){m(x.target.error)}})}).then(function(a){var l={},p=[];if(i.b==0){for(p=0;p<a.length;p++)l[a[p].fbase_key]=a[p].value;p=AE(i.c,l),i.c=l}return p})}e.ca=function(i){this.a.length==0&&xj(this),this.a.push(i)},e.ia=function(i){mr(this.a,function(a){return a==i}),this.a.length==0&&uS(this)};function xj(i){function a(){i.f=setTimeout(function(){i.l=aS(i).then(function(l){0<l.length&&Ne(i.a,function(p){p(l)})}).then(function(){a()}).o(function(l){l.message!="STOP_EVENT"&&a()})},800)}uS(i),a()}function uS(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function cS(i){var a=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Z().then(function(){if(Jv()){var p=Fo(),m="__sak"+p;return Xv||(Xv=new iS),l=Xv,l.set(m,p).then(function(){return l.get(m)}).then(function(g){if(g!==p)throw Error("indexedDB not supported!");return l.U(m)}).then(function(){return l}).o(function(){return a.c})}return a.c}).then(function(p){return a.type=p.type,p.ca(function(m){Ne(a.a,function(g){g(m)})}),p})}e=cS.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(l){return l.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){mr(this.a,function(a){return a==i})};function lc(){this.a={},this.type="inMemory"}e=lc.prototype,e.get=function(i){return Z(this.a[i])},e.set=function(i,a){return this.a[i]=a,Z()},e.U=function(i){return delete this.a[i],Z()},e.ca=function(){},e.ia=function(){};function ih(){if(!Nj())throw Rr()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=lS()||$.INTERNAL.node.localStorage,this.type="localStorage"}function lS(){try{var i=f.localStorage,a=Fo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch(l){return null}}function Nj(){var i=Rr()=="Node";if(i=lS()||i&&$.INTERNAL.node&&$.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(a){return!1}}e=ih.prototype,e.get=function(i){var a=this;return Z().then(function(){var l=a.a.getItem(i);return $s(l)})},e.set=function(i,a){var l=this;return Z().then(function(){var p=Ku(a);p===null?l.U(i):l.a.setItem(i,p)})},e.U=function(i){var a=this;return Z().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&Yn(f.window,"storage",i)},e.ia=function(i){f.window&&On(f.window,"storage",i)};function Zv(){this.type="nullStorage"}e=Zv.prototype,e.get=function(){return Z(null)},e.set=function(){return Z()},e.U=function(){return Z()},e.ca=function(){},e.ia=function(){};function ey(){if(!kj())throw Rr()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=fS()||$.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function fS(){try{var i=f.sessionStorage,a=Fo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch(l){return null}}function kj(){var i=Rr()=="Node";if(i=fS()||i&&$.INTERNAL.node&&$.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(a){return!1}}e=ey.prototype,e.get=function(i){var a=this;return Z().then(function(){var l=a.a.getItem(i);return $s(l)})},e.set=function(i,a){var l=this;return Z().then(function(){var p=Ku(a);p===null?l.U(i):l.a.setItem(i,p)})},e.U=function(i){var a=this;return Z().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function Oj(){var i={};i.Browser=Pj,i.Node=Aj,i.ReactNative=Cj,i.Worker=Rj,this.a=i[Rr()]}var ty,Pj={F:ih,bb:ey},Aj={F:ih,bb:ey},Cj={F:QT,bb:Zv},Rj={F:ih,bb:Zv},ea={rd:"local",NONE:"none",td:"session"};function Dj(i){var a=new O("invalid-persistence-type"),l=new O("unsupported-persistence-type");e:{for(p in ea)if(ea[p]==i){var p=!0;break e}p=!1}if(!p||typeof i!="string")throw a;switch(Rr()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!Jv()&&i!=="none")throw l;break;default:if(!tv()&&i!=="none")throw l}}function hS(){var i=!!(!UE(Et())&&Zm()),a=Hu(),l=tv();this.m=i,this.h=a,this.l=l,this.a={},ty||(ty=new Oj),i=ty;try{this.g=!Qm()&&VE()||!f.indexedDB?new i.a.F:new cS(yr()?new lc:new i.a.F)}catch(p){this.g=new lc,this.h=!0}try{this.i=new i.a.bb}catch(p){this.i=new lc}this.v=new lc,this.f=P(this.Yb,this),this.b={}}var ny;function fc(){return ny||(ny=new hS),ny}function Wo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function ta(i,a){return"firebase:"+i.name+(a?":"+a:"")}function Lj(i,a,l){var p=ta(a,l),m=Wo(i,a.F);return i.get(a,l).then(function(g){var w=null;try{w=$s(f.localStorage.getItem(p))}catch(x){}if(w&&!g)return f.localStorage.removeItem(p),i.set(a,w,l);w&&g&&m.type!="localStorage"&&f.localStorage.removeItem(p)})}e=hS.prototype,e.get=function(i,a){return Wo(this,i.F).get(ta(i,a))};function na(i,a,l){return l=ta(a,l),a.F=="local"&&(i.b[l]=null),Wo(i,a.F).U(l)}e.set=function(i,a,l){var p=ta(i,l),m=this,g=Wo(this,i.F);return g.set(p,a).then(function(){return g.get(p)}).then(function(w){i.F=="local"&&(m.b[p]=w)})},e.addListener=function(i,a,l){i=ta(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Ao(this.a)&&(Wo(this,"local").ca(this.f),this.h||(Qm()||!VE())&&f.indexedDB||!this.l||Mj(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,a,l){i=ta(i,a),this.a[i]&&(mr(this.a[i],function(p){return p==l}),this.a[i].length==0&&delete this.a[i]),Ao(this.a)&&(Wo(this,"local").ia(this.f),ry(this))};function Mj(i){ry(i),i.c=setInterval(function(){for(var a in i.a){var l=f.localStorage.getItem(a),p=i.b[a];l!=p&&(i.b[a]=l,l=new Do({type:"storage",key:a,target:window,oldValue:p,newValue:l,a:!0}),i.Yb(l))}},1e3)}function ry(i){i.c&&(clearInterval(i.c),i.c=null)}e.Yb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var l in this.a){var p=this.b[l];typeof p=="undefined"&&(p=null);var m=f.localStorage.getItem(l);m!==p&&(this.b[l]=m,this.mb(l))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a!="undefined"?Wo(this,"local").ia(this.f):ry(this),this.m){if(l=f.localStorage.getItem(a),p=i.a.newValue,p!==l)p!==null?f.localStorage.setItem(a,p):f.localStorage.removeItem(a);else if(this.b[a]===p&&typeof i.a.a=="undefined")return}var g=this;l=function(){(typeof i.a.a!="undefined"||g.b[a]!==f.localStorage.getItem(a))&&(g.b[a]=f.localStorage.getItem(a),g.mb(a))},vr&&Ti&&Ti==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else Ne(i,P(this.mb,this))},e.mb=function(i){this.a[i]&&Ne(this.a[i],function(a){a()})};function jj(i){this.a=i,this.b=fc()}var iy={name:"authEvent",F:"local"};function Uj(i){return i.b.get(iy,i.a).then(function(a){return wT(a)})}function Fj(){this.a=fc()}function Vj(){this.b=-1}function oh(i,a){this.b=pS,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),sh===void 0&&(f.Int32Array?sh=new Int32Array(vS):sh=vS),this.reset()}var sh;D(oh,Vj);for(var pS=64,Bj=pS-1,dS=[],oy=0;oy<Bj;oy++)dS[oy]=0;var mS=Tm(128,dS);oh.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):Po(this.h)};function sy(i){for(var a=i.f,l=i.l,p=0,m=0;m<a.length;)l[p++]=a[m]<<24|a[m+1]<<16|a[m+2]<<8|a[m+3],m=4*p;for(a=16;64>a;a++){m=l[a-15]|0,p=l[a-2]|0;var g=(l[a-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,w=(l[a-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;l[a]=g+w|0}p=i.a[0]|0,m=i.a[1]|0;var x=i.a[2]|0,R=i.a[3]|0,U=i.a[4]|0,ne=i.a[5]|0,Se=i.a[6]|0;for(g=i.a[7]|0,a=0;64>a;a++){var ge=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&x^m&x)|0;w=U&ne^~U&Se,g=g+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,w=w+(sh[a]|0)|0,w=g+(w+(l[a]|0)|0)|0,g=Se,Se=ne,ne=U,U=R+w|0,R=x,x=m,m=p,p=w+ge|0}i.a[0]=i.a[0]+p|0,i.a[1]=i.a[1]+m|0,i.a[2]=i.a[2]+x|0,i.a[3]=i.a[3]+R|0,i.a[4]=i.a[4]+U|0,i.a[5]=i.a[5]+ne|0,i.a[6]=i.a[6]+Se|0,i.a[7]=i.a[7]+g|0}function ay(i,a,l){l===void 0&&(l=a.length);var p=0,m=i.c;if(typeof a=="string")for(;p<l;)i.f[m++]=a.charCodeAt(p++),m==i.b&&(sy(i),m=0);else if(S(a))for(;p<l;){var g=a[p++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");i.f[m++]=g,m==i.b&&(sy(i),m=0)}else throw Error("message must be string or array");i.c=m,i.g+=l}var vS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yS(){oh.call(this,8,qj)}D(yS,oh);var qj=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function gS(i,a,l,p,m,g){this.v=i,this.i=a,this.l=l,this.m=p||null,this.u=m||null,this.s=g,this.h=a+":"+l,this.C=new Fj,this.g=new jj(this.h),this.f=null,this.b=[],this.a=this.c=null}function ah(i){return new O("invalid-cordova-configuration",i)}e=gS.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=D2().then(function(){if(typeof Me("universalLinks.subscribe",f)!="function")throw ah("cordova-universal-links-plugin-fix is not installed");if(typeof Me("BuildInfo.packageName",f)=="undefined")throw ah("cordova-plugin-buildinfo is not installed");if(typeof Me("cordova.plugins.browsertab.openUrl",f)!="function")throw ah("cordova-plugin-browsertab is not installed");if(typeof Me("cordova.InAppBrowser.open",f)!="function")throw ah("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function zj(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function Hj(i){var a=new yS;ay(a,i),i=[];var l=8*a.g;56>a.c?ay(a,mS,56-a.c):ay(a,mS,a.b-(a.c-56));for(var p=63;56<=p;p--)a.f[p]=l&255,l/=256;for(sy(a),p=l=0;p<a.i;p++)for(var m=24;0<=m;m-=8)i[l++]=a.a[p]>>m&255;return eM(i)}e.Ob=function(i,a){return a(new O("operation-not-supported-in-this-environment")),Z()},e.Mb=function(){return Le(new O("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(i,a,l,p){if(this.c)return Le(new O("redirect-operation-pending"));var m=this,g=f.document,w=null,x=null,R=null,U=null;return this.c=Z().then(function(){return Tv(a),bS(m)}).then(function(){return Kj(m,i,a,l,p)}).then(function(){return new ce(function(ne,Se){x=function(){var ge=Me("cordova.plugins.browsertab.close",f);return ne(),typeof ge=="function"&&ge(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(x),R=function(){w||(w=qs(2e3).then(function(){Se(new O("redirect-cancelled-by-user"))}))},U=function(){nv()&&R()},g.addEventListener("resume",R,!1),Et().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",U,!1)}).o(function(ne){return uy(m).then(function(){throw ne})})}).oa(function(){R&&g.removeEventListener("resume",R,!1),U&&g.removeEventListener("visibilitychange",U,!1),w&&w.cancel(),x&&m.Sa(x),m.c=null})};function Kj(i,a,l,p,m){var g=zj(),w=new gr(a,p,null,g,new O("no-auth-event"),null,m),x=Me("BuildInfo.packageName",f);if(typeof x!="string")throw new O("invalid-cordova-configuration");var R=Me("BuildInfo.displayName",f),U={};if(Et().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=x;else if(Et().toLowerCase().match(/android/))U.apn=x;else return Le(new O("operation-not-supported-in-this-environment"));R&&(U.appDisplayName=R),g=Hj(g),U.sessionId=g;var ne=ac(i.v,i.i,i.l,a,l,null,p,i.m,U,i.u,m,i.s);return i.ma().then(function(){var Se=i.h;return i.C.a.set(iy,w.w(),Se)}).then(function(){var Se=Me("cordova.plugins.browsertab.isAvailable",f);if(typeof Se!="function")throw new O("invalid-cordova-configuration");var ge=null;Se(function(yt){if(yt){if(ge=Me("cordova.plugins.browsertab.openUrl",f),typeof ge!="function")throw new O("invalid-cordova-configuration");ge(ne)}else{if(ge=Me("cordova.InAppBrowser.open",f),typeof ge!="function")throw new O("invalid-cordova-configuration");yt=Et(),i.a=ge(ne,yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function wS(i,a){for(var l=0;l<i.b.length;l++)try{i.b[l](a)}catch(p){}}function bS(i){return i.f||(i.f=i.ma().then(function(){return new ce(function(a){function l(p){return a(p),i.Sa(l),!1}i.Ea(l),Gj(i)})})),i.f}function uy(i){var a=null;return Uj(i.g).then(function(l){return a=l,l=i.g,na(l.b,iy,l.a)}).then(function(){return a})}function Gj(i){function a(w){p=!0,m&&m.cancel(),uy(i).then(function(x){var R=l;if(x&&w&&w.url){var U=null;R=fT(w.url),R.indexOf("/__/auth/callback")!=-1&&(U=yn(R),U=$s(Xn(U,"firebaseError")||null),U=(U=typeof U=="object"?Wt(U):null)?new gr(x.c,x.b,null,null,U,null,x.T()):new gr(x.c,x.b,R,x.f,null,null,x.T())),R=U||l}wS(i,R)})}var l=new gr("unknown",null,null,null,new O("no-auth-event")),p=!1,m=qs(500).then(function(){return uy(i).then(function(){p||wS(i,l)})}),g=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Me("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:w}),typeof g=="function")try{g(w)}catch(x){console.error(x)}},Sv||(Sv=new uM),cM(a)}e.Ea=function(i){this.b.push(i),bS(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new gr("unknown",null,null,null,new O("no-auth-event")),i(a))})},e.Sa=function(i){mr(this.b,function(a){return a==i})};function Wj(i){this.a=i,this.b=fc()}var cy={name:"pendingRedirect",F:"session"};function $j(i){return i.b.set(cy,"pending",i.a)}function ly(i){return na(i.b,cy,i.a)}function Yj(i){return i.b.get(cy,i.a).then(function(a){return a=="pending"})}function uh(i,a,l,p){this.i={},this.u=0,this.D=i,this.v=a,this.m=l,this.J=p,this.h=[],this.f=!1,this.l=P(this.s,this),this.b=new ch,this.C=new CS,this.g=new Wj(kS(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=_S(this.D,this.v,this.m,$n,this.J)}function _S(i,a,l,p,m){var g=$.SDK_VERSION||null;return Jm()?new gS(i,a,l,g,p,m):new WT(i,a,l,g,p,m)}uh.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=_S(this.D,this.v,this.m,null,this.J),this.i={}};function ES(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(l){throw i.a==a&&i.reset(),l})}function TS(i){i.a.Xb()&&ES(i).o(function(a){var l=new gr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));hy(a)&&i.s(l)}),i.a.Tb()||PS(i.b)}function fy(i,a){ti(i.h,a)||i.h.push(a),i.f||Yj(i.g).then(function(l){l?ly(i.g).then(function(){ES(i).o(function(p){var m=new gr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));hy(p)&&i.s(m)})}):TS(i)}).o(function(){TS(i)})}function SS(i,a){mr(i.h,function(l){return l==a})}uh.prototype.s=function(i){if(!i)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,l=0;l<this.h.length;l++){var p=this.h[l];if(p.Fb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,p),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return PS(this.b),a};var Xj=new xi(2e3,1e4),Qj=new xi(3e4,6e4);uh.prototype.qa=function(){return this.b.qa()};function IS(i,a,l,p,m,g,w){return i.a.Mb(a,l,p,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},m,g,w)}function hy(i){return!!(i&&i.code=="auth/cordova-not-ready")}function xS(i,a,l,p,m){var g;return $j(i.g).then(function(){return i.a.Nb(a,l,p,m).o(function(w){if(hy(w))throw new O("operation-not-supported-in-this-environment");return g=w,ly(i.g).then(function(){throw g})}).then(function(){return i.a.$b()?new ce(function(){}):ly(i.g).then(function(){return i.qa()}).then(function(){}).o(function(){})})})}function NS(i,a,l,p,m){return i.a.Ob(p,function(g){a.na(l,null,g,m)},Xj.get())}var py={};function kS(i,a,l){return i=i+":"+a,l&&(i=i+":"+l.url),i}function OS(i,a,l,p){var m=kS(a,l,p);return py[m]||(py[m]=new uh(i,a,l,p)),py[m]}function ch(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}ch.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ch.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var l=i.c,p=i.b,m=i.a&&i.a.code=="auth/web-storage-unsupported",g=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!g),l!="unknown"||m||g?i.a?($o(this,!0,null,i.a),Z()):a.Fa(l,p)?Jj(this,i,a):Le(new O("invalid-auth-event")):($o(this,!1,null,null),Z())}else Le(new O("invalid-auth-event"))};function PS(i){i.g||(i.g=!0,$o(i,!1,null,null))}function lh(i){i.g&&!i.i&&$o(i,!1,null,null)}function Jj(i,a,l){l=l.Fa(a.c,a.b);var p=a.g,m=a.f,g=a.i,w=a.T(),x=!!a.c.match(/Redirect$/);l(p,m,w,g).then(function(R){$o(i,x,R,null)}).o(function(R){$o(i,x,null,R)})}function Zj(i,a){if(i.b=function(){return Le(a)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](a)}function AS(i,a){if(i.b=function(){return Z(a)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](a)}function $o(i,a,l,p){a?p?Zj(i,p):AS(i,l):AS(i,{user:null}),i.f=[],i.c=[]}ch.prototype.qa=function(){var i=this;return new ce(function(a,l){i.b?i.b().then(a,l):(i.f.push(a),i.c.push(l),e3(i))})};function e3(i){var a=new O("timeout");i.a&&i.a.cancel(),i.a=qs(Qj.get()).then(function(){i.b||(i.g=!0,$o(i,!0,null,a))})}function CS(){}CS.prototype.h=function(i,a){if(i){var l=i.c,p=i.b;i.a?(a.na(i.c,null,i.a,i.b),Z()):a.Fa(l,p)?t3(i,a):Le(new O("invalid-auth-event"))}else Le(new O("invalid-auth-event"))};function t3(i,a){var l=i.b,p=i.c;a.Fa(p,l)(i.g,i.f,i.T(),i.i).then(function(m){a.na(p,m,null,l)}).o(function(m){a.na(p,null,m,l)})}function RS(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(i){this.ib=i},enumerable:!1})}function dy(i,a){this.a=a,W(this,"verificationId",i)}dy.prototype.confirm=function(i){return i=gT(this.verificationId,i),this.a(i)};function my(i,a,l,p){return new ii(i).fb(a,l).then(function(m){return new dy(m,p)})}function n3(i){var a=rT(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jt(this,{token:i,expirationTime:Gu(1e3*a.exp),authTime:Gu(1e3*a.auth_time),issuedAtTime:Gu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function vy(i,a,l){var p=a&&a[LS];if(!p)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Ei(a),this.g=l,this.c=new Bf(null,p),this.b=[];var m=this;Ne(a[DS]||[],function(g){(g=uv(g))&&m.b.push(g)}),W(this,"auth",this.a),W(this,"session",this.c),W(this,"hints",this.b)}var DS="mfaInfo",LS="mfaPendingCredential";vy.prototype.Rc=function(i){var a=this;return i.sb(this.a.a,this.c).then(function(l){var p=Ei(a.f);return delete p[DS],delete p[LS],dn(p,l),a.g(p)})};function yy(i,a,l,p){O.call(this,"multi-factor-auth-required",p,a),this.b=new vy(i,a,l),W(this,"resolver",this.b)}D(yy,O);function MS(i,a,l){if(i&&_(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new yy(a,i.serverResponse,l,i.message)}catch(p){}return null}function jS(){}jS.prototype.sb=function(i,a,l){return a.type==Xu?r3(this,i,a,l):i3(this,i,a)};function r3(i,a,l,p){return l.Ha().then(function(m){return m={idToken:m},typeof p!="undefined"&&(m.displayName=p),dn(m,{phoneVerificationInfo:Qu(i.a)}),le(a,GM,m)})}function i3(i,a,l){return l.Ha().then(function(p){return p={mfaPendingCredential:p},dn(p,{phoneVerificationInfo:Qu(i.a)}),le(a,WM,p)})}function gy(i){W(this,"factorId",i.fa),this.a=i}D(gy,jS);function US(i){if(gy.call(this,i),this.a.fa!=ii.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D(US,gy);function ra(i,a){vn.call(this,i);for(var l in a)this[l]=a[l]}D(ra,vn);function wy(i,a){this.a=i,this.b=[],this.c=P(this.yc,this),Yn(this.a,"userReloaded",this.c);var l=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Ne(a.multiFactor.enrolledFactors,function(p){var m=null,g={};if(p){p.uid&&(g[lv]=p.uid),p.displayName&&(g[qE]=p.displayName),p.enrollmentTime&&(g[cv]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(g[fv]=p.phoneNumber);try{m=new Wu(g)}catch(w){}p=m}else p=null;p&&l.push(p)}),fh(this,l)}function o3(i){var a=[];return Ne(i.mfaInfo||[],function(l){(l=uv(l))&&a.push(l)}),a}e=wy.prototype,e.yc=function(i){fh(this,o3(i.hd))};function fh(i,a){i.b=a,W(i,"enrolledFactors",a)}e.Rb=function(){return this.a.I().then(function(i){return new Bf(i,null)})},e.fc=function(i,a){var l=this,p=this.a.a;return this.Rb().then(function(m){return i.sb(p,m,a)}).then(function(m){return Mr(l.a,m),l.a.reload()})},e.bd=function(i){var a=this,l=typeof i=="string"?i:i.uid,p=this.a.a;return this.a.I().then(function(m){return le(p,pj,{idToken:m,mfaEnrollmentId:l})}).then(function(m){var g=ML(a.b,function(w){return w.uid!=l});return fh(a,g),Mr(a.a,m),a.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:gf(this.b,function(i){return i.w()})}}};function by(i,a,l){if(this.h=i,this.i=a,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}by.prototype.start=function(){this.a=this.c,_y(this,!0)};function s3(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function _y(i,a){i.stop(),i.b=qs(s3(i,a)).then(function(){return M2()}).then(function(){return i.h()}).then(function(){_y(i,!0)}).o(function(l){i.i(l)&&_y(i,!1)})}by.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Ey(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Ey.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function FS(i,a){typeof a=="undefined"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function VS(i,a){i.b=Ff(a[br]||""),i.a=a.refreshToken,a=a.expiresIn,FS(i,typeof a!="undefined"?Number(a):void 0)}function a3(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function u3(i,a){return PM(i.f,a).then(function(l){return i.b=Ff(l.access_token),i.a=l.refresh_token,FS(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}Ey.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Le(new O("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?u3(this,{grant_type:"refresh_token",refresh_token:this.a}):Z(null):Z({accessToken:this.b.toString(),refreshToken:this.a})};function hh(i,a){this.a=i||null,this.b=a||null,Jt(this,{lastSignInTime:Gu(a||null),creationTime:Gu(i||null)})}function c3(i){return new hh(i.a,i.b)}hh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function l3(i,a,l,p,m,g){Jt(this,{uid:i,displayName:p||null,photoURL:m||null,email:l||null,phoneNumber:g||null,providerId:a})}function An(i,a,l){this.J=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var p=$.SDK_VERSION?Gs($.SDK_VERSION):null;this.a=new wr(this.l,Wn($n),p),i.emulatorConfig&&Js(this.a,i.emulatorConfig),this.b=new Ey(this.a),ky(this,a[br]),VS(this.b,a),W(this,"refreshToken",this.b.a),qS(this,l||{}),Qt.call(this),this.R=!1,this.s&&Uo()&&(this.i=OS(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=f3(this),this.aa=P(this.hb,this);var m=this;this.ya=null,this.Oa=function(g){m.wa(g.h)},this.ja=null,this.Aa=function(g){Js(m.a,g.c)},this.X=null,this.$=[],this.Ba=function(g){hc(m,g.f)},this.ba=null,this.O=new wy(this,l),W(this,"multiFactor",this.O)}D(An,Qt),An.prototype.wa=function(i){this.ya=i,DT(this.a,i)},An.prototype.la=function(){return this.ya};function Ty(i,a){i.ja&&On(i.ja,"languageCodeChanged",i.Oa),(i.ja=a)&&Yn(a,"languageCodeChanged",i.Oa)}function Sy(i,a){i.X&&On(i.X,"emulatorConfigChanged",i.Aa),(i.X=a)&&Yn(a,"emulatorConfigChanged",i.Aa)}function hc(i,a){i.$=a,LT(i.a,$.SDK_VERSION?Gs($.SDK_VERSION,i.$):null)}An.prototype.Ga=function(){return Po(this.$)};function Iy(i,a){i.ba&&On(i.ba,"frameworkChanged",i.Ba),(i.ba=a)&&Yn(a,"frameworkChanged",i.Ba)}An.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function xy(i){try{return $.app(i.m).auth()}catch(a){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function f3(i){return new by(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.b.c-Date.now()-3e5;return 0<a?a:0})}function BS(i){i.D||i.u.b||(i.u.start(),On(i,"tokenChanged",i.aa),Yn(i,"tokenChanged",i.aa))}function Ny(i){On(i,"tokenChanged",i.aa),i.u.stop()}function ky(i,a){i.za=a,W(i,"_lat",a)}function h3(i,a){mr(i.S,function(l){return l==a})}function Yo(i){for(var a=[],l=0;l<i.S.length;l++)a.push(i.S[l](i));return tE(a).then(function(){return i})}function pc(i){i.i&&!i.R&&(i.R=!0,fy(i.i,i))}function qS(i,a){Jt(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new hh(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}W(An.prototype,"providerId","firebase");function zS(){}function Oy(i){return Z().then(function(){if(i.D)throw new O("app-deleted")})}function Py(i){return gf(i.providerData,function(a){return a.providerId})}function Ay(i,a){a&&(HS(i,a.providerId),i.providerData.push(a))}function HS(i,a){mr(i.providerData,function(l){return l.providerId==a})}function Oi(i,a,l){(a!="uid"||l)&&i.hasOwnProperty(a)&&W(i,a,l)}function ph(i,a){i!=a&&(Jt(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?W(i,"metadata",c3(a.metadata)):W(i,"metadata",new hh),Ne(a.providerData,function(l){Ay(i,l)}),a3(i.b,a.b),W(i,"refreshToken",i.b.a),fh(i.O,a.O.b))}e=An.prototype,e.reload=function(){var i=this;return st(this,Oy(this).then(function(){return Cy(i).then(function(){return Yo(i)}).then(zS)}))};function Cy(i){return i.I().then(function(a){var l=i.isAnonymous;return p3(i,a).then(function(){return l||Oi(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new n3(a)})},e.I=function(i){var a=this;return st(this,Oy(this).then(function(){return a.b.getToken(i)}).then(function(l){if(!l)throw new O("internal-error");return l.accessToken!=a.za&&(ky(a,l.accessToken),a.dispatchEvent(new ra("tokenChanged"))),Oi(a,"refreshToken",l.refreshToken),l.accessToken}))};function Mr(i,a){a[br]&&i.za!=a[br]&&(VS(i.b,a),i.dispatchEvent(new ra("tokenChanged")),ky(i,a[br]),Oi(i,"refreshToken",i.b.a))}function p3(i,a){return le(i.a,$M,{idToken:a}).then(P(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new O("internal-error");i=i[0],qS(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=d3(i),l=0;l<a.length;l++)Ay(this,a[l]);Oi(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ra("userReloaded",{hd:i}))};function d3(i){return(i=i.providerUserInfo)&&i.length?gf(i,function(a){return new l3(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return rv("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(i)},e.tb=function(i){var a=this,l=null;return st(this,i.c(this.a,this.uid).then(function(p){return Mr(a,p),l=dc(a,p,"reauthenticate"),a.h=null,a.reload()}).then(function(){return l}),!0)};function dh(i,a){return Cy(i).then(function(){if(ti(Py(i),a))return Yo(i).then(function(){throw new O("provider-already-linked")})})}e.Cc=function(i){return rv("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(i)},e.qb=function(i){var a=this,l=null;return st(this,dh(this,i.providerId).then(function(){return a.I()}).then(function(p){return i.b(a.a,p)}).then(function(p){return l=dc(a,p,"link"),KS(a,p)}).then(function(){return l}))},e.Dc=function(i,a){var l=this;return st(this,dh(this,"phone").then(function(){return my(xy(l),i,a,P(l.qb,l))}))},e.Mc=function(i,a){var l=this;return st(this,Z().then(function(){return my(xy(l),i,a,P(l.tb,l))}),!0)};function dc(i,a,l){var p=Ev(a);return a=oT(a),Dr({user:i,credential:p,additionalUserInfo:a,operationType:l})}function KS(i,a){return Mr(i,a),i.reload().then(function(){return i})}e.Bb=function(i){var a=this;return st(this,this.I().then(function(l){return a.a.Bb(l,i)}).then(function(l){return Mr(a,l),a.reload()}))},e.ed=function(i){var a=this;return st(this,this.I().then(function(l){return i.b(a.a,l)}).then(function(l){return Mr(a,l),a.reload()}))},e.Cb=function(i){var a=this;return st(this,this.I().then(function(l){return a.a.Cb(l,i)}).then(function(l){return Mr(a,l),a.reload()}))},e.Db=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Oy(this);var a=this;return st(this,this.I().then(function(l){return a.a.Db(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return Mr(a,l),Oi(a,"displayName",l.displayName||null),Oi(a,"photoURL",l.photoUrl||null),Ne(a.providerData,function(p){p.providerId==="password"&&(W(p,"displayName",a.displayName),W(p,"photoURL",a.photoURL))}),Yo(a)}).then(zS))},e.cd=function(i){var a=this;return st(this,Cy(this).then(function(l){return ti(Py(a),i)?jM(a.a,l,[i]).then(function(p){var m={};return Ne(p.providerUserInfo||[],function(g){m[g.providerId]=!0}),Ne(Py(a),function(g){m[g]||HS(a,g)}),m[ii.PROVIDER_ID]||W(a,"phoneNumber",null),Yo(a)}):Yo(a).then(function(){throw new O("no-such-provider")})}))},e.delete=function(){var i=this;return st(this,this.I().then(function(a){return le(i.a,qM,{idToken:a})}).then(function(){i.dispatchEvent(new ra("userDeleted"))})).then(function(){for(var a=0;a<i.J.length;a++)i.J[a].cancel("app-deleted");Ty(i,null),Sy(i,null),Iy(i,null),i.J=[],i.D=!0,Ny(i),W(i,"refreshToken",null),i.i&&SS(i.i,i)})},e.Fb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,l,p){i!="linkViaPopup"&&i!="reauthViaPopup"||p!=(this.g||null)||(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?P(this.Kb,this):i=="reauthViaPopup"&&a==(this.g||null)?P(this.Lb,this):i=="linkViaRedirect"&&(this.ga||null)==a?P(this.Kb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?P(this.Lb,this):null},e.Ec=function(i){var a=this;return GS(this,"linkViaPopup",i,function(){return dh(a,i.providerId).then(function(){return Yo(a)})},!1)},e.Nc=function(i){return GS(this,"reauthViaPopup",i,function(){return Z()},!0)};function GS(i,a,l,p,m){if(!Uo())return Le(new O("operation-not-supported-in-this-environment"));if(i.h&&!m)return Le(i.h);var g=vv(l.providerId),w=Fo(i.uid+":::"),x=null;(!Hu()||Zm())&&i.s&&l.isOAuthProvider&&(x=ac(i.s,i.l,i.m,a,l,null,w,$.SDK_VERSION||null,null,null,i.tenantId));var R=RE(x,g&&g.ua,g&&g.ta);return p=p().then(function(){if($S(i),!m)return i.I().then(function(){})}).then(function(){return IS(i.i,R,a,l,w,!!x,i.tenantId)}).then(function(){return new ce(function(U,ne){i.na(a,null,new O("cancelled-popup-request"),i.g||null),i.f=U,i.C=ne,i.g=w,i.c=NS(i.i,i,a,R,w)})}).then(function(U){return R&&jo(R),U?Dr(U):null}).o(function(U){throw R&&jo(R),U}),st(i,p,m)}e.Fc=function(i){var a=this;return WS(this,"linkViaRedirect",i,function(){return dh(a,i.providerId)},!1)},e.Oc=function(i){return WS(this,"reauthViaRedirect",i,function(){return Z()},!0)};function WS(i,a,l,p,m){if(!Uo())return Le(new O("operation-not-supported-in-this-environment"));if(i.h&&!m)return Le(i.h);var g=null,w=Fo(i.uid+":::");return p=p().then(function(){if($S(i),!m)return i.I().then(function(){})}).then(function(){return i.ga=w,Yo(i)}).then(function(x){return i.ha&&(x=i.ha,x=x.b.set(Ry,i.w(),x.a)),x}).then(function(){return xS(i.i,a,l,w,i.tenantId)}).o(function(x){if(g=x,i.ha)return XS(i.ha);throw g}).then(function(){if(g)throw g}),st(i,p,m)}function $S(i){if(!i.i||!i.R)throw i.i&&!i.R?new O("internal-error"):new O("auth-domain-config-required")}e.Kb=function(i,a,l,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return l=this.I().then(function(w){return zv(m.a,{requestUri:i,postBody:p,sessionId:a,idToken:w})}).then(function(w){return g=dc(m,w,"link"),KS(m,w)}).then(function(){return g}),st(this,l)},e.Lb=function(i,a,l,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var g=null,w=Z().then(function(){return Xs(Hv(m.a,{requestUri:i,sessionId:a,postBody:p,tenantId:l}),m.uid)}).then(function(x){return g=dc(m,x,"reauthenticate"),Mr(m,x),m.h=null,m.reload()}).then(function(){return g});return st(this,w,!0)},e.ub=function(i){var a=this,l=null;return st(this,this.I().then(function(p){return l=p,typeof i=="undefined"||Ao(i)?{}:jf(new Mf(i))}).then(function(p){return a.a.ub(l,p)}).then(function(p){if(a.email!=p)return a.reload()}).then(function(){}))},e.Eb=function(i,a){var l=this,p=null;return st(this,this.I().then(function(m){return p=m,typeof a=="undefined"||Ao(a)?{}:jf(new Mf(a))}).then(function(m){return l.a.Eb(p,i,m)}).then(function(m){if(l.email!=m)return l.reload()}).then(function(){}))};function st(i,a,l){var p=m3(i,a,l);return i.J.push(p),p.oa(function(){wf(i.J,p)}),p.o(function(m){var g=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(g=MS(m.w(),xy(i),P(i.jc,i))),g||m})}e.jc=function(i){var a=null,l=this;return i=Xs(Z(i),l.uid).then(function(p){return a=dc(l,p,"reauthenticate"),Mr(l,p),l.h=null,l.reload()}).then(function(){return a}),st(this,i,!0)};function m3(i,a,l){return i.h&&!l?(a.cancel(),Le(i.h)):a.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(i.h||i.dispatchEvent(new ra("userInvalidated")),i.h=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&dn(i,this.metadata.w()),Ne(this.providerData,function(a){i.providerData.push(F2(a))}),dn(i,this.O.w()),i};function YS(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[br]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var p=i.stsTokenManager.expirationTime;p&&(l.expiresIn=(p-Date.now())/1e3)}else return null;var m=new An(a,l,i);return i.providerData&&Ne(i.providerData,function(g){g&&Ay(m,Dr(g))}),i.redirectEventId&&(m.ga=i.redirectEventId),m}function v3(i,a,l,p){var m=new An(i,a);return l&&(m.ha=l),p&&hc(m,p),m.reload().then(function(){return m})}function y3(i,a,l,p){var m=i.b,g={};return g[br]=m.b&&m.b.toString(),g.refreshToken=m.a,a=new An(a||{apiKey:i.l,authDomain:i.s,appName:i.m},g),l&&(a.ha=l),p&&hc(a,p),ph(a,i),a}function g3(i){this.a=i,this.b=fc()}var Ry={name:"redirectUser",F:"session"};function XS(i){return na(i.b,Ry,i.a)}function w3(i,a){return i.b.get(Ry,i.a).then(function(l){return l&&a&&(l.authDomain=a),YS(l||{})})}function Dy(i){this.a=i,this.b=fc(),this.c=null,this.f=b3(this),this.b.addListener(jr("local"),this.a,P(this.g,this))}Dy.prototype.g=function(){var i=this,a=jr("local");ia(this,function(){return Z().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(l){if(l)return Ly(i,"local").then(function(){i.c=a})})})};function Ly(i,a){var l=[],p;for(p in ea)ea[p]!==a&&l.push(na(i.b,jr(ea[p]),i.a));return l.push(na(i.b,My,i.a)),c2(l)}function b3(i){var a=jr("local"),l=jr("session"),p=jr("none");return Lj(i.b,a,i.a).then(function(){return i.b.get(l,i.a)}).then(function(m){return m?l:i.b.get(p,i.a).then(function(g){return g?p:i.b.get(a,i.a).then(function(w){return w?a:i.b.get(My,i.a).then(function(x){return x?jr(x):a})})})}).then(function(m){return i.c=m,Ly(i,m.F)}).o(function(){i.c||(i.c=a)})}var My={name:"persistence",F:"session"};function jr(i){return{name:"authUser",F:i}}Dy.prototype.xb=function(i){var a=null,l=this;return Dj(i),ia(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(p){return a=p,Ly(l,i)}).then(function(){if(l.c=jr(i),a)return l.b.set(l.c,a,l.a)}):Z()})};function _3(i){return ia(i,function(){return i.b.set(My,i.c.F,i.a)})}function QS(i,a){return ia(i,function(){return i.b.set(i.c,a.w(),i.a)})}function JS(i){return ia(i,function(){return na(i.b,i.c,i.a)})}function ZS(i,a,l){return ia(i,function(){return i.b.get(i.c,i.a).then(function(p){return p&&a&&(p.authDomain=a),p&&l&&(p.emulatorConfig=l),YS(p||{})})})}function ia(i,a){return i.f=i.f.then(a,a),i.f}function _r(i){if(this.l=!1,W(this,"settings",new RS),W(this,"app",i),ke(this).options&&ke(this).options.apiKey)i=$.SDK_VERSION?Gs($.SDK_VERSION):null,this.a=new wr(ke(this).options&&ke(this).options.apiKey,Wn($n),i);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=$.INTERNAL.createSubscribe(P(this.zc,this)),this.X=void 0,this.bc=$.INTERNAL.createSubscribe(P(this.Ac,this)),oa(this,null),this.i=new Dy(ke(this).options.apiKey+":"+ke(this).name),this.D=new g3(ke(this).options.apiKey+":"+ke(this).name),this.$=qe(this,N3(this)),this.h=qe(this,k3(this)),this.ba=!1,this.ja=P(this.Zc,this),this.Ba=P(this.da,this),this.ya=P(this.mc,this),this.za=P(this.wc,this),this.Aa=P(this.xc,this),this.b=null,S3(this),this.INTERNAL={},this.INTERNAL.delete=P(this.delete,this),this.INTERNAL.logFramework=P(this.Gc,this),this.u=0,Qt.call(this),T3(this),this.J=[],this.P=null}D(_r,Qt);function eI(i){vn.call(this,"languageCodeChanged"),this.h=i}D(eI,vn);function tI(i){vn.call(this,"emulatorConfigChanged"),this.c=i}D(tI,vn);function nI(i){vn.call(this,"frameworkChanged"),this.f=i}D(nI,vn),e=_r.prototype,e.xb=function(i){return i=this.i.xb(i),qe(this,i)},e.wa=function(i){this.aa===i||this.l||(this.aa=i,DT(this.a,this.aa),this.dispatchEvent(new eI(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.wa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.P){if(!/^https?:\/\//.test(i))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,E3(a),this.P={url:i,ec:a},this.settings.ib=!0,Js(this.a,this.P),this.dispatchEvent(new tI(this.P))}};function E3(i){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Rf().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#ff0000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),LT(this.a,$.SDK_VERSION?Gs($.SDK_VERSION,this.J):null),this.dispatchEvent(new nI(this.J))},e.Ga=function(){return Po(this.J)},e.yb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function T3(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.wa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.yb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.P){var a=yn(this.P.url);a=Dr({protocol:a.c,host:a.a,port:a.g,options:Dr({disableWarnings:this.P.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ke(this).options.apiKey,authDomain:ke(this).options.authDomain,appName:ke(this).name,currentUser:ae(this)&&ae(this).w()}};function jy(i){return i.Oa||Le(new O("auth-domain-config-required"))}function S3(i){var a=ke(i).options.authDomain,l=ke(i).options.apiKey;a&&Uo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=OS(a,l,ke(i).name,i.P),fy(i.b,i),ae(i)&&pc(ae(i)),i.m){pc(i.m);var p=i.m;p.wa(i.la()),Ty(p,i),p=i.m,hc(p,i.J),Iy(p,i),p=i.m,Js(p.a,i.P),Sy(p,i),i.m=null}return i.b}}))}e.Fb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,l,p){i=="signInViaPopup"&&this.g==p&&(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?P(this.ic,this):null},e.ic=function(i,a,l,p){var m=this,g={requestUri:i,postBody:p,sessionId:a,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Xo(m,qv(m.a,g))})},e.Xc=function(i){if(!Uo())return Le(new O("operation-not-supported-in-this-environment"));var a=this,l=vv(i.providerId),p=Fo(),m=null;(!Hu()||Zm())&&ke(this).options.authDomain&&i.isOAuthProvider&&(m=ac(ke(this).options.authDomain,ke(this).options.apiKey,ke(this).name,"signInViaPopup",i,null,p,$.SDK_VERSION||null,null,null,this.T(),this.P));var g=RE(m,l&&l.ua,l&&l.ta);return l=jy(this).then(function(w){return IS(w,g,"signInViaPopup",i,p,!!m,a.T())}).then(function(){return new ce(function(w,x){a.na("signInViaPopup",null,new O("cancelled-popup-request"),a.g),a.f=w,a.C=x,a.g=p,a.c=NS(a.b,a,"signInViaPopup",g,p)})}).then(function(w){return g&&jo(g),w?Dr(w):null}).o(function(w){throw g&&jo(g),w}),qe(this,l)},e.Yc=function(i){if(!Uo())return Le(new O("operation-not-supported-in-this-environment"));var a=this,l=jy(this).then(function(){return _3(a.i)}).then(function(){return xS(a.b,"signInViaRedirect",i,void 0,a.T())});return qe(this,l)};function rI(i){if(!Uo())return Le(new O("operation-not-supported-in-this-environment"));var a=jy(i).then(function(){return i.b.qa()}).then(function(l){return l?Dr(l):null});return qe(i,a)}e.qa=function(){var i=this;return rI(this).then(function(a){return i.b&&lh(i.b.b),a}).o(function(a){throw i.b&&lh(i.b.b),a})},e.dd=function(i){if(!i)return Le(new O("null-user"));if(this.S!=i.tenantId)return Le(new O("tenant-id-mismatch"));var a=this,l={};l.apiKey=ke(this).options.apiKey,l.authDomain=ke(this).options.authDomain,l.appName=ke(this).name;var p=y3(i,l,a.D,a.Ga());return qe(this,this.h.then(function(){if(ke(a).options.apiKey!=i.l)return p.reload()}).then(function(){return ae(a)&&i.uid==ae(a).uid?(ph(ae(a),i),a.da(i)):(oa(a,p),pc(p),a.da(p))}).then(function(){mc(a)}))};function I3(i,a){var l={};return l.apiKey=ke(i).options.apiKey,l.authDomain=ke(i).options.authDomain,l.appName=ke(i).name,i.P&&(l.emulatorConfig=i.P),i.$.then(function(){return v3(l,a,i.D,i.Ga())}).then(function(p){return ae(i)&&p.uid==ae(i).uid?(ph(ae(i),p),i.da(p)):(oa(i,p),pc(p),i.da(p))}).then(function(){mc(i)})}function oa(i,a){ae(i)&&(h3(ae(i),i.Ba),On(ae(i),"tokenChanged",i.ya),On(ae(i),"userDeleted",i.za),On(ae(i),"userInvalidated",i.Aa),Ny(ae(i))),a&&(a.S.push(i.Ba),Yn(a,"tokenChanged",i.ya),Yn(a,"userDeleted",i.za),Yn(a,"userInvalidated",i.Aa),0<i.u&&BS(a)),W(i,"currentUser",a),a&&(a.wa(i.la()),Ty(a,i),hc(a,i.J),Iy(a,i),Js(a.a,i.P),Sy(a,i))}e.Ab=function(){var i=this,a=this.h.then(function(){return i.b&&lh(i.b.b),ae(i)?(oa(i,null),JS(i.i).then(function(){mc(i)})):Z()});return qe(this,a)};function x3(i){var a=w3(i.D,ke(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),XS(i.D)});return qe(i,a)}function N3(i){var a=ke(i).options.authDomain,l=x3(i).then(function(){return ZS(i.i,a,i.P)}).then(function(p){return p?(p.ha=i.D,i.m&&(i.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return QS(i.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:JS(i.i)})):null}).then(function(p){oa(i,p||null)});return qe(i,l)}function k3(i){return i.$.then(function(){return rI(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(jr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return ZS(this.i,ke(this).options.authDomain).then(function(a){if(!i.l){var l;if(l=ae(i)&&a){l=ae(i).uid;var p=a.uid;l=l==null||l===""||p===void 0||p===null||p===""?!1:l==p}if(l)return ph(ae(i),a),ae(i).I();(ae(i)||a)&&(oa(i,a),a&&(pc(a),a.ha=i.D),i.b&&fy(i.b,i),mc(i))}})},e.da=function(i){return QS(this.i,i)},e.mc=function(){mc(this),this.da(ae(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Xo(i,a){var l=null,p=null;return qe(i,a.then(function(m){return l=Ev(m),p=oT(m),I3(i,m)},function(m){var g=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(g=MS(m.w(),i,P(i.kc,i))),g||m}).then(function(){return Dr({user:ae(i),credential:l,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Xo(a,Z(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(ae(a))})},e.Ac=function(i){var a=this;O3(this,function(){i.next(ae(a))})},e.Ic=function(i,a,l){var p=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(ae(p)):typeof i.next=="function"&&i.next(ae(p))}),this.hb(i,a,l)},e.Hc=function(i,a,l){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof i=="function"?i(ae(p)):typeof i.next=="function"&&i.next(ae(p))}),this.bc(i,a,l)},e.nc=function(i){var a=this,l=this.h.then(function(){return ae(a)?ae(a).I(i).then(function(p){return{accessToken:p}}):null});return qe(this,l)},e.Tc=function(i){var a=this;return this.h.then(function(){return Xo(a,le(a.a,cj,{token:i}))}).then(function(l){var p=l.user;return Oi(p,"isAnonymous",!1),a.da(p),l})},e.Uc=function(i,a){var l=this;return this.h.then(function(){return Xo(l,le(l.a,HT,{email:i,password:a}))})},e.dc=function(i,a){var l=this;return this.h.then(function(){return Xo(l,le(l.a,VM,{email:i,password:a}))})},e.$a=function(i){var a=this;return this.h.then(function(){return Xo(a,i.ka(a.a))})},e.Sc=function(i){return rv("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(i)},e.zb=function(){var i=this;return this.h.then(function(){var a=ae(i);if(a&&a.isAnonymous){var l=Dr({providerId:null,isNewUser:!1});return Dr({user:a,credential:null,additionalUserInfo:l,operationType:"signIn"})}return Xo(i,i.a.zb()).then(function(p){var m=p.user;return Oi(m,"isAnonymous",!0),i.da(m),p})})};function ke(i){return i.app}function ae(i){return i.currentUser}e.getUid=function(){return ae(this)&&ae(this).uid||null};function mh(i){return ae(i)&&ae(i)._lat||null}function mc(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](mh(i));if(i.X!==i.getUid()&&i.O.length)for(i.X=i.getUid(),a=0;a<i.O.length;a++)i.O[a]&&i.O[a](mh(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&ae(this)&&BS(ae(this))},e.Pc=function(i){var a=this;Ne(this.s,function(l){l==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&ae(this)&&Ny(ae(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),qe(this,this.h.then(function(){a.l||ti(a.s,i)&&i(mh(a))}))},e.removeAuthTokenListener=function(i){mr(this.s,function(a){return a==i})};function O3(i,a){i.O.push(a),qe(i,i.h.then(function(){!i.l&&ti(i.O,a)&&i.X!==i.getUid()&&(i.X=i.getUid(),a(mh(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.R.length;i++)this.R[i].cancel("app-deleted");return this.R=[],this.i&&(i=this.i,i.b.removeListener(jr("local"),i.a,this.ja)),this.b&&(SS(this.b,this),lh(this.b.b)),Promise.resolve()};function qe(i,a){return i.R.push(a),a.oa(function(){wf(i.R,a)}),a}e.hc=function(i){return qe(this,AM(this.a,i))},e.Bc=function(i){return!!_v(i)},e.wb=function(i,a){var l=this;return qe(this,Z().then(function(){var p=new Mf(a);if(!p.c)throw new O("argument-error",dv+" must be true when sending sign in link to email");return jf(p)}).then(function(p){return l.a.wb(i,p)}).then(function(){}))},e.jd=function(i){return this.Ra(i).then(function(a){return a.data.email})},e.nb=function(i,a){return qe(this,this.a.nb(i,a).then(function(){}))},e.Ra=function(i){return qe(this,this.a.Ra(i).then(function(a){return new B2(a)}))},e.jb=function(i){return qe(this,this.a.jb(i).then(function(){}))},e.vb=function(i,a){var l=this;return qe(this,Z().then(function(){return typeof a=="undefined"||Ao(a)?{}:jf(new Mf(a))}).then(function(p){return l.a.vb(i,p)}).then(function(){}))},e.Wc=function(i,a){return qe(this,my(this,i,a,P(this.$a,this)))},e.Vc=function(i,a){var l=this;return qe(this,Z().then(function(){var p=a||zu(),m=yT(i,p);if(p=_v(p),!p)throw new O("argument-error","Invalid email link!");if(p.tenantId!==l.T())throw new O("tenant-id-mismatch");return l.$a(m)}))};function vc(){}vc.prototype.render=function(){},vc.prototype.reset=function(){},vc.prototype.getResponse=function(){},vc.prototype.execute=function(){};function sa(){this.a={},this.b=1e12}var Uy=null;sa.prototype.render=function(i,a){return this.a[this.b.toString()]=new vh(i,a),this.b++},sa.prototype.reset=function(i){var a=Fy(this,i);i=iI(i),a&&i&&(a.delete(),delete this.a[i])},sa.prototype.getResponse=function(i){return(i=Fy(this,i))?i.getResponse():null},sa.prototype.execute=function(i){(i=Fy(this,i))&&i.execute()};function Fy(i,a){return(a=iI(a))&&i.a[a]||null}function iI(i){return(i=typeof i=="undefined"?1e12:i)?i.toString():null}function vh(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Mu(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():Yn(this.f,"click",this.i)}vh.prototype.getResponse=function(){return Vy(this),this.b},vh.prototype.execute=function(){Vy(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=L2();var a=i.c.callback,l=i.c["expired-callback"];if(a)try{a(i.b)}catch(p){}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch(p){}i.h&&i.execute()},6e4)},500))},vh.prototype.delete=function(){Vy(this),this.g=!0,clearTimeout(this.a),this.a=null,On(this.f,"click",this.i)};function Vy(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function By(){}W(By,"FACTOR_ID","phone");function qy(){}qy.prototype.g=function(){return Uy||(Uy=new sa),Z(Uy)},qy.prototype.c=function(){};var zy=null;function Hy(){this.b=f.grecaptcha?Infinity:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var P3=new Ar(bf,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),A3=new xi(3e4,6e4);Hy.prototype.g=function(i){var a=this;return new ce(function(l,p){var m=setTimeout(function(){p(new O("network-request-failed"))},A3.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var w=f.grecaptcha.render;f.grecaptcha.render=function(x,R){return x=w(x,R),a.b++,x},clearTimeout(m),l(f.grecaptcha)}else clearTimeout(m),p(new O("internal-error"));delete f[a.a]};var g=xm(P3,{onload:a.a,hl:i||""});Z(Lv(g)).o(function(){clearTimeout(m),p(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),l(f.grecaptcha)})},Hy.prototype.c=function(){this.b--};var Ky=null;function Gy(i,a,l,p,m,g,w){if(W(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=a,this.g=null,w?(zy||(zy=new qy),w=zy):(Ky||(Ky=new Hy),w=Ky),this.m=w,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[aI])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[C3]==="invisible",!f.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Mu(a)||!this.i&&Mu(a).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new wr(i,g||null,m||null),this.u=p||function(){return null};var x=this;this.l=[];var R=this.a[oI];this.a[oI]=function(ne){if(uI(x,ne),typeof R=="function")R(ne);else if(typeof R=="string"){var Se=Me(R,f);typeof Se=="function"&&Se(ne)}};var U=this.a[sI];this.a[sI]=function(){if(uI(x,null),typeof U=="function")U();else if(typeof U=="string"){var ne=Me(U,f);typeof ne=="function"&&ne()}}}var oI="callback",sI="expired-callback",aI="sitekey",C3="size";function uI(i,a){for(var l=0;l<i.l.length;l++)try{i.l[l](a)}catch(p){}}function R3(i,a){mr(i.l,function(l){return l==a})}function Wy(i,a){return i.h.push(a),a.oa(function(){wf(i.h,a)}),a}e=Gy.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Wy(this,Z().then(function(){if(Df()&&!yr())return Rf();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,le(i.s,ej,{})}).then(function(a){i.a[aI]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){yh(this);var i=this;return Wy(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var l=Mu(a);a=o2("DIV"),l.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){yh(this);var i=this;return Wy(this,this.render().then(function(a){return new ce(function(l){var p=i.g.getResponse(a);if(p)l(p);else{var m=function(g){g&&(R3(i,m),l(g))};i.l.push(m),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){yh(this),this.c!==null&&this.g.reset(this.c)};function yh(i){if(i.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){yh(this),this.D=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Mu(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function $y(i,a,l){var p=!1;try{this.b=l||$.app()}catch(w){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new O("invalid-api-key");var m=this,g=null;try{g=this.b.auth().Ga()}catch(w){}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch(w){}g=$.SDK_VERSION?Gs($.SDK_VERSION,g):null,Gy.call(this,l,i,a,function(){try{var w=m.b.auth().la()}catch(x){w=null}return w},g,Wn($n),p)}D($y,Gy);function cI(i,a,l,p){e:{l=Array.prototype.slice.call(l);for(var m=0,g=!1,w=0;w<a.length;w++)if(a[w].optional)g=!0;else{if(g)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(g=a.length,l.length<m||g<l.length)p="Expected "+(m==g?m==1?"1 argument":m+" arguments":m+"-"+g+" arguments")+" but got "+l.length+".";else{for(m=0;m<l.length;m++)if(g=a[m].optional&&l[m]===void 0,!a[m].M(l[m])&&!g){if(a=a[m],0>m||m>=lI.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");l=lI[m],p=(p?"":l+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}p=null}}if(p)throw new O("argument-error",i+" failed: "+p)}var lI="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function G(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(l){return typeof l=="string"}}}function Yy(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(l){return typeof l=="boolean"}}}function Je(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:_}}function aa(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(l){return typeof l=="function"}}}function Ur(i,a){return{name:i||"",K:"null",optional:!!a,M:function(l){return l===null}}}function D3(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function L3(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof _r)}}}function M3(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof $.app.App)}}}function Pi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var l=!i||a.providerId===i;return!(!a.ka||!l)}}}function fI(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.sb:!1}}}function ua(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Xy(i,a){return _(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function hI(i){return _(i)&&typeof i.uid=="string"}function gh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function We(i,a,l,p){return{name:l||"",K:i.K+" or "+a.K,optional:!!p,M:function(m){return i.M(m)||a.M(m)}}}function Ve(i,a){for(var l in a){var p=a[l].name;i[p]=dI(p,i[l],a[l].j)}}function pI(i,a){for(var l in a){var p=a[l].name;p!==l&&Object.defineProperty(i,p,{get:j(function(m){return this[m]},l),set:j(function(m,g,w,x){cI(m,[w],[x],!0),this[g]=x},p,l,a[l].kb),enumerable:!0})}}function $e(i,a,l,p){i[a]=dI(a,l,p)}function dI(i,a,l){function p(){var w=Array.prototype.slice.call(arguments);return cI(m,l,w),a.apply(this,w)}if(!l)return a;var m=j3(i),g;for(g in a)p[g]=a[g];for(g in a.prototype)p.prototype[g]=a.prototype[g];return p}function j3(i){return i=i.split("."),i[i.length-1]}Ve(_r.prototype,{jb:{name:"applyActionCode",j:[G("code")]},Ra:{name:"checkActionCode",j:[G("code")]},nb:{name:"confirmPasswordReset",j:[G("code"),G("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[G("email"),G("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[G("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[G("emailLink")]},Hc:{name:"onAuthStateChanged",j:[We(Je(),aa(),"nextOrObserver"),aa("opt_error",!0),aa("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[We(Je(),aa(),"nextOrObserver"),aa("opt_error",!0),aa("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[G("email"),We(Je("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[G("email"),Je("actionCodeSettings")]},xb:{name:"setPersistence",j:[G("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Pi()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Pi()]},Tc:{name:"signInWithCustomToken",j:[G("token")]},Uc:{name:"signInWithEmailAndPassword",j:[G("email"),G("password")]},Vc:{name:"signInWithEmailLink",j:[G("email"),G("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[G("phoneNumber"),gh()]},Xc:{name:"signInWithPopup",j:[ua()]},Yc:{name:"signInWithRedirect",j:[ua()]},dd:{name:"updateCurrentUser",j:[We(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof An)}}}(),Ur(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[G(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[G("url"),Je("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[G("code")]}}),pI(_r.prototype,{lc:{name:"languageCode",kb:We(G(),Ur(),"languageCode")},ti:{name:"tenantId",kb:We(G(),Ur(),"tenantId")}}),_r.Persistence=ea,_r.Persistence.LOCAL="local",_r.Persistence.SESSION="session",_r.Persistence.NONE="none",Ve(An.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Yy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Pi()]},qb:{name:"linkWithCredential",j:[Pi()]},Dc:{name:"linkWithPhoneNumber",j:[G("phoneNumber"),gh()]},Ec:{name:"linkWithPopup",j:[ua()]},Fc:{name:"linkWithRedirect",j:[ua()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Pi()]},tb:{name:"reauthenticateWithCredential",j:[Pi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[G("phoneNumber"),gh()]},Nc:{name:"reauthenticateWithPopup",j:[ua()]},Oc:{name:"reauthenticateWithRedirect",j:[ua()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[We(Je("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[G(null,!0)]},cd:{name:"unlink",j:[G("provider")]},Bb:{name:"updateEmail",j:[G("email")]},Cb:{name:"updatePassword",j:[G("password")]},ed:{name:"updatePhoneNumber",j:[Pi("phone")]},Db:{name:"updateProfile",j:[Je("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[G("email"),We(Je("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]}}),Ve(sa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ve(vc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ve(ce.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),pI(RS.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Yy("appVerificationDisabledForTesting")}}),Ve(dy.prototype,{confirm:{name:"confirm",j:[G("verificationCode")]}}),$e(Ys,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,l=[oM,sM,aM,iM],p=0;p<l.length;p++)if(a=l[p](i))return a;return null},[We(G(),Je(),"json")]),$e(Qn,"credential",function(i,a){return new Ni(i,a)},[G("email"),G("password")]),Ve(Ni.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ve(qo.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),$e(qo,"credential",pT,[We(G(),Je(),"token")]),$e(Qn,"credentialWithLink",yT,[G("email"),G("emailLink")]),Ve(zo.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),$e(zo,"credential",dT,[We(G(),Je(),"token")]),Ve(Ho.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),$e(Ho,"credential",mT,[We(G(),We(Je(),Ur()),"idToken"),We(G(),Ur(),"accessToken",!0)]),Ve(Qs.prototype,{Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),$e(Qs,"credential",vT,[We(G(),Je(),"token"),G("secret",!0)]),Ve(Pn.prototype,{Ca:{name:"addScope",j:[G("scope")]},credential:{name:"credential",j:[We(G(),We(Je(),Ur()),"optionsOrIdToken"),We(G(),Ur(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),Ve(ri.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ve(Vo.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),$e(ii,"credential",gT,[G("verificationId"),G("verificationCode")]),Ve(ii.prototype,{fb:{name:"verifyPhoneNumber",j:[We(G(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(l){return l?l.session&&l.phoneNumber?Xy(l.session,Xu)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?Xy(l.session,qf)&&hI(l.multiFactorHint):l.session&&l.multiFactorUid?Xy(l.session,qf)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),gh()]}}),Ve(ki.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ve(O.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ve(Ju.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ve(Iv.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ve(yy.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Ve(vy.prototype,{Rc:{name:"resolveSignIn",j:[fI()]}}),Ve(wy.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[fI(),G("displayName",!0)]},bd:{name:"unenroll",j:[We({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:hI},G(),"multiFactorInfoIdentifier")]}}),Ve($y.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$e(pv,"parseLink",YE,[G("link")]),$e(By,"assertion",function(i){return new US(i)},[Pi("phone")]),function(){if(typeof $!="undefined"&&$.INTERNAL&&$.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Lf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hv,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_r,AuthCredential:Ys,Error:O};$e(i,"EmailAuthProvider",Qn,[]),$e(i,"FacebookAuthProvider",qo,[]),$e(i,"GithubAuthProvider",zo,[]),$e(i,"GoogleAuthProvider",Ho,[]),$e(i,"TwitterAuthProvider",Qs,[]),$e(i,"OAuthProvider",Pn,[G("providerId")]),$e(i,"SAMLAuthProvider",hT,[G("providerId")]),$e(i,"PhoneAuthProvider",ii,[L3()]),$e(i,"RecaptchaVerifier",$y,[We(G(),D3(),"recaptchaContainer"),Je("recaptchaParameters",!0),M3()]),$e(i,"ActionCodeURL",pv,[]),$e(i,"PhoneMultiFactorGenerator",By,[]),$.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new _r(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC"}),$.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:P(a.getUid,a),getToken:P(a.nc,a),addAuthTokenListener:P(a.cc,a),removeAuthTokenListener:P(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),$.registerVersion("@firebase/auth","0.16.5"),$.INTERNAL.extendNamespace({User:An})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Sg=function(e,t){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Sg(e,t)};function JF(e,t){Sg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function fx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ZF=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Y,Ig=Ig||{},se=ZF||self;function Ih(){}function xg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Tc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function t4(e){return Object.prototype.hasOwnProperty.call(e,Ng)&&e[Ng]||(e[Ng]=++e4)}var Ng="closure_uid_"+(1e9*Math.random()>>>0),e4=0;function n4(e,t,n){return e.call.apply(e.bind,arguments)}function r4(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Lt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Lt=n4:Lt=r4,Lt.apply(null,arguments)}function xh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Fr(){return Date.now()}function en(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,o,s){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return t.prototype[o].apply(r,u)}}function Mi(){this.j=this.j,this.i=this.i}var i4=0;Mi.prototype.j=!1;Mi.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),i4!=0))var e=t4(this)};Mi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var hx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},px=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function s4(e){e:{for(var t=o4,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function dx(e){return Array.prototype.concat.apply([],arguments)}function kg(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nh(e){return/^[\s\xa0]*$/.test(e)}var mx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tn(e,t){return e.indexOf(t)!=-1}function Og(e,t){return e<t?-1:e>t?1:0}var nn;e:{if(Pg=se.navigator,Pg&&(Ag=Pg.userAgent,Ag)){nn=Ag;break e}nn=""}var Pg,Ag;function Cg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vx(e){var t={};for(var n in e)t[n]=e[n];return t}var yx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gx(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<yx.length;s++)n=yx[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rg(e){return Rg[" "](e),e}Rg[" "]=Ih;function u4(e,t){var n=a4;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var c4=tn(nn,"Opera"),ji=tn(nn,"Trident")||tn(nn,"MSIE"),wx=tn(nn,"Edge"),Dg=wx||ji,bx=tn(nn,"Gecko")&&!(tn(nn.toLowerCase(),"webkit")&&!tn(nn,"Edge"))&&!(tn(nn,"Trident")||tn(nn,"MSIE"))&&!tn(nn,"Edge"),l4=tn(nn.toLowerCase(),"webkit")&&!tn(nn,"Edge");function _x(){var e=se.document;return e?e.documentMode:void 0}var kh;e:{if(Oh="",Ph=function(){var e=nn;if(bx)return/rv:([^\);]+)(\)|;)/.exec(e);if(wx)return/Edge\/([\d\.]+)/.exec(e);if(ji)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(l4)return/WebKit\/(\S+)/.exec(e);if(c4)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),Ph&&(Oh=Ph?Ph[1]:""),ji&&(Ah=_x(),Ah!=null&&Ah>parseFloat(Oh))){kh=String(Ah);break e}kh=Oh}var Oh,Ph,Ah,a4={};function Ex(e){return u4(e,function(){for(var t=0,n=mx(String(kh)).split("."),r=mx(String(e)).split("."),o=Math.max(n.length,r.length),s=0;t==0&&s<o;s++){var u=n[s]||"",c=r[s]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],u[0].length==0&&c[0].length==0)break;t=Og(u[1].length==0?0:parseInt(u[1],10),c[1].length==0?0:parseInt(c[1],10))||Og(u[2].length==0,c[2].length==0)||Og(u[2],c[2]),u=u[3],c=c[3]}while(t==0)}return 0<=t})}var Lg;se.document&&ji?(Mg=_x(),Lg=Mg||parseInt(kh,10)||void 0):Lg=void 0;var Mg,Tx=Lg,jg=!ji||9<=Number(Tx),f4=ji&&!Ex("9"),h4=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{se.addEventListener("test",Ih,t),se.removeEventListener("test",Ih,t)}catch(n){}return e}();function Mt(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Mt.prototype.b=function(){this.defaultPrevented=!0};function Sc(e,t){if(Mt.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(bx){e:{try{Rg(t.nodeName);var o=!0;break e}catch(s){}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:p4[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}en(Sc,Mt);var p4={2:"touch",3:"pen",4:"mouse"};Sc.prototype.b=function(){Sc.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,f4)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Ic="closure_listenable_"+(1e6*Math.random()|0),d4=0;function m4(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=o,this.key=++d4,this.Y=this.Z=!1}function Ch(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Rh(e){this.src=e,this.a={},this.b=0}Rh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var u=Ug(e,t,r,o);return-1<u?(t=e[u],n||(t.Z=!1)):(t=new m4(t,this.src,s,!!r,o),t.Z=n,e.push(t)),t};function Fg(e,t){var n=t.type;if(n in e.a){var r=e.a[n],o=hx(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Ch(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function Ug(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return o}return-1}var Vg="closure_lm_"+(1e6*Math.random()|0),Bg={};function qg(e,t,n,r,o){if(r&&r.once)return Ix(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qg(e,t[s],n,r,o);return null}return n=zg(n),e&&e[Ic]?e.va(t,n,Tc(r)?!!r.capture:!!r,o):Sx(e,t,n,!1,r,o)}function Sx(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=Tc(o)?!!o.capture:!!o;if(u&&!jg)return null;var c=Hg(e);if(c||(e[Vg]=c=new Rh(e)),n=c.add(t,n,r,u,s),n.proxy)return n;if(r=v4(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)h4||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(xx(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function v4(){var e=y4,t=jg?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Ix(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ix(e,t[s],n,r,o);return null}return n=zg(n),e&&e[Ic]?e.wa(t,n,Tc(r)?!!r.capture:!!r,o):Sx(e,t,n,!0,r,o)}function Nx(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)Nx(e,t[s],n,r,o);else r=Tc(r)?!!r.capture:!!r,n=zg(n),e&&e[Ic]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=Ug(s,n,r,o),-1<n&&(Ch(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=Hg(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ug(t,n,r,o)),(n=-1<e?t[e]:null)&&Kg(n))}function Kg(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Ic])Fg(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xx(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hg(t))?(Fg(n,e),n.b==0&&(n.src=null,t[Vg]=null)):Ch(e)}}}function xx(e){return e in Bg?Bg[e]:Bg[e]="on"+e}function kx(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Kg(e),n.call(r,t)}function y4(e,t){if(e.Y)return!0;if(!jg){if(!t)e:{t=["window","event"];for(var n=se,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new Sc(t,this),kx(e,t)}return kx(e,new Sc(t,this))}function Hg(e){return e=e[Vg],e instanceof Rh?e:null}var Gg="__closure_events_fn_"+(1e9*Math.random()>>>0);function zg(e){return typeof e=="function"?e:(e[Gg]||(e[Gg]=function(t){return e.handleEvent(t)}),e[Gg])}function Rn(){Mi.call(this),this.c=new Rh(this),this.J=this,this.C=null}en(Rn,Mi);Rn.prototype[Ic]=!0;Y=Rn.prototype;Y.addEventListener=function(e,t,n,r){qg(this,e,t,n,r)};Y.removeEventListener=function(e,t,n,r){Nx(this,e,t,n,r)};function It(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Mt(t,e);else if(t instanceof Mt)t.target=t.target||e;else{var o=t;t=new Mt(r,e),gx(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.a=n[s];o=Dh(u,r,!0,t)&&o}if(u=t.a=e,o=Dh(u,r,!0,t)&&o,o=Dh(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.a=n[s],o=Dh(u,r,!1,t)&&o}Y.G=function(){if(Rn.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ch(n[r]);delete e.a[t],e.b--}}this.C=null};Y.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};Y.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function Dh(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.Y&&u.capture==n){var c=u.listener,f=u.ca||u.src;u.Z&&Fg(e.c,u),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var Wg=se.JSON.stringify;function Ox(){this.b=this.a=null}var Px=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new $g},function(e){e.reset()});Ox.prototype.add=function(e,t){var n=Px.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function g4(){var e=Ax,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function $g(){this.next=this.b=this.a=null}$g.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};$g.prototype.reset=function(){this.next=this.b=this.a=null};function w4(e){se.setTimeout(function(){throw e},0)}function Cx(e,t){Yg||b4(),Xg||(Yg(),Xg=!0),Ax.add(e,t)}var Yg;function b4(){var e=se.Promise.resolve(void 0);Yg=function(){e.then(_4)}}var Xg=!1,Ax=new Ox;function _4(){for(var e;e=g4();){try{e.a.call(e.b)}catch(n){w4(n)}var t=Px;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Xg=!1}function Lh(e,t){Rn.call(this),this.b=e||1,this.a=t||se,this.f=Lt(this.Za,this),this.g=Fr()}en(Lh,Rn);Y=Lh.prototype;Y.aa=!1;Y.M=null;Y.Za=function(){if(this.aa){var e=Fr()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),It(this,"tick"),this.aa&&(Qg(this),this.start()))}};Y.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Fr())};function Qg(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}Y.G=function(){Lh.X.G.call(this),Qg(this),delete this.a};function Jg(e,t,n){if(typeof e=="function")n&&(e=Lt(e,n));else if(e&&typeof e.handleEvent=="function")e=Lt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:se.setTimeout(e,t||0)}function Rx(e){e.a=Jg(function(){e.a=null,e.c&&(e.c=!1,Rx(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var E4=function(e){JF(t,e);function t(n,r){var o=e.call(this)||this;return o.g=n,o.h=r,o.b=null,o.c=!1,o.a=null,o}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:Rx(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(se.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Mi);function xc(e){Mi.call(this),this.b=e,this.a={}}en(xc,Mi);var Dx=[];function Lx(e,t,n,r){Array.isArray(n)||(n&&(Dx[0]=n.toString()),n=Dx);for(var o=0;o<n.length;o++){var s=qg(t,n[o],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function Mx(e){Cg(e.a,function(t,n){this.a.hasOwnProperty(n)&&Kg(t)},e),e.a={}}xc.prototype.G=function(){xc.X.G.call(this),Mx(this)};xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zg(){this.a=!0}function T4(e,t,n,r,o,s){e.info(function(){if(e.a)if(s)for(var u="",c=s.split("&"),f=0;f<c.length;f++){var h=c[f].split("=");if(1<h.length){var d=h[0];h=h[1];var y=d.split("_");u=2<=y.length&&y[1]=="type"?u+(d+"="+h+"&"):u+(d+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function S4(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function ma(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+I4(e,n)+(r?" "+r:"")})}function x4(e,t){e.info(function(){return"TIMEOUT: "+t})}Zg.prototype.info=function(){};function I4(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return Wg(n)}catch(c){return t}}var ts={},jx=null;function Mh(){return jx=jx||new Rn}ts.Fa="serverreachability";function Ux(e){Mt.call(this,ts.Fa,e)}en(Ux,Mt);function Nc(e){var t=Mh();It(t,new Ux(t,e))}ts.STAT_EVENT="statevent";function Fx(e,t){Mt.call(this,ts.STAT_EVENT,e),this.stat=t}en(Fx,Mt);function rn(e){var t=Mh();It(t,new Fx(t,e))}ts.Ga="timingevent";function Vx(e){Mt.call(this,ts.Ga,e)}en(Vx,Mt);function kc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){e()},t)}var jh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Bx={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function qx(){}qx.prototype.a=null;function zx(e){var t;return(t=e.a)||(t=e.a={}),t}function Hx(){}var Oc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function e0(){Mt.call(this,"d")}en(e0,Mt);function t0(){Mt.call(this,"c")}en(t0,Mt);var Kx;function Gx(){}en(Gx,qx);Kx=new Gx;function Pc(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new xc(this),this.P=N4,e=Dg?125:void 0,this.R=new Lh(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var N4=45e3,Wx={},n0={};Y=Pc.prototype;Y.setTimeout=function(e){this.P=e};function r0(e,t,n){e.H=1,e.i=Uh(ci(t)),e.j=n,e.I=!0,$x(e,null)}function $x(e,t){e.u=Fr(),Ac(e),e.l=ci(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Yx(n.b,"t",r),e.D=0,e.a=Xx(e.g,e.g.C?t:null),0<e.O&&(e.F=new E4(Lt(e.Ca,e,e.a),e.O)),Lx(e.J,e.a,"readystatechange",e.Xa),t=e.B?vx(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Nc(1),T4(e.c,e.m,e.l,e.f,e.S,e.j)}Y.Xa=function(e){e=e.target;var t=this.F;t&&Ui(e)==3?t.f():this.Ca(e)};Y.Ca=function(e){try{if(e==this.a)e:{var t=Ui(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!Dg&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Nc(3):Nc(2)),Fh(this);var o=this.a.W();this.N=o;var s=this.a.$();if(this.b=o==200,S4(this.c,this.m,this.l,this.f,this.S,t,o),this.b){if(this.U&&!this.C){t:{if(this.a){var u,c=this.a;if((u=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nh(u)){var f=u;break t}}f=null}if(f)ma(this.c,this.f,f,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,i0(this,f);else{this.b=!1,this.h=3,rn(12),va(this),Vh(this);break e}}this.I?(Qx(this,t,s),Dg&&this.b&&t==3&&(Lx(this.J,this.R,"tick",this.Wa),this.R.start())):(ma(this.c,this.f,s,null),i0(this,s)),t==4&&va(this),this.b&&!this.A&&(t==4?Jx(this.g,this):(this.b=!1,Ac(this)))}else o==400&&0<s.indexOf("Unknown SID")?(this.h=3,rn(12)):(this.h=0,rn(13)),va(this),Vh(this)}}}catch(h){}finally{}};function Qx(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var o=k4(e,n);if(o==n0){t==4&&(e.h=4,rn(14),r=!1),ma(e.c,e.f,null,"[Incomplete Response]");break}else if(o==Wx){e.h=4,rn(15),ma(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else ma(e.c,e.f,o,null),i0(e,o)}t==4&&n.length==0&&(e.h=1,rn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),o0(t),t.F=!0,rn(11))):(ma(e.c,e.f,n,"[Invalid Chunked Response]"),va(e),Vh(e))}Y.Wa=function(){if(this.a){var e=Ui(this.a),t=this.a.$();this.D<t.length&&(Fh(this),Qx(this,e,t),this.b&&e!=4&&Ac(this))}};function k4(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?n0:(n=Number(t.substring(n,r)),isNaN(n)?Wx:(r+=1,r+n>t.length?n0:(t=t.substr(r,n),e.D=r+n,t)))}Y.cancel=function(){this.A=!0,va(this)};function Ac(e){e.T=Fr()+e.P,Zx(e,e.P)}function Zx(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=kc(Lt(e.Va,e),t)}function Fh(e){e.o&&(se.clearTimeout(e.o),e.o=null)}Y.Va=function(){this.o=null;var e=Fr();0<=e-this.T?(x4(this.c,this.l),this.H!=2&&(Nc(3),rn(17)),va(this),this.h=2,Vh(this)):Zx(this,this.T-e)};function Vh(e){e.g.v==0||e.A||Jx(e.g,e)}function va(e){Fh(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,Qg(e.R),Mx(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function i0(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||s0(n.b,e))){if(n.I=e.N,!e.C&&s0(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch(_){r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0)e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)zh(n),Bh(n);else break e;c0(n),rn(18)}else n.oa=o[1],0<n.oa-n.P&&37500>o[2]&&n.H&&n.o==0&&!n.m&&(n.m=kc(Lt(n.Sa,n),6e3));if(1>=eN(n.b)&&n.ea){try{n.ea()}catch(_){}n.ea=void 0}}else ns(n,11)}else if((e.C||n.a==e)&&zh(n),!Nh(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(o=t[r],n.P=o[0],o=o[1],n.v==2)if(o[0]=="c"){n.J=o[1],n.ga=o[2];var s=o[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var u=o[4];u!=null&&(n.pa=u,n.c.info("SVER="+n.pa));var c=o[5];if(c!=null&&typeof c=="number"&&0<c){var f=1.5*c;n.D=f,n.c.info("backChannelRequestTimeoutMs_="+f)}f=n;var h=e.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var y=f.b;!y.a&&(tn(d,"spdy")||tn(d,"quic")||tn(d,"h2"))&&(y.f=y.g,y.a=new Set,y.b&&(a0(y,y.b),y.b=null))}if(f.A){var v=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;v&&(f.na=v,je(f.B,f.A,v))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Fr()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),f=n;var E=e;if(f.la=rN(f,f.C?f.ga:null,f.fa),E.C){tN(f.b,E);var S=E,I=f.D;I&&S.setTimeout(I),S.o&&(Fh(S),Ac(S)),f.a=E}else nN(f);0<n.g.length&&qh(n)}else o[0]!="stop"&&o[0]!="close"||ns(n,7);else n.v==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?ns(n,7):u0(n):o[0]!="noop"&&n.f&&n.f.sa(o),n.o=0)}Nc(4)}catch(_){}}function O4(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(xg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function l0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(xg(e)||typeof e=="string")px(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(xg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=O4(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function ya(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ya)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Y=ya.prototype;Y.K=function(){f0(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};Y.L=function(){return f0(this),this.a.concat()};function f0(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];rs(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)r=e.a[t],rs(o,r)||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}Y.get=function(e,t){return rs(this.b,e)?this.b[e]:t};Y.set=function(e,t){rs(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};Y.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function rs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var iN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function P4(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function is(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof is){this.a=t!==void 0?t:e.a,Hh(this,e.f),this.j=e.j,Kh(this,e.c),Gh(this,e.h),this.g=e.g,t=e.b;var n=new Rc;n.c=t.c,t.a&&(n.a=new ya(t.a),n.b=t.b),oN(this,n),this.i=e.i}else e&&(n=String(e).match(iN))?(this.a=!!t,Hh(this,n[1]||"",!0),this.j=Cc(n[2]||""),Kh(this,n[3]||"",!0),Gh(this,n[4]),this.g=Cc(n[5]||"",!0),oN(this,n[6]||"",!0),this.i=Cc(n[7]||"")):(this.a=!!t,this.b=new Rc(null,this.a))}is.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Dc(t,sN,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Dc(t,sN,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Dc(n,n.charAt(0)=="/"?C4:A4,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Dc(n,R4)),e.join("")};function ci(e){return new is(e)}function Hh(e,t,n){e.f=n?Cc(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Kh(e,t,n){e.c=n?Cc(t,!0):t}function Gh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function oN(e,t,n){t instanceof Rc?(e.b=t,L4(e.b,e.a)):(n||(t=Dc(t,D4)),e.b=new Rc(t,e.a))}function je(e,t,n){e.b.set(t,n)}function Uh(e){return je(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Fr()).toString(36)),e}function M4(e){return e instanceof is?ci(e):new is(e,void 0)}function j4(e,t,n,r){var o=new is(null,void 0);return e&&Hh(o,e),t&&Kh(o,t),n&&Gh(o,n),r&&(o.g=r),o}function Cc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,U4),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function U4(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var sN=/[#\/\?@]/g,A4=/[#\?:]/g,C4=/[#\?]/g,D4=/[#\?@]/g,R4=/#/g;function Rc(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Fi(e){e.a||(e.a=new ya,e.b=0,e.c&&P4(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Y=Rc.prototype;Y.add=function(e,t){Fi(this),this.c=null,e=ga(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function aN(e,t){Fi(e),t=ga(e,t),rs(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,rs(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&f0(e)))}function uN(e,t){return Fi(e),t=ga(e,t),rs(e.a.b,t)}Y.forEach=function(e,t){Fi(this),this.a.forEach(function(n,r){px(n,function(o){e.call(t,o,r,this)},this)},this)};Y.L=function(){Fi(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};Y.K=function(e){Fi(this);var t=[];if(typeof e=="string")uN(this,e)&&(t=dx(t,this.a.get(ga(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=dx(t,e[n])}return t};Y.set=function(e,t){return Fi(this),this.c=null,e=ga(this,e),uN(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};Y.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function Yx(e,t,n){aN(e,t),0<n.length&&(e.c=null,e.a.set(ga(e,t),kg(n)),e.b+=n.length)}Y.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.c=e.join("&")};function ga(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function L4(e,t){t&&!e.f&&(Fi(e),e.c=null,e.a.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(aN(this,r),Yx(this,o,n))},e)),e.f=t}var F4=function(){function e(t,n){this.b=t,this.a=n}return e}();function cN(e){this.g=e||V4,se.PerformanceNavigationTiming?(e=se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(se.ia&&se.ia.ya&&se.ia.ya()&&se.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var V4=10;function lN(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function eN(e){return e.b?1:e.a?e.a.size:0}function s0(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function a0(e,t){e.a?e.a.add(t):e.b=t}function tN(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}cN.prototype.cancel=function(){var e,t;if(this.c=fN(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=fx(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function fN(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var o=fx(e.a.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.s)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return kg(e.c)}function h0(){}h0.prototype.stringify=function(e){return se.JSON.stringify(e,void 0)};h0.prototype.parse=function(e){return se.JSON.parse(e,void 0)};function B4(){this.a=new h0}function q4(e,t,n){var r=n||"";try{l0(e,function(o,s){var u=o;Tc(o)&&(u=Wg(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function z4(e,t){var n=new Zg;if(se.Image){var r=new Image;r.onload=xh(Wh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xh(Wh,n,r,"TestLoadImage: error",!1,t),r.onabort=xh(Wh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xh(Wh,n,r,"TestLoadImage: timeout",!1,t),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Wh(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(s){}}var H4=se.JSON.parse;function ct(e){Rn.call(this),this.headers=new ya,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=K4,this.D=this.F=!1}en(ct,Rn);var K4="",G4=/^https?$/i,W4=["POST","PUT"];Y=ct.prototype;Y.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?zx(this.H):zx(Kx),this.a.onreadystatechange=Lt(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){hN(this,s);return}e=n||"";var o=new ya(this.headers);r&&l0(r,function(s,u){o.set(u,s)}),r=s4(o.L()),n=se.FormData&&e instanceof se.FormData,!(0<=hx(W4,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.a.setRequestHeader(u,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{pN(this),0<this.o&&((this.D=$4(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Lt(this.xa,this)):this.m=Jg(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){hN(this,s)}};function $4(e){return ji&&Ex(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function o4(e){return e.toLowerCase()=="content-type"}Y.xa=function(){typeof Ig!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,It(this,"timeout"),this.abort(8))};function hN(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,dN(e),$h(e)}function dN(e){e.u||(e.u=!0,It(e,"complete"),It(e,"error"))}Y.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,It(this,"complete"),It(this,"abort"),$h(this))};Y.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),$h(this,!0)),ct.X.G.call(this)};Y.za=function(){this.j||(this.A||this.l||this.g?mN(this):this.Ua())};Y.Ua=function(){mN(this)};function mN(e){if(e.b&&typeof Ig!="undefined"&&(!e.s[1]||Ui(e)!=4||e.W()!=2)){if(e.l&&Ui(e)==4)Jg(e.za,0,e);else if(It(e,"readystatechange"),Ui(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.B).match(iN)[1]||null;if(!s&&se.self&&se.self.location){var u=se.self.location.protocol;s=u.substr(0,u.length-1)}o=!G4.test(s?s.toLowerCase():"")}r=o}var c=r}if(c)It(e,"complete"),It(e,"success");else{e.h=6;try{var f=2<Ui(e)?e.a.statusText:""}catch(h){f=""}e.f=f+" ["+e.W()+"]",dN(e)}}finally{$h(e)}}}}function $h(e,t){if(e.a){pN(e);var n=e.a,r=e.s[0]?Ih:null;e.a=null,e.s=null,t||It(e,"ready");try{n.onreadystatechange=r}catch(o){}}}function pN(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(se.clearTimeout(e.m),e.m=null)}function Ui(e){return e.a?e.a.readyState:0}Y.W=function(){try{return 2<Ui(this)?this.a.status:-1}catch(e){return-1}};Y.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}};Y.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),H4(t)}};Y.ua=function(){return this.h};Y.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function Y4(e){var t="";return Cg(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function p0(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Y4(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):je(e,t,n))}function Lc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vN(e){this.pa=0,this.g=[],this.c=new Zg,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lc("baseRetryDelayMs",5e3,e),this.Ra=Lc("retryDelaySeedMs",1e4,e),this.Ma=Lc("forwardChannelMaxRetries",2,e),this.ma=Lc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new cN(e&&e.concurrentRequestLimit),this.ka=new B4,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}Y=vN.prototype;Y.ha=8;Y.v=1;function u0(e){if(yN(e),e.v==3){var t=e.R++,n=ci(e.B);je(n,"SID",e.J),je(n,"RID",t),je(n,"TYPE","terminate"),Mc(e,n),t=new Pc(e,e.c,t,void 0),t.H=2,t.i=Uh(ci(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(t.i.toString(),"")),!n&&se.Image&&(new Image().src=t.i,n=!0),n||(t.a=Xx(t.g,null),t.a.ba(t.i)),t.u=Fr(),Ac(t)}gN(e)}function Bh(e){e.a&&(o0(e),e.a.cancel(),e.a=null)}function yN(e){Bh(e),e.j&&(se.clearTimeout(e.j),e.j=null),zh(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&se.clearTimeout(e.h),e.h=null)}function d0(e,t){e.g.push(new F4(e.Oa++,t)),e.v==3&&qh(e)}function qh(e){lN(e.b)||e.h||(e.h=!0,Cx(e.Ba,e),e.u=0)}function X4(e,t){return eN(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=kc(Lt(e.Ba,e,t),wN(e,e.u)),e.u++,!0)}Y.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Pc(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=vx(n),gx(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var o=r=0;o<this.g.length;o++){t:{var s=this.g[o];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.g.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=_N(this,t,r),o=ci(this.B),je(o,"RID",e),je(o,"CVER",22),this.A&&je(o,"X-HTTP-Session-Id",this.A),Mc(this,o),this.i&&n&&p0(o,this.i,n),a0(this.b,t),this.Ia&&je(o,"TYPE","init"),this.da?(je(o,"$req",r),je(o,"SID","null"),t.U=!0,r0(t,o,null)):r0(t,o,r),this.v=2}}else this.v==3&&(e?bN(this,e):this.g.length==0||lN(this.b)||bN(this))};function bN(e,t){var n;t?n=t.f:n=e.R++;var r=ci(e.B);je(r,"SID",e.J),je(r,"RID",n),je(r,"AID",e.P),Mc(e,r),e.i&&e.l&&p0(r,e.i,e.l),n=new Pc(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=_N(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),a0(e.b,n),r0(n,r,t)}function Mc(e,t){e.f&&l0({},function(n,r){je(t,r,n)})}function _N(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Lt(e.f.Ja,e.f,e):null;e:for(var o=e.g,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].b,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var h=o[f].b,d=o[f].a;if(h-=s,0>h)s=Math.max(0,o[f].b-100),c=!1;else try{q4(d,u,"req"+h+"_")}catch(y){r&&r(d)}}if(c){r=u.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function nN(e){e.a||e.j||(e.T=1,Cx(e.Aa,e),e.o=0)}function c0(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=kc(Lt(e.Aa,e),wN(e,e.o)),e.o++,!0)}Y.Aa=function(){if(this.j=null,EN(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=kc(Lt(this.Ta,this),e)}};Y.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,rn(10),Bh(this),EN(this))};function o0(e){e.s!=null&&(se.clearTimeout(e.s),e.s=null)}function EN(e){e.a=new Pc(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=ci(e.la);je(t,"RID","rpc"),je(t,"SID",e.J),je(t,"CI",e.H?"0":"1"),je(t,"AID",e.P),Mc(e,t),je(t,"TYPE","xmlhttp"),e.i&&e.l&&p0(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Uh(ci(t)),n.j=null,n.I=!0,$x(n,e)}Y.Sa=function(){this.m!=null&&(this.m=null,Bh(this),c0(this),rn(19))};function zh(e){e.m!=null&&(se.clearTimeout(e.m),e.m=null)}function Jx(e,t){var n=null;if(e.a==t){zh(e),o0(e),e.a=null;var r=2}else if(s0(e.b,t))n=t.s,tN(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Fr()-t.u;var o=e.u;r=Mh(),It(r,new Vx(r,n,t,o)),qh(e)}else nN(e);else if(o=t.h,o==3||o==0&&0<e.I||!(r==1&&X4(e,t)||r==2&&c0(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),o){case 1:ns(e,5);break;case 4:ns(e,10);break;case 3:ns(e,6);break;default:ns(e,2)}}}function wN(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ns(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Lt(e.Ya,e);n||(n=new is("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Hh(n,"https"),Uh(n)),z4(n.toString(),r)}else rn(2);e.v=0,e.f&&e.f.ra(t),gN(e),yN(e)}Y.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),rn(2)):(this.c.info("Failed to ping google.com"),rn(1))};function gN(e){e.v=0,e.I=-1,e.f&&((fN(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,kg(e.g),e.g.length=0),e.f.qa())}function rN(e,t,n){var r=M4(n);if(r.c!="")t&&Kh(r,t+"."+r.c),Gh(r,r.h);else{var o=se.location;r=j4(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.V&&Cg(e.V,function(s,u){je(r,u,s)}),t=e.A,n=e.na,t&&n&&je(r,t,n),je(r,"VER",e.ha),Mc(e,r),r}function Xx(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new ct(e.Na),t.F=e.C,t}function TN(){}Y=TN.prototype;Y.ta=function(){};Y.sa=function(){};Y.ra=function(){};Y.qa=function(){};Y.Ja=function(){};function Yh(){if(ji&&!(10<=Number(Tx)))throw Error("Environmental error: no available transport.")}Yh.prototype.a=function(e,t){return new Dn(e,t)};function Dn(e,t){Rn.call(this),this.a=new vN(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nh(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nh(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new wa(this)}en(Dn,Rn);Dn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;rn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=rN(e,null,e.fa),qh(e)};Dn.prototype.close=function(){u0(this.a)};Dn.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,d0(this.a,t)}else this.l?(t={},t.__data__=Wg(e),d0(this.a,t)):d0(this.a,e)};Dn.prototype.G=function(){this.a.f=null,delete this.f,u0(this.a),delete this.a,Dn.X.G.call(this)};function SN(e){e0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}en(SN,e0);function IN(){t0.call(this),this.status=1}en(IN,t0);function wa(e){this.a=e}en(wa,TN);wa.prototype.ta=function(){It(this.a,"a")};wa.prototype.sa=function(e){It(this.a,new SN(e))};wa.prototype.ra=function(e){It(this.a,new IN(e))};wa.prototype.qa=function(){It(this.a,"b")};Yh.prototype.createWebChannel=Yh.prototype.a;Dn.prototype.send=Dn.prototype.h;Dn.prototype.open=Dn.prototype.g;Dn.prototype.close=Dn.prototype.close;jh.NO_ERROR=0;jh.TIMEOUT=8;jh.HTTP_ERROR=6;Bx.COMPLETE="complete";Hx.EventType=Oc;Oc.OPEN="a";Oc.CLOSE="b";Oc.ERROR="c";Oc.MESSAGE="d";Rn.prototype.listen=Rn.prototype.va;ct.prototype.listenOnce=ct.prototype.wa;ct.prototype.getLastError=ct.prototype.Qa;ct.prototype.getLastErrorCode=ct.prototype.ua;ct.prototype.getStatus=ct.prototype.W;ct.prototype.getResponseJson=ct.prototype.Pa;ct.prototype.getResponseText=ct.prototype.$;ct.prototype.send=ct.prototype.ba;var xN=function(){return new Yh},NN=function(){return Mh()},Xh=jh,kN=Bx,ON=ts,m0={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},jc=Hx,PN=ct;var v0=function(e,t){return v0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},v0(e,t)};function ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");v0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function M(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function L(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ye(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var Ln=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Ln.o=-1;var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ee(t,e),t}(Error),Ir=new la("@firebase/firestore");function y0(){return Ir.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ir.logLevel<=de.DEBUG){var r=t.map(g0);Ir.debug.apply(Ir,Ye(["Firestore (8.4.2): "+e],r))}}function et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ir.logLevel<=de.ERROR){var r=t.map(g0);Ir.error.apply(Ir,Ye(["Firestore (8.4.2): "+e],r))}}function w0(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ir.logLevel<=de.WARN){var r=t.map(g0);Ir.warn.apply(Ir,Ye(["Firestore (8.4.2): "+e],r))}}function g0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function X(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+e;throw et(t),new Error(t)}function te(e,t){e||X()}function H(e,t){return e}function Q4(e){var t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var AN=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=Q4(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function fe(e,t){return e<t?-1:e>t?1:0}function ba(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function CN(e){return e+"\0"}var on=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new on(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function RN(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Uc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function DN(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var LN=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&X(),r===void 0?r=t.length-n:r>t.length-n&&X(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),we=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var c=u[s];if(c.indexOf("//")>=0)throw new F(A.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(LN),J4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,er=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return J4.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new F(A.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new F(A.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new F(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=h,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(u(),s++)}if(u(),c)throw new F(A.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(LN),_a=function(){function e(t){this.fields=t,t.sort(er.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ba(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),sn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return fe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();sn.EMPTY_BYTE_STRING=new sn("");var Z4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(e){if(te(!!e),typeof e=="string"){var t=0,n=Z4.exec(e);if(te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:tt(e.seconds),nanos:tt(e.nanos)}}function tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ea(e){return typeof e=="string"?sn.fromBase64String(e):sn.fromUint8Array(e)}function b0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function MN(e){var t=e.mapValue.fields.__previous_value__;return b0(t)?MN(t):t}function Fc(e){var t=Vi(e.mapValue.fields.__local_write_time__.timestampValue);return new on(t.seconds,t.nanos)}function os(e){return e==null}function Qh(e){return e===0&&1/e==-1/0}function jN(e){return typeof e=="number"&&Number.isInteger(e)&&!Qh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var J=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(we.fromString(t))},e.fromName=function(t){return new e(we.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&we.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return we.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new we(t.slice()))},e}();function Bi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?b0(e)?4:10:X()}function Vr(e,t){var n=Bi(e);if(n!==Bi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fc(e).isEqual(Fc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Vi(r.timestampValue),u=Vi(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Ea(r.bytesValue).isEqual(Ea(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return tt(r.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return tt(r.integerValue)===tt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=tt(r.doubleValue),u=tt(o.doubleValue);return s===u?Qh(s)===Qh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return ba(e.arrayValue.values||[],t.arrayValue.values||[],Vr);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(RN(s)!==RN(u))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Vr(s[c],u[c])))return!1;return!0}(e,t);default:return X()}}function Vc(e,t){return(e.values||[]).find(function(n){return Vr(n,t)})!==void 0}function Ta(e,t){var n=Bi(e),r=Bi(t);if(n!==r)return fe(n,r);switch(n){case 0:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=tt(o.integerValue||o.doubleValue),c=tt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(e,t);case 3:return UN(e.timestampValue,t.timestampValue);case 4:return UN(Fc(e),Fc(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Ea(o),c=Ea(s);return u.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),c=s.split("/"),f=0;f<u.length&&f<c.length;f++){var h=fe(u[f],c[f]);if(h!==0)return h}return fe(u.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=fe(tt(o.latitude),tt(s.latitude));return u!==0?u:fe(tt(o.longitude),tt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],c=s.values||[],f=0;f<u.length&&f<c.length;++f){var h=Ta(u[f],c[f]);if(h)return h}return fe(u.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var y=fe(c[d],h[d]);if(y!==0)return y;var v=Ta(u[c[d]],f[h[d]]);if(v!==0)return v}return fe(c.length,h.length)}(e.mapValue,t.mapValue);default:throw X()}}function UN(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);var n=Vi(e),r=Vi(t),o=fe(n.seconds,r.seconds);return o!==0?o:fe(n.nanos,r.nanos)}function E0(e){return _0(e)}function _0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Vi(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ea(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,J.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,c=r.values||[];u<c.length;u++)s?s=!1:o+=",",o+=_0(c[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,c=Object.keys(r.fields||{}).sort();u<c.length;u++){var f=c[u];s?s=!1:o+=",",o+=f+":"+_0(r.fields[f])}return o+"}"}(e.mapValue):X();var t,n}function Jh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function T0(e){return!!e&&"integerValue"in e}function S0(e){return!!e&&"arrayValue"in e}function FN(e){return!!e&&"nullValue"in e}function VN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function I0(e){return!!e&&"mapValue"in e}var Mn=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(er.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,o){r?n.set(o,r):n.delete(o)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return Vr(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,o=0;o<t.length-1;++o){var s=t.get(o),u=r.get(s);u instanceof Map?r=u:u&&Bi(u)===10?(u=new Map(Object.entries(u.mapValue.fields||{})),r.set(s,u),r=u):(u=new Map,r.set(s,u),r=u)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,o=!1,s=e.extractNestedValue(this.partialValue,t),u=I0(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,f){if(c instanceof Map){var h=r.applyOverlay(t.child(f),c);h!=null&&(u[f]=h,o=!0)}else c!==null?(u[f]=c,o=!0):u.hasOwnProperty(f)&&(delete u[f],o=!0)}),o?{mapValue:{fields:u}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(er.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,o=0;o<n.length-1;++o)if(!r.mapValue.fields||!I0(r=r.mapValue.fields[n.get(o)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function BN(e){var t=[];return Uc(e.fields||{},function(n,r){var o=new er([n]);if(I0(r)){var s=BN(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,c=s;u<c.length;u++){var f=c[u];t.push(o.child(f))}}else t.push(o)}),new _a(t)}var xt=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ue.min(),Mn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Mn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Mn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),eV=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};function qN(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new eV(e,t,n,r,o,s,u)}function Bc(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+E0(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Zh(t.startAt)),t.endAt&&(n+="|ub:",n+=Zh(t.endAt)),t.h=n}return t.h}function ep(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Vr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zN(e.startAt,t.startAt)&&zN(e.endAt,t.endAt)}function tp(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var jn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return ee(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new nV(n,r,o):r==="array-contains"?new oV(n,o):r==="in"?new sV(n,o):r==="not-in"?new aV(n,o):r==="array-contains-any"?new uV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new rV(n,o):new iV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ta(r,this.value)):r!==null&&Bi(this.value)===Bi(r)&&this.m(Ta(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return X()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),nV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=J.fromName(o.referenceValue),s}return ee(t,e),t.prototype.matches=function(n){var r=J.comparator(n.key,this.key);return this.m(r)},t}(jn),rV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=HN("in",r),o}return ee(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(jn),iV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=HN("not-in",r),o}return ee(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(jn);function HN(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return J.fromName(r.referenceValue)})}var oV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return S0(r)&&Vc(r.arrayValue,this.value)},t}(jn),sV=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Vc(this.value.arrayValue,r)},t}(jn),aV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ee(t,e),t.prototype.matches=function(n){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Vc(this.value.arrayValue,r)},t}(jn),uV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!S0(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Vc(r.value.arrayValue,s)})},t}(jn),qc=function(e,t){this.position=e,this.before=t};function Zh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return E0(t)}).join(",")}var Sa=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function tV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function KN(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?J.comparator(J.fromName(u.referenceValue),n.key):Ta(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function zN(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vr(e.position[n],t.position[n]))return!1;return!0}var li=function(e,t,n,r,o,s,u,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function GN(e,t,n,r,o,s,u,c){return new li(e,t,n,r,o,s,u,c)}function Ia(e){return new li(e)}function np(e){return!os(e.limit)&&e.limitType==="F"}function rp(e){return!os(e.limit)&&e.limitType==="L"}function x0(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function N0(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function k0(e){return e.collectionGroup!==null}function xa(e){var t=H(e);if(t.p===null){t.p=[];var n=N0(t),r=x0(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Sa(n)),t.p.push(new Sa(er.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var c=u[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Sa(er.keyField(),f))}}}return t.p}function tr(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=qN(t.path,t.collectionGroup,xa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=xa(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Sa(s.field,u))}var c=t.endAt?new qc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new qc(t.startAt.position,!t.startAt.before):null;t.T=qN(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function WN(e,t,n){return new li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zc(e,t){return ep(tr(e),tr(t))&&e.limitType===t.limitType}function $N(e){return Bc(tr(e))+"|lt:"+e.limitType}function O0(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+E0(o.value);var o}).join(", ")+"]"),os(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Zh(t.startAt)),t.endAt&&(n+=", endAt: "+Zh(t.endAt)),"Target("+n+")"}(tr(e))+"; limitType="+e.limitType+")"}function Hc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):J.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!KN(n.startAt,xa(n),r))&&(!n.endAt||!KN(n.endAt,xa(n),r))}(e,t)}function YN(e){return function(t,n){for(var r=!1,o=0,s=xa(e);o<s.length;o++){var u=s[o],c=cV(u,t,n);if(c!==0)return c;r=r||u.field.isKeyField()}return 0}}function cV(e,t,n){var r=e.field.isKeyField()?J.comparator(t.key,n.key):function(o,s,u){var c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Ta(c,f):X()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}function XN(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function QN(e){return{integerValue:""+e}}function JN(e,t){return jN(t)?QN(t):XN(e,t)}var ip=function(){this._=void 0};function lV(e,t,n){return e instanceof Na?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof ss?ek(e,t):e instanceof as?tk(e,t):function(r,o){var s=ZN(r,o),u=nk(s)+nk(r.A);return T0(s)&&T0(r.A)?QN(u):XN(r.R,u)}(e,t)}function fV(e,t,n){return e instanceof ss?ek(e,t):e instanceof as?tk(e,t):n}function ZN(e,t){return e instanceof ka?T0(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Na=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t}(ip),ss=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ee(t,e),t}(ip);function ek(e,t){for(var n=rk(t),r=function(u){n.some(function(c){return Vr(c,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var as=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ee(t,e),t}(ip);function tk(e,t){for(var n=rk(t),r=function(u){n=n.filter(function(c){return!Vr(c,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var ka=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return ee(t,e),t}(ip);function nk(e){return tt(e.integerValue||e.doubleValue)}function rk(e){return S0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Kc=function(e,t){this.field=e,this.transform=t},hV=function(e,t){this.version=e,this.transformResults=t},jt=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function op(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var sp=function(){};function pV(e,t,n){e instanceof Gc?function(r,o,s){var u=r.value.clone(),c=ok(r.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof qi?function(r,o,s){if(op(r.precondition,o)){var u=ok(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(ik(r)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function P0(e,t,n){e instanceof Gc?function(r,o,s){if(op(r.precondition,o)){var u=r.value.clone(),c=ak(r.fieldTransforms,s,o);u.setAll(c),o.convertToFoundDocument(sk(o),u).setHasLocalMutations()}}(e,t,n):e instanceof qi?function(r,o,s){if(op(r.precondition,o)){var u=ak(r.fieldTransforms,s,o),c=o.data;c.setAll(ik(r)),c.setAll(u),o.convertToFoundDocument(sk(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){op(r.precondition,o)&&o.convertToNoDocument(ue.min())}(e,t)}function dV(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),c=ZN(s.transform,u||null);c!=null&&(n==null&&(n=Mn.empty()),n.set(s.field,c))}return n||null}function uk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ba(n,r,function(o,s){return function(u,c){return u.field.isEqual(c.field)&&function(f,h){return f instanceof ss&&h instanceof ss||f instanceof as&&h instanceof as?ba(f.elements,h.elements,Vr):f instanceof ka&&h instanceof ka?Vr(f.A,h.A):f instanceof Na&&h instanceof Na}(u.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function sk(e){return e.isFoundDocument()?e.version:ue.min()}var Gc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return ee(t,e),t}(sp),qi=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=u,c.type=1,c}return ee(t,e),t}(sp);function ik(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function ok(e,t,n){var r=new Map;te(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,fV(u,c,n[o]))}return r}function ak(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],c=u.transform,f=n.data.field(u.field);r.set(u.field,lV(c,f,t))}return r}var nt,pe,Wc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return ee(t,e),t}(sp),A0=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return ee(t,e),t}(sp),mV=function(e){this.count=e};function ck(e){switch(e){case A.OK:return X();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return X()}}function lk(e){if(e===void 0)return et("GRPC error has no .code"),A.UNKNOWN;switch(e){case nt.OK:return A.OK;case nt.CANCELLED:return A.CANCELLED;case nt.UNKNOWN:return A.UNKNOWN;case nt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case nt.INTERNAL:return A.INTERNAL;case nt.UNAVAILABLE:return A.UNAVAILABLE;case nt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case nt.NOT_FOUND:return A.NOT_FOUND;case nt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case nt.ABORTED:return A.ABORTED;case nt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case nt.DATA_LOSS:return A.DATA_LOSS;default:return X()}}(pe=nt||(nt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var Ut=function(){function e(t,n){this.comparator=t,this.root=n||zi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ap(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ap(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ap(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ap(this.root,t,this.comparator,!0)},e}(),ap=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),zi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();var t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)},e}();zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw X()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new zi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var lt=function(){function e(t){this.comparator=t,this.data=new Ut(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new fk(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new fk(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),fk=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),vV=new Ut(J.comparator);function nr(){return vV}var yV=new Ut(J.comparator);function C0(){return yV}var gV=new Ut(J.comparator);function hk(){return gV}var wV=new lt(J.comparator);function Ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=wV,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var bV=new lt(fe);function up(){return bV}var D0=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,R0.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ue.min(),r,up(),nr(),Ie())},e}(),R0=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(sn.EMPTY_BYTE_STRING,n,Ie(),Ie(),Ie())},e}(),cp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},pk=function(e,t){this.targetId=e,this.V=t},dk=function(e,t,n,r){n===void 0&&(n=sn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},vk=function(){function e(){this.S=0,this.D=mk(),this.C=sn.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Ie(),n=Ie(),r=Ie();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:X()}}),new R0(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=mk()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),_V=function(){function e(t){this.W=t,this.G=new Map,this.H=nr(),this.J=yk(),this.Y=new lt(fe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.$(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.$(t.resumeToken);break;case 2:o.K(),o.k||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.$(t.resumeToken));break;default:X()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(tp(s))if(r===0){var u=new J(s.path);this.tt(n,u,xt.newNoDocument(u,ue.min()))}else te(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,c){var f=n.ot(c);if(f){if(u.current&&tp(f.target)){var h=new J(f.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,xt.newNoDocument(h,t))}u.O&&(r.set(c,u.M()),u.L())}});var o=Ie();this.J.forEach(function(u,c){var f=!0;c.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new D0(t,r,this.Y,this.H,o);return this.H=nr(),this.J=yk(),this.Y=new lt(fe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new vk,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new lt(fe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new vk),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function yk(){return new Ut(J.comparator)}function mk(){return new Ut(J.comparator)}var EV={asc:"ASCENDING",desc:"DESCENDING"},TV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SV=function(e,t){this.databaseId=e,this.I=t};function $c(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function gk(e,t){return e.I?t.toBase64():t.toUint8Array()}function IV(e,t){return $c(e,t.toTimestamp())}function Nt(e){return te(!!e),ue.fromTimestamp(function(t){var n=Vi(t);return new on(n.seconds,n.nanos)}(e))}function L0(e,t){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function bk(e){var t=we.fromString(e);return te(wk(t)),t}function Yc(e,t){return L0(e.databaseId,t.path)}function Br(e,t){var n=bk(t);if(n.get(1)!==e.databaseId.projectId)throw new F(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(_k(n))}function M0(e,t){return L0(e.databaseId,t)}function Ek(e){var t=bk(e);return t.length===4?we.emptyPath():_k(t)}function Xc(e){return new we(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _k(e){return te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Tk(e,t,n){return{name:Yc(e,t),fields:n.toProto().mapValue.fields}}function Sk(e,t,n){var r=Br(e,t.name),o=Nt(t.updateTime),s=new Mn({mapValue:{fields:t.fields}}),u=xt.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function lp(e,t){var n;if(t instanceof Gc)n={update:Tk(e,t.key,t.value)};else if(t instanceof Wc)n={delete:Yc(e,t.key)};else if(t instanceof qi)n={update:Tk(e,t.key,t.data),updateMask:xV(t.fieldMask)};else{if(!(t instanceof A0))return X();n={verify:Yc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof Na)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof as)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ka)return{fieldPath:s.field.canonicalString(),increment:u.A};throw X()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:IV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(e,t.precondition)),n}function Ik(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?jt.updateTime(Nt(h.updateTime)):h.exists!==void 0?jt.exists(h.exists):jt.none()}(t.currentDocument):jt.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,y){var v=null;if("setToServerValue"in y)te(y.setToServerValue==="REQUEST_TIME"),v=new Na;else if("appendMissingElements"in y){var E=y.appendMissingElements.values||[];v=new ss(E)}else if("removeAllFromArray"in y){var S=y.removeAllFromArray.values||[];v=new as(S)}else"increment"in y?v=new ka(d,y.increment):X();var I=er.fromServerFormat(y.fieldPath);return new Kc(I,v)}(e,h)}):[];if(t.update){t.update.name;var o=Br(e,t.update.name),s=new Mn({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(h){var d=h.fieldPaths||[];return new _a(d.map(function(y){return er.fromServerFormat(y)}))}(t.updateMask);return new qi(o,s,u,n,r)}return new Gc(o,s,n,r)}if(t.delete){var c=Br(e,t.delete);return new Wc(c,n)}if(t.verify){var f=Br(e,t.verify);return new A0(f,n)}return X()}function xk(e,t){return{documents:[M0(e,t.path)]}}function kk(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=M0(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=M0(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(h){return function(d){if(d.op==="=="){if(VN(d.value))return{unaryFilter:{field:Oa(d.field),op:"IS_NAN"}};if(FN(d.value))return{unaryFilter:{field:Oa(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(VN(d.value))return{unaryFilter:{field:Oa(d.field),op:"IS_NOT_NAN"}};if(FN(d.value))return{unaryFilter:{field:Oa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(d.field),op:kV(d.op),value:d.value}}}(h)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(h){return{field:Oa(h.field),direction:NV(h.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(c,f){return c.I||os(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=Nk(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Nk(t.endAt)),n}function Ak(e){var t=Ek(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){te(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=Ok(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(y){return function(v){return new Sa(Pa(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y)}));var f=null;n.limit&&(f=function(y){var v;return os(v=typeof y=="object"?y.value:y)?null:v}(n.limit));var h=null;n.startAt&&(h=Pk(n.startAt));var d=null;return n.endAt&&(d=Pk(n.endAt)),GN(t,o,c,u,f,"F",h,d)}function Ok(e){return e?e.unaryFilter!==void 0?[PV(e)]:e.fieldFilter!==void 0?[OV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Ok(t)}).reduce(function(t,n){return t.concat(n)}):X():[]}function Nk(e){return{before:e.before,values:e.position}}function Pk(e){var t=!!e.before,n=e.values||[];return new qc(n,t)}function NV(e){return EV[e]}function kV(e){return TV[e]}function Oa(e){return{fieldPath:e.canonicalString()}}function Pa(e){return er.fromServerFormat(e.fieldPath)}function OV(e){return jn.create(Pa(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}function PV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Pa(e.unaryFilter.field);return jn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Pa(e.unaryFilter.field);return jn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pa(e.unaryFilter.field);return jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Pa(e.unaryFilter.field);return jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return X()}}function xV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function wk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function xr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ck(t)),t=AV(e.get(n),t);return Ck(t)}function AV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Ck(e){return e+""}function fi(e){var t=e.length;if(te(t>=2),t===2)return te(e.charAt(0)===""&&e.charAt(1)===""),we.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&X(),e.charAt(u+1)){case"":var c=e.substring(s,u),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:X()}s=u+2}return new we(r)}var CV=function(e,t){this.seconds=e,this.nanoseconds=t},Un=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Un.store="owner",Un.key="owner";var Hi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Hi.store="mutationQueues",Hi.keyPath="userId";var Ce=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Ce.store="mutations",Ce.keyPath="batchId",Ce.userMutationsIndex="userMutationsIndex",Ce.userMutationsKeyPath=["userId","batchId"];var Ft=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,xr(n)]},e.key=function(t,n,r){return[t,xr(n),r]},e}();Ft.store="documentMutations",Ft.PLACEHOLDER=new Ft;var RV=function(e,t){this.path=e,this.readTime=t},DV=function(e,t){this.path=e,this.version=t},ze=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};ze.store="remoteDocuments",ze.readTimeIndex="readTimeIndex",ze.readTimeIndexPath="readTime",ze.collectionReadTimeIndex="collectionReadTimeIndex",ze.collectionReadTimeIndexPath=["parentPath","readTime"];var qr=function(e){this.byteSize=e};qr.store="remoteDocumentGlobal",qr.key="remoteDocumentGlobalKey";var wn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};wn.store="targets",wn.keyPath="targetId",wn.queryTargetsIndexName="queryTargetsIndex",wn.queryTargetsKeyPath=["canonicalId","targetId"];var kt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};kt.store="targetDocuments",kt.keyPath=["targetId","path"],kt.documentTargetsIndex="documentTargetsIndex",kt.documentTargetsKeyPath=["path","targetId"];var Fn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fn.key="targetGlobalKey",Fn.store="targetGlobal";var us=function(e,t){this.collectionId=e,this.parent=t};us.store="collectionParents",us.keyPath=["collectionId","parent"];var hi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};hi.store="clientMetadata",hi.keyPath="clientId";var Aa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Aa.store="bundles",Aa.keyPath="bundleId";var Ca=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ca.store="namedQueries",Ca.keyPath="name";var LV=Ye(Ye([],Ye(Ye([],Ye(Ye([],Ye(Ye([],[Hi.store,Ce.store,Ft.store,ze.store,wn.store,Un.store,Fn.store,kt.store]),[hi.store])),[qr.store])),[us.store])),[Aa.store,Ca.store]),Rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dk=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),an=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(c){++o,c.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(c){return c?e.resolve(c):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),Lk=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new an,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Qc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=j0(o.target.error);r.ft.reject(new Qc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Qc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new MV(n)},e}(),Ra=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ai())===12.2&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),cs(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB=="undefined")return!1;if(e.gt())return!0;var t=Ai(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process!="undefined"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return M(this,void 0,void 0,function(){var n,r=this;return L(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var h=f.target.result;s(h)},c.onblocked=function(){u(new Qc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var h=f.target.error;h.name==="VersionError"?u(new F(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Qc(t,h))},c.onupgradeneeded=function(f){z("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var h=f.target.result;r.wt.Rt(h,c.transaction,f.oldVersion,r.version).next(function(){z("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return M(this,void 0,void 0,function(){var s,u,c,f,h;return L(this,function(d){switch(d.label){case 0:s=n==="readonly",u=0,c=function(){var y,v,E,S,I;return L(this,function(_){switch(_.label){case 0:++u,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=_.sent(),y=Lk.open(f.db,t,s?"readonly":"readwrite",r),v=o(y).catch(function(b){return y.abort(b),V.reject(b)}).toPromise(),E={},v.catch(function(){}),[4,y.dt];case 3:return[2,(E.value=(_.sent(),v),E)];case 4:return S=_.sent(),I=S.name!=="FirebaseError"&&u<3,z("SimpleDb","Transaction failed with error:",S.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(S)}];case 5:return[2]}})},f=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),jV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return cs(this.Pt.delete())},e}(),Qc=function(e){function t(n,r){var o=this;return(o=e.call(this,A.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return ee(t,e),t}(F);function ls(e){return e.name==="IndexedDbTransactionError"}var MV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),cs(r)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),cs(this.store.add(t))},e.prototype.get=function(t){var n=this;return cs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),z("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),cs(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),cs(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.Ft=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var o=this.cursor(r);return this.xt(o,function(s,u,c){return c.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.$t=function(t){var n=this.cursor({});return new V(function(r,o){n.onerror=function(s){var u=j0(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(c){c?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var c=u.target.result;if(c){var f=new jV(c),h=n(c.primaryKey,c.value,f);if(h instanceof V){var d=h.catch(function(y){return f.done(),V.reject(y)});r.push(d)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function cs(e){return new V(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=j0(r.target.error);n(o)}})}var Mk=!1;function j0(e){var t=Ra._t(Ai());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Mk||(Mk=!0,setTimeout(function(){throw r},0)),r}}return e}var jk=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return ee(t,e),t}(Dk);function bn(e,t){var n=H(e);return Ra.It(n.Mt,t)}var U0=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&pV(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&P0(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&P0(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ie())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ba(this.mutations,t.mutations,function(n,r){return uk(n,r)})&&ba(this.baseMutations,t.baseMutations,function(n,r){return uk(n,r)})},e}(),UV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){te(t.mutations.length===r.length);for(var o=hk(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),fp=function(){function e(t,n,r,o,s,u,c){s===void 0&&(s=ue.min()),u===void 0&&(u=ue.min()),c===void 0&&(c=sn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Uk=function(e){this.Lt=e};function F0(e,t){if(t.document)return Sk(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=J.fromSegments(t.noDocument.path),r=Da(t.noDocument.readTime),o=xt.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=J.fromSegments(t.unknownDocument.path);return r=Da(t.unknownDocument.version),xt.newUnknownDocument(s,r)}return X()}function Fk(e,t,n){var r=V0(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(y,v){return{name:Yc(y,v.key),fields:v.data.toProto().mapValue.fields,updateTime:$c(y,v.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new ze(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=La(t.version);return u=t.hasCommittedMutations,new ze(null,new RV(c,f),null,u,r,o)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=La(t.version);return new ze(new DV(h,d),null,null,!0,r,o)}return X()}function V0(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Vk(e){var t=new on(e[0],e[1]);return ue.fromTimestamp(t)}function La(e){var t=e.toTimestamp();return new CV(t.seconds,t.nanoseconds)}function Da(e){var t=new on(e.seconds,e.nanoseconds);return ue.fromTimestamp(t)}function Ma(e,t){for(var n=(t.baseMutations||[]).map(function(f){return Ik(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return Ik(e.Lt,f)}),c=on.fromMillis(t.localWriteTimeMs);return new U0(t.batchId,c,n,u)}function Jc(e){var t,n,r=Da(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Da(e.lastLimboFreeSnapshotVersion):ue.min();return e.query.documents!==void 0?(te((n=e.query).documents.length===1),t=tr(Ia(Ek(n.documents[0])))):t=function(s){return tr(Ak(s))}(e.query),new fp(t,e.targetId,0,e.lastListenSequenceNumber,r,o,sn.fromBase64String(e.resumeToken))}function Bk(e,t){var n,r=La(t.snapshotVersion),o=La(t.lastLimboFreeSnapshotVersion);n=tp(t.target)?xk(e.Lt,t.target):kk(e.Lt,t.target);var s=t.resumeToken.toBase64();return new wn(t.targetId,Bc(t.target),r,s,t.sequenceNumber,o,n)}function B0(e){var t=Ak({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?WN(t,t.limit,"L"):t}var FV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return qk(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Da(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return qk(t).put({bundleId:(r=n).id,createTime:La(Nt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return zk(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:B0(o.bundledQuery),readTime:Da(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return zk(t).put(function(r){return{name:r.name,readTime:La(Nt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function qk(e){return bn(e,Aa.store)}function zk(e){return bn(e,Ca.store)}var VV=function(){function e(){this.Bt=new q0}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),q0=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new lt(we.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new lt(we.comparator)).toArray()},e}(),BV=function(){function e(){this.qt=new q0}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:xr(s)};return Hk(t).put(u)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[CN(n),""],!1,!0);return Hk(t).Nt(o).next(function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(f.collectionId!==n)break;r.push(fi(f.parent))}return r})},e}();function Hk(e){return bn(e,us.store)}var Kk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Gk(e,t,n){var r=e.store(Ce.store),o=e.store(Ft.store),s=[],u=IDBKeyRange.only(n.batchId),c=0,f=r.Ot({range:u},function(S,I,_){return c++,_.delete()});s.push(f.next(function(){te(c===1)}));for(var h=[],d=0,y=n.mutations;d<y.length;d++){var v=y[d],E=Ft.key(t,v.key.path,n.batchId);s.push(o.delete(E)),h.push(v.key)}return V.waitFor(s).next(function(){return h})}function hp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw X();t=e.noDocument}return JSON.stringify(t).length}zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);var qV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Qt={}}return e.Kt=function(t,n,r,o){return te(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ki(t).Ot({index:Ce.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=ja(t),c=Ki(t);return c.add({}).next(function(f){te(typeof f=="number");for(var h=new U0(f,n,r,o),d=function(b,T,N){var k=N.baseMutations.map(function(P){return lp(b.Lt,P)}),C=N.mutations.map(function(P){return lp(b.Lt,P)});return new Ce(T,N.batchId,N.localWriteTime.toMillis(),k,C)}(s.R,s.userId,h),y=[],v=new lt(function(b,T){return fe(b.canonicalString(),T.canonicalString())}),E=0,S=o;E<S.length;E++){var I=S[E],_=Ft.key(s.userId,I.key.path,f);v=v.add(I.key.path.popLast()),y.push(c.put(d)),y.push(u.put(_,Ft.PLACEHOLDER))}return v.forEach(function(b){y.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Qt[f]=h.keys()}),V.waitFor(y).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ki(t).get(n).next(function(o){return o?(te(o.userId===r.userId),Ma(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?V.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Ki(t).Ot({index:Ce.userMutationsIndex,range:s},function(c,f,h){f.userId===r.userId&&(te(f.batchId>=o),u=Ma(r.R,f)),h.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ki(t).Ot({index:Ce.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ki(t).Nt(Ce.userMutationsIndex,r).next(function(o){return o.map(function(s){return Ma(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=Ft.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return ja(t).Ot({range:s},function(c,f,h){var d=c[0],y=c[1],v=c[2],E=fi(y);if(d===r.userId&&n.path.isEqual(E))return Ki(t).get(v).next(function(S){if(!S)throw X();te(S.userId===r.userId),u.push(Ma(r.R,S))});h.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new lt(fe),s=[];return n.forEach(function(u){var c=Ft.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(c),h=ja(t).Ot({range:f},function(d,y,v){var E=d[0],S=d[1],I=d[2],_=fi(S);E===r.userId&&u.path.isEqual(_)?o=o.add(I):v.done()});s.push(h)}),V.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=Ft.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(u),f=new lt(fe);return ja(t).Ot({range:c},function(h,d,y){var v=h[0],E=h[1],S=h[2],I=fi(E);v===r.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(S)):y.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Ki(t).get(u).next(function(c){if(c===null)throw X();te(c.userId===r.userId),o.push(Ma(r.R,c))}))}),V.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Gk(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var o=IDBKeyRange.lowerBound(Ft.prefixForUser(n.userId)),s=[];return ja(t).Ot({range:o},function(u,c,f){if(u[0]===n.userId){var h=fi(u[1]);s.push(h)}else f.done()}).next(function(){te(s.length===0)})})},e.prototype.containsKey=function(t,n){return Wk(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return $k(t).get(this.userId).next(function(r){return r||new Hi(n.userId,-1,"")})},e}();function Wk(e,t,n){var r=Ft.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return ja(e).Ot({range:s,kt:!0},function(c,f,h){var d=c[0],y=c[1];c[2],d===t&&y===o&&(u=!0),h.done()}).next(function(){return u})}function Ki(e){return bn(e,Ce.store)}function ja(e){return bn(e,Ft.store)}function $k(e){return bn(e,Hi.store)}var pp=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),zV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new pp(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ue.fromTimestamp(new on(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ua(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return te(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return Ua(t).Ot(function(c,f){var h=Jc(f);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,u.push(o.removeTargetData(t,h)))}).next(function(){return V.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ua(t).Ot(function(r,o){var s=Jc(o);n(s)})},e.prototype.Xt=function(t){return Yk(t).get(Fn.key).next(function(n){return te(n!==null),n})},e.prototype.Zt=function(t,n){return Yk(t).put(Fn.key,n)},e.prototype.te=function(t,n){return Ua(t).put(Bk(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Bc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ua(t).Ot({range:o,index:wn.queryTargetsIndexName},function(u,c,f){var h=Jc(c);ep(n,h.target)&&(s=h,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Gi(t);return n.forEach(function(c){var f=xr(c.path);s.push(u.put(new kt(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),V.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Gi(t);return V.forEach(n,function(u){var c=xr(u.path);return V.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Gi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Gi(t),s=Ie();return o.Ot({range:r,kt:!0},function(u,c,f){var h=fi(u[1]),d=new J(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=xr(n.path),o=IDBKeyRange.bound([r],[CN(r)],!1,!0),s=0;return Gi(t).Ot({index:kt.documentTargetsIndex,kt:!0,range:o},function(u,c,f){var h=u[0];u[1],h!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ua(t).get(n).next(function(r){return r?Jc(r):null})},e}();function Ua(e){return bn(e,wn.store)}function Yk(e){return bn(e,Fn.store)}function Gi(e){return bn(e,kt.store)}function fs(e){return M(this,void 0,void 0,function(){return L(this,function(t){if(e.code!==A.FAILED_PRECONDITION||e.message!==Rk)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Xk(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=fe(n,o);return u===0?fe(r,s):u}var HV=function(){function e(t){this.ne=t,this.buffer=new lt(Xk),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Xk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),KV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return M(n,void 0,void 0,function(){var o;return L(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ls(o=s.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,fs(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),GV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(Ln.o);var o=new HV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(Kk)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Kk):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,c,f,h,d=this,y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>d.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+v),o=d.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),d.nthSequenceNumber(t,o)}).next(function(v){return r=v,c=Date.now(),d.removeTargets(t,r,n)}).next(function(v){return s=v,f=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(v){return h=Date.now(),y0()<=de.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-y)+`ms
	Determined least recently used `+o+" in "+(c-u)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+v+" documents in "+(h-f)+`ms
Total Duration: `+(h-y)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:v})})},e}(),WV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new GV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return dp(t,r)},e.prototype.removeReference=function(t,n,r){return dp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return dp(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return $k(r).$t(function(u){return Wk(r,u,o).next(function(c){return c&&(s=!0),V.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(c,f){if(f<=n){var h=r._e(t,c).next(function(d){if(!d)return u++,o.getEntry(t,c).next(function(){return o.removeEntry(c),Gi(t).delete([0,xr(c.path)])})});s.push(h)}}).next(function(){return V.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return dp(t,n)},e.prototype.we=function(t,n){var r,o=Gi(t),s=Ln.o;return o.Ot({index:kt.documentTargetsIndex},function(u,c){var f=u[0],h=(u[1],c.path),d=c.sequenceNumber;f===0?(s!==Ln.o&&n(new J(fi(r)),s),s=d,r=h):s=Ln.o}).next(function(){s!==Ln.o&&n(new J(fi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function dp(e,t){return Gi(e).put(function(n,r){return new kt(0,xr(n.path),r)}(t,e.currentSequenceNumber))}var Fa=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Uc(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];t(c,f)}})},e.prototype.isEmpty=function(){return DN(this.inner)},e}(),Qk=function(){function e(){this.changes=new Fa(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:xt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),YV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Wi(t).put(mp(n),r)},e.prototype.removeEntry=function(t,n){var r=Wi(t),o=mp(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Wi(t).get(mp(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Wi(t).get(mp(n)).next(function(o){return{document:r.ye(n,o),size:hp(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=nr();return this.pe(t,n,function(s,u){var c=r.ye(s,u);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=nr(),s=new Ut(J.comparator);return this.pe(t,n,function(u,c){var f=r.ye(u,c);o=o.insert(u,f),s=s.insert(u,hp(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Wi(t).Ot({range:o},function(c,f,h){for(var d=J.fromSegments(c);u&&J.comparator(u,d)<0;)r(u,null),u=s.getNext();u&&u.isEqual(d)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?h.Ct(u.path.toArray()):h.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=nr(),u=n.path.length+1,c={};if(r.isEqual(ue.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var h=n.path.toArray(),d=V0(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=ze.collectionReadTimeIndex}return Wi(t).Ot(c,function(y,v,E){if(y.length===u){var S=F0(o.R,v);n.path.isPrefixOf(S.key.path)?Hc(n,S)&&(s=s.insert(S.key,S)):E.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new $V(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Jk(t).get(qr.key).next(function(n){return te(!!n),n})},e.prototype.me=function(t,n){return Jk(t).put(qr.key,n)},e.prototype.ye=function(t,n){if(n){var r=F0(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ue.min()))return r}return xt.newInvalidDocument(t)},e}(),$V=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Fa(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return ee(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new lt(function(c,f){return fe(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var h=r.Ae.get(c);if(f.document.isValidDocument()){var d=Fk(r.Ie.R,f.document,r.getReadTime(c));u=u.add(c.path.popLast());var y=hp(d);s+=y-h,o.push(r.Ie.addEntry(n,c,d))}else if(s-=h,r.trackRemovals){var v=Fk(r.Ie.R,xt.newNoDocument(c,ue.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,v))}else o.push(r.Ie.removeEntry(n,c))}),u.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),V.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),u})},t}(Qk);function Jk(e){return bn(e,qr.store)}function Wi(e){return bn(e,ze.store)}function mp(e){return e.path.toArray()}var XV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;te(r<o&&r>=0&&o<=11);var u=new Lk("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Un.store)}(t),function(f){f.createObjectStore(Hi.store,{keyPath:Hi.keyPath}),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Ft.store)}(t),Zk(t),function(f){f.createObjectStore(ze.store)}(t));var c=V.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(kt.store),f.deleteObjectStore(wn.store),f.deleteObjectStore(Fn.store)}(t),Zk(t)),c=c.next(function(){return function(f){var h=f.store(Fn.store),d=new Fn(0,0,ue.min().toTimestamp(),0);return h.put(Fn.key,d)}(u)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,h){return h.store(Ce.store).Nt().next(function(d){f.deleteObjectStore(Ce.store),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0});var y=h.store(Ce.store),v=d.map(function(E){return y.put(E)});return V.waitFor(v)})}(t,u)})),c=c.next(function(){(function(f){f.createObjectStore(hi.store,{keyPath:hi.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(u)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(qr.store)}(t),s.be(u)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(u)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var h=f.objectStore(ze.store);h.createIndex(ze.readTimeIndex,ze.readTimeIndexPath,{unique:!1}),h.createIndex(ze.collectionReadTimeIndex,ze.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(u)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(Aa.store,{keyPath:Aa.keyPath})})(t),function(f){f.createObjectStore(Ca.store,{keyPath:Ca.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(ze.store).Ot(function(r,o){n+=hp(o)}).next(function(){var r=new qr(n);return t.store(qr.store).put(qr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Hi.store),o=t.store(Ce.store);return r.Nt().next(function(s){return V.forEach(s,function(u){var c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(Ce.userMutationsIndex,c).next(function(f){return V.forEach(f,function(h){te(h.userId===u.userId);var d=Ma(n.R,h);return Gk(t,u.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(kt.store),r=t.store(ze.store);return t.store(Fn.store).get(Fn.key).next(function(o){var s=[];return r.Ot(function(u,c){var f=new we(u),h=function(d){return[0,xr(d)]}(f);s.push(n.get(h).next(function(d){return d?V.resolve():function(y){return n.put(new kt(0,xr(y),o.highestListenSequenceNumber))}(f)}))}).next(function(){return V.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(us.store,{keyPath:us.keyPath});var r=n.store(us.store),o=new q0,s=function(u){if(o.add(u)){var c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:xr(f)})}};return n.store(ze.store).Ot({kt:!0},function(u,c){var f=new we(u);return s(f.popLast())}).next(function(){return n.store(Ft.store).Ot({kt:!0},function(u,c){u[0];var f=u[1],h=(u[2],fi(f));return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(wn.store);return r.Ot(function(o,s){var u=Jc(s),c=Bk(n.R,u);return r.put(c)})},e}();function Zk(e){e.createObjectStore(kt.store,{keyPath:kt.keyPath}).createIndex(kt.documentTargetsIndex,kt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(wn.store,{keyPath:wn.keyPath}).createIndex(wn.queryTargetsIndexName,wn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fn.store)}var z0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QV=function(){function e(t,n,r,o,s,u,c,f,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=c,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(y){return Promise.resolve()},!e.yt())throw new F(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WV(this,o),this.Le=n+"main",this.R=new Uk(f),this.Be=new Ra(this.Le,11,new XV(this.R)),this.qe=new zV(this.referenceDelegate,this.R),this.Ut=new BV,this.Ue=function(y,v){return new YV(y,v)}(this.R,this.Ut),this.Qe=new FV,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,d===!1&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new F(A.FAILED_PRECONDITION,z0);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Ln(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return M(n,void 0,void 0,function(){return L(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return M(n,void 0,void 0,function(){return L(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return M(n,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return vp(n).put(new hi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ls(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Zc(t).get(Un.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return vp(t).delete(this.clientId)},e.prototype.nn=function(){return M(this,void 0,void 0,function(){var t,n,r,o,s=this;return L(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=bn(c,hi.store);return f.Nt().next(function(h){var d=s.rn(h,18e5),y=h.filter(function(v){return d.indexOf(v)===-1});return V.forEach(y,function(v){return f.delete(v.clientId)}).next(function(){return y})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)o=r[n],this.Ke.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):Zc(t).get(Un.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new F(A.FAILED_PRECONDITION,z0);return!1}}return!(!n.networkEnabled||!n.inForeground)||vp(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&z("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return M(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Un.store,hi.store],function(r){var o=new jk(r,Ln.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return vp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return qV.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;z("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,LV,function(c){return s=new jk(c,o.Ne?o.Ne.next():Ln.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw et("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new F(A.FAILED_PRECONDITION,Rk);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return Zc(t).get(Un.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new F(A.FAILED_PRECONDITION,z0)})},e.prototype.Ze=function(t){var n=new Un(this.clientId,this.allowTabSynchronization,Date.now());return Zc(t).put(Un.key,n)},e.yt=function(){return Ra.yt()},e.prototype.Xe=function(t){var n=this,r=Zc(t);return r.get(Un.key).next(function(o){return n.tn(o)?(z("IndexedDbPersistence","Releasing primary lease."),r.delete(Un.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(et("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return et("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){et("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Zc(e){return bn(e,Un.store)}function vp(e){return bn(e,hi.store)}function H0(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var JV=function(e,t){this.progress=e,this.wn=t},eO=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):k0(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new J(n)).next(function(r){var o=C0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=C0();return this.Ut.getCollectionParents(t,s).next(function(c){return V.forEach(c,function(f){var h=function(d,y){return new li(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,f.child(s));return o.An(t,h,r).next(function(d){d.forEach(function(y,v){u=u.insert(y,v)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,u.Rn(t,s,o).next(function(f){o=f;for(var h=0,d=s;h<d.length;h++)for(var y=d[h],v=0,E=y.mutations;v<E.length;v++){var S=E[v],I=S.key,_=o.get(I);_==null&&(_=xt.newInvalidDocument(I),o=o.insert(I,_)),P0(S,_,y.localWriteTime),_.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(c,f){Hc(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=Ie(),s=0,u=n;s<u.length;s++)for(var c=0,f=u[s].mutations;c<f.length;c++){var h=f[c];h instanceof qi&&r.get(h.key)===null&&(o=o.add(h.key))}var d=r;return this.Ue.getEntries(t,o).next(function(y){return y.forEach(function(v,E){E.isFoundDocument()&&(d=d.insert(v,E))}),d})},e}(),ZV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=Ie(),o=Ie(),s=0,u=n.docChanges;s<u.length;s++){var c=u[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),tO=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var c=s.Cn(n,u);return(np(n)||rp(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(y0()<=de.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),O0(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(h){f=f.insert(h.key,h)}),f}))})},e.prototype.Cn=function(t,n){var r=new lt(YN(t));return n.forEach(function(o,s){Hc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return y0()<=de.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",O0(n)),this.Sn.getDocumentsMatchingQuery(t,n,ue.min())},e}(),eB=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.Fn=new Ut(fe),this.kn=new Fa(function(s){return Bc(s)},ep),this.On=ue.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new eO(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();function nO(e,t,n,r){return new eB(e,t,n,r)}function rO(e,t){return M(this,void 0,void 0,function(){var n,r,o,s;return L(this,function(u){switch(u.label){case 0:return n=H(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(h){return f=h,r=n.persistence.getMutationQueue(t),o=new eO(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var d=[],y=[],v=Ie(),E=0,S=f;E<S.length;E++){var I=S[E];d.push(I.batchId);for(var _=0,b=I.mutations;_<b.length;_++){var T=b[_];v=v.add(T.key)}}for(var N=0,k=h;N<k.length;N++){var C=k[N];y.push(C.batchId);for(var P=0,j=C.mutations;P<j.length;P++){var q=j[P];v=v.add(q.key)}}return o.pn(c,v).next(function(D){return{Ln:D,removedBatchIds:d,addedBatchIds:y}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function tB(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){var d=f.batch,y=d.keys(),v=V.resolve();return y.forEach(function(E){v=v.next(function(){return h.getEntry(c,E)}).next(function(S){var I=f.docVersions.get(E);te(I!==null),S.version.compareTo(I)<0&&(d.applyToRemoteDocument(S,f),S.isValidDocument()&&h.addEntry(S,f.commitVersion))})}),v.next(function(){return u._n.removeMutationBatch(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function iO(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function nB(e,t){var n=H(e),r=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.$n.newChangeBuffer({trackRemovals:!0});o=n.Fn;var c=[];t.targetChanges.forEach(function(d,y){var v=o.get(y);if(v){c.push(n.qe.removeMatchingKeys(s,d.removedDocuments,y).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,y)}));var E=d.resumeToken;if(E.approximateByteSize()>0){var S=v.withResumeToken(E,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(y,S),function(I,_,b){return te(_.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,S,d)&&c.push(n.qe.updateTargetData(s,S))}}});var f=nr();if(t.documentUpdates.forEach(function(d,y){t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(oO(s,u,t.documentUpdates,r,void 0).next(function(d){f=d})),!r.isEqual(ue.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return V.waitFor(c).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.Fn=o,s})}function oO(e,t,n,r,o){var s=Ie();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var c=nr();return n.forEach(function(f,h){var d=u.get(f),y=(o==null?void 0:o.get(f))||r;h.isNoDocument()&&h.version.isEqual(ue.min())?(t.removeEntry(f,y),c=c.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,y),c=c.insert(f,h)):z("LocalStore","Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)}),c})}function rB(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Va(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,V.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new fp(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.Fn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Ba(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u;return L(this,function(c){switch(c.label){case 0:r=H(e),o=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!ls(u=c.sent()))throw u;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(o.target),[2]}})})}function yp(e,t,n){var r=H(e),o=ue.min(),s=Ie();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(c,f,h){var d=H(c),y=d.kn.get(h);return y!==void 0?V.resolve(d.Fn.get(y)):d.qe.getTargetData(f,h)}(r,u,tr(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:ue.min(),n?s:Ie())}).next(function(c){return{documents:c,Bn:s}})})}function sO(e,t){var n=H(e),r=H(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function aO(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=H(r),c=nr(),f=V0(s),h=Wi(o),d=IDBKeyRange.lowerBound(f,!0);return h.Ot({index:ze.readTimeIndex,range:d},function(y,v){var E=F0(u.R,v);c=c.insert(E.key,E),f=v.readTime}).next(function(){return{wn:c,readTime:Vk(f)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,o=n.readTime;return t.On=o,r})}function iB(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Wi(o),u=ue.min();return s.Ot({index:ze.readTimeIndex,reverse:!0},function(c,f,h){f.readTime&&(u=Vk(f.readTime)),h.done()}).next(function(){return u})}(r)}).then(function(r){t.On=r})]})})}function oB(e,t,n,r){return M(this,void 0,void 0,function(){var o,s,u,c,f,h,d,y,v,E;return L(this,function(S){switch(S.label){case 0:for(o=H(e),s=Ie(),u=nr(),c=hk(),f=0,h=n;f<h.length;f++)d=h[f],y=t.qn(d.metadata.name),d.document&&(s=s.add(y)),u=u.insert(y,t.Un(d)),c=c.insert(y,t.Qn(d.metadata.readTime));return v=o.$n.newChangeBuffer({trackRemovals:!0}),[4,Va(o,function(I){return tr(Ia(we.fromString("__bundle__/docs/"+I)))}(r))];case 1:return E=S.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(I){return oO(I,v,u,ue.min(),c).next(function(_){return v.apply(I),_}).next(function(_){return o.qe.removeMatchingKeysForTargetId(I,E.targetId).next(function(){return o.qe.addMatchingKeys(I,s,E.targetId)}).next(function(){return o.Mn.En(I,_)}).next(function(){return _})})})]}})})}function sB(e,t,n){return n===void 0&&(n=Ie()),M(this,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return[4,Va(e,tr(B0(t.bundledQuery)))];case 1:return r=s.sent(),[2,(o=H(e)).persistence.runTransaction("Save named query","readwrite",function(u){var c=Nt(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return o.Qe.saveNamedQuery(u,t);var f=r.withResumeToken(sn.EMPTY_BYTE_STRING,c);return o.Fn=o.Fn.insert(f.targetId,f),o.qe.updateTargetData(u,f).next(function(){return o.qe.removeMatchingKeysForTargetId(u,r.targetId)}).next(function(){return o.qe.addMatchingKeys(u,n,r.targetId)}).next(function(){return o.Qe.saveNamedQuery(u,t)})})]}})})}var aB=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:Nt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:B0(r.bundledQuery),readTime:Nt(r.readTime)}}(n)),V.resolve()},e}(),K0=function(){function e(){this.Wn=new lt(gt.Gn),this.zn=new lt(gt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new gt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new gt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new J(new we([])),o=new gt(r,t),s=new gt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),u.push(c.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new J(new we([])),r=new gt(n,t),o=new gt(n,t+1),s=Ie();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new gt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),gt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return J.comparator(t.key,n.key)||fe(t.ns,n.ns)},e.Hn=function(t,n){return fe(t.ns,n.ns)||J.comparator(t.key,n.key)},e}(),uB=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new lt(gt.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new U0(s,n,r,o);this._n.push(u);for(var c=0,f=o;c<f.length;c++){var h=f[c];this.rs=this.rs.add(new gt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return V.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return V.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);u.push(f)}),V.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new lt(fe);return n.forEach(function(s){var u=new gt(s,0),c=new gt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,c],function(f){o=o.add(f.ns)})}),V.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));var u=new gt(new J(s),0),c=new lt(fe);return this.rs.forEachWhile(function(f){var h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===o&&(c=c.add(f.ns)),!0)},u),V.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;te(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return V.forEach(n.mutations,function(s){var u=new gt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new gt(n,0),o=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),lB=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Ut(J.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():xt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=nr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():xt.newInvalidDocument(s))}),V.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=nr(),s=new J(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),f=c.key,h=c.value,d=h.document,y=h.readTime;if(!n.path.isPrefixOf(f.path))break;y.compareTo(r)<=0||Hc(n,d)&&(o=o.insert(d.key,d.clone()))}return V.resolve(o)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new cB(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),cB=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ee(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),V.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(Qk),fB=function(){function e(t){this.persistence=t,this.ds=new Fa(function(n){return Bc(n)},ep),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ws=0,this._s=new K0,this.targetCount=0,this.ys=pp.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new pp(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),V.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),V.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),pB=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Ln(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new fB(this),this.Ut=new VV,this.Ue=function(o,s){return new lB(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new Uk(n),this.Qe=new aB(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new uB(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;z("MemoryPersistence","Starting transaction:",t);var s=new hB(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),hB=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ee(t,e),t}(Dk),dB=function(){function e(t){this.persistence=t,this.As=new K0,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw X()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(o){var s=J.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Vn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();function uO(e,t){return"firestore_clients_"+e+"_"+t}function cO(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function G0(e,t){return"firestore_targets_"+e+"_"+t}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid");var lO=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new F(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(et("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),W0=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new F(o.error.code,o.error.message)),s?new e(t,o.state,r):(et("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),fO=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=up(),u=0;o&&u<r.activeTargetIds.length;++u)o=jN(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(et("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),mB=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(et("SharedClientState","Failed to parse online state: "+t),null)},e}(),$0=function(){function e(){this.activeTargetIds=up()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Y0=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ut(fe),this.started=!1,this.Os=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=uO(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new $0),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Qs=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return M(this,void 0,void 0,function(){var t,n,r,o,s,u,c,f,h,d,y,v=this;return L(this,function(E){switch(E.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=E.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(uO(this.persistenceKey,o)))&&(u=fO.Vs(o,s))&&(this.ks=this.ks.insert(u.clientId,u));for(this.Ks(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),h=0,d=this.Os;h<d.length;h++)y=d[h],this.Fs(y);return this.Os=[],this.window.addEventListener("unload",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(G0(this.persistenceKey,t));if(r){var o=W0.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(G0(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(z("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return M(n,void 0,void 0,function(){var o,s,u,c,f,h;return L(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(h=function(y){var v=Ln.o;if(y!=null)try{var E=JSON.parse(y);te(typeof E=="number"),v=E}catch(S){et("SharedClientState","Failed to read sequence number from WebStorage",S)}return v}(r.newValue))!==Ln.o&&this.sequenceNumberHandler(h);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new lO(this.currentUser,t,n,r),s=cO(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=cO(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=G0(this.persistenceKey,t),s=new W0(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return fO.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return lO.Vs(new Vn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return W0.Vs(o,n)},e.prototype.js=function(t){return mB.Vs(t)},e.prototype.ii=function(t){return M(this,void 0,void 0,function(){return L(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),u=this.Gs(o),c=[],f=[];return u.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){u.has(h)||f.push(h)}),this.syncEngine.hi(c,f).then(function(){r.ks=o})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=up();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),hO=function(){function e(){this.li=new $0,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new $0,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),vB=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),pO=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),yB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gB=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),wB=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return ee(t,e),t.prototype.ki=function(n,r,o,s){return new Promise(function(u,c){var f=new PN;f.listenOnce(kN.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Xh.NO_ERROR:var d=f.getResponseJson();z("Connection","XHR received:",JSON.stringify(d)),u(d);break;case Xh.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),c(new F(A.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:var y=f.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',y,"response text:",f.getResponseText()),y>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var E=function(S){var I=S.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(I)>=0?I:A.UNKNOWN}(v.status);c(new F(E,v.message))}else c(new F(A.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new F(A.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);f.send(r,"POST",h,o,15)})},t.prototype.$i=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=xN(),u=NN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(c.initMessageHeaders,r),gI()||_I()||EI()||TI()||SI()||gc()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");z("Connection","Creating WebChannel: "+f,c);var h=s.createWebChannel(f,c),d=!1,y=!1,v=new gB({Ei:function(S){y?z("Connection","Not sending because WebChannel is closed:",S):(d||(z("Connection","Opening WebChannel transport."),h.open(),d=!0),z("Connection","WebChannel sending:",S),h.send(S))},Ti:function(){return h.close()}}),E=function(S,I,_){S.listen(I,function(b){try{_(b)}catch(T){setTimeout(function(){throw T},0)}})};return E(h,jc.EventType.OPEN,function(){y||z("Connection","WebChannel transport opened.")}),E(h,jc.EventType.CLOSE,function(){y||(y=!0,z("Connection","WebChannel transport closed"),v.Vi())}),E(h,jc.EventType.ERROR,function(S){y||(y=!0,w0("Connection","WebChannel transport errored:",S),v.Vi(new F(A.UNAVAILABLE,"The operation could not be completed")))}),E(h,jc.EventType.MESSAGE,function(S){var I;if(!y){var _=S.data[0];te(!!_);var b=_,T=b.error||((I=b[0])===null||I===void 0?void 0:I.error);if(T){z("Connection","WebChannel received error:",T);var N=T.status,k=function(P){var j=nt[P];if(j!==void 0)return lk(j)}(N),C=T.message;k===void 0&&(k=A.INTERNAL,C="Unknown error status: "+N+" with message "+T.message),y=!0,v.Vi(new F(k,C)),h.close()}else z("Connection","WebChannel received:",_),v.Si(_)}}),E(u,ON.STAT_EVENT,function(S){S.stat===m0.PROXY?z("Connection","Detected buffering proxy"):S.stat===m0.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);z("RestConnection","Sending: ",s,r);var u={};return this.Fi(u,o),this.ki(t,s,u,r).then(function(c){return z("RestConnection","Received: ",c),c},function(c){throw w0("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.Oi=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=yB[t];return this.Di+"/v1/"+n+":"+r},e}());function dO(){return typeof window!="undefined"?window:null}function gp(){return typeof document!="undefined"?document:null}function wp(e){return new SV(e,!0)}var X0=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-o);s>0&&z("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),mO=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new X0(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return M(this,void 0,void 0,function(){return L(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return M(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===A.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new F(A.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return M(t,void 0,void 0,function(){return L(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),bB=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,c}return ee(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var c;if("targetChange"in u){u.targetChange;var f=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:X()}(u.targetChange.targetChangeType||"NO_CHANGE"),h=u.targetChange.targetIds||[],d=function(_,b){return _.I?(te(b===void 0||typeof b=="string"),sn.fromBase64String(b||"")):(te(b===void 0||b instanceof Uint8Array),sn.fromUint8Array(b||new Uint8Array))}(s,u.targetChange.resumeToken),y=(v=u.targetChange.cause)&&function(_){var b=_.code===void 0?A.UNKNOWN:lk(_.code);return new F(b,_.message||"")}(v);c=new dk(f,h,d,y||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,h=Br(s,f.document.name),d=Nt(f.document.updateTime);var v=new Mn({mapValue:{fields:f.document.fields}}),E=(y=xt.newFoundDocument(h,d,v),f.targetIds||[]),S=f.removedTargetIds||[];c=new cp(E,S,y.key,y)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,h=Br(s,f.document),d=f.readTime?Nt(f.readTime):ue.min(),v=xt.newNoDocument(h,d),y=f.removedTargetIds||[],c=new cp([],y,v.key,v);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,h=Br(s,f.document),d=f.removedTargetIds||[],c=new cp([],d,h,null);else{if(!("filter"in u))return X();u.filter;var I=u.filter;I.targetId,f=I.count||0,h=new mV(f),d=I.targetId,c=new pk(d,h)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return ue.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?ue.min():u.readTime?Nt(u.readTime):ue.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=Xc(this.R),r.addTarget=function(s,u){var c,f=u.target;return(c=tp(f)?{documents:xk(s,f)}:{query:kk(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=gk(s,u.resumeToken):u.snapshotVersion.compareTo(ue.min())>0&&(c.readTime=$c(s,u.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,u){var c=function(f,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return X()}}(0,u.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Xc(this.R),r.removeTarget=n,this.cr(r)},t}(mO),_B=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,c.gr=!1,c}return ee(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(te(u!==void 0),s.map(function(c){return function(f,h){var d=f.updateTime?Nt(f.updateTime):Nt(h);return d.isEqual(ue.min())&&(d=Nt(h)),new hV(d,f.transformResults||[])}(c,u)})):[]}(n.writeResults,n.commitTime),o=Nt(n.commitTime);return this.listener.Tr(o,r)}return te(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Xc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return lp(r.R,s)})};this.cr(o)},t}(mO),EB=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return ee(t,e),t.prototype.br=function(){if(this.Rr)throw new F(A.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===A.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new F(A.UNKNOWN,u.toString())})},t.prototype.Oi=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Oi(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===A.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new F(A.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),TB=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(et(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),SB=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return M(s,void 0,void 0,function(){return L(this,function(c){switch(c.label){case 0:return $i(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return M(this,void 0,void 0,function(){var h;return L(this,function(d){switch(d.label){case 0:return(h=H(f)).$r.add(4),[4,qa(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.$r.delete(4),[4,el(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new TB(n,r)};function el(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:if(!$i(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function qa(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function bp(e,t){var n=H(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Z0(n)?J0(n):za(n).er()&&Q0(n,t))}function tl(e,t){var n=H(e),r=za(n);n.Or.delete(t),r.er()&&vO(n,t),n.Or.size===0&&(r.er()?r.ir():$i(n)&&n.Br.set("Unknown"))}function Q0(e,t){e.qr.U(t.targetId),za(e).mr(t)}function vO(e,t){e.qr.U(t),za(e).yr(t)}function J0(e){e.qr=new _V({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),za(e).start(),e.Br.Sr()}function Z0(e){return $i(e)&&!za(e).tr()&&e.Or.size>0}function $i(e){return H(e).$r.size===0}function yO(e){e.qr=void 0}function IB(e){return M(this,void 0,void 0,function(){return L(this,function(t){return e.Or.forEach(function(n,r){Q0(e,n)}),[2]})})}function xB(e,t){return M(this,void 0,void 0,function(){return L(this,function(n){return yO(e),Z0(e)?(e.Br.Nr(t),J0(e)):e.Br.set("Unknown"),[2]})})}function NB(e,t,n){return M(this,void 0,void 0,function(){var r,o,s;return L(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof dk&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(c,f){return M(this,void 0,void 0,function(){var h,d,y,v;return L(this,function(E){switch(E.label){case 0:h=f.cause,d=0,y=f.targetIds,E.label=1;case 1:return d<y.length?(v=y[d],c.Or.has(v)?[4,c.remoteSyncer.rejectListen(v,h)]:[3,3]):[3,5];case 2:E.sent(),c.Or.delete(v),c.qr.removeTarget(v),E.label=3;case 3:E.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,_p(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof cp?e.qr.X(t):t instanceof pk?e.qr.rt(t):e.qr.et(t),n.isEqual(ue.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,iO(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(c,f){var h=c.qr.ut(f);return h.targetChanges.forEach(function(d,y){if(d.resumeToken.approximateByteSize()>0){var v=c.Or.get(y);v&&c.Or.set(y,v.withResumeToken(d.resumeToken,f))}}),h.targetMismatches.forEach(function(d){var y=c.Or.get(d);if(y){c.Or.set(d,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),vO(c,d);var v=new fp(y.target,d,1,y.sequenceNumber);Q0(c,v)}}),c.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,_p(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function _p(e,t,n){return M(this,void 0,void 0,function(){var r=this;return L(this,function(o){switch(o.label){case 0:if(!ls(t))throw t;return e.$r.add(1),[4,qa(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return iO(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return M(r,void 0,void 0,function(){return L(this,function(s){switch(s.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,el(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function gO(e,t){return t().catch(function(n){return _p(e,n,t)})}function Ha(e){return M(this,void 0,void 0,function(){var t,n,r,o,s;return L(this,function(u){switch(u.label){case 0:t=H(e),n=Yi(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,u.label=1;case 1:if(!function(c){return $i(c)&&c.kr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,rB(t.localStore,r)];case 3:return(o=u.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.kr.push(f);var h=Yi(c);h.er()&&h.pr&&h.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,_p(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return wO(t)&&bO(t),[2]}})})}function wO(e){return $i(e)&&!Yi(e).tr()&&e.kr.length>0}function bO(e){Yi(e).start()}function kB(e){return M(this,void 0,void 0,function(){return L(this,function(t){return Yi(e).Ar(),[2]})})}function OB(e){return M(this,void 0,void 0,function(){var t,n,r,o;return L(this,function(s){for(t=Yi(e),n=0,r=e.kr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function PB(e,t,n){return M(this,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),o=UV.from(r,t,n),[4,gO(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Ha(e)];case 2:return s.sent(),[2]}})})}function AB(e,t){return M(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return t&&Yi(e).pr?[4,function(r,o){return M(this,void 0,void 0,function(){var s,u;return L(this,function(c){switch(c.label){case 0:return ck(u=o.code)&&u!==A.ABORTED?(s=r.kr.shift(),Yi(r).sr(),[4,gO(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,Ha(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wO(e)&&bO(e),[2]}})})}function ew(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return n=H(e),t?(n.$r.delete(2),[4,el(n)]):[3,2];case 1:return o.sent(),[3,5];case 2:return(r=t)?[3,4]:(n.$r.add(2),[4,qa(n)]);case 3:o.sent(),r=n.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function za(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=H(n);return s.br(),new bB(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:IB.bind(null,e),Ri:xB.bind(null,e),_r:NB.bind(null,e)}),e.Mr.push(function(n){return M(t,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Z0(e)?J0(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),yO(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Yi(e){var t=this;return e.Qr||(e.Qr=function(n,r,o){var s=H(n);return s.br(),new _B(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:kB.bind(null,e),Ri:AB.bind(null,e),Ir:OB.bind(null,e),Tr:PB.bind(null,e)}),e.Mr.push(function(n){return M(t,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,Ha(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(z("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var CB=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ka(e,t){if(et("AsyncQueue",t+": "+e),ls(e))return new F(A.UNAVAILABLE,t+": "+e);throw e}var _O=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||J.comparator(n.key,r.key)}:function(n,r){return J.comparator(n.key,r.key)},this.keyedMap=C0(),this.sortedSet=new Ut(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),EO=function(){function e(){this.Kr=new Ut(J.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):X():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Ep=function(){function e(t,n,r,o,s,u,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,_O.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),RB=function(){this.Wr=void 0,this.listeners=[]},DB=function(){this.queries=new Fa(function(e){return $N(e)},zc),this.onlineState="Unknown",this.Gr=new Set};function nw(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u,c,f;return L(this,function(h){switch(h.label){case 0:if(n=H(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new RB),!o)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=h.sent(),[3,4];case 3:return c=h.sent(),f=Ka(c,"Initialization of query '"+O0(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&tw(n),[2]}})})}function rw(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u;return L(this,function(c){return n=H(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function LB(e,t){for(var n=H(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],c=u.query,f=n.queries.get(c);if(f){for(var h=0,d=f.listeners;h<d.length;h++)d[h].Hr(u)&&(r=!0);f.Wr=u}}r&&tw(n)}function MB(e,t,n){var r=H(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function tw(e){e.Gr.forEach(function(t){t.next()})}var iw=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Ep(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Ep.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),jB=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),TO=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Br(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?Sk(this.R,t.document,!1):xt.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return Nt(t)},e}(),eG=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=UB(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new TO(this.R),o=0,s=t;o<s.length;o++){var u=s[o];if(u.metadata.queries)for(var c=r.qn(u.metadata.name),f=0,h=u.metadata.queries;f<h.length;f++){var d=h[f],y=(n.get(d)||Ie()).add(c);n.set(d,y)}}return n},e.prototype.complete=function(){return M(this,void 0,void 0,function(){var t,n,r,o,s;return L(this,function(u){switch(u.label){case 0:return[4,oB(this.localStore,new TO(this.R),this.documents,this.ro.id)];case 1:t=u.sent(),n=this.co(this.documents),r=0,o=this.queries,u.label=2;case 2:return r<o.length?(s=o[r],[4,sB(this.localStore,s,n.get(s.name))]):[3,5];case 3:u.sent(),u.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new JV(Object.assign({},this.progress),t))]}})})},e}();function UB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var SO=function(e){this.key=e},IO=function(e){this.key=e},xO=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ie(),this.mutatedKeys=Ie(),this.lo=YN(t),this.fo=new _O(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new EO,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,h=np(this.query)&&s.size===this.query.limit?s.last():null,d=rp(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(v,E){var S=s.get(v),I=Hc(r.query,E)?E:null,_=!!S&&r.mutatedKeys.has(S.key),b=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),T=!1;S&&I?S.data.isEqual(I.data)?_!==b&&(o.track({type:3,doc:I}),T=!0):r.yo(S,I)||(o.track({type:2,doc:I}),T=!0,(h&&r.lo(I,h)>0||d&&r.lo(I,d)<0)&&(f=!0)):!S&&I?(o.track({type:0,doc:I}),T=!0):S&&!I&&(o.track({type:1,doc:S}),T=!0,(h||d)&&(f=!0)),T&&(I?(c=c.add(I),u=b?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))}),np(this.query)||rp(this.query))for(;c.size>this.query.limit;){var y=np(this.query)?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),o.track({type:1,doc:y})}return{fo:c,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(d,y){return function(v,E){var S=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return S(v)-S(E)}(d.type,y.type)||o.lo(d.doc,y.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,h=f!==this.ao;return this.ao=f,u.length!==0||h?{snapshot:new Ep(this.query,t.fo,s,u,t.mutatedKeys,f===0,h,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new EO,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ie(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new IO(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new SO(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ie();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Ep.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),FB=function(e,t,n){this.query=e,this.targetId=t,this.view=n},VB=function(e){this.key=e,this.bo=!1},BB=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Fa(function(c){return $N(c)},zc),this.Vo=new Map,this.So=new Set,this.Do=new Ut(J.comparator),this.Co=new Map,this.No=new K0,this.xo={},this.Fo=new Map,this.ko=pp.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function qB(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u,c;return L(this,function(f){switch(f.label){case 0:return n=sw(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Va(n.localStore,tr(t))];case 2:return u=f.sent(),c=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,ow(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&bp(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function ow(e,t,n,r){return M(this,void 0,void 0,function(){var o,s,u,c,f,h;return L(this,function(d){switch(d.label){case 0:return e.$o=function(y,v,E){return function(S,I,_,b){return M(this,void 0,void 0,function(){var T,N,k;return L(this,function(C){switch(C.label){case 0:return T=I.view._o(_),T.Nn?[4,yp(S.localStore,I.query,!1).then(function(P){var j=P.documents;return I.view._o(j,T)})]:[3,2];case 1:T=C.sent(),C.label=2;case 2:return N=b&&b.targetChanges.get(I.targetId),k=I.view.applyChanges(T,S.isPrimaryClient,N),[2,(aw(S,I.targetId,k.To),k.snapshot)]}})})}(e,y,v,E)},[4,yp(e.localStore,t,!0)];case 1:return o=d.sent(),s=new xO(t,o.Bn),u=s._o(o.documents),c=R0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,c),aw(e,n,f.To),h=new FB(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function zB(e,t){return M(this,void 0,void 0,function(){var n,r,o;return L(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!zc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ba(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),tl(n.remoteStore,r.targetId),Ga(n,r.targetId)}).catch(fs)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ga(n,r.targetId),[4,Ba(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function HB(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u;return L(this,function(c){switch(c.label){case 0:r=uw(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,h){var d,y=H(f),v=on.now(),E=h.reduce(function(S,I){return S.add(I.key)},Ie());return y.persistence.runTransaction("Locally write mutations","readwrite",function(S){return y.Mn.pn(S,E).next(function(I){d=I;for(var _=[],b=0,T=h;b<T.length;b++){var N=T[b],k=dV(N,d.get(N.key));k!=null&&_.push(new qi(N.key,k,BN(k.toProto().mapValue),jt.exists(!0)))}return y._n.addMutationBatch(S,v,_,h)})}).then(function(S){return S.applyToLocalDocumentSet(d),{batchId:S.batchId,changes:d}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,h,d){var y=f.xo[f.currentUser.toKey()];y||(y=new Ut(fe)),y=y.insert(h,d),f.xo[f.currentUser.toKey()]=y}(r,o.batchId,n),[4,Xi(r,o.changes)];case 3:return c.sent(),[4,Ha(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),u=Ka(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function NO(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:n=H(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nB(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var c=n.Co.get(u);c&&(te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?te(c.bo):s.removedDocuments.size>0&&(te(c.bo),c.bo=!1))}),[4,Xi(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,fs(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function kO(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var c=u.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,u){var c=H(s);c.onlineState=u;var f=!1;c.queries.forEach(function(h,d){for(var y=0,v=d.listeners;y<v.length;y++)v[y].zr(u)&&(f=!0)}),f&&tw(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function KB(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u,c,f;return L(this,function(h){switch(h.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Ut(J.comparator)).insert(s,xt.newNoDocument(s,ue.min())),c=Ie().add(s),f=new D0(ue.min(),new Map,new lt(fe),u,c),[4,NO(r,f)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),cw(r),[3,4];case 2:return[4,Ba(r.localStore,t,!1).then(function(){return Ga(r,t,n)}).catch(fs)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function GB(e,t){return M(this,void 0,void 0,function(){var n,r,o;return L(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,tB(n.localStore,t)];case 2:return o=s.sent(),fw(n,r,null),lw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,fs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function WB(e,t,n){return M(this,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,c){var f=H(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return f._n.lookupMutationBatch(h,c).next(function(y){return te(y!==null),d=y.keys(),f._n.removeMutationBatch(h,y)}).next(function(){return f._n.performConsistencyCheck(h)}).next(function(){return f.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return o=s.sent(),fw(r,t,n),lw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Xi(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,fs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function $B(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u;return L(this,function(c){switch(c.label){case 0:$i((n=H(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var h=H(f);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.Fo.get(r)||[]).push(t),n.Fo.set(r,o),[3,4]);case 3:return s=c.sent(),u=Ka(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function lw(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function fw(e,t,n){var r=H(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function Ga(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||OO(e,u)})}function OO(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(tl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),cw(e))}function aw(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof SO?(e.No.addReference(s.key,t),YB(e,s)):s instanceof IO?(z("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||OO(e,s.key)):X()}}function YB(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(z("SyncEngine","New document in limbo: "+n),e.So.add(r),cw(e))}function cw(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new J(we.fromString(t)),r=e.ko.next();e.Co.set(r,new VB(n)),e.Do=e.Do.insert(n,r),bp(e.remoteStore,new fp(tr(Ia(n.path)),r,2,Ln.o))}}function Xi(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u;return L(this,function(c){switch(c.label){case 0:return r=H(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,h){u.push(r.$o(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),o.push(d);var y=ZV.Pn(h.targetId,d);s.push(y)}}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,h){return M(this,void 0,void 0,function(){var d,y,v,E,S,I,_,b,T;return L(this,function(N){switch(N.label){case 0:d=H(f),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return V.forEach(h,function(C){return V.forEach(C.bn,function(P){return d.persistence.referenceDelegate.addReference(k,C.targetId,P)}).next(function(){return V.forEach(C.vn,function(P){return d.persistence.referenceDelegate.removeReference(k,C.targetId,P)})})})})];case 2:return N.sent(),[3,4];case 3:if(!ls(y=N.sent()))throw y;return z("LocalStore","Failed to update sequence numbers: "+y),[3,4];case 4:for(v=0,E=h;v<E.length;v++)S=E[v],I=S.targetId,S.fromCache||(_=d.Fn.get(I),b=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(b),d.Fn=d.Fn.insert(I,T));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function XB(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,rO(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.Fo.forEach(function(c){c.forEach(function(f){f.reject(new F(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Xi(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function QB(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return Ie().add(r.key);var o=Ie(),s=n.Vo.get(t);if(!s)return o;for(var u=0,c=s;u<c.length;u++){var f=c[u],h=n.Po.get(f);o=o.unionWith(h.view.wo)}return o}function JB(e,t){return M(this,void 0,void 0,function(){var n,r,o;return L(this,function(s){switch(s.label){case 0:return[4,yp((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&aw(n,t.targetId,o.To),o)]}})})}function ZB(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){return[2,aO((t=H(e)).localStore).then(function(r){return Xi(t,r)})]})})}function eq(e,t,n,r){return M(this,void 0,void 0,function(){var o,s;return L(this,function(u){switch(u.label){case 0:return[4,function(c,f){var h=H(c),d=H(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(y){return d.jt(y,f).next(function(v){return v?h.Mn.pn(y,v):V.resolve(null)})})}((o=H(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ha(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(fw(o,t,r||null),lw(o,t),function(c,f){H(H(c)._n).Gt(f)}(o.localStore,t)):X(),u.label=4;case 4:return[4,Xi(o,s)];case 5:return u.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function tq(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u,c,f,h;return L(this,function(d){switch(d.label){case 0:return sw(n=H(e)),uw(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,PO(n,r.toArray())]);case 1:return o=d.sent(),n.Oo=!0,[4,ew(n.remoteStore,!0)];case 2:for(d.sent(),s=0,u=o;s<u.length;s++)c=u[s],bp(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(f=[],h=Promise.resolve(),n.Vo.forEach(function(y,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):h=h.then(function(){return Ga(n,v),Ba(n.localStore,v,!0)}),tl(n.remoteStore,v)}),[4,h]);case 4:return d.sent(),[4,PO(n,f)];case 5:return d.sent(),function(y){var v=H(y);v.Co.forEach(function(E,S){tl(v.remoteStore,S)}),v.No.ts(),v.Co=new Map,v.Do=new Ut(J.comparator)}(n),n.Oo=!1,[4,ew(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function PO(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u,c,f,h,d,y,v,E,S,I,_;return L(this,function(b){switch(b.label){case 0:r=H(e),o=[],s=[],u=0,c=t,b.label=1;case 1:return u<c.length?(f=c[u],h=void 0,(d=r.Vo.get(f))&&d.length!==0?[4,Va(r.localStore,tr(d[0]))]:[3,7]):[3,13];case 2:h=b.sent(),y=0,v=d,b.label=3;case 3:return y<v.length?(E=v[y],S=r.Po.get(E),[4,JB(r,S)]):[3,6];case 4:(I=b.sent()).snapshot&&s.push(I.snapshot),b.label=5;case 5:return y++,[3,3];case 6:return[3,11];case 7:return[4,sO(r.localStore,f)];case 8:return _=b.sent(),[4,Va(r.localStore,_)];case 9:return h=b.sent(),[4,ow(r,AO(_),f,!1)];case 10:b.sent(),b.label=11;case 11:o.push(h),b.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function AO(e){return GN(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nq(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function rq(e,t,n,r){return M(this,void 0,void 0,function(){var o,s,u;return L(this,function(c){switch(c.label){case 0:return(o=H(e)).Oo?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aO(o.localStore)];case 3:return s=c.sent(),u=D0.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Xi(o,s,u)];case 4:return c.sent(),[3,8];case 5:return[4,Ba(o.localStore,t,!0)];case 6:return c.sent(),Ga(o,t,r),[3,8];case 7:X(),c.label=8;case 8:return[2]}})})}function iq(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u,c,f,h,d,y,v;return L(this,function(E){switch(E.label){case 0:if(!(r=sw(e)).Oo)return[3,10];o=0,s=t,E.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(z("SyncEngine","Adding an already active target "+u),[3,5]):[4,sO(r.localStore,u)]):[3,6];case 2:return c=E.sent(),[4,Va(r.localStore,c)];case 3:return f=E.sent(),[4,ow(r,AO(c),f.targetId,!1)];case 4:E.sent(),bp(r.remoteStore,f),E.label=5;case 5:return o++,[3,1];case 6:h=function(S){return L(this,function(I){switch(I.label){case 0:return r.Vo.has(S)?[4,Ba(r.localStore,S,!1).then(function(){tl(r.remoteStore,S),Ga(r,S)}).catch(fs)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},d=0,y=n,E.label=7;case 7:return d<y.length?(v=y[d],[5,h(v)]):[3,10];case 8:E.sent(),E.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function sw(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KB.bind(null,t),t.vo._r=LB.bind(null,t.eventManager),t.vo.Mo=MB.bind(null,t.eventManager),t}function uw(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WB.bind(null,t),t}var CO=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return M(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return this.R=wp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return nO(this.persistence,new tO,t.initialUser,this.R)},e.prototype.qo=function(t){return new pB(dB.bs,this.R)},e.prototype.Bo=function(t){return new hO},e.prototype.terminate=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),RO=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ee(t,e),t.prototype.initialize=function(n){return M(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,iB(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,uw(this.Ko.syncEngine)];case 4:return r.sent(),[4,Ha(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return nO(this.persistence,new tO,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new KV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=H0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new QV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,dO(),gp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new hO},t}(CO),oq=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Ko=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return ee(t,e),t.prototype.initialize=function(n){return M(this,void 0,void 0,function(){var r,o=this;return L(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof Y0?(this.sharedClientState.syncEngine={ui:eq.bind(null,r),ai:rq.bind(null,r),hi:iq.bind(null,r),fn:nq.bind(null,r),ci:ZB.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return M(o,void 0,void 0,function(){return L(this,function(c){switch(c.label){case 0:return[4,tq(this.Ko.syncEngine,u)];case 1:return c.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=dO();if(!Y0.yt(r))throw new F(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=H0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Y0(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(RO),hw=function(){function e(){}return e.prototype.initialize=function(t,n){return M(this,void 0,void 0,function(){var r=this;return L(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return kO(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=XB.bind(null,this.syncEngine),[4,ew(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new DB},e.prototype.createDatastore=function(t){var n,r=wp(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new wB(n));return function(s,u,c){return new EB(s,u,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return kO(c.syncEngine,f,0)},u=pO.yt()?new pO:new vB,new SB(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,c,f,h){var d=new BB(r,o,s,u,c,f);return h&&(d.Oo=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return M(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=H(t),z("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,qa(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();var Tp=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),tG=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new an,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?r.metadata.resolve(o.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(o==null?void 0:o.payload)))},function(o){return r.metadata.reject(o)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return M(this,void 0,void 0,function(){return L(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return M(this,void 0,void 0,function(){var t,n,r,o;return L(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return o=s.sent(),[2,new jB(JSON.parse(o),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return M(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),sq=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return M(this,void 0,void 0,function(){var n,r=this;return L(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new F(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return M(this,void 0,void 0,function(){var c,f,h,d,y,v;return L(this,function(E){switch(E.label){case 0:return c=H(s),f=Xc(c.R)+"/documents",h={documents:u.map(function(S){return Yc(c.R,S)})},[4,c.Oi("BatchGetDocuments",f,h)];case 1:return d=E.sent(),y=new Map,d.forEach(function(S){var I=function(_,b){return"found"in b?function(T,N){te(!!N.found),N.found.name,N.found.updateTime;var k=Br(T,N.found.name),C=Nt(N.found.updateTime),P=new Mn({mapValue:{fields:N.found.fields}});return xt.newFoundDocument(k,C,P)}(_,b):"missing"in b?function(T,N){te(!!N.missing),te(!!N.readTime);var k=Br(T,N.missing),C=Nt(N.readTime);return xt.newNoDocument(k,C)}(_,b):X()}(c.R,S);y.set(I.key.toString(),I)}),v=[],[2,(u.forEach(function(S){var I=y.get(S.toString());te(!!I),v.push(I)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Wc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=J.fromPath(s);n.mutations.push(new A0(u,n.precondition(u)))}),[4,function(o,s){return M(this,void 0,void 0,function(){var u,c,f;return L(this,function(h){switch(h.label){case 0:return u=H(o),c=Xc(u.R)+"/documents",f={writes:s.map(function(d){return lp(u.R,d)})},[4,u.Ni("Commit",c,f)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw X();n=ue.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new F(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?jt.updateTime(n):jt.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ue.min()))throw new F(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jt.updateTime(n)}return jt.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),aq=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new X0(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return M(t,void 0,void 0,function(){var n,r,o=this;return L(this,function(s){return n=new sq(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(c){o.ic(c)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!os(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!ck(n)}return!1},e}(),uq=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vn.UNAUTHENTICATED,this.clientId=AN.u(),this.credentialListener=function(){},this.receivedInitialUser=new an,this.credentials.setChangeListener(function(s){z("FirestoreClient","Received user=",s.uid),o.user=s,o.credentialListener(s),o.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new F(A.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return M(t,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Ka(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();function DO(e,t){return M(this,void 0,void 0,function(){var n,r,o=this;return L(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){r.isEqual(u)||(r=u,e.asyncQueue.enqueueRetryable(function(){return M(o,void 0,void 0,function(){return L(this,function(c){switch(c.label){case 0:return[4,rO(t.localStore,u)];case 1:return c.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function LO(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,pw(e)];case 1:return n=o.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(u,c){return M(this,void 0,void 0,function(){var f,h;return L(this,function(d){switch(d.label){case 0:return(f=H(u)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),h=$i(f),f.$r.add(3),[4,qa(f)];case 1:return d.sent(),h&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return d.sent(),f.$r.delete(3),[4,el(f)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function pw(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,DO(e,new CO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Sp(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,LO(e,new hw)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function MO(e){return pw(e).then(function(t){return t.persistence})}function jO(e){return pw(e).then(function(t){return t.localStore})}function UO(e){return Sp(e).then(function(t){return t.remoteStore})}function FO(e){return Sp(e).then(function(t){return t.syncEngine})}function Wa(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,Sp(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=qB.bind(null,t.syncEngine),n.onUnlisten=zB.bind(null,t.syncEngine),n)]}})})}function VO(e,t,n){var r=this;n===void 0&&(n={});var o=new an;return e.asyncQueue.enqueueAndForget(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return s=function(c,f,h,d,y){var v=new Tp({next:function(S){f.enqueueAndForget(function(){return rw(c,E)});var I=S.docs.has(h);!I&&S.fromCache?y.reject(new F(A.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&d&&d.source==="server"?y.reject(new F(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:function(S){return y.reject(S)}}),E=new iw(Ia(h.path),v,{includeMetadataChanges:!0,so:!0});return nw(c,E)},[4,Wa(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function BO(e,t,n){var r=this;n===void 0&&(n={});var o=new an;return e.asyncQueue.enqueueAndForget(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return s=function(c,f,h,d,y){var v=new Tp({next:function(S){f.enqueueAndForget(function(){return rw(c,E)}),S.fromCache&&d.source==="server"?y.reject(new F(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:function(S){return y.reject(S)}}),E=new iw(h,v,{includeMetadataChanges:!0,so:!0});return nw(c,E)},[4,Wa(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var cq=function(e,t,n,r,o,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u},Ip=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),qO=new Map,lq=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},zO=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(Vn.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fq=function(){function e(t){var n=this;this.oc=null,this.currentUser=Vn.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(te(typeof o.accessToken=="string"),new lq(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new Vn(t)},e}(),hq=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),pq=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new hq(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(Vn.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function dw(e,t,n){if(!n)throw new F(A.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function mw(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new F(A.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function HO(e,t,n,r){if(t===!0&&r===!0)throw new F(A.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function KO(e){if(!J.isDocumentKey(e))throw new F(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function GO(e){if(J.isDocumentKey(e))throw new F(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function xp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":X()}function Ee(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xp(e);throw new F(A.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function WO(e,t){if(t<=0)throw new F(A.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var $O=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new F(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,HO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),nl=function(){function e(t,n){this._persistenceKey="(lite)",this._settings=new $O({}),this._settingsFrozen=!1,t instanceof Ip?(this._databaseId=t,this._credentials=new zO):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new F(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ip(r.options.projectId)}(t),this._credentials=new fq(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new F(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new F(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $O(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new zO;switch(n.type){case"gapi":var r=n.client;return te(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new pq(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new F(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=qO.get(t))&&(z("ComponentProvider","Removing Datastore"),qO.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Be=function(){function e(t,n,r){this._converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qi(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Bn=function(){function e(t,n,r){this._converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Qi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Ia(o))||this)._path=o,s.type="collection",s}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Be(this.firestore,null,new J(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Bn);function YO(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=_e(e),dw("collection","path",t),e instanceof nl)return GO(n=we.fromString.apply(we,Ye([t],r))),new Qi(e,null,n);if(!(e instanceof Be||e instanceof Qi))throw new F(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return GO(n=we.fromString.apply(we,Ye([e.path],r)).child(we.fromString(t))),new Qi(e.firestore,null,n)}function Np(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=_e(e),arguments.length===1&&(t=AN.u()),dw("doc","path",t),e instanceof nl)return KO(n=we.fromString.apply(we,Ye([t],r))),new Be(e,null,new J(n));if(!(e instanceof Be||e instanceof Qi))throw new F(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return KO(n=e._path.child(we.fromString.apply(we,Ye([t],r)))),new Be(e.firestore,e instanceof Qi?e._converter:null,new J(n))}function XO(e,t){return e=_e(e),t=_e(t),(e instanceof Be||e instanceof Qi)&&(t instanceof Be||t instanceof Qi)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function QO(e,t){return e=_e(e),t=_e(t),e instanceof Bn&&t instanceof Bn&&e.firestore===t.firestore&&zc(e._query,t._query)&&e._converter===t._converter}var dq=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new X0(this,"async_queue_retry"),this.Ec=function(){var r=gp();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ls(t=r.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(o){throw n.mc=o,n.yc=!1,et("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.yc=!1,o})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=CB.createAndSchedule(this,t,n,r,function(u){return o.Rc(u)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&X()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(u,c){return u.targetTimeMs-c.targetTimeMs});for(var r=0,o=n._c;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function $a(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var nG=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new an,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),JO=-1,rt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._queue=new dq,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ee(t,e),t.prototype._terminate=function(){return this._firestoreClient||ZO(this),this._firestoreClient.terminate()},t}(nl);function Vt(e){return e._firestoreClient||ZO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZO(e){var t,n=e._freezeSettings(),r=function(o,s,u,c){return new cq(o,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uq(e._credentials,e._queue,r)}function eP(e,t,n){var r=this,o=new an;return e.asyncQueue.enqueue(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,DO(e,n)];case 1:return u.sent(),[4,LO(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===A.FAILED_PRECONDITION||c.code===A.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function tP(e){if(e._initialized||e._terminated)throw new F(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new F(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),hs=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(sn.fromBase64String(t))}catch(n){throw new F(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(sn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ps=function(e){this._methodName=e},rl=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return fe(this._lat,t._lat)||fe(this._long,t._long)},e}(),mq=/^__.*__$/,vq=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new qi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gc(t,this.data,n,this.fieldTransforms)},e}(),nP=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new qi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();function rP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var iP=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Fc(t),o},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Sc(),o},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return kp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(rP(this.Dc)&&mq.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),yq=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||wp(t)}return e.prototype.Bc=function(t,n,r,o){return o===void 0&&(o=!1),new iP({Dc:t,methodName:n,Lc:r,path:er.emptyPath(),xc:!1,Mc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ds(e){var t=e._freezeSettings(),n=wp(e._databaseId);return new yq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Op(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Bc(s.merge||s.mergeFields?2:0,t,n,o);vw("Data must be an object, but it was:",u,r);var c,f,h=oP(r,u);if(s.merge)c=new _a(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var d=[],y=0,v=s.mergeFields;y<v.length;y++){var E=yw(t,v[y],n);if(!u.contains(E))throw new F(A.INVALID_ARGUMENT,"Field '"+E+"' is specified in your field mask but missing from your input data.");sP(d,E)||d.push(E)}c=new _a(d),f=u.fieldTransforms.filter(function(S){return c.covers(S.field)})}else c=null,f=u.fieldTransforms;return new vq(new Mn(h),c,f)}var gw=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ps);function aP(e,t,n){return new iP({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var gq=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){return new Kc(n.path,new Na)},t.prototype.isEqual=function(n){return n instanceof t},t}(ps),wq=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=aP(this,n,!0),o=this.qc.map(function(u){return ms(u,r)}),s=new ss(o);return new Kc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ps),bq=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=aP(this,n,!0),o=this.qc.map(function(u){return ms(u,r)}),s=new as(o);return new Kc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ps),_q=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Uc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=new ka(n.R,JN(n.R,this.Uc));return new Kc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ps);function bw(e,t,n,r){var o=e.Bc(1,t,n);vw("Data must be an object, but it was:",o,r);var s=[],u=Mn.empty();Uc(r,function(f,h){var d=ww(t,f,n);h=_e(h);var y=o.kc(d);if(h instanceof gw)s.push(d);else{var v=ms(h,y);v!=null&&(s.push(d),u.set(d,v))}});var c=new _a(s);return new nP(u,c,o.fieldTransforms)}function _w(e,t,n,r,o,s){var u=e.Bc(1,t,n),c=[yw(t,r,n)],f=[o];if(s.length%2!=0)throw new F(A.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(yw(t,s[h])),f.push(s[h+1]);for(var d=[],y=Mn.empty(),v=c.length-1;v>=0;--v)if(!sP(d,c[v])){var E=c[v],S=f[v];S=_e(S);var I=u.kc(E);if(S instanceof gw)d.push(E);else{var _=ms(S,I);_!=null&&(d.push(E),y.set(E,_))}}var b=new _a(d);return new nP(y,b,u.fieldTransforms)}function uP(e,t,n,r){return r===void 0&&(r=!1),ms(n,e.Bc(r?4:3,t))}function ms(e,t){if(cP(e=_e(e)))return vw("Unsupported field value:",t,e),oP(e,t);if(e instanceof ps)return function(n,r){if(!rP(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,c=n;u<c.length;u++){var f=ms(c[u],r.Oc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=_e(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JN(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=on.fromDate(n);return{timestampValue:$c(r.R,o)}}if(n instanceof on)return o=new on(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:$c(r.R,o)};if(n instanceof rl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hs)return{bytesValue:gk(r.R,n._byteString)};if(n instanceof Be){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:L0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+xp(n))}(e,t)}function oP(e,t){var n={};return DN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uc(e,function(r,o){var s=ms(o,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function cP(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof on||e instanceof rl||e instanceof hs||e instanceof Be||e instanceof ps)}function vw(e,t,n){if(!cP(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=xp(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function yw(e,t,n){if((t=_e(t))instanceof Hr)return t._internalPath;if(typeof t=="string")return ww(e,t);throw kp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Eq=new RegExp("[~\\*/\\[\\]]");function ww(e,t,n){if(t.search(Eq)>=0)throw kp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Hr.bind.apply(Hr,Ye([void 0],t.split("."))))()._internalPath}catch(r){throw kp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function kp(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new F(A.INVALID_ARGUMENT,(c+=". ")+e+f)}function sP(e,t){return e.some(function(n){return n.isEqual(t)})}var il=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Be(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Tq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Pp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Tq=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(il);function Pp(e,t){return typeof t=="string"?ww(e,t):t instanceof Hr?t._internalPath:t._delegate._internalPath}var vs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),pi=function(e){function t(n,r,o,s,u,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return ee(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Pp("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(il),ol=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(pi),Ji=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new vs(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new ol(r._firestore,r._userDataWriter,o.key,o,new vs(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query._converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){var f=new ol(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vs(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query._converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new ol(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vs(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query._converter),h=-1,d=-1;return c.type!==0&&(h=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(d=(u=u.add(c.doc)).indexOf(c.doc.key)),{type:Sq(c.type),doc:f,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function Sq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function lP(e,t){return e instanceof pi&&t instanceof pi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ji&&t instanceof Ji&&e._firestore===t._firestore&&QO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function fP(e){if(rp(e)&&e.explicitOrderBy.length===0)throw new F(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sl=function(){};function Zi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var Iq=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=o,s.type="where",s}return ee(t,e),t.prototype._apply=function(n){var r=ds(n.firestore),o=function(s,u,c,f,h,d,y){var v;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){pP(y,d);for(var E=[],S=0,I=y;S<I.length;S++){var _=I[S];E.push(hP(f,s,_))}v={arrayValue:{values:E}}}else v=hP(f,s,y)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||pP(y,d),v=uP(c,"where",y,d==="in"||d==="not-in");var b=jn.create(h,d,v);return function(T,N){if(N.g()){var k=N0(T);if(k!==null&&!k.isEqual(N.field))throw new F(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+N.field.toString()+"'");var C=x0(T);C!==null&&dP(T,N.field,C)}var P=function(j,q){for(var D=0,he=j.filters;D<he.length;D++){var O=he[D];if(q.indexOf(O.op)>=0)return O.op}return null}(T,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(P!==null)throw P===N.op?new F(A.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+N.op.toString()+"' filter."):new F(A.INVALID_ARGUMENT,"Invalid query. You cannot use '"+N.op.toString()+"' filters with '"+P.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Bn(n.firestore,n._converter,function(s,u){var c=s.filters.concat([u]);return new li(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(sl),xq=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Qc=n,o.Wc=r,o.type="orderBy",o}return ee(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new F(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new F(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Sa(s,u);return function(f,h){if(x0(f)===null){var d=N0(f);d!==null&&dP(f,d,h.field)}}(o,c),c}(n._query,this.Qc,this.Wc);return new Bn(n.firestore,n._converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new li(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(sl),mP=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=o,s}return ee(t,e),t.prototype._apply=function(n){return new Bn(n.firestore,n._converter,WN(n._query,this.Gc,this.zc))},t}(sl),yP=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return ee(t,e),t.prototype._apply=function(n){var r=vP(n,this.type,this.Hc,this.Jc);return new Bn(n.firestore,n._converter,function(o,s){return new li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(sl),gP=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return ee(t,e),t.prototype._apply=function(n){var r=vP(n,this.type,this.Hc,this.Jc);return new Bn(n.firestore,n._converter,function(o,s){return new li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(sl);function vP(e,t,n,r){if(n[0]=_e(n[0]),n[0]instanceof il)return function(s,u,c,f,h){if(!f)throw new F(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],y=0,v=xa(s);y<v.length;y++){var E=v[y];if(E.field.isKeyField())d.push(Jh(u,f.key));else{var S=f.data.field(E.field);if(b0(S))throw new F(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){var I=E.field.canonicalString();throw new F(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}d.push(S)}}return new qc(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ds(e.firestore);return function(s,u,c,f,h,d){var y=s.explicitOrderBy;if(h.length>y.length)throw new F(A.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],E=0;E<h.length;E++){var S=h[E];if(y[E].field.isKeyField()){if(typeof S!="string")throw new F(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof S);if(!k0(s)&&S.indexOf("/")!==-1)throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+S+"' contains a slash.");var I=s.path.child(we.fromString(S));if(!J.isDocumentKey(I))throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var _=new J(I);v.push(Jh(u,_))}else{var b=uP(c,f,S);v.push(b)}}return new qc(v,d)}(e._query,e.firestore._databaseId,o,t,n,r)}function hP(e,t,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!k0(t)&&n.indexOf("/")!==-1)throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(we.fromString(n));if(!J.isDocumentKey(r))throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jh(e,new J(r))}if(n instanceof Be)return Jh(e,n._key);throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xp(n)+".")}function pP(e,t){if(!Array.isArray(e)||e.length===0)throw new F(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new F(A.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function dP(e,t,n){if(!n.isEqual(t))throw new F(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ew=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Bi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw X()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Uc(t.fields||{},function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new rl(tt(t.latitude),tt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=MN(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Vi(t);return new on(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=we.fromString(t);te(wk(r));var o=new Ip(r.get(1),r.get(3)),s=new J(r.popFirst(5));return o.isEqual(n)||et("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();function Ap(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Nq=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new hs(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},t}(Ew),kq=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ds(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=eo(t,this._firestore),s=Ap(o._converter,n,r),u=Op(this._dataReader,"WriteBatch.set",o._key,s,o._converter!==null,r);return this._mutations.push(u.toMutation(o._key,jt.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,c=eo(t,this._firestore);return u=typeof(n=_e(n))=="string"||n instanceof Hr?_w(this._dataReader,"WriteBatch.update",c._key,n,r,o):bw(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,jt.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=eo(t,this._firestore);return this._mutations=this._mutations.concat(new Wc(n._key,jt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new F(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function eo(e,t){if((e=_e(e)).firestore!==t)throw new F(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ys=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new hs(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},t}(Ew);function wP(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Ee(e,Be);var s=Ee(e.firestore,rt),u=ds(s);return al(s,[(typeof(t=_e(t))=="string"||t instanceof Hr?_w(u,"updateDoc",e._key,t,n,r):bw(u,"updateDoc",e._key,t)).toMutation(e._key,jt.exists(!0))])}function bP(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=_e(e);var u={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||$a(o[c])||(u=o[c],c++);var f,h,d,y={includeMetadataChanges:u.includeMetadataChanges};if($a(o[c])){var v=o[c];o[c]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[c+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}if(e instanceof Be)h=Ee(e.firestore,rt),d=Ia(e._key.path),f={next:function(I){o[c]&&o[c](Tw(h,e,I))},error:o[c+1],complete:o[c+2]};else{var E=Ee(e,Bn);h=Ee(E.firestore,rt),d=E._query;var S=new ys(h);f={next:function(I){o[c]&&o[c](new Ji(h,S,E,I))},error:o[c+1],complete:o[c+2]},fP(e._query)}return function(I,_,b,T){var N=this,k=new Tp(T),C=new iw(_,k,b);return I.asyncQueue.enqueueAndForget(function(){return M(N,void 0,void 0,function(){var P;return L(this,function(j){switch(j.label){case 0:return P=nw,[4,Wa(I)];case 1:return[2,P.apply(void 0,[j.sent(),C])]}})})}),function(){k.Wo(),I.asyncQueue.enqueueAndForget(function(){return M(N,void 0,void 0,function(){var P;return L(this,function(j){switch(j.label){case 0:return P=rw,[4,Wa(I)];case 1:return[2,P.apply(void 0,[j.sent(),C])]}})})})}}(Vt(h),d,y,f)}function al(e,t){return function(n,r){var o=this,s=new an;return n.asyncQueue.enqueueAndForget(function(){return M(o,void 0,void 0,function(){var u;return L(this,function(c){switch(c.label){case 0:return u=HB,[4,FO(n)];case 1:return[2,u.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Vt(e),t)}function Tw(e,t,n){var r=n.docs.get(t._key),o=new ys(e);return new pi(e,o,t._key,r,new vs(n.hasPendingWrites,n.fromCache),t._converter)}var Oq=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return ee(t,e),t.prototype.get=function(n){var r=this,o=eo(n,this._firestore),s=new ys(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new pi(r._firestore,s,o._key,u._document,new vs(!1,!1),o._converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ds(t)}return e.prototype.get=function(t){var n=this,r=eo(t,this._firestore),o=new Nq(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return X();var u=s[0];if(u.isFoundDocument())return new il(n._firestore,o,u.key,u,r._converter);if(u.isNoDocument())return new il(n._firestore,o,r._key,null,r._converter);throw X()})},e.prototype.set=function(t,n,r){var o=eo(t,this._firestore),s=Ap(o._converter,n,r),u=Op(this._dataReader,"Transaction.set",o._key,s,o._converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,c=eo(t,this._firestore);return u=typeof(n=_e(n))=="string"||n instanceof Hr?_w(this._dataReader,"Transaction.update",c._key,n,r,o):bw(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this},e.prototype.delete=function(t){var n=eo(t,this._firestore);return this._transaction.delete(n._key),this},e}());function _P(){if(typeof Uint8Array=="undefined")throw new F(A.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function EP(){if(typeof atob=="undefined")throw new F(A.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sw=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return EP(),new e(hs.fromBase64String(t))},e.fromUint8Array=function(t){return _P(),new e(hs.fromUint8Array(t))},e.prototype.toBase64=function(){return EP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return _P(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),TP=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){tP(r=Ee(r,rt));var s=Vt(r),u=r._freezeSettings(),c=new hw;return eP(s,c,new RO(c,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){tP(n=Ee(n,rt));var r=Vt(n),o=n._freezeSettings(),s=new hw;return eP(r,s,new oq(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new F(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new an;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return M(this,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return Ra.yt()?(f=c+"main",[4,Ra.delete(f)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(H0(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Nw=function(){function e(t,n,r){var o=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Ip||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n){(function(r,o,s){var u=(r=Ee(r,nl))._getSettings();u.host!=="firestore.googleapis.com"&&u.host!==o&&w0("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:o+":"+s,ssl:!1}))})(this._delegate,t,n)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return[4,MO(t)];case 1:return r=s.sent(),[4,UO(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var c=H(u);return c.$r.delete(0),el(c)}(o))]}})})})}(Vt(Ee(this._delegate,rt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return[4,MO(t)];case 1:return r=s.sent(),[4,UO(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return M(this,void 0,void 0,function(){var c;return L(this,function(f){switch(f.label){case 0:return(c=H(u)).$r.add(0),[4,qa(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(Vt(Ee(this._delegate,rt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&HO("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new an;return t.asyncQueue.enqueueAndForget(function(){return M(n,void 0,void 0,function(){var o;return L(this,function(s){switch(s.label){case 0:return o=$B,[4,FO(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Vt(Ee(this._delegate,rt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,c=new Tp(s);return o.asyncQueue.enqueueAndForget(function(){return M(u,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return f=function(d,y){H(d).Gr.add(y),y.next()},[4,Wa(o)];case 1:return[2,f.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return M(u,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return f=function(d,y){H(d).Gr.delete(y)},[4,Wa(o)];case 1:return[2,f.apply(void 0,[h.sent(),c])]}})})})}}(Vt(n=Ee(n,rt)),$a(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new F(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new cl(this,YO(this._delegate,t))}catch(n){throw un(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new to(this,Np(this._delegate,t))}catch(n){throw un(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ul(this,function(n,r){if(n=Ee(n,nl),dw("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new F(A.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bn(n,null,function(o){return new li(we.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw un(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var c=this,f=new an;return s.asyncQueue.enqueueAndForget(function(){return M(c,void 0,void 0,function(){var h;return L(this,function(d){switch(d.label){case 0:return[4,function(y){return Sp(y).then(function(v){return v.datastore})}(s)];case 1:return h=d.sent(),new aq(s.asyncQueue,h,u,f).run(),[2]}})})}),f.promise}(Vt(r),function(s){return o(new Oq(r,s))})}(this._delegate,function(r){return t(new Iw(n,r))})},e.prototype.batch=function(){var t=this;return Vt(this._delegate),new xw(new kq(this._delegate,function(n){return al(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new F(A.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new F(A.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Cp=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new Sw(new hs(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return to.Zc(r,this.firestore,null)},t}(Ew);function SP(e){var t;t=e,Ir.setLogLevel(t)}var Iw=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Cp(t)}return e.prototype.get=function(t){var n=this,r=gs(t);return this._delegate.get(r).then(function(o){return new Ya(n._firestore,new pi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r._converter))})},e.prototype.set=function(t,n,r){var o=gs(t);return r?(mw("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=gs(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Ye([c,n,r],s)),this},e.prototype.delete=function(t){var n=gs(t);return this._delegate.delete(n),this},e}(),xw=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=gs(t);return r?(mw("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=gs(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Ye([c,n,r],s)),this},e.prototype.delete=function(t){var n=gs(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Rp=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new ol(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Xa(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Cp(t),n),o.set(n,s)),s},e}();Rp.eu=new WeakMap;var to=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Cp(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new F(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Be(n._delegate,r,new J(t)))},e.Zc=function(t,n,r){return new e(n,new Be(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new cl(this.firestore,YO(this._delegate,t))}catch(n){throw un(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=_e(t))instanceof Be&&XO(this._delegate,t)},e.prototype.set=function(t,n){n=mw("DocumentReference.set",n);try{return function(r,o,s){r=Ee(r,Be);var u=Ee(r.firestore,rt),c=Ap(r._converter,o,s);return al(u,[Op(ds(u),"setDoc",r._key,c,r._converter!==null,s).toMutation(r._key,jt.none())])}(this._delegate,t,n)}catch(r){throw un(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?wP(this._delegate,t):wP.apply(void 0,Ye([this._delegate,t,n],r))}catch(s){throw un(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return al(Ee((t=this._delegate).firestore,rt),[new Wc(t._key,jt.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=IP(n),s=xP(n,function(u){return new Ya(t.firestore,new pi(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate._converter))});return bP(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ee(r,Be);var o=Ee(r.firestore,rt),s=Vt(o),u=new ys(o);return function(c,f){var h=this,d=new an;return c.asyncQueue.enqueueAndForget(function(){return M(h,void 0,void 0,function(){var y;return L(this,function(v){switch(v.label){case 0:return y=function(E,S,I){return M(this,void 0,void 0,function(){var _,b;return L(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(N,k){var C=H(N);return C.persistence.runTransaction("read document","readonly",function(P){return C.Mn.mn(P,k)})}(E,S)];case 1:return(b=T.sent()).isFoundDocument()?I.resolve(b):b.isNoDocument()?I.resolve(null):I.reject(new F(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return _=T.sent(),b=Ka(_,"Failed to get document '"+S+" from cache"),I.reject(b),[3,3];case 3:return[2]}})})},[4,jO(c)];case 1:return[2,y.apply(void 0,[v.sent(),f,d])]}})})}),d.promise}(s,r._key).then(function(c){return new pi(o,u,r._key,c,new vs(c!==null&&c.hasLocalMutations,!0),r._converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ee(r,Be);var o=Ee(r.firestore,rt);return VO(Vt(o),r._key,{source:"server"}).then(function(s){return Tw(o,r,s)})}(this._delegate):function(r){r=Ee(r,Be);var o=Ee(r.firestore,rt);return VO(Vt(o),r._key).then(function(s){return Tw(o,r,s)})}(this._delegate)).then(function(r){return new Ya(n.firestore,new pi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Rp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function un(e,t,n){return e.message=e.message.replace(t,n),e}function IP(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!$a(r))return r}return{}}function xP(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=$a(e[0])?e[0]:$a(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Ya=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new to(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return lP(this._delegate,t._delegate)},e}(),Xa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ya),ul=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Cp(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Zi(this._delegate,function(o,s,u){var c=s,f=Pp("where",o);return new Iq(f,c,u)}(t,n,r)))}catch(o){throw un(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Zi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=Pp("orderBy",r);return new xq(u,s)}(t,n)))}catch(r){throw un(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Zi(this._delegate,function(n){return WO("limit",n),new mP("limit",n,"F")}(t)))}catch(n){throw un(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Zi(this._delegate,function(n){return WO("limitToLast",n),new mP("limitToLast",n,"L")}(t)))}catch(n){throw un(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new yP("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw un(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new yP("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw un(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new gP("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw un(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new gP("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw un(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return QO(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ee(r,Bn);var o=Ee(r.firestore,rt),s=Vt(o),u=new ys(o);return function(c,f){var h=this,d=new an;return c.asyncQueue.enqueueAndForget(function(){return M(h,void 0,void 0,function(){var y;return L(this,function(v){switch(v.label){case 0:return y=function(E,S,I){return M(this,void 0,void 0,function(){var _,b,T,N,k;return L(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,yp(E,S,!0)];case 1:return k=C.sent(),_=new xO(S,k.Bn),b=_._o(k.documents),T=_.applyChanges(b,!1),I.resolve(T.snapshot),[3,3];case 2:return N=C.sent(),k=Ka(N,"Failed to execute query '"+S+" against cache"),I.reject(k),[3,3];case 3:return[2]}})})},[4,jO(c)];case 1:return[2,y.apply(void 0,[v.sent(),f,d])]}})})}),d.promise}(s,r._query).then(function(c){return new Ji(o,u,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ee(r,Bn);var o=Ee(r.firestore,rt),s=Vt(o),u=new ys(o);return BO(s,r._query,{source:"server"}).then(function(c){return new Ji(o,u,r,c)})}(this._delegate):function(r){r=Ee(r,Bn);var o=Ee(r.firestore,rt),s=Vt(o),u=new ys(o);return fP(r._query),BO(s,r._query).then(function(c){return new Ji(o,u,r,c)})}(this._delegate)).then(function(r){return new Dp(n.firestore,new Ji(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=IP(n),s=xP(n,function(u){return new Dp(t.firestore,new Ji(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return bP(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Rp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Pq=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Xa(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Dp=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ul(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Xa(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Pq(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Xa(r._firestore,o))})},e.prototype.isEqual=function(t){return lP(this._delegate,t._delegate)},e}(),cl=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new to(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new to(this.firestore,n===void 0?Np(this._delegate):Np(this._delegate,n))}catch(r){throw un(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=Ee(o.firestore,rt),c=Np(o),f=Ap(o._converter,s);return al(u,[Op(ds(o.firestore),"addDoc",c._key,f,o._converter!==null,{}).toMutation(c._key,jt.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new to(r.firestore,o)})},t.prototype.isEqual=function(n){return XO(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Rp.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(ul);function gs(e){return Ee(e,Be)}var NP=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Hr.bind.apply(Hr,Ye([void 0],t)))}return e.documentId=function(){return new e(er.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=_e(t))instanceof Hr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),kP=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new gq("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new gw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new wq("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new bq("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new _q("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();var Aq={Firestore:Nw,GeoPoint:rl,Timestamp:on,Blob:Sw,Transaction:Iw,WriteBatch:xw,DocumentReference:to,DocumentSnapshot:Ya,Query:ul,QueryDocumentSnapshot:Xa,QuerySnapshot:Dp,CollectionReference:cl,FieldPath:NP,FieldValue:kP,setLogLevel:SP,CACHE_SIZE_UNLIMITED:JO};function Cq(e){(function(t,n){t.INTERNAL.registerComponent(new Cn("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Aq)))})(e,function(t,n){return new Nw(t,new rt(t,n),new TP)}),e.registerVersion("@firebase/firestore","2.2.5")}Cq($);var kw=function(e,t){return kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},kw(e,t)};function OP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Lp=function(){return Lp=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Lp.apply(this,arguments)};function no(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function ro(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ow(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var PP="firebasestorage.googleapis.com",AP="storageBucket",Rq=2*60*1e3,Dq=10*60*1e3,ft=function(e){OP(t,e);function t(n,r){var o=e.call(this,Pw(n),"Firebase Storage: "+r+" ("+Pw(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Pw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Qo);function Pw(e){return"storage/"+e}function Aw(){var e="An unknown error occurred, please check the error payload for server response.";return new ft("unknown",e)}function Lq(e){return new ft("object-not-found","Object '"+e+"' does not exist.")}function Mq(e){return new ft("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jq(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft("unauthenticated",e)}function Uq(e){return new ft("unauthorized","User does not have permission to access '"+e+"'.")}function Fq(){return new ft("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function CP(){return new ft("canceled","User canceled the upload/download.")}function Vq(e){return new ft("invalid-url","Invalid URL '"+e+"'.")}function Bq(e){return new ft("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function qq(){return new ft("no-default-bucket","No default bucket found. Did you set the '"+AP+"' property when initializing the app?")}function RP(){return new ft("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zq(){return new ft("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Hq(){return new ft("no-download-url","The given file does not have any download URLs.")}function ws(e){return new ft("invalid-argument",e)}function DP(){return new ft("app-deleted","The Firebase app was deleted.")}function LP(e){return new ft("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ll(e,t){return new ft("invalid-format","String does not match format '"+e+"': "+t)}function Mp(e){throw new ft("internal-error","Internal error: "+e)}var rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Cw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function UP(e,t){switch(e){case rr.RAW:return new Cw(MP(t));case rr.BASE64:case rr.BASE64URL:return new Cw(jP(e,t));case rr.DATA_URL:return new Cw(Kq(t),Gq(t))}throw Aw()}function MP(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)==55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)==56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Wq(e){var t;try{t=decodeURIComponent(e)}catch(n){throw ll(rr.DATA_URL,"Malformed data URL.")}return MP(t)}function jP(e,t){switch(e){case rr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw ll(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case rr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw ll(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(t)}catch(d){throw ll(e,"Invalid character found")}for(var f=new Uint8Array(c.length),h=0;h<c.length;h++)f[h]=c.charCodeAt(h);return f}var FP=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw ll(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=$q(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Kq(e){var t=new FP(e);return t.base64?jP(rr.BASE64,t.rest):Wq(t.rest)}function Gq(e){var t=new FP(e);return t.contentType}function $q(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}var Yq={STATE_CHANGED:"state_changed"},cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rw(e){switch(e){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;case"error":return cn.ERROR;default:return cn.ERROR}}var bs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(bs||(bs={}));var Xq=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bs.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=bs.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=bs.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Mp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Mp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Mp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Mp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();var Qq=function(){function e(){}return e.prototype.createXhrIo=function(){return new Xq},e}();var ir=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(o){return new e(t,"")}if(r.path==="")return r;throw Bq(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}var u="(/(.*))?$",c=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}for(var d="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp("^https?://"+y+"/"+d+"/b/"+o+"/o"+v,"i"),S={bucket:1,path:3},I=n===PP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp("^https?://"+I+"/"+o+"/"+_,"i"),T={bucket:1,path:2},N=[{regex:c,indices:f,postModify:s},{regex:E,indices:S,postModify:h},{regex:b,indices:T,postModify:h}],k=0;k<N.length;k++){var C=N[k],P=C.regex.exec(t);if(P){var j=P[C.indices.bucket],q=P[C.indices.path];q||(q=""),r=new e(j,q),C.postModify(r);break}}if(r==null)throw Vq(t);return r},e}(),Jq=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();function Zq(e,t,n){var r=1,o=null,s=!1,u=0;function c(){return u===2}var f=!1;function h(){for(var S=[],I=0;I<arguments.length;I++)S[I]=arguments[I];f||(f=!0,t.apply(null,S))}function d(S){o=setTimeout(function(){o=null,e(y,c())},S)}function y(S){for(var I=[],_=1;_<arguments.length;_++)I[_-1]=arguments[_];if(!f){if(S){h.call.apply(h,Ow([null,S],I));return}var b=c()||s;if(b){h.call.apply(h,Ow([null,S],I));return}r<64&&(r*=2);var T;u===1?(u=2,T=0):T=(r+Math.random())*1e3,d(T)}}var v=!1;function E(S){v||(v=!0,!f&&(o!==null?(S||(u=2),clearTimeout(o),d(0)):S||(u=1)))}return d(0),setTimeout(function(){s=!0,E(!0)},n),E}function e6(e){e(!1)}function t6(e){return e!==void 0}function n6(e){return typeof e=="function"}function r6(e){return typeof e=="object"&&!Array.isArray(e)}function jp(e){return typeof e=="string"||e instanceof String}function VP(e){return Dw()&&e instanceof Blob}function Dw(){return typeof Blob!="undefined"}function Lw(e,t,n,r){if(r<t)throw ws("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ws("Invalid value for '"+e+"'. Expected "+n+" or less.")}function io(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function BP(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var i6=function(){function e(t,n,r,o,s,u,c,f,h,d,y){var v=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=d,this.timeout_=h,this.pool_=y,this.promise_=new Promise(function(E,S){v.resolve_=E,v.reject_=S,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Up(!1,null,!0));return}var u=t.pool_.createXhrIo();t.pendingXhr_=u;function c(f){var h=f.loaded,d=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(f){t.progressCallback_!==null&&f.removeUploadProgressListener(c),t.pendingXhr_=null,f=f;var h=f.getErrorCode()===bs.NO_ERROR,d=f.getStatus();if(!h||t.isRetryStatusCode_(d)){var y=f.getErrorCode()===bs.ABORT;o(!1,new Up(!1,null,y));return}var v=t.successCodes_.indexOf(d)!==-1;o(!0,new Up(v,f))})}function r(o,s){var u=t.resolve_,c=t.reject_,f=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(f,f.getResponseText());t6(h)?u(h):u()}catch(y){c(y)}else if(f!==null){var d=Aw();d.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,d)):c(d)}else if(s.canceled){var d=t.appDelete_?DP():CP();c(d)}else{var d=Fq();c(d)}}this.canceled_?r(!1,new Up(!1,null,!0)):this.backoffId_=Zq(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&e6(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Up=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function o6(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function s6(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function a6(e,t){t&&(e["X-Firebase-GMPID"]=t)}function u6(e,t,n,r,o){var s=BP(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return a6(c,t),o6(c,n),s6(c,o),new i6(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}function c6(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function l6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c6();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Dw())return new Blob(e);throw new ft("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function f6(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}var Mw=function(){function e(t,n){var r=0,o="";VP(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(VP(this.data_)){var r=this.data_,o=f6(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Dw()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(l6.apply(null,r))}else{var o=t.map(function(f){return jp(f)?UP(rr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),c=0;return o.forEach(function(f){for(var h=0;h<f.length;h++)u[c++]=f[h]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();function jw(e){var t;try{t=JSON.parse(e)}catch(n){return null}return r6(t)?t:null}function h6(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function p6(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function qP(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function d6(e,t){return t}var ln=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||d6}return e}(),Fp=null;function m6(e){return!jp(e)||e.length<2?e:qP(e)}function Vp(){if(Fp)return Fp;var e=[];e.push(new ln("bucket")),e.push(new ln("generation")),e.push(new ln("metageneration")),e.push(new ln("name","fullPath",!0));function t(s,u){return m6(u)}var n=new ln("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new ln("size");return o.xform=r,e.push(o),e.push(new ln("timeCreated")),e.push(new ln("updated")),e.push(new ln("md5Hash",null,!0)),e.push(new ln("cacheControl",null,!0)),e.push(new ln("contentDisposition",null,!0)),e.push(new ln("contentEncoding",null,!0)),e.push(new ln("contentLanguage",null,!0)),e.push(new ln("contentType",null,!0)),e.push(new ln("metadata","customMetadata",!0)),Fp=e,Fp}function v6(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new ir(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function y6(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return v6(r,e),r}function zP(e,t,n){var r=jw(t);if(r===null)return null;var o=r;return y6(e,o,n)}function g6(e,t,n){var r=jw(t);if(r===null||!jp(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),c=u.map(function(f){var h=e.bucket,d=e.fullPath,y="/b/"+s(h)+"/o/"+s(d),v=io(y,n),E=BP({alt:"media",token:f});return v+E});return c[0]}function Uw(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}var HP="prefixes",KP="items";function w6(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[HP])for(var o=0,s=n[HP];o<s.length;o++){var u=s[o],c=u.replace(/\/$/,""),f=e._makeStorageReference(new ir(t,c));r.prefixes.push(f)}if(n[KP])for(var h=0,d=n[KP];h<d.length;h++){var y=d[h],f=e._makeStorageReference(new ir(t,y.name));r.items.push(f)}return r}function b6(e,t,n){var r=jw(n);if(r===null)return null;var o=r;return w6(e,t,o)}var di=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();function Kr(e){if(!e)throw Aw()}function Bp(e,t){function n(r,o){var s=zP(e,o,t);return Kr(s!==null),s}return n}function _6(e,t){function n(r,o){var s=b6(e,t,o);return Kr(s!==null),s}return n}function E6(e,t){function n(r,o){var s=zP(e,o,t);return Kr(s!==null),g6(s,o,e.host)}return n}function Qa(e){function t(n,r){var o;return n.getStatus()===401?o=jq():n.getStatus()===402?o=Mq(e.bucket):n.getStatus()===403?o=Uq(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function qp(e){var t=Qa(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=Lq(e.path)),s.serverResponse=o.serverResponse,s}return n}function GP(e,t,n){var r=t.fullServerUrl(),o=io(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new di(o,s,Bp(e,n),u);return c.errorHandler=qp(t),c}function T6(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),c=io(u,e.host),f="GET",h=e.maxOperationRetryTime,d=new di(c,f,_6(e,t.bucket),h);return d.urlParams=s,d.errorHandler=Qa(t),d}function S6(e,t,n){var r=t.fullServerUrl(),o=io(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new di(o,s,E6(e,n),u);return c.errorHandler=qp(t),c}function I6(e,t,n,r){var o=t.fullServerUrl(),s=io(o,e.host),u="PATCH",c=Uw(n,r),f={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new di(s,u,Bp(e,r),h);return d.headers=f,d.body=c,d.errorHandler=qp(t),d}function x6(e,t){var n=t.fullServerUrl(),r=io(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,h){}var c=new di(r,o,u,s);return c.successCodes=[200,204],c.errorHandler=qp(t),c}function N6(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function WP(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=N6(null,t)),r}function k6(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var N="",k=0;k<2;k++)N=N+Math.random().toString().slice(2);return N}var f=c();u["Content-Type"]="multipart/related; boundary="+f;var h=WP(t,r,o),d=Uw(h,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+f+"--",E=Mw.getBlob(y,r,v);if(E===null)throw RP();var S={name:h.fullPath},I=io(s,e.host),_="POST",b=e.maxUploadRetryTime,T=new di(I,_,Bp(e,n),b);return T.urlParams=S,T.headers=u,T.body=E.uploadData(),T.errorHandler=Qa(t),T}var zp=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function Fw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(o){Kr(!1)}var r=t||["active"];return Kr(!!n&&r.indexOf(n)!==-1),n}function O6(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=WP(t,r,o),c={name:u.fullPath},f=io(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},y=Uw(u,n),v=e.maxUploadRetryTime;function E(I){Fw(I);var _;try{_=I.getResponseHeader("X-Goog-Upload-URL")}catch(b){Kr(!1)}return Kr(jp(_)),_}var S=new di(f,h,E,v);return S.urlParams=c,S.headers=d,S.body=y,S.errorHandler=Qa(t),S}function P6(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(h){var d=Fw(h,["active","final"]),y=null;try{y=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(E){Kr(!1)}y||Kr(!1);var v=Number(y);return Kr(!isNaN(v)),new zp(v,r.size(),d==="final")}var u="POST",c=e.maxUploadRetryTime,f=new di(n,u,s,c);return f.headers=o,f.errorHandler=Qa(t),f}var $P=256*1024;function A6(e,t,n,r,o,s,u,c){var f=new zp(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw zq();var h=f.total-f.current,d=h;o>0&&(d=Math.min(d,o));var y=f.current,v=y+d,E=d===h?"upload, finalize":"upload",S={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":f.current},I=r.slice(y,v);if(I===null)throw RP();function _(k,C){var P=Fw(k,["active","final"]),j=f.current+d,q=r.size(),D;return P==="final"?D=Bp(t,s)(k,C):D=null,new zp(j,q,P==="final",D)}var b="POST",T=t.maxUploadRetryTime,N=new di(n,b,_,T);return N.headers=S,N.body=I.uploadData(),N.progressCallback=c||null,N.errorHandler=Qa(e),N}var C6=function(){function e(t,n,r){var o=n6(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();function Ja(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var YP=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Vp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage._getAuthToken().then(function(r){switch(n._state){case"running":t(r);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=O6(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var o=P6(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage._makeRequest(o,r);t._request=s,s.getPromise().then(function(u){u=u,t._request=void 0,t._updateProgress(u.current),t._needToFetchStatus=!1,u.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=$P*this._chunkMultiplier,r=new zp(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s){var u;try{u=A6(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(f){t._error=f,t._transition("error");return}var c=t._ref.storage._makeRequest(u,s);t._request=c,c.getPromise().then(function(f){t._increaseMultiplier(),t._request=void 0,t._updateProgress(f.current),f.finalized?(t._metadata=f.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=$P*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=GP(t._ref.storage,t._ref._location,t._mappings),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=k6(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=CP(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Rw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new C6(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Rw(this._state)){case cn.SUCCESS:Ja(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:var n=this._reject;Ja(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Rw(this._state);switch(n){case cn.RUNNING:case cn.PAUSED:t.next&&Ja(t.next.bind(t,this.snapshot))();break;case cn.SUCCESS:t.complete&&Ja(t.complete.bind(t))();break;case cn.CANCELED:case cn.ERROR:t.error&&Ja(t.error.bind(t,this._error))();break;default:t.error&&Ja(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();var Hp=function(){function e(t,n){this._service=t,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ir(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return qP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=h6(this._location.path);if(t===null)return null;var n=new ir(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw LP(t)},e}();function R6(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new YP(e,new Mw(t),n)}function D6(e){var t={prefixes:[],items:[]};return XP(e,t).then(function(){return t})}function XP(e,t,n){return no(this,void 0,void 0,function(){var r,o,s,u;return ro(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,QP(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,XP(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function QP(e,t){return no(this,void 0,void 0,function(){var n,r,o;return ro(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Lw("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=s.sent(),r=t||{},o=T6(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(o,n).getPromise()]}})})}function L6(e){return no(this,void 0,void 0,function(){var t,n;return ro(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=GP(e.storage,e._location,Vp()),[2,e.storage._makeRequest(n,t).getPromise()]}})})}function M6(e,t){return no(this,void 0,void 0,function(){var n,r;return ro(this,function(o){switch(o.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=I6(e.storage,e._location,t,Vp()),[2,e.storage._makeRequest(r,n).getPromise()]}})})}function j6(e){return no(this,void 0,void 0,function(){var t,n;return ro(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=S6(e.storage,e._location,Vp()),[2,e.storage._makeRequest(n,t).getPromise().then(function(o){if(o===null)throw Hq();return o})]}})})}function U6(e){return no(this,void 0,void 0,function(){var t,n;return ro(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=x6(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}})})}function JP(e,t){var n=p6(e._location.path,t),r=new ir(e._location.bucket,n);return new Hp(e.storage,r)}function Vw(e){return/^[A-Za-z]+:\/\//.test(e)}function F6(e,t){return new Hp(e,t)}function ZP(e,t){if(e instanceof Kp){var n=e;if(n._bucket==null)throw qq();var r=new Hp(n,n._bucket);return t!=null?ZP(r,t):r}else if(t!==void 0){if(t.includes(".."))throw ws('`path` param cannot contain ".."');return JP(e,t)}else return e}function V6(e,t){if(t&&Vw(t)){if(e instanceof Kp)return F6(e,t);throw ws("To use ref(service, url), the first argument must be a Storage instance.")}else return ZP(e,t)}function eA(e,t){var n=t==null?void 0:t[AP];return n==null?null:ir.makeFromBucketSpec(n,e)}function B6(e,t,n){e.host="http://"+t+":"+n}var Kp=function(){function e(t,n,r,o,s){this.app=t,this._authProvider=n,this._pool=r,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=PP,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rq,this._maxUploadRetryTime=Dq,this._requests=new Set,o!=null?this._bucket=ir.makeFromBucketSpec(o,this._host):this._bucket=eA(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,t):this._bucket=eA(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Lw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Lw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return no(this,void 0,void 0,function(){var t,n;return ro(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Hp(this,t)},e.prototype._makeRequest=function(t,n){var r=this;if(this._deleted)return new Jq(DP());var o=u6(t,this._appId,n,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return r._requests.delete(o)},function(){return r._requests.delete(o)}),o},e}();function q6(e,t,n){return e=_e(e),R6(e,t,n)}function z6(e){return e=_e(e),L6(e)}function H6(e,t){return e=_e(e),M6(e,t)}function K6(e,t){return e=_e(e),QP(e,t)}function G6(e){return e=_e(e),D6(e)}function W6(e){return e=_e(e),j6(e)}function $6(e){return e=_e(e),U6(e)}function tA(e,t){return e=_e(e),V6(e,t)}function Y6(e,t){return JP(e,t)}var Gp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();var nA=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Gp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new Gp(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(c){return n(new Gp(c,s,s._ref))}:u={next:n.next?function(c){return n.next(new Gp(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),rA=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new fl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new fl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();var fl=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Y6(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new nA(q6(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=rr.RAW),this._throwIfRoot("putString");var o=UP(n,t),s=Lp({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new nA(new YP(this._delegate,new Mw(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return G6(this._delegate).then(function(n){return new rA(n,t.storage)})},e.prototype.list=function(t){var n=this;return K6(this._delegate,t||void 0).then(function(r){return new rA(r,n.storage)})},e.prototype.getMetadata=function(){return z6(this._delegate)},e.prototype.updateMetadata=function(t){return H6(this._delegate,t)},e.prototype.getDownloadURL=function(){return W6(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),$6(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw LP(t)},e}();var X6=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Vw(t))throw ws("ref() expected a child path but got a URL, use refFromURL instead.");return new fl(tA(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Vw(t))throw ws("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ir.makeFromUrl(t,this._delegate.host)}catch(n){throw ws("refFromUrl() expected a valid full URL but got an invalid one.")}return new fl(tA(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){B6(this._delegate,t,n)},e}(),Q6="@firebase/storage",J6="0.5.1";var Z6="storage";function ez(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=new X6(r,new Kp(r,o,new Qq,n,$.SDK_VERSION));return s}function tz(e){var t={TaskState:cn,TaskEvent:Yq,StringFormat:rr,Storage:Kp,Reference:fl};e.INTERNAL.registerComponent(new Cn(Z6,ez,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Q6,J6)}tz($);var nz="AIzaSyDnb7CnJxySsm2_w1Yq1l3ZlsRsN2qe16c",rz="collectio-photo-2233e.firebaseapp.com",iz="collectio-photo-2233e",oz="collectio-photo-2233e.appspot.com",sz="590643802391",az="1:590643802391:web:ad661fba7fb099ca018752",uz="G-X7DEP88WR5",iA={apiKey:nz,authDomain:rz,projectId:iz,storageBucket:oz,messagingSenderId:sz,appId:az,measurementId:uz};var DL=Ze(qn()),LL=Ze(_D());var Gt=Ze(qn());function hf(e,t){return hf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},hf(e,t)}function In(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hf(e,t)}var Qe=Ze(qn()),e8=Ze(sm());function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function am(e){return e.charAt(0)==="/"}function i1(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}function v5(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&am(e),s=t&&am(t),u=o||s;if(e&&am(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c;if(r.length){var f=r[r.length-1];c=f==="."||f===".."||f===""}else c=!1;for(var h=0,d=r.length;d>=0;d--){var y=r[d];y==="."?i1(r,d):y===".."?(i1(r,d),h++):h&&(i1(r,d),h--)}if(!u)for(;h--;h)r.unshift("..");u&&r[0]!==""&&(!r[0]||!am(r[0]))&&r.unshift("");var v=r.join("/");return c&&v.substr(-1)!=="/"&&(v+="/"),v}var OD=v5;var y5=!0,PD="Invariant failed";function g5(e,t){if(!e)throw y5?new Error(PD):new Error(PD+": "+(t||""))}var Pr=g5;function pf(e){return e.charAt(0)==="/"?e:"/"+e}function AD(e){return e.charAt(0)==="/"?e.substr(1):e}function w5(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function CD(e,t){return w5(e,t)?e.substr(t.length):e}function RD(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function b5(e){var t=e||"/",n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substr(o),t=t.substr(0,o));var s=t.indexOf("?");return s!==-1&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function Kn(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(o+=r.charAt(0)==="#"?r:"#"+r),o}function pn(e,t,n,r){var o;typeof e=="string"?(o=b5(e),o.state=t):(o=it({},e),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",t!==void 0&&o.state===void 0&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=OD(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function o1(){var e=null;function t(u){return e=u,function(){e===u&&(e=null)}}function n(u,c,f,h){if(e!=null){var d=typeof e=="function"?e(u,c):e;typeof d=="string"?typeof f=="function"?f(d,h):h(!0):h(d!==!1)}else h(!0)}var r=[];function o(u){var c=!0;function f(){c&&u.apply(void 0,arguments)}return r.push(f),function(){c=!1,r=r.filter(function(h){return h!==f})}}function s(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];r.forEach(function(h){return h.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:o,notifyListeners:s}}var DD=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function LD(e,t){t(window.confirm(e))}function _5(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function E5(){return window.navigator.userAgent.indexOf("Trident")===-1}function T5(){return window.navigator.userAgent.indexOf("Firefox")===-1}function S5(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var MD="popstate",jD="hashchange";function UD(){try{return window.history.state||{}}catch(e){return{}}}function FD(e){e===void 0&&(e={}),DD||Pr(!1);var t=window.history,n=_5(),r=!E5(),o=e,s=o.forceRefresh,u=s===void 0?!1:s,c=o.getUserConfirmation,f=c===void 0?LD:c,h=o.keyLength,d=h===void 0?6:h,y=e.basename?RD(pf(e.basename)):"";function v(ie){var be=ie||{},Q=be.key,oe=be.state,ye=window.location,Oe=ye.pathname,Yt=ye.search,Xt=ye.hash,vt=Oe+Yt+Xt;return y&&(vt=CD(vt,y)),pn(vt,oe,Q)}function E(){return Math.random().toString(36).substr(2,d)}var S=o1();function I(ie){it($t,ie),$t.length=t.length,S.notifyListeners($t.location,$t.action)}function _(ie){S5(ie)||N(v(ie.state))}function b(){N(v(UD()))}var T=!1;function N(ie){if(T)T=!1,I();else{var be="POP";S.confirmTransitionTo(ie,be,f,function(Q){Q?I({action:be,location:ie}):k(ie)})}}function k(ie){var be=$t.location,Q=P.indexOf(be.key);Q===-1&&(Q=0);var oe=P.indexOf(ie.key);oe===-1&&(oe=0);var ye=Q-oe;ye&&(T=!0,he(ye))}var C=v(UD()),P=[C.key];function j(ie){return y+Kn(ie)}function q(ie,be){var Q="PUSH",oe=pn(ie,be,E(),$t.location);S.confirmTransitionTo(oe,Q,f,function(ye){if(!!ye){var Oe=j(oe),Yt=oe.key,Xt=oe.state;if(n)if(t.pushState({key:Yt,state:Xt},null,Oe),u)window.location.href=Oe;else{var vt=P.indexOf($t.location.key),ei=P.slice(0,vt+1);ei.push(oe.key),P=ei,I({action:Q,location:oe})}else window.location.href=Oe}})}function D(ie,be){var Q="REPLACE",oe=pn(ie,be,E(),$t.location);S.confirmTransitionTo(oe,Q,f,function(ye){if(!!ye){var Oe=j(oe),Yt=oe.key,Xt=oe.state;if(n)if(t.replaceState({key:Yt,state:Xt},null,Oe),u)window.location.replace(Oe);else{var vt=P.indexOf($t.location.key);vt!==-1&&(P[vt]=oe.key),I({action:Q,location:oe})}else window.location.replace(Oe)}})}function he(ie){t.go(ie)}function O(){he(-1)}function Wt(){he(1)}var Nn=0;function kn(ie){Nn+=ie,Nn===1&&ie===1?(window.addEventListener(MD,_),r&&window.addEventListener(jD,b)):Nn===0&&(window.removeEventListener(MD,_),r&&window.removeEventListener(jD,b))}var mt=!1;function Wn(ie){ie===void 0&&(ie=!1);var be=S.setPrompt(ie);return mt||(kn(1),mt=!0),function(){return mt&&(mt=!1,kn(-1)),be()}}function $n(ie){var be=S.appendListener(ie);return kn(1),function(){kn(-1),be()}}var $t={length:t.length,action:"POP",location:C,createHref:j,push:q,replace:D,go:he,goBack:O,goForward:Wt,block:Wn,listen:$n};return $t}var VD="hashchange",I5={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+AD(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:AD,decodePath:pf},slash:{encodePath:pf,decodePath:pf}};function BD(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function df(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function x5(e){window.location.hash=e}function s1(e){window.location.replace(BD(window.location.href)+"#"+e)}function qD(e){e===void 0&&(e={}),DD||Pr(!1);var t=window.history,n=T5(),r=e,o=r.getUserConfirmation,s=o===void 0?LD:o,u=r.hashType,c=u===void 0?"slash":u,f=e.basename?RD(pf(e.basename)):"",h=I5[c],d=h.encodePath,y=h.decodePath;function v(){var Q=y(df());return f&&(Q=CD(Q,f)),pn(Q)}var E=o1();function S(Q){it(be,Q),be.length=t.length,E.notifyListeners(be.location,be.action)}var I=!1,_=null;function b(Q,oe){return Q.pathname===oe.pathname&&Q.search===oe.search&&Q.hash===oe.hash}function T(){var Q=df(),oe=d(Q);if(Q!==oe)s1(oe);else{var ye=v(),Oe=be.location;if(!I&&b(Oe,ye)||_===Kn(ye))return;_=null,N(ye)}}function N(Q){if(I)I=!1,S();else{var oe="POP";E.confirmTransitionTo(Q,oe,s,function(ye){ye?S({action:oe,location:Q}):k(Q)})}}function k(Q){var oe=be.location,ye=q.lastIndexOf(Kn(oe));ye===-1&&(ye=0);var Oe=q.lastIndexOf(Kn(Q));Oe===-1&&(Oe=0);var Yt=ye-Oe;Yt&&(I=!0,Wt(Yt))}var C=df(),P=d(C);C!==P&&s1(P);var j=v(),q=[Kn(j)];function D(Q){var oe=document.querySelector("base"),ye="";return oe&&oe.getAttribute("href")&&(ye=BD(window.location.href)),ye+"#"+d(f+Kn(Q))}function he(Q,oe){var ye="PUSH",Oe=pn(Q,void 0,void 0,be.location);E.confirmTransitionTo(Oe,ye,s,function(Yt){if(!!Yt){var Xt=Kn(Oe),vt=d(f+Xt),ei=df()!==vt;if(ei){_=Xt,x5(vt);var Ne=q.lastIndexOf(Kn(be.location)),yf=q.slice(0,Ne+1);yf.push(Xt),q=yf,S({action:ye,location:Oe})}else S()}})}function O(Q,oe){var ye="REPLACE",Oe=pn(Q,void 0,void 0,be.location);E.confirmTransitionTo(Oe,ye,s,function(Yt){if(!!Yt){var Xt=Kn(Oe),vt=d(f+Xt),ei=df()!==vt;ei&&(_=Xt,s1(vt));var Ne=q.indexOf(Kn(be.location));Ne!==-1&&(q[Ne]=Xt),S({action:ye,location:Oe})}})}function Wt(Q){t.go(Q)}function Nn(){Wt(-1)}function kn(){Wt(1)}var mt=0;function Wn(Q){mt+=Q,mt===1&&Q===1?window.addEventListener(VD,T):mt===0&&window.removeEventListener(VD,T)}var $n=!1;function $t(Q){Q===void 0&&(Q=!1);var oe=E.setPrompt(Q);return $n||(Wn(1),$n=!0),function(){return $n&&($n=!1,Wn(-1)),oe()}}function ie(Q){var oe=E.appendListener(Q);return Wn(1),function(){Wn(-1),oe()}}var be={length:t.length,action:"POP",location:j,createHref:D,push:he,replace:O,go:Wt,goBack:Nn,goForward:kn,block:$t,listen:ie};return be}function zD(e,t,n){return Math.min(Math.max(e,t),n)}function HD(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=r===void 0?["/"]:r,s=t.initialIndex,u=s===void 0?0:s,c=t.keyLength,f=c===void 0?6:c,h=o1();function d(q){it(j,q),j.length=j.entries.length,h.notifyListeners(j.location,j.action)}function y(){return Math.random().toString(36).substr(2,f)}var v=zD(u,0,o.length-1),E=o.map(function(q){return typeof q=="string"?pn(q,void 0,y()):pn(q,void 0,q.key||y())}),S=Kn;function I(q,D){var he="PUSH",O=pn(q,D,y(),j.location);h.confirmTransitionTo(O,he,n,function(Wt){if(!!Wt){var Nn=j.index,kn=Nn+1,mt=j.entries.slice(0);mt.length>kn?mt.splice(kn,mt.length-kn,O):mt.push(O),d({action:he,location:O,index:kn,entries:mt})}})}function _(q,D){var he="REPLACE",O=pn(q,D,y(),j.location);h.confirmTransitionTo(O,he,n,function(Wt){!Wt||(j.entries[j.index]=O,d({action:he,location:O}))})}function b(q){var D=zD(j.index+q,0,j.entries.length-1),he="POP",O=j.entries[D];h.confirmTransitionTo(O,he,n,function(Wt){Wt?d({action:he,location:O,index:D}):d()})}function T(){b(-1)}function N(){b(1)}function k(q){var D=j.index+q;return D>=0&&D<j.entries.length}function C(q){return q===void 0&&(q=!1),h.setPrompt(q)}function P(q){return h.appendListener(q)}var j={length:E.length,action:"POP",location:E[v],index:v,entries:E,createHref:S,push:I,replace:_,go:b,goBack:T,goForward:N,canGo:k,block:C,listen:P};return j}var mf=Ze(qn());var a1=Ze(sm());var u1=1073741823,KD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function N5(){var e="__global_unique_id__";return KD[e]=(KD[e]||0)+1}function k5(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}function O5(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(o){return o!==r})},get:function(){return e},set:function(r,o){e=r,t.forEach(function(s){return s(e,o)})}}}function P5(e){return Array.isArray(e)?e[0]:e}function A5(e,t){var n,r,o="__create-react-context-"+N5()+"__",s=function(c){In(f,c);function f(){var d;return d=c.apply(this,arguments)||this,d.emitter=O5(d.props.value),d}var h=f.prototype;return h.getChildContext=function(){var y;return y={},y[o]=this.emitter,y},h.componentWillReceiveProps=function(y){if(this.props.value!==y.value){var v=this.props.value,E=y.value,S;k5(v,E)?S=0:(S=typeof t=="function"?t(v,E):u1,S|=0,S!==0&&this.emitter.set(y.value,S))}},h.render=function(){return this.props.children},f}(mf.Component);s.childContextTypes=(n={},n[o]=a1.default.object.isRequired,n);var u=function(c){In(f,c);function f(){var d;return d=c.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(y,v){var E=d.observedBits|0;(E&v)!=0&&d.setState({value:d.getValue()})},d}var h=f.prototype;return h.componentWillReceiveProps=function(y){var v=y.observedBits;this.observedBits=v==null?u1:v},h.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var y=this.props.observedBits;this.observedBits=y==null?u1:y},h.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},h.getValue=function(){return this.context[o]?this.context[o].get():e},h.render=function(){return P5(this.props.children)(this.state.value)},f}(mf.Component);return u.contextTypes=(r={},r[o]=a1.default.object,r),{Provider:s,Consumer:u}}var C5=mf.default.createContext||A5,c1=C5;var uL=Ze(QD()),a8=Ze(v1());function No(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var cL=Ze(aL()),Z5=function(t){var n=c1();return n.displayName=t,n},eK=Z5("Router-History"),tK=function(t){var n=c1();return n.displayName=t,n},ko=tK("Router"),vf=function(e){In(t,e),t.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function t(r){var o;return o=e.call(this,r)||this,o.state={location:r.history.location},o._isMounted=!1,o._pendingLocation=null,r.staticContext||(o.unlisten=r.history.listen(function(s){o._isMounted?o.setState({location:s}):o._pendingLocation=s})),o}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return Qe.default.createElement(ko.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Qe.default.createElement(eK.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Qe.default.Component),l8=function(e){In(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=HD(r.props),r}var n=t.prototype;return n.render=function(){return Qe.default.createElement(vf,{history:this.history,children:this.props.children})},t}(Qe.default.Component),f8=function(e){In(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Qe.default.Component);var lL={},nK=1e4,fL=0;function rK(e,t){var n=""+t.end+t.strict+t.sensitive,r=lL[n]||(lL[n]={});if(r[e])return r[e];var o=[],s=(0,uL.default)(e,o,t),u={regexp:s,keys:o};return fL<nK&&(r[e]=u,fL++),u}function bm(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,s=o===void 0?!1:o,u=n.strict,c=u===void 0?!1:u,f=n.sensitive,h=f===void 0?!1:f,d=[].concat(r);return d.reduce(function(y,v){if(!v&&v!=="")return null;if(y)return y;var E=rK(v,{end:s,strict:c,sensitive:h}),S=E.regexp,I=E.keys,_=S.exec(e);if(!_)return null;var b=_[0],T=_.slice(1),N=e===b;return s&&!N?null:{path:v,url:v==="/"&&b===""?"/":b,isExact:N,params:I.reduce(function(k,C,P){return k[C.name]=T[P],k},{})}},null)}var js=function(e){In(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var o=this;return Qe.default.createElement(ko.Consumer,null,function(s){s||Pr(!1);var u=o.props.location||s.location,c=o.props.computedMatch?o.props.computedMatch:o.props.path?bm(u.pathname,o.props):s.match,f=it({},s,{location:u,match:c}),h=o.props,d=h.children,y=h.component,v=h.render;return Array.isArray(d)&&d.length===0&&(d=null),Qe.default.createElement(ko.Provider,{value:f},f.match?d?typeof d=="function"?d(f):d:y?Qe.default.createElement(y,f):v?v(f):null:typeof d=="function"?d(f):null)})},t}(Qe.default.Component);function w1(e){return e.charAt(0)==="/"?e:"/"+e}function iK(e,t){return e?it({},t,{pathname:w1(e)+t.pathname}):t}function oK(e,t){if(!e)return t;var n=w1(e);return t.pathname.indexOf(n)!==0?t:it({},t,{pathname:t.pathname.substr(n.length)})}function hL(e){return typeof e=="string"?e:Kn(e)}function b1(e){return function(){Pr(!1)}}function pL(){}var h8=function(e){In(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.handlePush=function(c){return r.navigateTo(c,"PUSH")},r.handleReplace=function(c){return r.navigateTo(c,"REPLACE")},r.handleListen=function(){return pL},r.handleBlock=function(){return pL},r}var n=t.prototype;return n.navigateTo=function(o,s){var u=this.props,c=u.basename,f=c===void 0?"":c,h=u.context,d=h===void 0?{}:h;d.action=s,d.location=iK(f,pn(o)),d.url=hL(d.location)},n.render=function(){var o=this.props,s=o.basename,u=s===void 0?"":s,c=o.context,f=c===void 0?{}:c,h=o.location,d=h===void 0?"/":h,y=No(o,["basename","context","location"]),v={createHref:function(S){return w1(u+hL(S))},action:"POP",location:oK(u,pn(d)),push:this.handlePush,replace:this.handleReplace,go:b1("go"),goBack:b1("goBack"),goForward:b1("goForward"),listen:this.handleListen,block:this.handleBlock};return Qe.default.createElement(vf,it({},y,{history:v,staticContext:f}))},t}(Qe.default.Component),dL=function(e){In(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var o=this;return Qe.default.createElement(ko.Consumer,null,function(s){s||Pr(!1);var u=o.props.location||s.location,c,f;return Qe.default.Children.forEach(o.props.children,function(h){if(f==null&&Qe.default.isValidElement(h)){c=h;var d=h.props.path||h.props.from;f=d?bm(u.pathname,it({},h.props,{path:d})):s.match}}),f?Qe.default.cloneElement(c,{location:u,computedMatch:f}):null})},t}(Qe.default.Component);function Zr(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(o){var s=o.wrappedComponentRef,u=No(o,["wrappedComponentRef"]);return Qe.default.createElement(ko.Consumer,null,function(c){return c||Pr(!1),Qe.default.createElement(e,it({},u,c,{ref:s}))})};return n.displayName=t,n.WrappedComponent=e,(0,cL.default)(n,e)}var p8=Qe.default.useContext;var pr=Ze(qn());var g8=Ze(sm());var T8=function(e){In(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=FD(r.props),r}var n=t.prototype;return n.render=function(){return pr.default.createElement(vf,{history:this.history,children:this.props.children})},t}(pr.default.Component),mL=function(e){In(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=qD(r.props),r}var n=t.prototype;return n.render=function(){return pr.default.createElement(vf,{history:this.history,children:this.props.children})},t}(pr.default.Component),_1=function(t,n){return typeof t=="function"?t(n):t},vL=function(t,n){return typeof t=="string"?pn(t,null,null,n):t},E1=function(t){return t},Ru=pr.default.forwardRef;typeof Ru=="undefined"&&(Ru=E1);function sK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var aK=Ru(function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,s=No(e,["innerRef","navigate","onClick"]),u=s.target,c=it({},s,{onClick:function(h){try{o&&o(h)}catch(d){throw h.preventDefault(),d}!h.defaultPrevented&&h.button===0&&(!u||u==="_self")&&!sK(h)&&(h.preventDefault(),r())}});return E1!==Ru?c.ref=t||n:c.ref=n,pr.default.createElement("a",c)}),_t=Ru(function(e,t){var n=e.component,r=n===void 0?aK:n,o=e.replace,s=e.to,u=e.innerRef,c=No(e,["component","replace","to","innerRef"]);return pr.default.createElement(ko.Consumer,null,function(f){f||Pr(!1);var h=f.history,d=vL(_1(s,f.location),f.location),y=d?h.createHref(d):"",v=it({},c,{href:y,navigate:function(){var S=_1(s,f.location),I=o?h.replace:h.push;I(S)}});return E1!==Ru?v.ref=t||u:v.innerRef=u,pr.default.createElement(r,v)})});var yL=function(t){return t},_m=pr.default.forwardRef;typeof _m=="undefined"&&(_m=yL);function uK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}var S8=_m(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,o=e.activeClassName,s=o===void 0?"active":o,u=e.activeStyle,c=e.className,f=e.exact,h=e.isActive,d=e.location,y=e.sensitive,v=e.strict,E=e.style,S=e.to,I=e.innerRef,_=No(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return pr.default.createElement(ko.Consumer,null,function(b){b||Pr(!1);var T=d||b.location,N=vL(_1(S,T),T),k=N.pathname,C=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=C?bm(T.pathname,{path:C,exact:f,sensitive:y,strict:v}):null,j=!!(h?h(P,T):P),q=j?uK(c,s):c,D=j?it({},E,{},u):E,he=it({"aria-current":j&&r||null,className:q,style:D,to:N},_);return yL!==_m?he.ref=t||I:he.innerRef=I,pr.default.createElement(_t,he)})});var ve=Ze(qn());var gL=class extends ve.default.Component{constructor(t){super(t);if(this.state={loading:!0,user:null,uploading:!1},this.input=null,t.albums.length>0)return;let n=[];n.push({image:"https://yabumi.cc/17901ccdcd7973907b4cfd62.jpg"});let r=new Date,o={title:"\u3042\u308B\u65E5\u306E\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u4F1A",date:`${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`,photos:n,games:[{bgdb:"http://www.gamers-jp.com/playgame/db_gamea.php?game_id=6959",bgg:"https://boardgamegeek.com/boardgame/191895",bodogema:"https://bodoge.hoobby.net/games/golovonogi",etitle:"Toddles-Bobbles Green",hasJPURL:1,id:"95735",keyword:"\u306A\u3093\u3058\u3083\u3082\u3093\u3058\u3083,\u307F\u3069\u308A,\u7DD1",maxPlayers:6,minPlayers:2,playAge:4,playingTime:15,title:"\u30CA\u30F3\u30B8\u30E3\u30E2\u30F3\u30B8\u30E3\u30FB\u30DF\u30C9\u30EA",year:"2010",image:"https://db.collectio.jp/wp-content/uploads/2019/05/95735.jpg"},{bgdb:"",bgg:"https://boardgamegeek.com/boardgame/230802",bodogema:"https://bodoge.hoobby.net/games/azul",etitle:"Azul",hasJPURL:1,id:"72660",keyword:"",maxPlayers:4,minPlayers:2,playAge:8,playingTime:45,title:"\u30A2\u30BA\u30FC\u30EB",year:"2017",image:"https://db.collectio.jp/wp-content/uploads/2019/05/72660.jpg"},{bgdb:"http://www.gamers-jp.com/playgame/db_gamea.php?game_id=4786",bgg:"https://boardgamegeek.com/boardgame/68448",bodogema:"https://bodoge.hoobby.net/games/7-wonders",etitle:"7 Wonders",hasJPURL:1,id:"81063",keyword:"\u305B\u304B\u3044\u306E\u306A\u306A\u3075\u3057\u304E \u305B\u3076\u3093\u308F\u3093\u3060\u30FC 7\u308F\u3093\u3060\u30FC",maxPlayers:"",minPlayers:"",playAge:"",playingTime:"",title:"\u4E16\u754C\u306E\u4E03\u4E0D\u601D\u8B70",year:"2010",image:"https://db.collectio.jp/wp-content/uploads/2019/05/81063.jpg"},{bgdb:null,bgg:null,bodogema:null,etitle:"",hasJPURL:1,id:"110318",keyword:"",maxPlayers:null,minPlayers:null,playAge:null,playingTime:null,title:"Escape from the Office: The exciting escape game \u2013 escape your boss",year:"0",image:null}],userId:""};t.addAlbums(o)}setInputRef(t){this.input=t}componentDidMount(){this.props.user||Oo.auth().onAuthStateChanged(t=>{t&&(console.log(t),this.props.setUser(t),T1.collection("albums").where("userId","==",this.props.user.uid).get().then(n=>{n.forEach(r=>{this.props.addAlbums(r.data())})}).catch(n=>{console.log("Error getting documents: ",n)})),this.setState({loading:!1})})}async createAlbum(){if(this.input&&this.input.files){this.setState({uploading:!0});let t=[];for(let s=0;s<this.input.files.length;s++){let u=this.input.files[s],c=await this.loadImage(u).catch(f=>console.log(f));t.push(c)}console.log(t);let n=new Date,r={title:"\u3042\u308B\u65E5\u306E\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u4F1A",date:`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`,photos:[],games:[],userId:this.props.user.uid},o=await T1.collection("albums").add(r).catch(s=>{console.error("Error adding document: ",s)});if(o){console.log("Document written with ID: ",o.id);let s=[];for(let u of t){let c=await this.uploadPhoto(o,u).catch(f=>console.log(f));c&&s.push({image:c})}o.update({photos:s}).catch(u=>console.log(u)),r.photos=s,this.props.addAlbums(r)}this.setState({uploading:!1})}}loadImage(t){return new Promise((n,r)=>{let o=new FileReader;o.onload=async s=>{n(await this.resizeImage(s.target.result))},o.readAsDataURL(t)})}uploadPhoto(t,n){return console.log("uploadPhoto"),new Promise((r,o)=>{let c=Oo.storage().ref().child(`${this.props.user.uid}/${t.id}/${new Date().getTime()}.jpg`).putString(n,"data_url");c.on("state_changed",f=>{let h=f.bytesTransferred/f.totalBytes*100;switch(console.log("Upload is "+h+"% done"),f.state){case Oo.storage.TaskState.PAUSED:console.log("Upload is paused");break;case Oo.storage.TaskState.RUNNING:console.log("Upload is running");break}},f=>{console.log(f),o()},async()=>{let f=await c.snapshot.ref.getDownloadURL();console.log("File available at",f),r(f)})})}resizeImage(t){return new Promise((n,r)=>{let o=640,s=document.createElement("canvas"),u=s.getContext("2d");if(u){let c=new Image;c.crossOrigin="Anonymous",c.onload=f=>{let h=f.target,d,y;h.width>h.height?(d=o,y=h.height*o/h.width):(y=o,d=h.width*o/h.height),s.width=d,s.height=y,u.drawImage(h,0,0,h.width,h.height,0,0,d,y),n(s.toDataURL())},c.src=t}else r()})}GoogleLogin(){let t=new Oo.auth.GoogleAuthProvider;Oo.auth().signInWithRedirect(t)}signOut(){Oo.auth().signOut().then(()=>{location.reload()}).catch(t=>{})}render(){return ve.default.createElement("div",{id:"home"},ve.default.createElement("nav",null,ve.default.createElement(_t,{to:"/"},ve.default.createElement("img",{className:"logo",src:"./assets/collectio.svg",alt:"Collectio"}))),this.state.loading?null:this.props.user?ve.default.createElement(ve.default.Fragment,null,ve.default.createElement("div",{className:"profile"},ve.default.createElement("img",{src:this.props.user.photoURL,alt:""}),ve.default.createElement("p",null,this.props.user.displayName),ve.default.createElement("button",{onClick:this.signOut.bind(this)},"SignOut")),this.state.uploading?ve.default.createElement("div",{className:"progress"},ve.default.createElement("p",null,"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D...")):null,ve.default.createElement("div",{className:"albums"},this.props.albums.map(t=>ve.default.createElement(_t,{to:{pathname:"/album",state:{album:t}},key:t.title+t.date},ve.default.createElement("div",{className:"album"},ve.default.createElement("div",{className:"image"},ve.default.createElement("h4",null,t.title),ve.default.createElement("span",null,t.date),ve.default.createElement("div",{className:"photos"},t.photos.map(n=>ve.default.createElement("div",{key:n.image,className:"photo",style:{backgroundImage:`url(${n.image})`}})))),ve.default.createElement("div",{className:"games"},t.games.map((n,r)=>ve.default.createElement("div",{key:"game"+r,className:"game"},n.image?ve.default.createElement("img",{src:n.image,alt:n.title}):ve.default.createElement("span",{className:"title"},n.title)))))))),ve.default.createElement("form",{action:"",encType:"multipart/form-data"},ve.default.createElement("input",{className:"file",onChange:this.createAlbum.bind(this),id:"file",type:"file",name:"file",accept:"image/*",multiple:!0,ref:this.setInputRef.bind(this)}),ve.default.createElement("label",{htmlFor:"file"}))):ve.default.createElement("div",{className:"login"},ve.default.createElement("button",{onClick:this.GoogleLogin.bind(this)},ve.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512"},ve.default.createElement("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})),"Google\u3067\u30ED\u30B0\u30A4\u30F3")))}},wL=gL;var Fe=Ze(qn());var bL=class extends Fe.default.Component{constructor(t){super(t);this.state={}}render(){try{let{album:t}=this.props.location.state;return Fe.default.createElement("div",{id:"album"},Fe.default.createElement("nav",null,Fe.default.createElement(_t,{to:"/"},Fe.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),Fe.default.createElement("span",null),Fe.default.createElement("span",{onClick:()=>alert("\u30A2\u30EB\u30D0\u30E0\u306E\u30BF\u30A4\u30C8\u30EB\u7DE8\u96C6\u30FB\u30A2\u30EB\u30D0\u30E0\u306E\u524A\u9664\u6A5F\u80FD\u306A\u3069\u304C\u304F\u308B\u4E88\u5B9A")},Fe.default.createElement("img",{src:"./assets/menu.svg",alt:"menu"}))),Fe.default.createElement("div",{className:"album"},Fe.default.createElement("div",{className:"hero"},Fe.default.createElement("h4",null,t.title),Fe.default.createElement("span",null,t.date),Fe.default.createElement("div",{className:"cover",style:{backgroundImage:`url(${t.photos[0].image})`}})),Fe.default.createElement("div",{className:"actions"},Fe.default.createElement(_t,{to:{pathname:"/select",state:{album:t}},className:"add"},"\u904A\u3093\u3060\u30B2\u30FC\u30E0"),Fe.default.createElement(_t,{to:{pathname:"/albumSelect",state:{album:t}},className:"share"},"\u30B7\u30A7\u30A2")),Fe.default.createElement("div",{className:"games"},t.games.map((n,r)=>Fe.default.createElement("div",{key:"game"+r,className:"game"},n.image?Fe.default.createElement("img",{src:n.image,alt:n.title}):Fe.default.createElement("span",{className:"title"},n.title)))),Fe.default.createElement("div",{className:"photos"},t.photos.map((n,r)=>Fe.default.createElement(_t,{to:{pathname:"/photo",state:{album:t,photo:n}},key:n.image},Fe.default.createElement("div",{className:"photo",style:{backgroundImage:`url(${n.image})`}}))))))}catch(t){alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`),this.props.history.push("/"),location.reload()}}},_L=Zr(bL);var xn=Ze(qn());var EL=class extends xn.default.Component{constructor(t){super(t);this.state={selectedImageIndex:[],selectDisabled:!1}}select(t){this.state.selectedImageIndex.indexOf(t)===-1?this.state.selectDisabled===!1&&this.state.selectedImageIndex.push(t):(this.state.selectedImageIndex.splice(this.state.selectedImageIndex.indexOf(t),1),this.setState({selectDisabled:!1})),this.state.selectedImageIndex.length>=4&&this.setState({selectDisabled:!0}),this.setState({})}share(){let{album:t}=this.props.location.state;if(this.state.selectedImageIndex.length===0)return alert("\u5199\u771F\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044");let n=t.photos.filter((r,o)=>this.state.selectedImageIndex.indexOf(o)>-1);this.props.history.push({pathname:"/share",state:{photos:n,album:t}})}render(){try{let{album:t}=this.props.location.state;return xn.default.createElement("div",{id:"albumSelect"},xn.default.createElement("nav",null,xn.default.createElement(_t,{to:{pathname:"/album",state:{album:t}}},xn.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),xn.default.createElement("span",null,"\u5199\u771F\u306E\u9078\u629E"),xn.default.createElement("span",null)),xn.default.createElement("div",{className:"album"},xn.default.createElement("div",{className:"photos"},t.photos.map((n,r)=>xn.default.createElement("div",{className:"photo"+(this.state.selectDisabled?" disabled":""),onClick:this.select.bind(this,r),style:{backgroundImage:`url(${n.image})`}},xn.default.createElement("span",{className:"select"+(this.state.selectedImageIndex.indexOf(r)>-1?" selected":"")})))),xn.default.createElement("div",{className:"bottomActions"},xn.default.createElement("span",{className:"share",onClick:this.share.bind(this)},"\u6B21\u3078"))))}catch(t){alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`),this.props.history.push("/"),location.reload()}}},TL=Zr(EL);var Du=Ze(qn());var SL=class extends Du.default.Component{constructor(t){super(t);this.state={}}render(){let{photo:t}=this.props.location.state,{album:n}=this.props.location.state;return Du.default.createElement("div",{id:"photo"},Du.default.createElement("div",{style:{backgroundImage:`url(${t.image})`}}),Du.default.createElement(_t,{to:{pathname:"/album",state:{album:n}},className:"close"},Du.default.createElement("img",{src:"./assets/close.svg"})))}},IL=Zr(SL);var dt=Ze(qn());var NL=Ze(xL()),kL=class extends dt.default.Component{constructor(t){super(t);this.textInput=null;try{let{album:n}=this.props.location.state;this.state={index:0,loading:!1,album:n,suggests:[]}}catch(n){this.props.history.push("/"),location.reload(),alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`)}}componentDidMount(){this.textInput&&(this.textInput.addEventListener("focus",()=>{scrollTo(0,140)}),this.textInput.focus()),fetch("https://db-api-mxiq5qapta-an.a.run.app/search")}setTextInputRef(t){this.textInput=t}hiraToKana(t){return t.replace(/[\u3041-\u3096]/g,function(n){let r=n.charCodeAt(0)+96;return String.fromCharCode(r)})}async onSearch(t){t.preventDefault();let n=this.textInput.value;if(n==="")return this.setState({suggests:[]});let r=await this.search(n);this.setState({loading:!0}),r.length===0&&(r=await this.search(this.hiraToKana(n)));let o=await this.suggest(n);this.setState({loading:!1});let s=r.concat(o);s.length===0&&(s=[{title:n}]),this.setState({suggests:s})}async search(t){let n=await fetch("https://db-api-mxiq5qapta-an.a.run.app/search?q="+encodeURIComponent(t)).then(o=>o.json()),r=[];return n.map(o=>{r.push(o)}),r}async suggest(t){let n=await(0,NL.default)("https://www.google.com/complete/search?hl=ja&client=firefox&q="+encodeURIComponent(t)).then(o=>o.json()),r=[];return n[1].map(o=>{let s={title:o};r.push(s)}),r}async selectSuggest(t){let r=(await fetch(`http://db.collectio.jp/wp-json/wp/v2/posts/${t.id}?_embed`).then(o=>o.json())).featured_image.src;r!=="http://db.collectio.jp/wp-includes/images/media/default.png"?t.image=r:t.image=null,this.state.album.games.push(t),this.setState({suggests:[]}),this.textInput.value=""}render(){return dt.default.createElement("div",{id:"select"},dt.default.createElement("nav",null,dt.default.createElement(_t,{to:{pathname:"/album",state:{album:this.state.album}},className:"back"},dt.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),dt.default.createElement(_t,{to:{pathname:"/album",state:{album:this.state.album}},className:"complete"},"\u5B8C\u4E86")),dt.default.createElement("form",{action:"",onSubmit:this.onSearch.bind(this)},dt.default.createElement("div",{className:"bg"},dt.default.createElement("input",{type:"text",ref:this.setTextInputRef.bind(this),placeholder:"\u30B2\u30FC\u30E0\u3092\u691C\u7D22",onChange:this.onSearch.bind(this)})),this.state.suggests.length===0&&this.state.loading?dt.default.createElement("div",{className:"suggests"},"\u8AAD\u307F\u8FBC\u307F\u4E2D..."):null,this.state.suggests.length>0?dt.default.createElement("div",{className:"suggests"},this.state.suggests.slice(0,100).map((t,n)=>dt.default.createElement("div",{key:"suggest"+n,onClick:this.selectSuggest.bind(this,t)},t.title))):null),this.state.album.games.length>0?dt.default.createElement("div",{className:"games"},dt.default.createElement("h3",null,"\u904A\u3093\u3060\u30B2\u30FC\u30E0"),this.state.album.games.map((t,n)=>dt.default.createElement("div",{key:"game"+n,className:"game"},t.image?dt.default.createElement("img",{src:t.image,alt:""}):dt.default.createElement("span",{className:"image"}),dt.default.createElement("span",{className:"title"},t.title)))):null)}},OL=Zr(kL);var dr=Ze(qn());function cK(e,t){var n=e.split(","),r=atob(n[1]),o=r.length,s=new Uint8Array(o),u,c=n[0];if(c){var f=c.match(/:(.*?);/);f&&(u=f[1])}for(;o--;)s[o]=r.charCodeAt(o);return new File([s],t,{type:u})}var PL=class extends dr.default.Component{constructor(t){super(t);this.textArea=null;try{let{photos:n}=this.props.location.state;this.state={photos:n}}catch(n){alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`),this.props.history.push("/"),location.reload()}}setTextInputRef(t){this.textArea=t}share(){let t=this.textArea.value,n=[`
`],r=[];this.state.photos.map(o=>{let s=cK(o.image,"test.jpg");r.push(s),o.game&&n.indexOf(o.game.title)===-1&&n.push("#"+o.game.title)}),t+=n.join(" "),navigator.share?navigator.share({text:t,url:"https://collectio.jp/",files:r}).then(()=>{console.log("Share was successful.")}).catch(o=>{console.log("Sharing failed",o)}):alert(`\u3053\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u306F\u30B7\u30A7\u30A2\u6A5F\u80FD\u304C\u4F7F\u3048\u307E\u305B\u3093\u3002
\u6700\u65B0\u306ESafari, Chrome\u3092\u304A\u4F7F\u3044\u304F\u3060\u3055\u3044\u3002`)}render(){let{album:t}=this.props.location.state;return dr.default.createElement("div",{id:"share"},dr.default.createElement("nav",null,dr.default.createElement(_t,{to:{pathname:"/albumSelect",state:{album:t}},className:"back"},dr.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"}))),dr.default.createElement("div",{className:"photos"},this.state.photos.map((n,r)=>dr.default.createElement("div",{className:"photo",style:{backgroundImage:`url(${n.image})`}}))),dr.default.createElement("textarea",{name:"comment",id:"comment",ref:this.setTextInputRef.bind(this),placeholder:"\u30B2\u30FC\u30E0\u3092\u904A\u3093\u3060\u611F\u60F3\u306A\u3069"}),dr.default.createElement("button",{onClick:this.share.bind(this)},dr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.067",height:"24.245",viewBox:"0 0 19.067 24.245"},dr.default.createElement("path",{d:"M.005-4.834a.855.855,0,0,0,.849-.838V-16.7L.79-18.315l.73.763,1.622,1.74a.784.784,0,0,0,.58.258.751.751,0,0,0,.784-.763.75.75,0,0,0-.247-.559l-3.631-3.5a.838.838,0,0,0-.623-.29.838.838,0,0,0-.623.29l-3.631,3.5a.76.76,0,0,0-.258.559.748.748,0,0,0,.773.763.79.79,0,0,0,.591-.258l1.633-1.74.73-.763L-.854-16.7V-5.672A.865.865,0,0,0,.005-4.834ZM-6.161,3.577H6.161c2.245,0,3.373-1.117,3.373-3.33V-10.474c0-2.213-1.128-3.33-3.373-3.33h-3v1.729H6.128a1.519,1.519,0,0,1,1.676,1.7V.15a1.519,1.519,0,0,1-1.676,1.7H-6.139A1.507,1.507,0,0,1-7.8.15V-10.377a1.507,1.507,0,0,1,1.665-1.7h2.976V-13.8h-3c-2.245,0-3.373,1.117-3.373,3.33V.247C-9.534,2.46-8.406,3.577-6.161,3.577Z",transform:"translate(9.534 20.668)"})),"\u5171\u6709\u3059\u308B"))}},AL=Zr(PL);var CL=class extends Gt.default.Component{constructor(t){super(t);this.state={user:null,albums:[]}}setUser(t){this.setState({user:t})}addAlbums(t){this.state.albums.unshift(t),this.setState({})}render(){return Gt.default.createElement(mL,null,Gt.default.createElement(dL,null,Gt.default.createElement(js,{exact:!0,path:"/",render:()=>Gt.default.createElement(wL,{user:this.state.user,albums:this.state.albums,setUser:this.setUser.bind(this),addAlbums:this.addAlbums.bind(this)})}),Gt.default.createElement(js,{path:"/album",render:()=>Gt.default.createElement(_L,{user:this.state.user})}),Gt.default.createElement(js,{path:"/albumSelect",render:()=>Gt.default.createElement(TL,null)}),Gt.default.createElement(js,{path:"/photo",render:()=>Gt.default.createElement(IL,null)}),Gt.default.createElement(js,{path:"/select",render:()=>Gt.default.createElement(OL,null)}),Gt.default.createElement(js,{path:"/share",render:()=>Gt.default.createElement(AL,null)})))}},RL=CL;$.initializeApp(iA);var T1=$.firestore(),aW=$.storage(),uW=$.analytics(),Oo=$;LL.default.render(DL.default.createElement(RL,null),document.getElementById("app"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=index.js.map
