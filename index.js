(()=>{var q3=Object.create,eg=Object.defineProperty,z3=Object.getPrototypeOf,H3=Object.prototype.hasOwnProperty,G3=Object.getOwnPropertyNames,K3=Object.getOwnPropertyDescriptor;var Ci=Object.assign,W3=e=>eg(e,"__esModule",{value:!0});var It=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports);var $3=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of G3(t))!H3.call(e,r)&&r!=="default"&&eg(e,r,{get:()=>t[r],enumerable:!(n=K3(t,r))||n.enumerable});return e},Ye=e=>$3(W3(eg(e!=null?q3(z3(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var VI=It((Sh,FI)=>{(function(e,t){typeof Sh=="object"&&typeof FI!="undefined"?t(Sh):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.idb={}))})(Sh,function(e){"use strict";function t(b){return Array.prototype.slice.call(b)}function n(b){return new Promise(function(T,N){b.onsuccess=function(){T(b.result)},b.onerror=function(){N(b.error)}})}function r(b,T,N){var k,C=new Promise(function(O,j){k=b[T].apply(b,N),n(k).then(O,j)});return C.request=k,C}function o(b,T,N){var k=r(b,T,N);return k.then(function(C){if(!!C)return new d(C,k.request)})}function s(b,T,N){N.forEach(function(k){Object.defineProperty(b.prototype,k,{get:function(){return this[T][k]},set:function(C){this[T][k]=C}})})}function u(b,T,N,k){k.forEach(function(C){C in N.prototype&&(b.prototype[C]=function(){return r(this[T],C,arguments)})})}function c(b,T,N,k){k.forEach(function(C){C in N.prototype&&(b.prototype[C]=function(){return this[T][C].apply(this[T],arguments)})})}function f(b,T,N,k){k.forEach(function(C){C in N.prototype&&(b.prototype[C]=function(){return o(this[T],C,arguments)})})}function h(b){this._index=b}s(h,"_index",["name","keyPath","multiEntry","unique"]),u(h,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),f(h,"_index",IDBIndex,["openCursor","openKeyCursor"]);function d(b,T){this._cursor=b,this._request=T}s(d,"_cursor",["direction","key","primaryKey","value"]),u(d,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(b){b in IDBCursor.prototype&&(d.prototype[b]=function(){var T=this,N=arguments;return Promise.resolve().then(function(){return T._cursor[b].apply(T._cursor,N),n(T._request).then(function(k){if(!!k)return new d(k,T._request)})})})});function y(b){this._store=b}y.prototype.createIndex=function(){return new h(this._store.createIndex.apply(this._store,arguments))},y.prototype.index=function(){return new h(this._store.index.apply(this._store,arguments))},s(y,"_store",["name","keyPath","indexNames","autoIncrement"]),u(y,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),f(y,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),c(y,"_store",IDBObjectStore,["deleteIndex"]);function v(b){this._tx=b,this.complete=new Promise(function(T,N){b.oncomplete=function(){T()},b.onerror=function(){N(b.error)},b.onabort=function(){N(b.error)}})}v.prototype.objectStore=function(){return new y(this._tx.objectStore.apply(this._tx,arguments))},s(v,"_tx",["objectStoreNames","mode"]),c(v,"_tx",IDBTransaction,["abort"]);function E(b,T,N){this._db=b,this.oldVersion=T,this.transaction=new v(N)}E.prototype.createObjectStore=function(){return new y(this._db.createObjectStore.apply(this._db,arguments))},s(E,"_db",["name","version","objectStoreNames"]),c(E,"_db",IDBDatabase,["deleteObjectStore","close"]);function S(b){this._db=b}S.prototype.transaction=function(){return new v(this._db.transaction.apply(this._db,arguments))},s(S,"_db",["name","version","objectStoreNames"]),c(S,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(b){[y,h].forEach(function(T){b in T.prototype&&(T.prototype[b.replace("open","iterate")]=function(){var N=t(arguments),k=N[N.length-1],C=this._store||this._index,O=C[b].apply(C,N.slice(0,-1));O.onsuccess=function(){k(O.result)}})})}),[h,y].forEach(function(b){b.prototype.getAll||(b.prototype.getAll=function(T,N){var k=this,C=[];return new Promise(function(O){k.iterateCursor(T,function(j){if(!j){O(C);return}if(C.push(j.value),N!==void 0&&C.length==N){O(C);return}j.continue()})})})});function I(b,T,N){var k=r(indexedDB,"open",[b,T]),C=k.request;return C&&(C.onupgradeneeded=function(O){N&&N(new E(C.result,O.oldVersion,C.transaction))}),k.then(function(O){return new S(O)})}function _(b){return r(indexedDB,"deleteDatabase",[b])}e.openDb=I,e.deleteDb=_,Object.defineProperty(e,"__esModule",{value:!0})})});var zw=It((TK,aA)=>{"use strict";var uA=Object.getOwnPropertySymbols,pz=Object.prototype.hasOwnProperty,dz=Object.prototype.propertyIsEnumerable;function mz(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function vz(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(s){return!1}}aA.exports=vz()?Object.assign:function(e,t){for(var n,r=mz(e),o,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var u in n)pz.call(n,u)&&(r[u]=n[u]);if(uA){o=uA(n);for(var c=0;c<o.length;c++)dz.call(n,o[c])&&(r[o[c]]=n[o[c]])}}return r}});var SA=It(ve=>{"use strict";var Hw=zw(),tu=60103,cA=60106;ve.Fragment=60107;ve.StrictMode=60108;ve.Profiler=60114;var lA=60109,fA=60110,hA=60112;ve.Suspense=60113;var pA=60115,dA=60116;typeof Symbol=="function"&&Symbol.for&&(sr=Symbol.for,tu=sr("react.element"),cA=sr("react.portal"),ve.Fragment=sr("react.fragment"),ve.StrictMode=sr("react.strict_mode"),ve.Profiler=sr("react.profiler"),lA=sr("react.provider"),fA=sr("react.context"),hA=sr("react.forward_ref"),ve.Suspense=sr("react.suspense"),pA=sr("react.memo"),dA=sr("react.lazy"));var sr,mA=typeof Symbol=="function"&&Symbol.iterator;function yz(e){return e===null||typeof e!="object"?null:(e=mA&&e[mA]||e["@@iterator"],typeof e=="function"?e:null)}function dl(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yA={};function nu(e,t,n){this.props=e,this.context=t,this.refs=yA,this.updater=n||vA}nu.prototype.isReactComponent={};nu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(dl(85));this.updater.enqueueSetState(this,e,t,"setState")};nu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gA(){}gA.prototype=nu.prototype;function Gw(e,t,n){this.props=e,this.context=t,this.refs=yA,this.updater=n||vA}var Kw=Gw.prototype=new gA;Kw.constructor=Gw;Hw(Kw,nu.prototype);Kw.isPureReactComponent=!0;var Ww={current:null},wA=Object.prototype.hasOwnProperty,bA={key:!0,ref:!0,__self:!0,__source:!0};function _A(e,t,n){var r,o={},s=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)wA.call(t,r)&&!bA.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),h=0;h<c;h++)f[h]=arguments[h+2];o.children=f}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:tu,type:e,key:s,ref:u,props:o,_owner:Ww.current}}function gz(e,t){return{$$typeof:tu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $w(e){return typeof e=="object"&&e!==null&&e.$$typeof===tu}function wz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var EA=/\/+/g;function Yw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wz(""+e.key):t.toString(36)}function Yp(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case tu:case cA:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+Yw(u,0):r,Array.isArray(o)?(n="",e!=null&&(n=e.replace(EA,"$&/")+"/"),Yp(o,t,n,"",function(h){return h})):o!=null&&($w(o)&&(o=gz(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(EA,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){s=e[c];var f=r+Yw(s,c);u+=Yp(s,t,n,f,o)}else if(f=yz(e),typeof f=="function")for(e=f.call(e),c=0;!(s=e.next()).done;)s=s.value,f=r+Yw(s,c++),u+=Yp(s,t,n,f,o);else if(s==="object")throw t=""+e,Error(dl(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function Xp(e,t,n){if(e==null)return e;var r=[],o=0;return Yp(e,r,"","",function(s){return t.call(n,s,o++)}),r}function bz(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var TA={current:null};function vi(){var e=TA.current;if(e===null)throw Error(dl(321));return e}var _z={ReactCurrentDispatcher:TA,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Ww,IsSomeRendererActing:{current:!1},assign:Hw};ve.Children={map:Xp,forEach:function(e,t,n){Xp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xp(e,function(){t++}),t},toArray:function(e){return Xp(e,function(t){return t})||[]},only:function(e){if(!$w(e))throw Error(dl(143));return e}};ve.Component=nu;ve.PureComponent=Gw;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_z;ve.cloneElement=function(e,t,n){if(e==null)throw Error(dl(267,e));var r=Hw({},e.props),o=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=Ww.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)wA.call(t,f)&&!bA.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var h=0;h<f;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:tu,type:e.type,key:o,ref:s,props:r,_owner:u}};ve.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:fA,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:lA,_context:e},e.Consumer=e};ve.createElement=_A;ve.createFactory=function(e){var t=_A.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:hA,render:e}};ve.isValidElement=$w;ve.lazy=function(e){return{$$typeof:dA,_payload:{_status:-1,_result:e},_init:bz}};ve.memo=function(e,t){return{$$typeof:pA,type:e,compare:t===void 0?null:t}};ve.useCallback=function(e,t){return vi().useCallback(e,t)};ve.useContext=function(e,t){return vi().useContext(e,t)};ve.useDebugValue=function(){};ve.useEffect=function(e,t){return vi().useEffect(e,t)};ve.useImperativeHandle=function(e,t,n){return vi().useImperativeHandle(e,t,n)};ve.useLayoutEffect=function(e,t){return vi().useLayoutEffect(e,t)};ve.useMemo=function(e,t){return vi().useMemo(e,t)};ve.useReducer=function(e,t,n){return vi().useReducer(e,t,n)};ve.useRef=function(e){return vi().useRef(e)};ve.useState=function(e){return vi().useState(e)};ve.version="17.0.2"});var En=It((IK,IA)=>{"use strict";IA.exports=SA()});var AA=It(Te=>{"use strict";var ru,ml,Qp,Xw;typeof performance=="object"&&typeof performance.now=="function"?(xA=performance,Te.unstable_now=function(){return xA.now()}):(Qw=Date,NA=Qw.now(),Te.unstable_now=function(){return Qw.now()-NA});var xA,Qw,NA;typeof window=="undefined"||typeof MessageChannel!="function"?(iu=null,Jw=null,Zw=function(){if(iu!==null)try{var e=Te.unstable_now();iu(!0,e),iu=null}catch(t){throw setTimeout(Zw,0),t}},ru=function(e){iu!==null?setTimeout(ru,0,e):(iu=e,setTimeout(Zw,0))},ml=function(e,t){Jw=setTimeout(e,t)},Qp=function(){clearTimeout(Jw)},Te.unstable_shouldYield=function(){return!1},Xw=Te.unstable_forceFrameRate=function(){}):(kA=window.setTimeout,PA=window.clearTimeout,typeof console!="undefined"&&(OA=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof OA!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),vl=!1,yl=null,Jp=-1,eb=5,tb=0,Te.unstable_shouldYield=function(){return Te.unstable_now()>=tb},Xw=function(){},Te.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):eb=0<e?Math.floor(1e3/e):5},nb=new MessageChannel,Zp=nb.port2,nb.port1.onmessage=function(){if(yl!==null){var e=Te.unstable_now();tb=e+eb;try{yl(!0,e)?Zp.postMessage(null):(vl=!1,yl=null)}catch(t){throw Zp.postMessage(null),t}}else vl=!1},ru=function(e){yl=e,vl||(vl=!0,Zp.postMessage(null))},ml=function(e,t){Jp=kA(function(){e(Te.unstable_now())},t)},Qp=function(){PA(Jp),Jp=-1});var iu,Jw,Zw,kA,PA,OA,vl,yl,Jp,eb,tb,nb,Zp;function rb(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(o!==void 0&&0<ed(o,t))e[r]=t,e[n]=o,n=r;else break e}}function Pr(e){return e=e[0],e===void 0?null:e}function td(e){var t=e[0];if(t!==void 0){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,f=e[c];if(u!==void 0&&0>ed(u,n))f!==void 0&&0>ed(f,u)?(e[r]=f,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else if(f!==void 0&&0>ed(f,n))e[r]=f,e[c]=n,r=c;else break e}}return t}return null}function ed(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}var $r=[],ao=[],Ez=1,ar=null,zt=3,nd=!1,Is=!1,gl=!1;function ib(e){for(var t=Pr(ao);t!==null;){if(t.callback===null)td(ao);else if(t.startTime<=e)td(ao),t.sortIndex=t.expirationTime,rb($r,t);else break;t=Pr(ao)}}function ob(e){if(gl=!1,ib(e),!Is)if(Pr($r)!==null)Is=!0,ru(sb);else{var t=Pr(ao);t!==null&&ml(ob,t.startTime-e)}}function sb(e,t){Is=!1,gl&&(gl=!1,Qp()),nd=!0;var n=zt;try{for(ib(t),ar=Pr($r);ar!==null&&(!(ar.expirationTime>t)||e&&!Te.unstable_shouldYield());){var r=ar.callback;if(typeof r=="function"){ar.callback=null,zt=ar.priorityLevel;var o=r(ar.expirationTime<=t);t=Te.unstable_now(),typeof o=="function"?ar.callback=o:ar===Pr($r)&&td($r),ib(t)}else td($r);ar=Pr($r)}if(ar!==null)var s=!0;else{var u=Pr(ao);u!==null&&ml(ob,u.startTime-t),s=!1}return s}finally{ar=null,zt=n,nd=!1}}var Tz=Xw;Te.unstable_IdlePriority=5;Te.unstable_ImmediatePriority=1;Te.unstable_LowPriority=4;Te.unstable_NormalPriority=3;Te.unstable_Profiling=null;Te.unstable_UserBlockingPriority=2;Te.unstable_cancelCallback=function(e){e.callback=null};Te.unstable_continueExecution=function(){Is||nd||(Is=!0,ru(sb))};Te.unstable_getCurrentPriorityLevel=function(){return zt};Te.unstable_getFirstCallbackNode=function(){return Pr($r)};Te.unstable_next=function(e){switch(zt){case 1:case 2:case 3:var t=3;break;default:t=zt}var n=zt;zt=t;try{return e()}finally{zt=n}};Te.unstable_pauseExecution=function(){};Te.unstable_requestPaint=Tz;Te.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=zt;zt=e;try{return t()}finally{zt=n}};Te.unstable_scheduleCallback=function(e,t,n){var r=Te.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:Ez++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,rb(ao,e),Pr($r)===null&&e===Pr(ao)&&(gl?Qp():gl=!0,ml(ob,n-r))):(e.sortIndex=o,rb($r,e),Is||nd||(Is=!0,ru(sb))),e};Te.unstable_wrapCallback=function(e){var t=zt;return function(){var n=zt;zt=t;try{return e.apply(this,arguments)}finally{zt=n}}}});var RA=It((NK,CA)=>{"use strict";CA.exports=AA()});var bD=It(ur=>{"use strict";var rd=En(),Fe=zw(),_t=RA();function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!rd)throw Error(B(227));var DA=new Set,wl={};function xs(e,t){ou(e,t),ou(e+"Capture",t)}function ou(e,t){for(wl[e]=t,e=0;e<t.length;e++)DA.add(t[e])}var yi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Sz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LA=Object.prototype.hasOwnProperty,MA={},jA={};function Iz(e){return LA.call(jA,e)?!0:LA.call(MA,e)?!1:Sz.test(e)?jA[e]=!0:(MA[e]=!0,!1)}function xz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nz(e,t,n,r){if(t===null||typeof t=="undefined"||xz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,r,o,s,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=u}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ab=/[\-:]([a-z])/g;function ub(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ab,ub);At[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ab,ub);At[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ab,ub);At[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function cb(e,t,n,r){var o=At.hasOwnProperty(t)?At[t]:null,s=o!==null?o.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(Nz(t,n,o,r)&&(n=null),r||o===null?Iz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ns=rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=60103,ks=60106,uo=60107,lb=60108,_l=60114,fb=60109,hb=60110,id=60112,El=60113,od=60120,sd=60115,pb=60116,db=60121,mb=60128,UA=60129,vb=60130,yb=60131;typeof Symbol=="function"&&Symbol.for&&(pt=Symbol.for,bl=pt("react.element"),ks=pt("react.portal"),uo=pt("react.fragment"),lb=pt("react.strict_mode"),_l=pt("react.profiler"),fb=pt("react.provider"),hb=pt("react.context"),id=pt("react.forward_ref"),El=pt("react.suspense"),od=pt("react.suspense_list"),sd=pt("react.memo"),pb=pt("react.lazy"),db=pt("react.block"),pt("react.scope"),mb=pt("react.opaque.id"),UA=pt("react.debug_trace_mode"),vb=pt("react.offscreen"),yb=pt("react.legacy_hidden"));var pt,FA=typeof Symbol=="function"&&Symbol.iterator;function Tl(e){return e===null||typeof e!="object"?null:(e=FA&&e[FA]||e["@@iterator"],typeof e=="function"?e:null)}var gb;function Sl(e){if(gb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gb=t&&t[1]||""}return`
`+gb+e}var wb=!1;function ad(e,t){if(!e||wb)return"";wb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),s=r.stack.split(`
`),u=o.length-1,c=s.length-1;1<=u&&0<=c&&o[u]!==s[c];)c--;for(;1<=u&&0<=c;u--,c--)if(o[u]!==s[c]){if(u!==1||c!==1)do if(u--,c--,0>c||o[u]!==s[c])return`
`+o[u].replace(" at new "," at ");while(1<=u&&0<=c);break}}}finally{wb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sl(e):""}function kz(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=ad(e.type,!1),e;case 11:return e=ad(e.type.render,!1),e;case 22:return e=ad(e.type._render,!1),e;case 1:return e=ad(e.type,!0),e;default:return""}}function su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uo:return"Fragment";case ks:return"Portal";case _l:return"Profiler";case lb:return"StrictMode";case El:return"Suspense";case od:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hb:return(e.displayName||"Context")+".Consumer";case fb:return(e._context.displayName||"Context")+".Provider";case id:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case sd:return su(e.type);case db:return su(e._render);case pb:t=e._payload,e=e._init;try{return su(e(t))}catch(n){}}return null}function co(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function VA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pz(e){var t=VA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ud(e){e._valueTracker||(e._valueTracker=Pz(e))}function BA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cd(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function bb(e,t){var n=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function qA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zA(e,t){t=t.checked,t!=null&&cb(e,"checked",t,!1)}function Eb(e,t){zA(e,t);var n=co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_b(e,t.type,n):t.hasOwnProperty("defaultValue")&&_b(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _b(e,t,n){(t!=="number"||cd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oz(e){var t="";return rd.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Tb(e,t){return e=Fe({children:void 0},t),(t=Oz(t.children))&&(e.children=t),e}function au(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+co(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Sb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:co(n)}}function KA(e,t){var n=co(t.value),r=co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Ib={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function $A(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$A(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ld,YA=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!==Ib.svg||"innerHTML"in e)e.innerHTML=t;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ld.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Az=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(e){Az.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xl[t]=xl[e]})});function XA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xl.hasOwnProperty(e)&&xl[e]?(""+t).trim():t+"px"}function QA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=XA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Cz=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nb(e,t){if(t){if(Cz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function kb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ob=null,uu=null,cu=null;function JA(e){if(e=Nl(e)){if(typeof Ob!="function")throw Error(B(280));var t=e.stateNode;t&&(t=fd(t),Ob(e.stateNode,e.type,t))}}function ZA(e){uu?cu?cu.push(e):cu=[e]:uu=e}function eC(){if(uu){var e=uu,t=cu;if(cu=uu=null,JA(e),t)for(e=0;e<t.length;e++)JA(t[e])}}function Ab(e,t){return e(t)}function tC(e,t,n,r,o){return e(t,n,r,o)}function Cb(){}var nC=Ab,Ps=!1,Rb=!1;function Db(){(uu!==null||cu!==null)&&(Cb(),eC())}function Rz(e,t,n){if(Rb)return e(t,n);Rb=!0;try{return nC(e,t,n)}finally{Rb=!1,Db()}}function kl(e,t){var n=e.stateNode;if(n===null)return null;var r=fd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Lb=!1;if(yi)try{lu={},Object.defineProperty(lu,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch(e){Lb=!1}var lu;function Dz(e,t,n,r,o,s,u,c,f){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var Pl=!1,hd=null,pd=!1,Mb=null,Lz={onError:function(e){Pl=!0,hd=e}};function Mz(e,t,n,r,o,s,u,c,f){Pl=!1,hd=null,Dz.apply(Lz,arguments)}function jz(e,t,n,r,o,s,u,c,f){if(Mz.apply(this,arguments),Pl){if(Pl){var h=hd;Pl=!1,hd=null}else throw Error(B(198));pd||(pd=!0,Mb=h)}}function Os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!=0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iC(e){if(Os(e)!==e)throw Error(B(188))}function Uz(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return iC(o),e;if(s===r)return iC(o),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=s;else{for(var u=!1,c=o.child;c;){if(c===n){u=!0,n=o,r=s;break}if(c===r){u=!0,r=o,n=s;break}c=c.sibling}if(!u){for(c=s.child;c;){if(c===n){u=!0,n=s,r=o;break}if(c===r){u=!0,r=s,n=o;break}c=c.sibling}if(!u)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function oC(e){if(e=Uz(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function sC(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var aC,jb,uC,cC,Ub=!1,Yr=[],lo=null,fo=null,ho=null,Ol=new Map,Al=new Map,Cl=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fb(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function fC(e,t){switch(e){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(t.pointerId)}}function Rl(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e=Fb(t,n,r,o,s),t!==null&&(t=Nl(t),t!==null&&jb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Fz(e,t,n,r,o){switch(t){case"focusin":return lo=Rl(lo,e,t,n,r,o),!0;case"dragenter":return fo=Rl(fo,e,t,n,r,o),!0;case"mouseover":return ho=Rl(ho,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ol.set(s,Rl(Ol.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Al.set(s,Rl(Al.get(s)||null,e,t,n,r,o)),!0}return!1}function Vz(e){var t=As(e.target);if(t!==null){var n=Os(t);if(n!==null){if(t=n.tag,t===13){if(t=rC(n),t!==null){e.blockedOn=t,cC(e.lanePriority,function(){_t.unstable_runWithPriority(e.priority,function(){uC(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=Nl(n),t!==null&&jb(t),e.blockedOn=n,!1;t.shift()}return!0}function hC(e,t,n){dd(e)&&n.delete(t)}function Bz(){for(Ub=!1;0<Yr.length;){var e=Yr[0];if(e.blockedOn!==null){e=Nl(e.blockedOn),e!==null&&aC(e);break}for(var t=e.targetContainers;0<t.length;){var n=Vb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Yr.shift()}lo!==null&&dd(lo)&&(lo=null),fo!==null&&dd(fo)&&(fo=null),ho!==null&&dd(ho)&&(ho=null),Ol.forEach(hC),Al.forEach(hC)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ub||(Ub=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Bz)))}function pC(e){function t(o){return Dl(o,e)}if(0<Yr.length){Dl(Yr[0],e);for(var n=1;n<Yr.length;n++){var r=Yr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lo!==null&&Dl(lo,e),fo!==null&&Dl(fo,e),ho!==null&&Dl(ho,e),Ol.forEach(t),Al.forEach(t),n=0;n<Cl.length;n++)r=Cl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cl.length&&(n=Cl[0],n.blockedOn===null);)Vz(n),n.blockedOn===null&&Cl.shift()}function md(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fu={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},Bb={},dC={};yi&&(dC=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function vd(e){if(Bb[e])return Bb[e];if(!fu[e])return e;var t=fu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dC)return Bb[e]=t[n];return e}var mC=vd("animationend"),vC=vd("animationiteration"),yC=vd("animationstart"),gC=vd("transitionend"),wC=new Map,qb=new Map,qz=["abort","abort",mC,"animationEnd",vC,"animationIteration",yC,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",gC,"transitionEnd","waiting","waiting"];function zb(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),qb.set(r,t),wC.set(r,o),xs(o,[r])}}var zz=_t.unstable_now;zz();var Ae=8;function hu(e){if((1&e)!=0)return Ae=15,1;if((2&e)!=0)return Ae=14,2;if((4&e)!=0)return Ae=13,4;var t=24&e;return t!==0?(Ae=12,t):(e&32)!=0?(Ae=11,32):(t=192&e,t!==0?(Ae=10,t):(e&256)!=0?(Ae=9,256):(t=3584&e,t!==0?(Ae=8,t):(e&4096)!=0?(Ae=7,4096):(t=4186112&e,t!==0?(Ae=6,t):(t=62914560&e,t!==0?(Ae=5,t):e&67108864?(Ae=4,67108864):(e&134217728)!=0?(Ae=3,134217728):(t=805306368&e,t!==0?(Ae=2,t):(1073741824&e)!=0?(Ae=1,1073741824):(Ae=8,e))))))}function Hz(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Gz(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(B(358,e))}}function Ll(e,t){var n=e.pendingLanes;if(n===0)return Ae=0;var r=0,o=0,s=e.expiredLanes,u=e.suspendedLanes,c=e.pingedLanes;if(s!==0)r=s,o=Ae=15;else if(s=n&134217727,s!==0){var f=s&~u;f!==0?(r=hu(f),o=Ae):(c&=s,c!==0&&(r=hu(c),o=Ae))}else s=n&~u,s!==0?(r=hu(s),o=Ae):c!==0&&(r=hu(c),o=Ae);if(r===0)return 0;if(r=31-po(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&u)==0){if(hu(t),o<=Ae)return t;Ae=o}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-po(t),o=1<<n,r|=e[n],t&=~o;return r}function bC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yd(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=pu(24&~t),e===0?yd(10,t):e;case 10:return e=pu(192&~t),e===0?yd(8,t):e;case 8:return e=pu(3584&~t),e===0&&(e=pu(4186112&~t),e===0&&(e=512)),e;case 2:return t=pu(805306368&~t),t===0&&(t=268435456),t}throw Error(B(358,e))}function pu(e){return e&-e}function Hb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gd(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-po(t),e[t]=n}var po=Math.clz32?Math.clz32:Kz,Wz=Math.log,$z=Math.LN2;function Kz(e){return e===0?32:31-(Wz(e)/$z|0)|0}var Yz=_t.unstable_UserBlockingPriority,Xz=_t.unstable_runWithPriority,wd=!0;function Qz(e,t,n,r){Ps||Cb();var o=Gb,s=Ps;Ps=!0;try{tC(o,e,t,n,r)}finally{(Ps=s)||Db()}}function Jz(e,t,n,r){Xz(Yz,Gb.bind(null,e,t,n,r))}function Gb(e,t,n,r){if(wd){var o;if((o=(t&4)==0)&&0<Yr.length&&-1<lC.indexOf(e))e=Fb(null,e,t,n,r),Yr.push(e);else{var s=Vb(e,t,n,r);if(s===null)o&&fC(e,r);else{if(o){if(-1<lC.indexOf(e)){e=Fb(s,e,t,n,r),Yr.push(e);return}if(Fz(s,e,t,n,r))return;fC(e,r)}_C(e,t,r,null,n)}}}}function Vb(e,t,n,r){var o=Pb(r);if(o=As(o),o!==null){var s=Os(o);if(s===null)o=null;else{var u=s.tag;if(u===13){if(o=rC(s),o!==null)return o;o=null}else if(u===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return _C(e,t,r,o,n),null}var mo=null,Kb=null,bd=null;function EC(){if(bd)return bd;var e,t=Kb,n=t.length,r,o="value"in mo?mo.value:mo.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[s-r];r++);return bd=o.slice(e,1<r?1-r:void 0)}function _d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ed(){return!0}function TC(){return!1}function Hn(e){function t(n,r,o,s,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ed:TC,this.isPropagationStopped=TC,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed}),t}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wb=Hn(du),Ml=Fe({},du,{view:0,detail:0}),Zz=Hn(Ml),$b,Yb,jl,Td=Fe({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?($b=e.screenX-jl.screenX,Yb=e.screenY-jl.screenY):Yb=$b=0,jl=e),$b)},movementY:function(e){return"movementY"in e?e.movementY:Yb}}),SC=Hn(Td),eH=Fe({},Td,{dataTransfer:0}),tH=Hn(eH),nH=Fe({},Ml,{relatedTarget:0}),Qb=Hn(nH),rH=Fe({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),iH=Hn(rH),oH=Fe({},du,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sH=Hn(oH),aH=Fe({},du,{data:0}),IC=Hn(aH),uH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lH[e])?!!t[e]:!1}function Xb(){return fH}var hH=Fe({},Ml,{key:function(e){if(e.key){var t=uH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xb,charCode:function(e){return e.type==="keypress"?_d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pH=Hn(hH),dH=Fe({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xC=Hn(dH),mH=Fe({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xb}),vH=Hn(mH),yH=Fe({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),gH=Hn(yH),wH=Fe({},Td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bH=Hn(wH),_H=[9,13,27,32],Jb=yi&&"CompositionEvent"in window,Ul=null;yi&&"documentMode"in document&&(Ul=document.documentMode);var EH=yi&&"TextEvent"in window&&!Ul,NC=yi&&(!Jb||Ul&&8<Ul&&11>=Ul),kC=String.fromCharCode(32),PC=!1;function OC(e,t){switch(e){case"keyup":return _H.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mu=!1;function TH(e,t){switch(e){case"compositionend":return AC(t);case"keypress":return t.which!==32?null:(PC=!0,kC);case"textInput":return e=t.data,e===kC&&PC?null:e;default:return null}}function SH(e,t){if(mu)return e==="compositionend"||!Jb&&OC(e,t)?(e=EC(),bd=Kb=mo=null,mu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return NC&&t.locale!=="ko"?null:t.data;default:return null}}var IH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IH[e.type]:t==="textarea"}function RC(e,t,n,r){ZA(r),t=Sd(t,"onChange"),0<t.length&&(n=new Wb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fl=null,Vl=null;function xH(e){DC(e,0)}function Id(e){var t=vu(e);if(BA(t))return e}function NH(e,t){if(e==="change")return t}var LC=!1;yi&&(yi?(Nd="oninput"in document,Nd||(Zb=document.createElement("div"),Zb.setAttribute("oninput","return;"),Nd=typeof Zb.oninput=="function"),xd=Nd):xd=!1,LC=xd&&(!document.documentMode||9<document.documentMode));var xd,Nd,Zb;function jC(){Fl&&(Fl.detachEvent("onpropertychange",MC),Vl=Fl=null)}function MC(e){if(e.propertyName==="value"&&Id(Vl)){var t=[];if(RC(t,Vl,e,Pb(e)),e=xH,Ps)e(t);else{Ps=!0;try{Ab(e,t)}finally{Ps=!1,Db()}}}}function kH(e,t,n){e==="focusin"?(jC(),Fl=t,Vl=n,Fl.attachEvent("onpropertychange",MC)):e==="focusout"&&jC()}function PH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Id(Vl)}function OH(e,t){if(e==="click")return Id(t)}function AH(e,t){if(e==="input"||e==="change")return Id(t)}function CH(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var cr=typeof Object.is=="function"?Object.is:CH,RH=Object.prototype.hasOwnProperty;function Bl(e,t){if(cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!RH.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function UC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FC(e,t){var n=UC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UC(n)}}function VC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BC(){for(var e=window,t=cd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=cd(e.document)}return t}function e_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DH=yi&&"documentMode"in document&&11>=document.documentMode,yu=null,t_=null,ql=null,n_=!1;function qC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n_||yu==null||yu!==cd(r)||(r=yu,"selectionStart"in r&&e_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ql&&Bl(ql,r)||(ql=r,r=Sd(t_,"onSelect"),0<r.length&&(t=new Wb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yu)))}zb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);zb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);zb(qz,2);for(var zC="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),r_=0;r_<zC.length;r_++)qb.set(zC[r_],0);ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HC=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function GC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jz(r,t,void 0,e),e.currentTarget=null}function DC(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var u=r.length-1;0<=u;u--){var c=r[u],f=c.instance,h=c.currentTarget;if(c=c.listener,f!==s&&o.isPropagationStopped())break e;GC(o,c,h),s=f}else for(u=0;u<r.length;u++){if(c=r[u],f=c.instance,h=c.currentTarget,c=c.listener,f!==s&&o.isPropagationStopped())break e;GC(o,c,h),s=f}}}if(pd)throw e=Mb,pd=!1,Mb=null,e}function Re(e,t){var n=WC(t),r=e+"__bubble";n.has(r)||(KC(t,e,2,!1),n.add(r))}var $C="_reactListening"+Math.random().toString(36).slice(2);function XC(e){e[$C]||(e[$C]=!0,DA.forEach(function(t){HC.has(t)||YC(t,!1,e,null),YC(t,!0,e,null)}))}function YC(e,t,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&HC.has(e)){if(e!=="scroll")return;o|=2,s=r}var u=WC(s),c=e+"__"+(t?"capture":"bubble");u.has(c)||(t&&(o|=4),KC(s,e,o,t),u.add(c))}function KC(e,t,n,r){var o=qb.get(t);switch(o===void 0?2:o){case 0:o=Qz;break;case 1:o=Jz;break;default:o=Gb}n=o.bind(null,t,n,e),o=void 0,!Lb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function _C(e,t,n,r,o){var s=r;if((t&1)==0&&(t&2)==0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;c!==null;){if(u=As(c),u===null)return;if(f=u.tag,f===5||f===6){r=s=u;continue e}c=c.parentNode}}r=r.return}Rz(function(){var h=s,d=Pb(n),y=[];e:{var v=wC.get(e);if(v!==void 0){var E=Wb,S=e;switch(e){case"keypress":if(_d(n)===0)break e;case"keydown":case"keyup":E=pH;break;case"focusin":S="focus",E=Qb;break;case"focusout":S="blur",E=Qb;break;case"beforeblur":case"afterblur":E=Qb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=SC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=tH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=vH;break;case mC:case vC:case yC:E=iH;break;case gC:E=gH;break;case"scroll":E=Zz;break;case"wheel":E=bH;break;case"copy":case"cut":case"paste":E=sH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=xC}var I=(t&4)!=0,_=!I&&e==="scroll",b=I?v!==null?v+"Capture":null:v;I=[];for(var T=h,N;T!==null;){N=T;var k=N.stateNode;if(N.tag===5&&k!==null&&(N=k,b!==null&&(k=kl(T,b),k!=null&&I.push(Hl(T,k,N)))),_)break;T=T.return}0<I.length&&(v=new E(v,S,null,n,d),y.push({event:v,listeners:I}))}}if((t&7)==0){e:{if(v=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",v&&(t&16)==0&&(S=n.relatedTarget||n.fromElement)&&(As(S)||S[wu]))break e;if((E||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,E?(S=n.relatedTarget||n.toElement,E=h,S=S?As(S):null,S!==null&&(_=Os(S),S!==_||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=h),E!==S)){if(I=SC,k="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=xC,k="onPointerLeave",b="onPointerEnter",T="pointer"),_=E==null?v:vu(E),N=S==null?v:vu(S),v=new I(k,T+"leave",E,n,d),v.target=_,v.relatedTarget=N,k=null,As(d)===h&&(I=new I(b,T+"enter",S,n,d),I.target=N,I.relatedTarget=_,k=I),_=k,E&&S)t:{for(I=E,b=S,T=0,N=I;N;N=gu(N))T++;for(N=0,k=b;k;k=gu(k))N++;for(;0<T-N;)I=gu(I),T--;for(;0<N-T;)b=gu(b),N--;for(;T--;){if(I===b||b!==null&&I===b.alternate)break t;I=gu(I),b=gu(b)}I=null}else I=null;E!==null&&QC(y,v,E,I,!1),S!==null&&_!==null&&QC(y,_,S,I,!0)}}e:{if(v=h?vu(h):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var C=NH;else if(CC(v))if(LC)C=AH;else{C=PH;var O=kH}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=OH);if(C&&(C=C(e,h))){RC(y,C,n,d);break e}O&&O(e,v,h),e==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&_b(v,"number",v.value)}switch(O=h?vu(h):window,e){case"focusin":(CC(O)||O.contentEditable==="true")&&(yu=O,t_=h,ql=null);break;case"focusout":ql=t_=yu=null;break;case"mousedown":n_=!0;break;case"contextmenu":case"mouseup":case"dragend":n_=!1,qC(y,n,d);break;case"selectionchange":if(DH)break;case"keydown":case"keyup":qC(y,n,d)}var j;if(Jb)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else mu?OC(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(NC&&n.locale!=="ko"&&(mu||q!=="onCompositionStart"?q==="onCompositionEnd"&&mu&&(j=EC()):(mo=d,Kb="value"in mo?mo.value:mo.textContent,mu=!0)),O=Sd(h,q),0<O.length&&(q=new IC(q,e,null,n,d),y.push({event:q,listeners:O}),j?q.data=j:(j=AC(n),j!==null&&(q.data=j)))),(j=EH?TH(e,n):SH(e,n))&&(h=Sd(h,"onBeforeInput"),0<h.length&&(d=new IC("onBeforeInput","beforeinput",null,n,d),y.push({event:d,listeners:h}),d.data=j))}DC(y,t)})}function Hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sd(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=kl(e,n),s!=null&&r.unshift(Hl(e,s,o)),s=kl(e,t),s!=null&&r.push(Hl(e,s,o))),e=e.return}return r}function gu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function QC(e,t,n,r,o){for(var s=t._reactName,u=[];n!==null&&n!==r;){var c=n,f=c.alternate,h=c.stateNode;if(f!==null&&f===r)break;c.tag===5&&h!==null&&(c=h,o?(f=kl(n,s),f!=null&&u.unshift(Hl(n,f,c))):o||(f=kl(n,s),f!=null&&u.push(Hl(n,f,c)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}function kd(){}var i_=null,o_=null;function JC(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function s_(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ZC=typeof setTimeout=="function"?setTimeout:void 0,LH=typeof clearTimeout=="function"?clearTimeout:void 0;function a_(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function bu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function eR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var u_=0;function MH(e){return{$$typeof:mb,toString:e,valueOf:e}}var Pd=Math.random().toString(36).slice(2),vo="__reactFiber$"+Pd,Od="__reactProps$"+Pd,wu="__reactContainer$"+Pd,tR="__reactEvents$"+Pd;function As(e){var t=e[vo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wu]||n[vo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eR(e);e!==null;){if(n=e[vo])return n;e=eR(e)}return t}e=n,n=e.parentNode}return null}function Nl(e){return e=e[vo]||e[wu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function fd(e){return e[Od]||null}function WC(e){var t=e[tR];return t===void 0&&(t=e[tR]=new Set),t}var c_=[],_u=-1;function yo(e){return{current:e}}function De(e){0>_u||(e.current=c_[_u],c_[_u]=null,_u--)}function He(e,t){_u++,c_[_u]=e.current,e.current=t}var go={},Ht=yo(go),Tn=yo(!1),Cs=go;function Eu(e,t){var n=e.type.contextTypes;if(!n)return go;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Sn(e){return e=e.childContextTypes,e!=null}function Ad(){De(Tn),De(Ht)}function nR(e,t,n){if(Ht.current!==go)throw Error(B(168));He(Ht,t),He(Tn,n)}function rR(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(B(108,su(t)||"Unknown",o));return Fe({},n,r)}function Cd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||go,Cs=Ht.current,He(Ht,e),He(Tn,Tn.current),!0}function iR(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=rR(e,t,Cs),r.__reactInternalMemoizedMergedChildContext=e,De(Tn),De(Ht),He(Ht,e)):De(Tn),He(Tn,n)}var l_=null,Rs=null,jH=_t.unstable_runWithPriority,f_=_t.unstable_scheduleCallback,h_=_t.unstable_cancelCallback,UH=_t.unstable_shouldYield,oR=_t.unstable_requestPaint,p_=_t.unstable_now,FH=_t.unstable_getCurrentPriorityLevel,Rd=_t.unstable_ImmediatePriority,sR=_t.unstable_UserBlockingPriority,aR=_t.unstable_NormalPriority,uR=_t.unstable_LowPriority,cR=_t.unstable_IdlePriority,d_={},VH=oR!==void 0?oR:function(){},gi=null,Dd=null,m_=!1,lR=p_(),Gt=1e4>lR?p_:function(){return p_()-lR};function Tu(){switch(FH()){case Rd:return 99;case sR:return 98;case aR:return 97;case uR:return 96;case cR:return 95;default:throw Error(B(332))}}function fR(e){switch(e){case 99:return Rd;case 98:return sR;case 97:return aR;case 96:return uR;case 95:return cR;default:throw Error(B(332))}}function Ds(e,t){return e=fR(e),jH(e,t)}function Gl(e,t,n){return e=fR(e),f_(e,t,n)}function Xr(){if(Dd!==null){var e=Dd;Dd=null,h_(e)}hR()}function hR(){if(!m_&&gi!==null){m_=!0;var e=0;try{var t=gi;Ds(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),gi=null}catch(n){throw gi!==null&&(gi=gi.slice(e+1)),f_(Rd,Xr),n}finally{m_=!1}}}var BH=Ns.ReactCurrentBatchConfig;function Or(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ld=yo(null),Md=null,Su=null,jd=null;function v_(){jd=Su=Md=null}function y_(e){var t=Ld.current;De(Ld),e.type._context._currentValue=t}function pR(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function Iu(e,t){Md=e,jd=Su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!=0&&(Ar=!0),e.firstContext=null)}function lr(e,t){if(jd!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(jd=e,t=1073741823),t={context:e,observedBits:t,next:null},Su===null){if(Md===null)throw Error(B(308));Su=t,Md.dependencies={lanes:0,firstContext:t,responders:null}}else Su=Su.next=t;return e._currentValue}var wo=!1;function g_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function dR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _o(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function mR(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,r){var o=e.updateQueue;wo=!1;var s=o.firstBaseUpdate,u=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,h=f.next;f.next=null,u===null?s=h:u.next=h,u=f;var d=e.alternate;if(d!==null){d=d.updateQueue;var y=d.lastBaseUpdate;y!==u&&(y===null?d.firstBaseUpdate=h:y.next=h,d.lastBaseUpdate=f)}}if(s!==null){y=o.baseState,u=0,d=h=f=null;do{c=s.lane;var v=s.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=e,S=s;switch(c=t,v=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){y=E.call(v,y,c);break e}y=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=S.payload,c=typeof E=="function"?E.call(v,y,c):E,c==null)break e;y=Fe({},y,c);break e;case 2:wo=!0}}s.callback!==null&&(e.flags|=32,c=o.effects,c===null?o.effects=[s]:c.push(s))}else v={eventTime:v,lane:c,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(h=d=v,f=y):d=d.next=v,u|=c;if(s=s.next,s===null){if(c=o.shared.pending,c===null)break;s=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}while(1);d===null&&(f=y),o.baseState=f,o.firstBaseUpdate=h,o.lastBaseUpdate=d,Kl|=u,e.lanes=u,e.memoizedState=y}}function vR(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var yR=new rd.Component().refs;function Ud(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fd={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gn(),o=Eo(e),s=bo(r,o);s.payload=t,n!=null&&(s.callback=n),_o(e,s),To(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gn(),o=Eo(e),s=bo(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),_o(e,s),To(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gn(),r=Eo(e),o=bo(n,r);o.tag=2,t!=null&&(o.callback=t),_o(e,o),To(e,r,n)}};function gR(e,t,n,r,o,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,u):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,r)||!Bl(o,s):!0}function wR(e,t,n){var r=!1,o=go,s=t.contextType;return typeof s=="object"&&s!==null?s=lr(s):(o=Sn(t)?Cs:Ht.current,r=t.contextTypes,s=(r=r!=null)?Eu(e,o):go),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function bR(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fd.enqueueReplaceState(t,t.state,null)}function w_(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=yR,g_(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=lr(s):(s=Sn(t)?Cs:Ht.current,o.context=Eu(e,s)),Wl(e,n,o,r),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ud(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Fd.enqueueReplaceState(o,o.state,null),Wl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var Vd=Array.isArray;function $l(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var u=r.refs;u===yR&&(u=r.refs={}),s===null?delete u[o]:u[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Bd(e,t){if(e.type!=="textarea")throw Error(B(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _R(e){function t(_,b){if(e){var T=_.lastEffect;T!==null?(T.nextEffect=b,_.lastEffect=b):_.firstEffect=_.lastEffect=b,b.nextEffect=null,b.flags=8}}function n(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function o(_,b){return _=So(_,b),_.index=0,_.sibling=null,_}function s(_,b,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags=2,b):T):(_.flags=2,b)):b}function u(_){return e&&_.alternate===null&&(_.flags=2),_}function c(_,b,T,N){return b===null||b.tag!==6?(b=b_(T,_.mode,N),b.return=_,b):(b=o(b,T),b.return=_,b)}function f(_,b,T,N){return b!==null&&b.elementType===T.type?(N=o(b,T.props),N.ref=$l(_,b,T),N.return=_,N):(N=qd(T.type,T.key,T.props,null,_.mode,N),N.ref=$l(_,b,T),N.return=_,N)}function h(_,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=__(T,_.mode,N),b.return=_,b):(b=o(b,T.children||[]),b.return=_,b)}function d(_,b,T,N,k){return b===null||b.tag!==7?(b=xu(T,_.mode,N,k),b.return=_,b):(b=o(b,T),b.return=_,b)}function y(_,b,T){if(typeof b=="string"||typeof b=="number")return b=b_(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bl:return T=qd(b.type,b.key,b.props,null,_.mode,T),T.ref=$l(_,null,b),T.return=_,T;case ks:return b=__(b,_.mode,T),b.return=_,b}if(Vd(b)||Tl(b))return b=xu(b,_.mode,T,null),b.return=_,b;Bd(_,b)}return null}function v(_,b,T,N){var k=b!==null?b.key:null;if(typeof T=="string"||typeof T=="number")return k!==null?null:c(_,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bl:return T.key===k?T.type===uo?d(_,b,T.props.children,N,k):f(_,b,T,N):null;case ks:return T.key===k?h(_,b,T,N):null}if(Vd(T)||Tl(T))return k!==null?null:d(_,b,T,N,null);Bd(_,T)}return null}function E(_,b,T,N,k){if(typeof N=="string"||typeof N=="number")return _=_.get(T)||null,c(b,_,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bl:return _=_.get(N.key===null?T:N.key)||null,N.type===uo?d(b,_,N.props.children,k,N.key):f(b,_,N,k);case ks:return _=_.get(N.key===null?T:N.key)||null,h(b,_,N,k)}if(Vd(N)||Tl(N))return _=_.get(T)||null,d(b,_,N,k,null);Bd(b,N)}return null}function S(_,b,T,N){for(var k=null,C=null,O=b,j=b=0,q=null;O!==null&&j<T.length;j++){O.index>j?(q=O,O=null):q=O.sibling;var D=v(_,O,T[j],N);if(D===null){O===null&&(O=q);break}e&&O&&D.alternate===null&&t(_,O),b=s(D,b,j),C===null?k=D:C.sibling=D,C=D,O=q}if(j===T.length)return n(_,O),k;if(O===null){for(;j<T.length;j++)O=y(_,T[j],N),O!==null&&(b=s(O,b,j),C===null?k=O:C.sibling=O,C=O);return k}for(O=r(_,O);j<T.length;j++)q=E(O,_,j,T[j],N),q!==null&&(e&&q.alternate!==null&&O.delete(q.key===null?j:q.key),b=s(q,b,j),C===null?k=q:C.sibling=q,C=q);return e&&O.forEach(function(he){return t(_,he)}),k}function I(_,b,T,N){var k=Tl(T);if(typeof k!="function")throw Error(B(150));if(T=k.call(T),T==null)throw Error(B(151));for(var C=k=null,O=b,j=b=0,q=null,D=T.next();O!==null&&!D.done;j++,D=T.next()){O.index>j?(q=O,O=null):q=O.sibling;var he=v(_,O,D.value,N);if(he===null){O===null&&(O=q);break}e&&O&&he.alternate===null&&t(_,O),b=s(he,b,j),C===null?k=he:C.sibling=he,C=he,O=q}if(D.done)return n(_,O),k;if(O===null){for(;!D.done;j++,D=T.next())D=y(_,D.value,N),D!==null&&(b=s(D,b,j),C===null?k=D:C.sibling=D,C=D);return k}for(O=r(_,O);!D.done;j++,D=T.next())D=E(O,_,j,D.value,N),D!==null&&(e&&D.alternate!==null&&O.delete(D.key===null?j:D.key),b=s(D,b,j),C===null?k=D:C.sibling=D,C=D);return e&&O.forEach(function(P){return t(_,P)}),k}return function(_,b,T,N){var k=typeof T=="object"&&T!==null&&T.type===uo&&T.key===null;k&&(T=T.props.children);var C=typeof T=="object"&&T!==null;if(C)switch(T.$$typeof){case bl:e:{for(C=T.key,k=b;k!==null;){if(k.key===C){switch(k.tag){case 7:if(T.type===uo){n(_,k.sibling),b=o(k,T.props.children),b.return=_,_=b;break e}break;default:if(k.elementType===T.type){n(_,k.sibling),b=o(k,T.props),b.ref=$l(_,k,T),b.return=_,_=b;break e}}n(_,k);break}else t(_,k);k=k.sibling}T.type===uo?(b=xu(T.props.children,_.mode,N,T.key),b.return=_,_=b):(N=qd(T.type,T.key,T.props,null,_.mode,N),N.ref=$l(_,b,T),N.return=_,_=N)}return u(_);case ks:e:{for(k=T.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),b=o(b,T.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else t(_,b);b=b.sibling}b=__(T,_.mode,N),b.return=_,_=b}return u(_)}if(typeof T=="string"||typeof T=="number")return T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),b=o(b,T),b.return=_,_=b):(n(_,b),b=b_(T,_.mode,N),b.return=_,_=b),u(_);if(Vd(T))return S(_,b,T,N);if(Tl(T))return I(_,b,T,N);if(C&&Bd(_,T),typeof T=="undefined"&&!k)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(B(152,su(_.type)||"Component"))}return n(_,b)}}var zd=_R(!0),ER=_R(!1),Yl={},Qr=yo(Yl),Xl=yo(Yl),Ql=yo(Yl);function Ls(e){if(e===Yl)throw Error(B(174));return e}function E_(e,t){switch(He(Ql,t),He(Xl,e),He(Qr,Yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xb(t,e)}De(Qr),He(Qr,t)}function Nu(){De(Qr),De(Xl),De(Ql)}function TR(e){Ls(Ql.current);var t=Ls(Qr.current),n=xb(t,e.type);t!==n&&(He(Xl,e),He(Qr,n))}function T_(e){Xl.current===e&&(De(Qr),De(Xl))}var Ge=yo(0);function Hd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wi=null,Io=null,Jr=!1;function SR(e,t){var n=fr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function IR(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function S_(e){if(Jr){var t=Io;if(t){var n=t;if(!IR(e,t)){if(t=bu(n.nextSibling),!t||!IR(e,t)){e.flags=e.flags&-1025|2,Jr=!1,wi=e;return}SR(wi,n)}wi=e,Io=bu(t.firstChild)}else e.flags=e.flags&-1025|2,Jr=!1,wi=e}}function xR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wi=e}function Gd(e){if(e!==wi)return!1;if(!Jr)return xR(e),Jr=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!s_(t,e.memoizedProps))for(t=Io;t;)SR(e,t),t=bu(t.nextSibling);if(xR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Io=bu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Io=null}}else Io=wi?bu(e.stateNode.nextSibling):null;return!0}function I_(){Io=wi=null,Jr=!1}var ku=[];function x_(){for(var e=0;e<ku.length;e++)ku[e]._workInProgressVersionPrimary=null;ku.length=0}var Jl=Ns.ReactCurrentDispatcher,hr=Ns.ReactCurrentBatchConfig,Zl=0,Qe=null,Kt=null,Ct=null,Kd=!1,ef=!1;function In(){throw Error(B(321))}function N_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function k_(e,t,n,r,o,s){if(Zl=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jl.current=e===null||e.memoizedState===null?qH:zH,e=n(r,o),ef){s=0;do{if(ef=!1,!(25>s))throw Error(B(301));s+=1,Ct=Kt=null,t.updateQueue=null,Jl.current=HH,e=n(r,o)}while(ef)}if(Jl.current=Wd,t=Kt!==null&&Kt.next!==null,Zl=0,Ct=Kt=Qe=null,Kd=!1,t)throw Error(B(300));return e}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Qe.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function js(){if(Kt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=Ct===null?Qe.memoizedState:Ct.next;if(t!==null)Ct=t,Kt=e;else{if(e===null)throw Error(B(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ct===null?Qe.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Zr(e,t){return typeof t=="function"?t(e):t}function tf(e){var t=js(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Kt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var u=o.next;o.next=s.next,s.next=u}r.baseQueue=o=s,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var c=u=s=null,f=o;do{var h=f.lane;if((Zl&h)===h)c!==null&&(c=c.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),r=f.eagerReducer===e?f.eagerState:e(r,f.action);else{var d={lane:h,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};c===null?(u=c=d,s=r):c=c.next=d,Qe.lanes|=h,Kl|=h}f=f.next}while(f!==null&&f!==o);c===null?s=r:c.next=u,cr(r,t.memoizedState)||(Ar=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function nf(e){var t=js(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do s=e(s,u.action),u=u.next;while(u!==o);cr(s,t.memoizedState)||(Ar=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function NR(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(o!==null?e=o===r:(e=e.mutableReadLanes,(e=(Zl&e)===e)&&(t._workInProgressVersionPrimary=r,ku.push(t))),e)return n(t._source);throw ku.push(t),Error(B(350))}function kR(e,t,n,r){var o=pn;if(o===null)throw Error(B(349));var s=t._getVersion,u=s(t._source),c=Jl.current,f=c.useState(function(){return NR(o,t,n)}),h=f[1],d=f[0];f=Ct;var y=e.memoizedState,v=y.refs,E=v.getSnapshot,S=y.source;y=y.subscribe;var I=Qe;return e.memoizedState={refs:v,source:t,subscribe:r},c.useEffect(function(){v.getSnapshot=n,v.setSnapshot=h;var _=s(t._source);if(!cr(u,_)){_=n(t._source),cr(d,_)||(h(_),_=Eo(I),o.mutableReadLanes|=_&o.pendingLanes),_=o.mutableReadLanes,o.entangledLanes|=_;for(var b=o.entanglements,T=_;0<T;){var N=31-po(T),k=1<<N;b[N]|=_,T&=~k}}},[n,t,r]),c.useEffect(function(){return r(t._source,function(){var _=v.getSnapshot,b=v.setSnapshot;try{b(_(t._source));var T=Eo(I);o.mutableReadLanes|=T&o.pendingLanes}catch(N){b(function(){throw N})}})},[t,r]),cr(E,n)&&cr(S,t)&&cr(y,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:d},e.dispatch=h=P_.bind(null,Qe,e),f.queue=e,f.baseQueue=null,d=NR(o,t,n),f.memoizedState=f.baseState=d),d}function PR(e,t,n){var r=js();return kR(r,e,t,n)}function rf(e){var t=Ms();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},e=e.dispatch=P_.bind(null,Qe,e),[t.memoizedState,e]}function $d(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function OR(e){var t=Ms();return e={current:e},t.memoizedState=e}function Yd(){return js().memoizedState}function O_(e,t,n,r){var o=Ms();Qe.flags|=e,o.memoizedState=$d(1|t,n,void 0,r===void 0?null:r)}function A_(e,t,n,r){var o=js();r=r===void 0?null:r;var s=void 0;if(Kt!==null){var u=Kt.memoizedState;if(s=u.destroy,r!==null&&N_(r,u.deps)){$d(t,n,s,r);return}}Qe.flags|=e,o.memoizedState=$d(1|t,n,s,r)}function AR(e,t){return O_(516,4,e,t)}function Xd(e,t){return A_(516,4,e,t)}function CR(e,t){return A_(4,2,e,t)}function RR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DR(e,t,n){return n=n!=null?n.concat([e]):null,A_(4,2,RR.bind(null,t,e),n)}function C_(){}function LR(e,t){var n=js();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&N_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function MR(e,t){var n=js();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&N_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GH(e,t){var n=Tu();Ds(98>n?98:n,function(){e(!0)}),Ds(97<n?97:n,function(){var r=hr.transition;hr.transition=1;try{e(!1),t()}finally{hr.transition=r}})}function P_(e,t,n){var r=Gn(),o=Eo(e),s={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},u=t.pending;if(u===null?s.next=s:(s.next=u.next,u.next=s),t.pending=s,u=e.alternate,e===Qe||u!==null&&u===Qe)ef=Kd=!0;else{if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var c=t.lastRenderedState,f=u(c,n);if(s.eagerReducer=u,s.eagerState=f,cr(f,c))return}catch(h){}finally{}To(e,o,r)}}var Wd={readContext:lr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useOpaqueIdentifier:In,unstable_isNewReconciler:!1},qH={readContext:lr,useCallback:function(e,t){return Ms().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:AR,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,O_(4,2,RR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return O_(4,2,e,t)},useMemo:function(e,t){var n=Ms();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ms();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=P_.bind(null,Qe,e),[r.memoizedState,e]},useRef:OR,useState:rf,useDebugValue:C_,useDeferredValue:function(e){var t=rf(e),n=t[0],r=t[1];return AR(function(){var o=hr.transition;hr.transition=1;try{r(e)}finally{hr.transition=o}},[e]),n},useTransition:function(){var e=rf(!1),t=e[0];return e=GH.bind(null,e[1]),OR(e),[e,t]},useMutableSource:function(e,t,n){var r=Ms();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},kR(r,e,t,n)},useOpaqueIdentifier:function(){if(Jr){var e=!1,t=MH(function(){throw e||(e=!0,n("r:"+(u_++).toString(36))),Error(B(355))}),n=rf(t)[1];return(Qe.mode&2)==0&&(Qe.flags|=516,$d(5,function(){n("r:"+(u_++).toString(36))},void 0,null)),t}return t="r:"+(u_++).toString(36),rf(t),t},unstable_isNewReconciler:!1},zH={readContext:lr,useCallback:LR,useContext:lr,useEffect:Xd,useImperativeHandle:DR,useLayoutEffect:CR,useMemo:MR,useReducer:tf,useRef:Yd,useState:function(){return tf(Zr)},useDebugValue:C_,useDeferredValue:function(e){var t=tf(Zr),n=t[0],r=t[1];return Xd(function(){var o=hr.transition;hr.transition=1;try{r(e)}finally{hr.transition=o}},[e]),n},useTransition:function(){var e=tf(Zr)[0];return[Yd().current,e]},useMutableSource:PR,useOpaqueIdentifier:function(){return tf(Zr)[0]},unstable_isNewReconciler:!1},HH={readContext:lr,useCallback:LR,useContext:lr,useEffect:Xd,useImperativeHandle:DR,useLayoutEffect:CR,useMemo:MR,useReducer:nf,useRef:Yd,useState:function(){return nf(Zr)},useDebugValue:C_,useDeferredValue:function(e){var t=nf(Zr),n=t[0],r=t[1];return Xd(function(){var o=hr.transition;hr.transition=1;try{r(e)}finally{hr.transition=o}},[e]),n},useTransition:function(){var e=nf(Zr)[0];return[Yd().current,e]},useMutableSource:PR,useOpaqueIdentifier:function(){return nf(Zr)[0]},unstable_isNewReconciler:!1},KH=Ns.ReactCurrentOwner,Ar=!1;function xn(e,t,n,r){t.child=e===null?ER(t,null,n,r):zd(t,e.child,n,r)}function jR(e,t,n,r,o){n=n.render;var s=t.ref;return Iu(t,o),r=k_(e,t,n,r,s,o),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,bi(e,t,o)):(t.flags|=1,xn(e,t,r,o),t.child)}function FR(e,t,n,r,o,s){if(e===null){var u=n.type;return typeof u=="function"&&!R_(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,UR(e,t,u,r,o,s)):(e=qd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return u=e.child,(o&s)==0&&(o=u.memoizedProps,n=n.compare,n=n!==null?n:Bl,n(o,r)&&e.ref===t.ref)?bi(e,t,s):(t.flags|=1,e=So(u,r),e.ref=t.ref,e.return=t,t.child=e)}function UR(e,t,n,r,o,s){if(e!==null&&Bl(e.memoizedProps,r)&&e.ref===t.ref)if(Ar=!1,(s&o)!=0)(e.flags&16384)!=0&&(Ar=!0);else return t.lanes=e.lanes,bi(e,t,s);return D_(e,t,n,r,s)}function L_(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)==0)t.memoizedState={baseLanes:0},Qd(t,n);else if((n&1073741824)!=0)t.memoizedState={baseLanes:0},Qd(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qd(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qd(t,r);return xn(e,t,o,n),t.child}function VR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function D_(e,t,n,r,o){var s=Sn(n)?Cs:Ht.current;return s=Eu(t,s),Iu(t,o),n=k_(e,t,n,r,s,o),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,bi(e,t,o)):(t.flags|=1,xn(e,t,n,o),t.child)}function BR(e,t,n,r,o){if(Sn(n)){var s=!0;Cd(t)}else s=!1;if(Iu(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),wR(t,n,r),w_(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,c=t.memoizedProps;u.props=c;var f=u.context,h=n.contextType;typeof h=="object"&&h!==null?h=lr(h):(h=Sn(n)?Cs:Ht.current,h=Eu(t,h));var d=n.getDerivedStateFromProps,y=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==r||f!==h)&&bR(t,u,r,h),wo=!1;var v=t.memoizedState;u.state=v,Wl(t,r,u,o),f=t.memoizedState,c!==r||v!==f||Tn.current||wo?(typeof d=="function"&&(Ud(t,n,d,r),f=t.memoizedState),(c=wo||gR(t,n,c,r,v,f,h))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4)):(typeof u.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=h,r=c):(typeof u.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{u=t.stateNode,dR(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Or(t.type,c),u.props=h,y=t.pendingProps,v=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=lr(f):(f=Sn(n)?Cs:Ht.current,f=Eu(t,f));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==y||v!==f)&&bR(t,u,r,f),wo=!1,v=t.memoizedState,u.state=v,Wl(t,r,u,o);var S=t.memoizedState;c!==y||v!==S||Tn.current||wo?(typeof E=="function"&&(Ud(t,n,E,r),S=t.memoizedState),(h=wo||gR(t,n,h,r,v,S,f))?(d||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,S,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,S,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=S),u.props=r,u.state=S,u.context=f,r=h):(typeof u.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),r=!1)}return M_(e,t,n,r,s,o)}function M_(e,t,n,r,o,s){VR(e,t);var u=(t.flags&64)!=0;if(!r&&!u)return o&&iR(t,n,!1),bi(e,t,s);r=t.stateNode,KH.current=t;var c=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=zd(t,e.child,null,s),t.child=zd(t,null,c,s)):xn(e,t,c,s),t.memoizedState=r.state,o&&iR(t,n,!0),t.child}function qR(e){var t=e.stateNode;t.pendingContext?nR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nR(e,t.context,!1),E_(e,t.containerInfo)}var Jd={dehydrated:null,retryLane:0};function KR(e,t,n){var r=t.pendingProps,o=Ge.current,s=!1,u;return(u=(t.flags&64)!=0)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!=0),u?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),He(Ge,o&1),e===null?(r.fallback!==void 0&&S_(t),e=r.children,o=r.fallback,s?(e=zR(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jd,e):typeof r.unstable_expectedLoadTime=="number"?(e=zR(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jd,t.lanes=33554432,e):(n=j_({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=GR(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Jd,r):(n=HR(e,t,r.children,n),t.memoizedState=null,n):s?(r=GR(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Jd,r):(n=HR(e,t,r.children,n),t.memoizedState=null,n)}function zR(e,t,n,r){var o=e.mode,s=e.child;return t={mode:"hidden",children:t},(o&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=t):s=j_(t,o,0,null),n=xu(n,o,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function HR(e,t,n,r){var o=e.child;return e=o.sibling,n=So(o,{mode:"visible",children:n}),(t.mode&2)==0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function GR(e,t,n,r,o){var s=t.mode,u=e.child;e=u.sibling;var c={mode:"hidden",children:n};return(s&2)==0&&t.child!==u?(n=t.child,n.childLanes=0,n.pendingProps=c,u=n.lastEffect,u!==null?(t.firstEffect=n.firstEffect,t.lastEffect=u,u.nextEffect=null):t.firstEffect=t.lastEffect=null):n=So(u,c),e!==null?r=So(e,r):(r=xu(r,s,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function WR(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pR(e.return,t)}function U_(e,t,n,r,o,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=o,u.lastEffect=s)}function $R(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(xn(e,t,r.children,n),r=Ge.current,(r&2)!=0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!=0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WR(e,n);else if(e.tag===19)WR(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Ge,r),(t.mode&2)==0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Hd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),U_(t,!1,o,n,s,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}U_(t,!0,n,null,s,t.lastEffect);break;case"together":U_(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function bi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)!=0){if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=So(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=So(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var YR,F_,XR,QR;YR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F_=function(){};XR=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ls(Qr.current);var s=null;switch(n){case"input":o=bb(e,o),r=bb(e,r),s=[];break;case"option":o=Tb(e,o),r=Tb(e,r),s=[];break;case"select":o=Fe({},o,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":o=Sb(e,o),r=Sb(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kd)}Nb(n,r);var u;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var c=o[h];for(u in c)c.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var f=r[h];if(c=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&f!==c&&(f!=null||c!=null))if(h==="style")if(c){for(u in c)!c.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&c[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(s||(s=[]),s.push(h,n)),n=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(s=s||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wl.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Re("scroll",e),s||c===f||(s=[])):typeof f=="object"&&f!==null&&f.$$typeof===mb?f.toString():(s=s||[]).push(h,f))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};QR=function(e,t,n,r){n!==r&&(t.flags|=4)};function of(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function WH(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Sn(t.type)&&Ad(),null;case 3:return Nu(),De(Tn),De(Ht),x_(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gd(t)?t.flags|=4:r.hydrate||(t.flags|=256)),F_(t),null;case 5:T_(t);var o=Ls(Ql.current);if(n=t.type,e!==null&&t.stateNode!=null)XR(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(B(166));return null}if(e=Ls(Qr.current),Gd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[vo]=t,r[Od]=s,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(e=0;e<zl.length;e++)Re(zl[e],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":qA(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":GA(r,s),Re("invalid",r)}Nb(n,s),e=null;for(var u in s)s.hasOwnProperty(u)&&(o=s[u],u==="children"?typeof o=="string"?r.textContent!==o&&(e=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(e=["children",""+o]):wl.hasOwnProperty(u)&&o!=null&&u==="onScroll"&&Re("scroll",r));switch(n){case"input":ud(r),HA(r,s,!0);break;case"textarea":ud(r),WA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kd)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(u=o.nodeType===9?o:o.ownerDocument,e===Ib.html&&(e=$A(n)),e===Ib.html?n==="script"?(e=u.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[vo]=t,e[Od]=r,YR(e,t,!1,!1),t.stateNode=e,u=kb(n,r),n){case"dialog":Re("cancel",e),Re("close",e),o=r;break;case"iframe":case"object":case"embed":Re("load",e),o=r;break;case"video":case"audio":for(o=0;o<zl.length;o++)Re(zl[o],e);o=r;break;case"source":Re("error",e),o=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),o=r;break;case"details":Re("toggle",e),o=r;break;case"input":qA(e,r),o=bb(e,r),Re("invalid",e);break;case"option":o=Tb(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Fe({},r,{value:void 0}),Re("invalid",e);break;case"textarea":GA(e,r),o=Sb(e,r),Re("invalid",e);break;default:o=r}Nb(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];s==="style"?QA(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&YA(e,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Il(e,f):typeof f=="number"&&Il(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wl.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Re("scroll",e):f!=null&&cb(e,s,f,u))}switch(n){case"input":ud(e),HA(e,r,!1);break;case"textarea":ud(e),WA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+co(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?au(e,!!r.multiple,s,!1):r.defaultValue!=null&&au(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=kd)}JC(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)QR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));n=Ls(Ql.current),Ls(Qr.current),Gd(t)?(r=t.stateNode,n=t.memoizedProps,r[vo]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vo]=t,t.stateNode=r)}return null;case 13:return De(Ge),r=t.memoizedState,(t.flags&64)!=0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&Gd(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!=0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Ge.current&1)!=0?Rt===0&&(Rt=3):((Rt===0||Rt===3)&&(Rt=4),pn===null||(Kl&134217727)==0&&(Pu&134217727)==0||Ou(pn,Wt))),(r||n)&&(t.flags|=4),null);case 4:return Nu(),F_(t),e===null&&XC(t.stateNode.containerInfo),null;case 10:return y_(t),null;case 17:return Sn(t.type)&&Ad(),null;case 19:if(De(Ge),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!=0,u=r.rendering,u===null)if(s)of(r,!1);else{if(Rt!==0||e!==null&&(e.flags&64)!=0)for(e=t.child;e!==null;){if(u=Hd(e),u!==null){for(t.flags|=64,of(r,!1),s=u.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,u=s.alternate,u===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Ge,Ge.current&1|2),t.child}e=e.sibling}r.tail!==null&&Gt()>V_&&(t.flags|=64,s=!0,of(r,!1),t.lanes=33554432)}else{if(!s)if(e=Hd(u),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),of(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Jr)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Gt()-r.renderingStartTime>V_&&n!==1073741824&&(t.flags|=64,s=!0,of(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(n=r.last,n!==null?n.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gt(),n.sibling=null,t=Ge.current,He(Ge,s?t&1|2:t&1),n):null;case 23:case 24:return B_(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(B(156,t.tag))}function $H(e){switch(e.tag){case 1:Sn(e.type)&&Ad();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Nu(),De(Tn),De(Ht),x_(),t=e.flags,(t&64)!=0)throw Error(B(285));return e.flags=t&-4097|64,e;case 5:return T_(e),null;case 13:return De(Ge),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return De(Ge),null;case 4:return Nu(),null;case 10:return y_(e),null;case 23:case 24:return B_(),null;default:return null}}function q_(e,t){try{var n="",r=t;do n+=kz(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o}}function z_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YH=typeof WeakMap=="function"?WeakMap:Map;function JR(e,t,n){n=bo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zd||(Zd=!0,H_=r),z_(e,t)},n}function ZR(e,t,n){n=bo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return z_(e,t),r(o)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this),z_(e,t));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}var XH=typeof WeakSet=="function"?WeakSet:Set;function eD(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){xo(e,n)}else t.current=null}function QH(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Or(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&a_(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(B(163))}function ZH(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)==3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var o=e;r=o.next,o=o.tag,(o&4)!=0&&(o&1)!=0&&(tD(n,e),JH(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Or(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&vR(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}vR(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&JC(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&pC(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(B(163))}function nD(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=XA("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function iD(e,t){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(l_,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if((r&4)!=0)tD(t,n);else{r=t;try{o()}catch(s){xo(r,s)}}n=n.next}while(n!==e)}break;case 1:if(eD(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){xo(t,s)}break;case 5:eD(t);break;case 4:rD(e,t)}}function oD(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function sD(e){return e.tag===5||e.tag===3||e.tag===4}function aD(e){e:{for(var t=e.return;t!==null;){if(sD(t))break e;t=t.return}throw Error(B(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(B(161))}n.flags&16&&(Il(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||sD(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?G_(e,n,t):K_(e,n,t)}function G_(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kd));else if(r!==4&&(e=e.child,e!==null))for(G_(e,t,n),e=e.sibling;e!==null;)G_(e,t,n),e=e.sibling}function K_(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(K_(e,t,n),e=e.sibling;e!==null;)K_(e,t,n),e=e.sibling}function rD(e,t){for(var n=t,r=!1,o,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(B(160));switch(o=r.stateNode,r.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var u=e,c=n,f=c;;)if(iD(u,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s?(u=o,c=n.stateNode,u.nodeType===8?u.parentNode.removeChild(c):u.removeChild(c)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(iD(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function $_(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)==3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var o=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[Od]=r,e==="input"&&r.type==="radio"&&r.name!=null&&zA(n,r),kb(e,o),t=kb(e,r),o=0;o<s.length;o+=2){var u=s[o],c=s[o+1];u==="style"?QA(n,c):u==="dangerouslySetInnerHTML"?YA(n,c):u==="children"?Il(n,c):cb(n,u,c,t)}switch(e){case"input":Eb(n,r);break;case"textarea":KA(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?au(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?au(n,!!r.multiple,r.defaultValue,!0):au(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(B(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,pC(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(W_=Gt(),nD(t.child,!0)),uD(t);return;case 19:uD(t);return;case 17:return;case 23:case 24:nD(t,t.memoizedState!==null);return}throw Error(B(163))}function uD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XH),t.forEach(function(r){var o=e5.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function t5(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var n5=Math.ceil,em=Ns.ReactCurrentDispatcher,Y_=Ns.ReactCurrentOwner,re=0,pn=null,dt=null,Wt=0,Us=0,X_=yo(0),Rt=0,tm=null,Au=0,Kl=0,Pu=0,Q_=0,J_=null,W_=0,V_=Infinity;function Cu(){V_=Gt()+500}var G=null,Zd=!1,H_=null,ei=null,No=!1,sf=null,af=90,Z_=[],e1=[],_i=null,uf=0,t1=null,nm=-1,Ei=0,rm=0,cf=null,im=!1;function Gn(){return(re&48)!=0?Gt():nm!==-1?nm:nm=Gt()}function Eo(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return Tu()===99?1:2;if(Ei===0&&(Ei=Au),BH.transition!==0){rm!==0&&(rm=J_!==null?J_.pendingLanes:0),e=Ei;var t=4186112&~rm;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Tu(),(re&4)!=0&&e===98?e=yd(12,Ei):(e=Hz(e),e=yd(e,Ei)),e}function To(e,t,n){if(50<uf)throw uf=0,t1=null,Error(B(185));if(e=om(e,t),e===null)return null;gd(e,t,n),e===pn&&(Pu|=t,Rt===4&&Ou(e,Wt));var r=Tu();t===1?(re&8)!=0&&(re&48)==0?n1(e):(pr(e,n),re===0&&(Cu(),Xr())):((re&4)==0||r!==98&&r!==99||(_i===null?_i=new Set([e]):_i.add(e)),pr(e,n)),J_=e}function om(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function pr(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var c=31-po(u),f=1<<c,h=s[c];if(h===-1){if((f&r)==0||(f&o)!=0){h=t,hu(f);var d=Ae;s[c]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=t&&(e.expiredLanes|=f);u&=~f}if(r=Ll(e,e===pn?Wt:0),t=Ae,r===0)n!==null&&(n!==d_&&h_(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==d_&&h_(n)}t===15?(n=n1.bind(null,e),gi===null?(gi=[n],Dd=f_(Rd,hR)):gi.push(n),n=d_):t===14?n=Gl(99,n1.bind(null,e)):(n=Gz(t),n=Gl(n,cD.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function cD(e){if(nm=-1,rm=Ei=0,(re&48)!=0)throw Error(B(327));var t=e.callbackNode;if(ko()&&e.callbackNode!==t)return null;var n=Ll(e,e===pn?Wt:0);if(n===0)return null;var r=n,o=re;re|=16;var s=fD();(pn!==e||Wt!==r)&&(Cu(),Ru(e,r));do try{r5();break}catch(c){lD(e,c)}while(1);if(v_(),em.current=s,re=o,dt!==null?r=0:(pn=null,Wt=0,r=Rt),(Au&Pu)!=0)Ru(e,0);else if(r!==0){if(r===2&&(re|=64,e.hydrate&&(e.hydrate=!1,a_(e.containerInfo)),n=bC(e),n!==0&&(r=lf(e,n))),r===1)throw t=tm,Ru(e,0),Ou(e,n),pr(e,Gt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(B(345));case 2:Fs(e);break;case 3:if(Ou(e,n),(n&62914560)===n&&(r=W_+500-Gt(),10<r)){if(Ll(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Gn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ZC(Fs.bind(null,e),r);break}Fs(e);break;case 4:if(Ou(e,n),(n&4186112)===n)break;for(r=e.eventTimes,o=-1;0<n;){var u=31-po(n);s=1<<u,u=r[u],u>o&&(o=u),n&=~s}if(n=o,n=Gt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*n5(n/1960))-n,10<n){e.timeoutHandle=ZC(Fs.bind(null,e),n);break}Fs(e);break;case 5:Fs(e);break;default:throw Error(B(329))}}return pr(e,Gt()),e.callbackNode===t?cD.bind(null,e):null}function Ou(e,t){for(t&=~Q_,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-po(t),r=1<<n;e[n]=-1,t&=~r}}function n1(e){if((re&48)!=0)throw Error(B(327));if(ko(),e===pn&&(e.expiredLanes&Wt)!=0){var t=Wt,n=lf(e,t);(Au&Pu)!=0&&(t=Ll(e,t),n=lf(e,t))}else t=Ll(e,0),n=lf(e,t);if(e.tag!==0&&n===2&&(re|=64,e.hydrate&&(e.hydrate=!1,a_(e.containerInfo)),t=bC(e),t!==0&&(n=lf(e,t))),n===1)throw n=tm,Ru(e,0),Ou(e,t),pr(e,Gt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e),pr(e,Gt()),null}function i5(){if(_i!==null){var e=_i;_i=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,pr(t,Gt())})}Xr()}function hD(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Cu(),Xr())}}function pD(e,t){var n=re;re&=-2,re|=8;try{return e(t)}finally{re=n,re===0&&(Cu(),Xr())}}function Qd(e,t){He(X_,Us),Us|=t,Au|=t}function B_(){Us=X_.current,De(X_)}function Ru(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LH(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ad();break;case 3:Nu(),De(Tn),De(Ht),x_();break;case 5:T_(r);break;case 4:Nu();break;case 13:De(Ge);break;case 19:De(Ge);break;case 10:y_(r);break;case 23:case 24:B_()}n=n.return}pn=e,dt=So(e.current,null),Wt=Us=Au=t,Rt=0,tm=null,Q_=Pu=Kl=0}function lD(e,t){do{var n=dt;try{if(v_(),Jl.current=Wd,Kd){for(var r=Qe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Kd=!1}if(Zl=0,Ct=Kt=Qe=null,ef=!1,Y_.current=null,n===null||n.return===null){Rt=1,tm=t,dt=null;break}e:{var s=e,u=n.return,c=n,f=t;if(t=Wt,c.flags|=2048,c.firstEffect=c.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f;if((c.mode&2)==0){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=(Ge.current&1)!=0,v=u;do{var E;if(E=v.tag===13){var S=v.memoizedState;if(S!==null)E=S.dehydrated!==null;else{var I=v.memoizedProps;E=I.fallback===void 0?!1:I.unstable_avoidThisFallback!==!0?!0:!y}}if(E){var _=v.updateQueue;if(_===null){var b=new Set;b.add(h),v.updateQueue=b}else _.add(h);if((v.mode&2)==0){if(v.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var T=bo(-1,1);T.tag=2,_o(c,T)}c.lanes|=1;break e}f=void 0,c=t;var N=s.pingCache;if(N===null?(N=s.pingCache=new YH,f=new Set,N.set(h,f)):(f=N.get(h),f===void 0&&(f=new Set,N.set(h,f))),!f.has(c)){f.add(c);var k=o5.bind(null,s,h,c);h.then(k,k)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);f=Error((su(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Rt!==5&&(Rt=2),f=q_(f,c),v=u;do{switch(v.tag){case 3:s=f,v.flags|=4096,t&=-t,v.lanes|=t;var C=JR(v,s,t);mR(v,C);break e;case 1:s=f;var O=v.type,j=v.stateNode;if((v.flags&64)==0&&(typeof O.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ei===null||!ei.has(j)))){v.flags|=4096,t&=-t,v.lanes|=t;var q=ZR(v,s,t);mR(v,q);break e}}v=v.return}while(v!==null)}dD(n)}catch(D){t=D,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function fD(){var e=em.current;return em.current=Wd,e===null?Wd:e}function lf(e,t){var n=re;re|=16;var r=fD();pn===e&&Wt===t||Ru(e,t);do try{s5();break}catch(o){lD(e,o)}while(1);if(v_(),re=n,em.current=r,dt!==null)throw Error(B(261));return pn=null,Wt=0,Rt}function s5(){for(;dt!==null;)mD(dt)}function r5(){for(;dt!==null&&!UH();)mD(dt)}function mD(e){var t=vD(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?dD(e):dt=t,Y_.current=null}function dD(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)==0){if(n=WH(n,t,Us),n!==null){dt=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Us&1073741824)!=0||(n.mode&4)==0){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=$H(t),n!==null){n.flags&=2047,dt=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Fs(e){var t=Tu();return Ds(99,a5.bind(null,e,t)),null}function a5(e,t){do ko();while(sf!==null);if((re&48)!=0)throw Error(B(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,s=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var u=e.eventTimes,c=e.expirationTimes;0<s;){var f=31-po(s),h=1<<f;o[f]=0,u[f]=-1,c[f]=-1,s&=~h}if(_i!==null&&(r&24)==0&&_i.has(e)&&_i.delete(e),e===pn&&(dt=pn=null,Wt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=re,re|=32,Y_.current=null,i_=wd,u=BC(),e_(u)){if("selectionStart"in u)c={start:u.selectionStart,end:u.selectionEnd};else e:if(c=(c=u.ownerDocument)&&c.defaultView||window,(h=c.getSelection&&c.getSelection())&&h.rangeCount!==0){c=h.anchorNode,s=h.anchorOffset,f=h.focusNode,h=h.focusOffset;try{c.nodeType,f.nodeType}catch(D){c=null;break e}var d=0,y=-1,v=-1,E=0,S=0,I=u,_=null;t:for(;;){for(var b;I!==c||s!==0&&I.nodeType!==3||(y=d+s),I!==f||h!==0&&I.nodeType!==3||(v=d+h),I.nodeType===3&&(d+=I.nodeValue.length),(b=I.firstChild)!==null;)_=I,I=b;for(;;){if(I===u)break t;if(_===c&&++E===s&&(y=d),_===f&&++S===h&&(v=d),(b=I.nextSibling)!==null)break;I=_,_=I.parentNode}I=b}c=y===-1||v===-1?null:{start:y,end:v}}else c=null;c=c||{start:0,end:0}}else c=null;o_={focusedElem:u,selectionRange:c},wd=!1,cf=null,im=!1,G=r;do try{u5()}catch(D){if(G===null)throw Error(B(330));xo(G,D),G=G.nextEffect}while(G!==null);cf=null,G=r;do try{for(u=e;G!==null;){var T=G.flags;if(T&16&&Il(G.stateNode,""),T&128){var N=G.alternate;if(N!==null){var k=N.ref;k!==null&&(typeof k=="function"?k(null):k.current=null)}}switch(T&1038){case 2:aD(G),G.flags&=-3;break;case 6:aD(G),G.flags&=-3,$_(G.alternate,G);break;case 1024:G.flags&=-1025;break;case 1028:G.flags&=-1025,$_(G.alternate,G);break;case 4:$_(G.alternate,G);break;case 8:c=G,rD(u,c);var C=c.alternate;oD(c),C!==null&&oD(C)}G=G.nextEffect}}catch(D){if(G===null)throw Error(B(330));xo(G,D),G=G.nextEffect}while(G!==null);if(k=o_,N=BC(),T=k.focusedElem,u=k.selectionRange,N!==T&&T&&T.ownerDocument&&VC(T.ownerDocument.documentElement,T)){for(u!==null&&e_(T)&&(N=u.start,k=u.end,k===void 0&&(k=N),"selectionStart"in T?(T.selectionStart=N,T.selectionEnd=Math.min(k,T.value.length)):(k=(N=T.ownerDocument||document)&&N.defaultView||window,k.getSelection&&(k=k.getSelection(),c=T.textContent.length,C=Math.min(u.start,c),u=u.end===void 0?C:Math.min(u.end,c),!k.extend&&C>u&&(c=u,u=C,C=c),c=FC(T,C),s=FC(T,u),c&&s&&(k.rangeCount!==1||k.anchorNode!==c.node||k.anchorOffset!==c.offset||k.focusNode!==s.node||k.focusOffset!==s.offset)&&(N=N.createRange(),N.setStart(c.node,c.offset),k.removeAllRanges(),C>u?(k.addRange(N),k.extend(s.node,s.offset)):(N.setEnd(s.node,s.offset),k.addRange(N)))))),N=[],k=T;k=k.parentNode;)k.nodeType===1&&N.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<N.length;T++)k=N[T],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}wd=!!i_,o_=i_=null,e.current=n,G=r;do try{for(T=e;G!==null;){var O=G.flags;if(O&36&&ZH(T,G.alternate,G),O&128){N=void 0;var j=G.ref;if(j!==null){var q=G.stateNode;switch(G.tag){case 5:N=q;break;default:N=q}typeof j=="function"?j(N):j.current=N}}G=G.nextEffect}}catch(D){if(G===null)throw Error(B(330));xo(G,D),G=G.nextEffect}while(G!==null);G=null,VH(),re=o}else e.current=n;if(No)No=!1,sf=e,af=t;else for(G=r;G!==null;)t=G.nextEffect,G.nextEffect=null,G.flags&8&&(O=G,O.sibling=null,O.stateNode=null),G=t;if(r=e.pendingLanes,r===0&&(ei=null),r===1?e===t1?uf++:(uf=0,t1=e):uf=0,n=n.stateNode,Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(l_,n,void 0,(n.current.flags&64)==64)}catch(D){}if(pr(e,Gt()),Zd)throw Zd=!1,e=H_,H_=null,e;return(re&8)!=0||Xr(),null}function u5(){for(;G!==null;){var e=G.alternate;im||cf===null||((G.flags&8)!=0?sC(G,cf)&&(im=!0):G.tag===13&&t5(e,G)&&sC(G,cf)&&(im=!0));var t=G.flags;(t&256)!=0&&QH(e,G),(t&512)==0||No||(No=!0,Gl(97,function(){return ko(),null})),G=G.nextEffect}}function ko(){if(af!==90){var e=97<af?97:af;return af=90,Ds(e,c5)}return!1}function JH(e,t){Z_.push(t,e),No||(No=!0,Gl(97,function(){return ko(),null}))}function tD(e,t){e1.push(t,e),No||(No=!0,Gl(97,function(){return ko(),null}))}function c5(){if(sf===null)return!1;var e=sf;if(sf=null,(re&48)!=0)throw Error(B(331));var t=re;re|=32;var n=e1;e1=[];for(var r=0;r<n.length;r+=2){var o=n[r],s=n[r+1],u=o.destroy;if(o.destroy=void 0,typeof u=="function")try{u()}catch(f){if(s===null)throw Error(B(330));xo(s,f)}}for(n=Z_,Z_=[],r=0;r<n.length;r+=2){o=n[r],s=n[r+1];try{var c=o.create;o.destroy=c()}catch(f){if(s===null)throw Error(B(330));xo(s,f)}}for(c=e.current.firstEffect;c!==null;)e=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=e;return re=t,Xr(),!0}function yD(e,t,n){t=q_(n,t),t=JR(e,t,1),_o(e,t),t=Gn(),e=om(e,1),e!==null&&(gd(e,1,t),pr(e,t))}function xo(e,t){if(e.tag===3)yD(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){yD(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=q_(t,e);var o=ZR(n,e,1);if(_o(n,o),o=Gn(),n=om(n,1),n!==null)gd(n,1,o),pr(n,o);else if(typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function o5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gn(),e.pingedLanes|=e.suspendedLanes&n,pn===e&&(Wt&n)===n&&(Rt===4||Rt===3&&(Wt&62914560)===Wt&&500>Gt()-W_?Ru(e,0):Q_|=n),pr(e,t)}function e5(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)==0?t=1:(t&4)==0?t=Tu()===99?1:2:(Ei===0&&(Ei=Au),t=pu(62914560&~Ei),t===0&&(t=4194304))),n=Gn(),e=om(e,t),e!==null&&(gd(e,t,n),pr(e,n))}var vD;vD=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Tn.current)Ar=!0;else if((n&r)!=0)Ar=(e.flags&16384)!=0;else{switch(Ar=!1,t.tag){case 3:qR(t),I_();break;case 5:TR(t);break;case 1:Sn(t.type)&&Cd(t);break;case 4:E_(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;He(Ld,o._currentValue),o._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!=0?KR(e,t,n):(He(Ge,Ge.current&1),t=bi(e,t,n),t!==null?t.sibling:null);He(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!=0,(e.flags&64)!=0){if(r)return $R(e,t,n);t.flags|=64}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),He(Ge,Ge.current),r)break;return null;case 23:case 24:return t.lanes=0,L_(e,t,n)}return bi(e,t,n)}else Ar=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Eu(t,Ht.current),Iu(t,n),o=k_(null,t,r,e,o,n),t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sn(r)){var s=!0;Cd(t)}else s=!1;t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,g_(t);var u=r.getDerivedStateFromProps;typeof u=="function"&&Ud(t,r,u,e),o.updater=Fd,t.stateNode=o,o._reactInternals=t,w_(t,r,e,n),t=M_(null,t,r,!0,s,n)}else t.tag=0,xn(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=l5(o),e=Or(o,e),s){case 0:t=D_(null,t,o,e,n);break e;case 1:t=BR(null,t,o,e,n);break e;case 11:t=jR(null,t,o,e,n);break e;case 14:t=FR(null,t,o,Or(o.type,e),r,n);break e}throw Error(B(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Or(r,o),D_(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Or(r,o),BR(e,t,r,o,n);case 3:if(qR(t),r=t.updateQueue,e===null||r===null)throw Error(B(282));if(r=t.pendingProps,o=t.memoizedState,o=o!==null?o.element:null,dR(e,t),Wl(t,r,null,n),r=t.memoizedState.element,r===o)I_(),t=bi(e,t,n);else{if(o=t.stateNode,(s=o.hydrate)&&(Io=bu(t.stateNode.containerInfo.firstChild),wi=t,s=Jr=!0),s){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)s=e[o],s._workInProgressVersionPrimary=e[o+1],ku.push(s);for(n=ER(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else xn(e,t,r,n),I_();t=t.child}return t;case 5:return TR(t),e===null&&S_(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,u=o.children,s_(r,o)?u=null:s!==null&&s_(r,s)&&(t.flags|=16),VR(e,t),xn(e,t,u,n),t.child;case 6:return e===null&&S_(t),null;case 13:return KR(e,t,n);case 4:return E_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zd(t,null,r,n):xn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Or(r,o),jR(e,t,r,o,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,u=t.memoizedProps,s=o.value;var c=t.type._context;if(He(Ld,c._currentValue),c._currentValue=s,u!==null)if(c=u.value,s=cr(c,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(c,s):1073741823)|0,s===0){if(u.children===o.children&&!Tn.current){t=bi(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){u=c.child;for(var h=f.firstContext;h!==null;){if(h.context===r&&(h.observedBits&s)!=0){c.tag===1&&(h=bo(-1,n&-n),h.tag=2,_o(c,h)),c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),pR(c.return,n),f.lanes|=n;break}h=h.next}}else u=c.tag===10&&c.type===t.type?null:c.child;if(u!==null)u.return=c;else for(u=c;u!==null;){if(u===t){u=null;break}if(c=u.sibling,c!==null){c.return=u.return,u=c;break}u=u.return}c=u}xn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps,r=s.children,Iu(t,n),o=lr(o,s.unstable_observedBits),r=r(o),t.flags|=1,xn(e,t,r,n),t.child;case 14:return o=t.type,s=Or(o,t.pendingProps),s=Or(o.type,s),FR(e,t,o,s,r,n);case 15:return UR(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Or(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Sn(r)?(e=!0,Cd(t)):e=!1,Iu(t,n),wR(t,r,o),w_(t,r,o,n),M_(null,t,r,!0,e,n);case 19:return $R(e,t,n);case 23:return L_(e,t,n);case 24:return L_(e,t,n)}throw Error(B(156,t.tag))};function f5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(e,t,n,r){return new f5(e,t,n,r)}function R_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l5(e){if(typeof e=="function")return R_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===id)return 11;if(e===sd)return 14}return 2}function So(e,t){var n=e.alternate;return n===null?(n=fr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qd(e,t,n,r,o,s){var u=2;if(r=e,typeof e=="function")R_(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case uo:return xu(n.children,o,s,t);case UA:u=8,o|=16;break;case lb:u=8,o|=1;break;case _l:return e=fr(12,n,t,o|8),e.elementType=_l,e.type=_l,e.lanes=s,e;case El:return e=fr(13,n,t,o),e.type=El,e.elementType=El,e.lanes=s,e;case od:return e=fr(19,n,t,o),e.elementType=od,e.lanes=s,e;case vb:return j_(n,o,s,t);case yb:return e=fr(24,n,t,o),e.elementType=yb,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fb:u=10;break e;case hb:u=9;break e;case id:u=11;break e;case sd:u=14;break e;case pb:u=16,r=null;break e;case db:u=22;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=fr(u,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function xu(e,t,n,r){return e=fr(7,e,r,t),e.lanes=n,e}function j_(e,t,n,r){return e=fr(23,e,r,t),e.elementType=vb,e.lanes=n,e}function b_(e,t,n){return e=fr(6,e,null,t),e.lanes=n,e}function __(e,t,n){return t=fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h5(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Hb(0),this.expirationTimes=Hb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hb(0),this.mutableSourceEagerHydrationData=null}function p5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sm(e,t,n,r){var o=t.current,s=Gn(),u=Eo(o);e:if(n){n=n._reactInternals;t:{if(Os(n)!==n||n.tag!==1)throw Error(B(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Sn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(B(171))}if(n.tag===1){var f=n.type;if(Sn(f)){n=rR(n,f,c);break e}}n=c}else n=go;return t.context===null?t.context=n:t.pendingContext=n,t=bo(s,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),_o(o,t),To(o,u,s),u}function r1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function i1(e,t){gD(e,t),(e=e.alternate)&&gD(e,t)}function d5(){return null}function o1(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new h5(e,t,n!=null&&n.hydrate===!0),t=fr(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,g_(t),e[wu]=n.current,XC(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var o=t._getVersion;o=o(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}o1.prototype.render=function(e){sm(e,this._internalRoot,null,null)};o1.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;sm(null,e,null,function(){t[wu]=null})};function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function m5(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new o1(e,0,t?{hydrate:!0}:void 0)}function am(e,t,n,r,o){var s=n._reactRootContainer;if(s){var u=s._internalRoot;if(typeof o=="function"){var c=o;o=function(){var h=r1(u);c.call(h)}}sm(t,u,e,o)}else{if(s=n._reactRootContainer=m5(n,r),u=s._internalRoot,typeof o=="function"){var f=o;o=function(){var h=r1(u);f.call(h)}}pD(function(){sm(t,u,e,o)})}return r1(u)}aC=function(e){if(e.tag===13){var t=Gn();To(e,4,t),i1(e,4)}};jb=function(e){if(e.tag===13){var t=Gn();To(e,67108864,t),i1(e,67108864)}};uC=function(e){if(e.tag===13){var t=Gn(),n=Eo(e);To(e,n,t),i1(e,n)}};cC=function(e,t){return t()};Ob=function(e,t,n){switch(t){case"input":if(Eb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fd(r);if(!o)throw Error(B(90));BA(r),Eb(r,o)}}}break;case"textarea":KA(e,n);break;case"select":t=n.value,t!=null&&au(e,!!n.multiple,t,!1)}};Ab=hD;tC=function(e,t,n,r,o){var s=re;re|=4;try{return Ds(98,e.bind(null,t,n,r,o))}finally{re=s,re===0&&(Cu(),Xr())}};Cb=function(){(re&49)==0&&(i5(),ko())};nC=function(e,t){var n=re;re|=2;try{return e(t)}finally{re=n,re===0&&(Cu(),Xr())}};function wD(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(t))throw Error(B(200));return p5(e,t,null,n)}var v5={Events:[Nl,vu,fd,ZA,eC,ko,{current:!1}]},hf={findFiberByHostInstance:As,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},y5={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oC(e),e===null?null:e.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||d5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(pf=__REACT_DEVTOOLS_GLOBAL_HOOK__,!pf.isDisabled&&pf.supportsFiber))try{l_=pf.inject(y5),Rs=pf}catch(e){}var pf;ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v5;ur.createPortal=wD;ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):Error(B(268,Object.keys(e)));return e=oC(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e,t){var n=re;if((n&48)!=0)return e(t);re|=1;try{if(e)return Ds(99,e.bind(null,t))}finally{re=n,Xr()}};ur.hydrate=function(e,t,n){if(!ff(t))throw Error(B(200));return am(null,e,t,!0,n)};ur.render=function(e,t,n){if(!ff(t))throw Error(B(200));return am(null,e,t,!1,n)};ur.unmountComponentAtNode=function(e){if(!ff(e))throw Error(B(40));return e._reactRootContainer?(pD(function(){am(null,null,e,!1,function(){e._reactRootContainer=null,e[wu]=null})}),!0):!1};ur.unstable_batchedUpdates=hD;ur.unstable_createPortal=function(e,t){return wD(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ur.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ff(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return am(e,t,n,!1,r)};ur.version="17.0.2"});var TD=It((PK,_D)=>{"use strict";function ED(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ED)}catch(e){console.error(e)}}ED(),_D.exports=bD()});var ID=It((RK,SD)=>{"use strict";var g5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";SD.exports=g5});var PD=It((DK,xD)=>{"use strict";var w5=ID();function ND(){}function kD(){}kD.resetWarningCache=ND;xD.exports=function(){function e(r,o,s,u,c,f){if(f!==w5){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kD,resetWarningCache:ND};return n.PropTypes=n,n}});var um=It((jK,OD)=>{OD.exports=PD()();var LK,MK});var YD=It((XK,$D)=>{$D.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}});var ZD=It((QK,Du)=>{var lm=YD();Du.exports=XD;Du.exports.parse=h1;Du.exports.compile=j5;Du.exports.tokensToFunction=QD;Du.exports.tokensToRegExp=JD;var U5=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function h1(e,t){for(var n=[],r=0,o=0,s="",u=t&&t.delimiter||"/",c;(c=U5.exec(e))!=null;){var f=c[0],h=c[1],d=c.index;if(s+=e.slice(o,d),o=d+f.length,h){s+=h[1];continue}var y=e[o],v=c[2],E=c[3],S=c[4],I=c[5],_=c[6],b=c[7];s&&(n.push(s),s="");var T=v!=null&&y!=null&&y!==v,N=_==="+"||_==="*",k=_==="?"||_==="*",C=c[2]||u,O=S||I;n.push({name:E||r++,prefix:v||"",delimiter:C,optional:k,repeat:N,partial:T,asterisk:!!b,pattern:O?F5(O):b?".*":"[^"+fm(C)+"]+?"})}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function j5(e,t){return QD(h1(e,t),t)}function V5(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function B5(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function QD(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",p1(t)));return function(o,s){for(var u="",c=o||{},f=s||{},h=f.pretty?V5:encodeURIComponent,d=0;d<e.length;d++){var y=e[d];if(typeof y=="string"){u+=y;continue}var v=c[y.name],E;if(v==null)if(y.optional){y.partial&&(u+=y.prefix);continue}else throw new TypeError('Expected "'+y.name+'" to be defined');if(lm(v)){if(!y.repeat)throw new TypeError('Expected "'+y.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(y.optional)continue;throw new TypeError('Expected "'+y.name+'" to not be empty')}for(var S=0;S<v.length;S++){if(E=h(v[S]),!n[d].test(E))throw new TypeError('Expected all "'+y.name+'" to match "'+y.pattern+'", but received `'+JSON.stringify(E)+"`");u+=(S===0?y.prefix:y.delimiter)+E}continue}if(E=y.asterisk?B5(v):h(v),!n[d].test(E))throw new TypeError('Expected "'+y.name+'" to match "'+y.pattern+'", but received "'+E+'"');u+=y.prefix+E}return u}}function fm(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function F5(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d1(e,t){return e.keys=t,e}function p1(e){return e&&e.sensitive?"":"i"}function q5(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d1(e,t)}function z5(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(XD(e[o],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",p1(n));return d1(s,t)}function H5(e,t,n){return JD(h1(e,n),t,n)}function JD(e,t,n){lm(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=n.end!==!1,s="",u=0;u<e.length;u++){var c=e[u];if(typeof c=="string")s+=fm(c);else{var f=fm(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+f+h+")*"),c.optional?c.partial?h=f+"("+h+")?":h="(?:"+f+"("+h+"))?":h=f+"("+h+")",s+=h}}var d=fm(n.delimiter||"/"),y=s.slice(-d.length)===d;return r||(s=(y?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),o?s+="$":s+=r&&y?"":"(?="+d+"|$)",d1(new RegExp("^"+s,p1(n)),t)}function XD(e,t,n){return lm(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?q5(e,t):lm(e)?z5(e,t,n):H5(e,t,n)}});var tL=It(xe=>{"use strict";var Et=typeof Symbol=="function"&&Symbol.for,m1=Et?Symbol.for("react.element"):60103,v1=Et?Symbol.for("react.portal"):60106,hm=Et?Symbol.for("react.fragment"):60107,pm=Et?Symbol.for("react.strict_mode"):60108,dm=Et?Symbol.for("react.profiler"):60114,mm=Et?Symbol.for("react.provider"):60109,vm=Et?Symbol.for("react.context"):60110,y1=Et?Symbol.for("react.async_mode"):60111,ym=Et?Symbol.for("react.concurrent_mode"):60111,gm=Et?Symbol.for("react.forward_ref"):60112,wm=Et?Symbol.for("react.suspense"):60113,G5=Et?Symbol.for("react.suspense_list"):60120,bm=Et?Symbol.for("react.memo"):60115,_m=Et?Symbol.for("react.lazy"):60116,K5=Et?Symbol.for("react.block"):60121,W5=Et?Symbol.for("react.fundamental"):60117,$5=Et?Symbol.for("react.responder"):60118,Y5=Et?Symbol.for("react.scope"):60119;function Wn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case m1:switch(e=e.type,e){case y1:case ym:case hm:case dm:case pm:case wm:return e;default:switch(e=e&&e.$$typeof,e){case vm:case gm:case _m:case bm:case mm:return e;default:return t}}case v1:return t}}}function eL(e){return Wn(e)===ym}xe.AsyncMode=y1;xe.ConcurrentMode=ym;xe.ContextConsumer=vm;xe.ContextProvider=mm;xe.Element=m1;xe.ForwardRef=gm;xe.Fragment=hm;xe.Lazy=_m;xe.Memo=bm;xe.Portal=v1;xe.Profiler=dm;xe.StrictMode=pm;xe.Suspense=wm;xe.isAsyncMode=function(e){return eL(e)||Wn(e)===y1};xe.isConcurrentMode=eL;xe.isContextConsumer=function(e){return Wn(e)===vm};xe.isContextProvider=function(e){return Wn(e)===mm};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===m1};xe.isForwardRef=function(e){return Wn(e)===gm};xe.isFragment=function(e){return Wn(e)===hm};xe.isLazy=function(e){return Wn(e)===_m};xe.isMemo=function(e){return Wn(e)===bm};xe.isPortal=function(e){return Wn(e)===v1};xe.isProfiler=function(e){return Wn(e)===dm};xe.isStrictMode=function(e){return Wn(e)===pm};xe.isSuspense=function(e){return Wn(e)===wm};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hm||e===ym||e===dm||e===pm||e===wm||e===G5||typeof e=="object"&&e!==null&&(e.$$typeof===_m||e.$$typeof===bm||e.$$typeof===mm||e.$$typeof===vm||e.$$typeof===gm||e.$$typeof===W5||e.$$typeof===$5||e.$$typeof===Y5||e.$$typeof===K5)};xe.typeOf=Wn});var g1=It((ZK,nL)=>{"use strict";nL.exports=tL()});var cL=It((t8,rL)=>{"use strict";var w1=g1(),X5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Q5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},J5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b1={};b1[w1.ForwardRef]=J5;b1[w1.Memo]=iL;function oL(e){return w1.isMemo(e)?iL:b1[e.$$typeof]||X5}var Z5=Object.defineProperty,eG=Object.getOwnPropertyNames,sL=Object.getOwnPropertySymbols,tG=Object.getOwnPropertyDescriptor,nG=Object.getPrototypeOf,aL=Object.prototype;function uL(e,t,n){if(typeof t!="string"){if(aL){var r=nG(t);r&&r!==aL&&uL(e,r,n)}var o=eG(t);sL&&(o=o.concat(sL(t)));for(var s=oL(e),u=oL(t),c=0;c<o.length;++c){var f=o[c];if(!Q5[f]&&!(n&&n[f])&&!(u&&u[f])&&!(s&&s[f])){var h=tG(t,f);try{Z5(e,f,h)}catch(d){}}}}return e}rL.exports=uL});var OL=It((Sm,x1)=>{(function(e,t){if(typeof define=="function"&&define.amd)define(["exports","module"],t);else if(typeof Sm!="undefined"&&typeof x1!="undefined")t(Sm,x1);else{var n={exports:{}};t(n.exports,n),e.fetchJsonp=n.exports}})(Sm,function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function o(c){try{delete window[c]}catch(f){window[c]=void 0}}function s(c){var f=document.getElementById(c);f&&document.getElementsByTagName("head")[0].removeChild(f)}function u(c){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],h=c,d=f.timeout||n.timeout,y=f.jsonpCallback||n.jsonpCallback,v=void 0;return new Promise(function(E,S){var I=f.jsonpCallbackFunction||r(),_=y+"_"+I;window[I]=function(T){E({ok:!0,json:function(){return Promise.resolve(T)}}),v&&clearTimeout(v),s(_),o(I)},h+=h.indexOf("?")===-1?"?":"&";var b=document.createElement("script");b.setAttribute("src",""+h+y+"="+I),f.charset&&b.setAttribute("charset",f.charset),b.id=_,document.getElementsByTagName("head")[0].appendChild(b),v=setTimeout(function(){S(new Error("JSONP request to "+c+" timed out")),o(I),s(_),window[I]=function(){o(I)}},d),b.onerror=function(){S(new Error("JSONP request to "+c+" failed")),o(I),s(_),v&&clearTimeout(v)}})}t.exports=u})});var wc=function(){return wc=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wc.apply(this,arguments)};var tg=function(e,t){return tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},tg(e,t)};function yI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Y3=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},X3=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},wG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,c=u?e[o+1]:0,f=o+2<e.length,h=f?e[o+2]:0,d=s>>2,y=(s&3)<<4|c>>4,v=(c&15)<<2|h>>6,E=h&63;f||(E=64,u||(v=64)),r.push(n[d],n[y],n[v],n[E])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Y3(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):X3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,c=u?n[e.charAt(o)]:0;++o;var f=o<e.length,h=f?n[e.charAt(o)]:64;++o;var d=o<e.length,y=d?n[e.charAt(o)]:64;if(++o,s==null||c==null||h==null||y==null)throw Error();var v=s<<2|c>>4;if(r.push(v),h!==64){var E=c<<4&240|h>>2;if(r.push(E),y!==64){var S=h<<6&192|y;r.push(S)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function gI(e){return fa(void 0,e)}function fa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Q3(r)||(e[r]=fa(e[r],t[r]));return e}function Q3(e){return e!=="__proto__"}var wI=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();function Ri(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bI(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ri())}function _I(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(e){return!1}}function EI(){return typeof self=="object"&&self.self===self}function bc(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SI(){return Ri().indexOf("Electron/")>=0}function II(){var e=Ri();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xI(){return Ri().indexOf("MSAppHost/")>=0}function ng(){return"indexedDB"in self&&indexedDB!=null}function rg(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function ig(){return!(!navigator||!navigator.cookieEnabled)}var J3="FirebaseError",es=function(e){yI(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=J3,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Di.prototype.create),s}return t}(Error),Di=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?Z3(u,o):"Error",f=this.serviceName+": "+c+" ("+s+").",h=new es(s,f,o);return h},e}();function Z3(e,t){return e.replace(eU,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var eU=/\{\$([^}]+)}/g;function og(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var bG=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var o=0;o<16;o++)r[o]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var o=0;o<16;o++)r[o]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var o=16;o<80;o++){var s=r[o-3]^r[o-8]^r[o-14]^r[o-16];r[o]=(s<<1|s>>>31)&4294967295}for(var u=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],y,v,o=0;o<80;o++){o<40?o<20?(y=h^c&(f^h),v=1518500249):(y=c^f^h,v=1859775393):o<60?(y=c&f|h&(c|f),v=2400959708):(y=c^f^h,v=3395469782);var s=(u<<5|u>>>27)+y+d+v+r[o]&4294967295;d=h,h=f,f=(c<<30|c>>>2)&4294967295,c=u,u=s}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,o=0,s=this.buf_,u=this.inbuf_;o<n;){if(u===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(s[u]=t.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(s),u=0;break}}else for(;o<n;)if(s[u]=t[o],++u,++o,u===this.blockSize){this.compress_(s),u=0;break}}this.inbuf_=u,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var o=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[o]=this.chain_[r]>>s&255,++o;return t},e}();function NI(e,t){var n=new tU(e,t);return n.subscribe.bind(n)}var tU=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nU(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=sg),s.error===void 0&&(s.error=sg),s.complete===void 0&&(s.complete=sg);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch(c){}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console!="undefined"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function nU(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function sg(){}var rU=1e3,iU=2,oU=4*60*60*1e3,sU=.5;function ag(e,t,n){t===void 0&&(t=rU),n===void 0&&(n=iU);var r=t*Math.pow(n,e),o=Math.round(sU*r*(Math.random()-.5)*2);return Math.min(oU,r+o)}function _e(e){return e&&e._delegate?e._delegate:e}var _h=function(){return _h=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_h.apply(this,arguments)};function kI(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function PI(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function ug(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _c(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function cg(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var Dn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();var Li="[DEFAULT]";var cU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Li);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new wI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(s){}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=_h({identifier:Li,optional:!1},t),r=n.identifier,o=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(uU(t))try{this.getOrInitializeService({instanceIdentifier:Li})}catch(y){}try{for(var o=ug(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=_c(s.value,2),c=u[0],f=u[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:h});f.resolve(d)}catch(y){}}}catch(y){n={error:y}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Li),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return kI(this,void 0,void 0,function(){var t;return PI(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(cg(cg([],_c(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),_c(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Li),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.instanceIdentifier,s=o===void 0?Li:o,u=t.options,c=u===void 0?{}:u,f=this.normalizeInstanceIdentifier(s);if(this.isInitialized(f))throw Error(this.name+"("+f+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:f,options:c});try{for(var d=ug(this.instancesDeferred.entries()),y=d.next();!y.done;y=d.next()){var v=_c(y.value,2),E=v[0],S=v[1],I=this.normalizeInstanceIdentifier(E);f===I&&S.resolve(h)}}catch(_){n={error:_}}finally{try{y&&!y.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return h},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aU(n),options:o}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(u){}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Li:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function aU(e){return e===Li?void 0:e}function uU(e){return e.instantiationMode==="EAGER"}var OI=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new cU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Sr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,c=s.length;u<c;u++,o++)r[o]=s[u];return r}var ts,lg=[],me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));var AI={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},lU=me.INFO,fU=(ts={},ts[me.DEBUG]="log",ts[me.VERBOSE]="log",ts[me.INFO]="info",ts[me.WARN]="warn",ts[me.ERROR]="error",ts),hU=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=fU[t];if(s)console[s].apply(console,Sr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},ha=function(){function e(t){this.name=t,this._logLevel=lU,this._logHandler=hU,this._userLogHandler=null,lg.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in me))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?AI[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Sr([this,me.DEBUG],t)),this._logHandler.apply(this,Sr([this,me.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Sr([this,me.VERBOSE],t)),this._logHandler.apply(this,Sr([this,me.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Sr([this,me.INFO],t)),this._logHandler.apply(this,Sr([this,me.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Sr([this,me.WARN],t)),this._logHandler.apply(this,Sr([this,me.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Sr([this,me.ERROR],t)),this._logHandler.apply(this,Sr([this,me.ERROR],t))},e}();function CI(e){lg.forEach(function(t){t.setLogLevel(e)})}function RI(e,t){for(var n=function(u){var c=null;t&&t.level&&(c=AI[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,h){for(var d=[],y=2;y<arguments.length;y++)d[y-2]=arguments[y];var v=d.map(function(E){if(E==null)return null;if(typeof E=="string")return E;if(typeof E=="number"||typeof E=="boolean")return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch(S){return null}}).filter(function(E){return E}).join(" ");h>=(c!=null?c:f.logLevel)&&e({level:me[h].toLowerCase(),message:v,args:d,type:f.name})}},r=0,o=lg;r<o.length;r++){var s=o[r];n(s)}}var Mi,pU=(Mi={},Mi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Mi["bad-app-name"]="Illegal App name: '{$appName}",Mi["duplicate-app"]="Firebase App named '{$appName}' already exists",Mi["app-deleted"]="Firebase App named '{$appName}' already deleted",Mi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Mi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Mi),pa=new Di("app","Firebase",pU),DI="@firebase/app",dU="0.6.20",mU="@firebase/analytics",vU="@firebase/auth",yU="@firebase/database",gU="@firebase/functions",wU="@firebase/installations",bU="@firebase/messaging",_U="@firebase/performance",EU="@firebase/remote-config",TU="@firebase/storage",SU="@firebase/firestore",IU="firebase-wrapper";var en,Eh="[DEFAULT]",xU=(en={},en[DI]="fire-core",en[mU]="fire-analytics",en[vU]="fire-auth",en[yU]="fire-rtdb",en[gU]="fire-fn",en[wU]="fire-iid",en[bU]="fire-fcm",en[_U]="fire-perf",en[EU]="fire-rc",en[TU]="fire-gcs",en[SU]="fire-fst",en["fire-js"]="fire-js",en[IU]="fire-js-all",en);var da=new ha("@firebase/app");var Th=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=gI(t),this.container=new OI(n.name),this._addComponent(new Dn("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Eh),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Eh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){da.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw pa.create("app-deleted",{appName:this.name_})},e}();Th.prototype.name&&Th.prototype.options||Th.prototype.delete||console.log("dc");var NU="8.4.0";function kU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:h,setLogLevel:CI,onLog:d,apps:null,SDK_VERSION:NU,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:y}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(v){delete t[v]}function s(v){if(v=v||Eh,!og(t,v))throw pa.create("no-app",{appName:v});return t[v]}s.App=e;function u(v,E){if(E===void 0&&(E={}),typeof E!="object"||E===null){var S=E;E={name:S}}var I=E;I.name===void 0&&(I.name=Eh);var _=I.name;if(typeof _!="string"||!_)throw pa.create("bad-app-name",{appName:String(_)});if(og(t,_))throw pa.create("duplicate-app",{appName:_});var b=new e(v,I,r);return t[_]=b,b}function c(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var E=v.name;if(n.has(E))return da.debug("There were multiple attempts to register component "+E+"."),v.type==="PUBLIC"?r[E]:null;if(n.set(E,v),v.type==="PUBLIC"){var S=function(T){if(T===void 0&&(T=s()),typeof T[E]!="function")throw pa.create("invalid-app-argument",{appName:E});return T[E]()};v.serviceProps!==void 0&&fa(S,v.serviceProps),r[E]=S,e.prototype[E]=function(){for(var T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];var k=this._getService.bind(this,E);return k.apply(this,v.multipleInstances?T:[])}}for(var I=0,_=Object.keys(t);I<_.length;I++){var b=_[I];t[b]._addComponent(v)}return v.type==="PUBLIC"?r[E]:null}function h(v,E,S){var I,_=(I=xU[v])!==null&&I!==void 0?I:v;S&&(_+="-"+S);var b=_.match(/\s|\//),T=E.match(/\s|\//);if(b||T){var N=['Unable to register library "'+_+'" with version "'+E+'":'];b&&N.push('library name "'+_+'" contains illegal characters (whitespace or "/")'),b&&T&&N.push("and"),T&&N.push('version name "'+E+'" contains illegal characters (whitespace or "/")'),da.warn(N.join(" "));return}f(new Dn(_+"-version",function(){return{library:_,version:E}},"VERSION"))}function d(v,E){if(v!==null&&typeof v!="function")throw pa.create("invalid-log-argument");RI(v,E)}function y(v,E){if(E==="serverAuth")return null;var S=E;return S}return r}function LI(){var e=kU(Th);e.INTERNAL=wc(wc({},e.INTERNAL),{createFirebaseNamespace:LI,extendNamespace:t,createSubscribe:NI,ErrorFactory:Di,deepExtend:fa});function t(n){fa(e,n)}return e}var fg=LI();var OU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(PU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function PU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}function AU(e,t){e.INTERNAL.registerComponent(new Dn("platform-logger",function(n){return new OU(n)},"PRIVATE")),e.registerVersion(DI,dU,t),e.registerVersion("fire-js","")}EI()&&self.firebase!==void 0&&(da.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),hg=self.firebase.SDK_VERSION,hg&&hg.indexOf("LITE")>=0&&da.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));var hg,CU=fg.initializeApp;fg.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _I()&&da.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),CU.apply(void 0,e)};var MI=fg;AU(MI);var $=MI;var RU="firebase",DU="8.4.2";$.registerVersion(RU,DU,"app");var Ec=function(){return Ec=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ec.apply(this,arguments)};function Dt(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function Lt(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ir=function(){return Ir=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ir.apply(this,arguments)};function ut(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function ct(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function pg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jI(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function UI(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var BI=Ye(VI()),LU="@firebase/installations",qI="0.4.25";var zI=1e4,HI="w:"+qI,GI="FIS_v2",MU="https://firebaseinstallations.googleapis.com/v1",jU=60*60*1e3,UU="installations",FU="Installations";var ji,VU=(ji={},ji["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ji["not-registered"]="Firebase Installation is not registered.",ji["installation-not-found"]="Firebase Installation not found.",ji["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ji["app-offline"]="Could not process request. Application offline.",ji["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ji),ui=new Di(UU,FU,VU);function KI(e){return e instanceof es&&e.code.includes("request-failed")}function dg(e){var t=e.projectId;return MU+"/projects/"+t+"/installations"}function WI(e){return{token:e.token,requestStatus:2,expiresIn:BU(e.expiresIn),creationTime:Date.now()}}function mg(e,t){return ut(this,void 0,void 0,function(){var n,r;return ct(this,function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,ui.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function $I(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YI(e,t){var n=t.refreshToken,r=$I(e);return r.append("Authorization",qU(n)),r}function vg(e){return ut(this,void 0,void 0,function(){var t;return ct(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function BU(e){return Number(e.replace("s","000"))}function qU(e){return GI+" "+e}function zU(e,t){var n=t.fid;return ut(this,void 0,void 0,function(){var r,o,s,u,c,f,h;return ct(this,function(d){switch(d.label){case 0:return r=dg(e),o=$I(e),s={fid:n,authVersion:GI,appId:e.appId,sdkVersion:HI},u={method:"POST",headers:o,body:JSON.stringify(s)},[4,vg(function(){return fetch(r,u)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return f=d.sent(),h={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:WI(f.authToken)},[2,h];case 3:return[4,mg("Create Installation",c)];case 4:throw d.sent()}})})}function XI(e){return new Promise(function(t){setTimeout(t,e)})}function HU(e){var t=btoa(String.fromCharCode.apply(String,UI([],jI(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var GU=/^[cdef][\w-]{21}$/,yg="";function WU(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=KU(e);return GU.test(n)?n:yg}catch(r){return yg}}function KU(e){var t=HU(e);return t.substr(0,22)}function ma(e){return e.appName+"!"+e.appId}var va=new Map;function JI(e,t){var n=ma(e);QI(n,t),$U(n,t)}function YU(e,t){ZI();var n=ma(e),r=va.get(n);r||(r=new Set,va.set(n,r)),r.add(t)}function XU(e,t){var n=ma(e),r=va.get(n);!r||(r.delete(t),r.size===0&&va.delete(n),ex())}function QI(e,t){var n,r,o=va.get(e);if(!!o)try{for(var s=pg(o),u=s.next();!u.done;u=s.next()){var c=u.value;c(t)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function $U(e,t){var n=ZI();n&&n.postMessage({key:e,fid:t}),ex()}var ns=null;function ZI(){return!ns&&"BroadcastChannel"in self&&(ns=new BroadcastChannel("[Firebase] FID Change"),ns.onmessage=function(e){QI(e.data.key,e.data.fid)}),ns}function ex(){va.size===0&&ns&&(ns.close(),ns=null)}var QU="firebase-installations-database",JU=1,rs="firebase-installations-store",gg=null;function wg(){return gg||(gg=(0,BI.openDb)(QU,JU,function(e){switch(e.oldVersion){case 0:e.createObjectStore(rs)}})),gg}function Ih(e,t){return ut(this,void 0,void 0,function(){var n,r,o,s,u;return ct(this,function(c){switch(c.label){case 0:return n=ma(e),[4,wg()];case 1:return r=c.sent(),o=r.transaction(rs,"readwrite"),s=o.objectStore(rs),[4,s.get(n)];case 2:return u=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,o.complete];case 4:return c.sent(),(!u||u.fid!==t.fid)&&JI(e,t.fid),[2,t]}})})}function bg(e){return ut(this,void 0,void 0,function(){var t,n,r;return ct(this,function(o){switch(o.label){case 0:return t=ma(e),[4,wg()];case 1:return n=o.sent(),r=n.transaction(rs,"readwrite"),[4,r.objectStore(rs).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}})})}function Tc(e,t){return ut(this,void 0,void 0,function(){var n,r,o,s,u,c;return ct(this,function(f){switch(f.label){case 0:return n=ma(e),[4,wg()];case 1:return r=f.sent(),o=r.transaction(rs,"readwrite"),s=o.objectStore(rs),[4,s.get(n)];case 2:return u=f.sent(),c=t(u),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return f.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),c&&(!u||u.fid!==c.fid)&&JI(e,c.fid),[2,c]}})})}function _g(e){return ut(this,void 0,void 0,function(){var t,n,r;return ct(this,function(o){switch(o.label){case 0:return[4,Tc(e,function(s){var u=ZU(s),c=eF(e,u);return t=c.registrationPromise,c.installationEntry})];case 1:return n=o.sent(),n.fid!==yg?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function ZU(e){var t=e||{fid:WU(),registrationStatus:0};return tx(t)}function eF(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ui.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=tF(e,r);return{installationEntry:r,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:nF(e)}:{installationEntry:t}}function tF(e,t){return ut(this,void 0,void 0,function(){var n,r;return ct(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,zU(e,t)];case 1:return n=o.sent(),[2,Ih(e,n)];case 2:return r=o.sent(),KI(r)&&r.customData.serverCode===409?[4,bg(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Ih(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}})})}function nF(e){return ut(this,void 0,void 0,function(){var t,n,r,o;return ct(this,function(s){switch(s.label){case 0:return[4,nx(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,XI(100)];case 3:return s.sent(),[4,nx(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,_g(e)];case 6:return n=s.sent(),r=n.installationEntry,o=n.registrationPromise,o?[2,o]:[2,r];case 7:return[2,t]}})})}function nx(e){return Tc(e,function(t){if(!t)throw ui.create("installation-not-found");return tx(t)})}function tx(e){return rF(e)?{fid:e.fid,registrationStatus:0}:e}function rF(e){return e.registrationStatus===1&&e.registrationTime+zI<Date.now()}function oF(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return ut(this,void 0,void 0,function(){var o,s,u,c,f,h,d,y;return ct(this,function(v){switch(v.label){case 0:return o=iF(n,t),s=YI(n,t),u=r.getImmediate({optional:!0}),u&&s.append("x-firebase-client",u.getPlatformInfoString()),c={installation:{sdkVersion:HI}},f={method:"POST",headers:s,body:JSON.stringify(c)},[4,vg(function(){return fetch(o,f)})];case 1:return h=v.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=v.sent(),y=WI(d),[2,y];case 3:return[4,mg("Generate Auth Token",h)];case 4:throw v.sent()}})})}function iF(e,t){var n=t.fid;return dg(e)+"/"+n+"/authTokens:generate"}function Eg(e,t){return t===void 0&&(t=!1),ut(this,void 0,void 0,function(){var n,r,o,s;return ct(this,function(u){switch(u.label){case 0:return[4,Tc(e.appConfig,function(c){if(!rx(c))throw ui.create("not-registered");var f=c.authToken;if(!t&&uF(f))return c;if(f.requestStatus===1)return n=sF(e,t),c;if(!navigator.onLine)throw ui.create("app-offline");var h=cF(c);return n=aF(e,h),h})];case 1:return r=u.sent(),n?[4,n]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=r.authToken,u.label=4;case 4:return o=s,[2,o]}})})}function sF(e,t){return ut(this,void 0,void 0,function(){var n,r;return ct(this,function(o){switch(o.label){case 0:return[4,ix(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,XI(100)];case 3:return o.sent(),[4,ix(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,Eg(e,t)]:[2,r]}})})}function ix(e){return Tc(e,function(t){if(!rx(t))throw ui.create("not-registered");var n=t.authToken;return lF(n)?Ir(Ir({},t),{authToken:{requestStatus:0}}):t})}function aF(e,t){return ut(this,void 0,void 0,function(){var n,r,o,r;return ct(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,oF(e,t)];case 1:return n=s.sent(),r=Ir(Ir({},t),{authToken:n}),[4,Ih(e.appConfig,r)];case 2:return s.sent(),[2,n];case 3:return o=s.sent(),KI(o)&&(o.customData.serverCode===401||o.customData.serverCode===404)?[4,bg(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return r=Ir(Ir({},t),{authToken:{requestStatus:0}}),[4,Ih(e.appConfig,r)];case 6:s.sent(),s.label=7;case 7:throw o;case 8:return[2]}})})}function rx(e){return e!==void 0&&e.registrationStatus===2}function uF(e){return e.requestStatus===2&&!fF(e)}function fF(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jU}function cF(e){var t={requestStatus:1,requestTime:Date.now()};return Ir(Ir({},e),{authToken:t})}function lF(e){return e.requestStatus===1&&e.requestTime+zI<Date.now()}function hF(e){return ut(this,void 0,void 0,function(){var t,n,r;return ct(this,function(o){switch(o.label){case 0:return[4,_g(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):Eg(e).catch(console.error),[2,n.fid]}})})}function dF(e,t){return t===void 0&&(t=!1),ut(this,void 0,void 0,function(){var n;return ct(this,function(r){switch(r.label){case 0:return[4,pF(e.appConfig)];case 1:return r.sent(),[4,Eg(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function pF(e){return ut(this,void 0,void 0,function(){var t;return ct(this,function(n){switch(n.label){case 0:return[4,_g(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function vF(e,t){return ut(this,void 0,void 0,function(){var n,r,o,s;return ct(this,function(u){switch(u.label){case 0:return n=mF(e,t),r=YI(e,t),o={method:"DELETE",headers:r},[4,vg(function(){return fetch(n,o)})];case 1:return s=u.sent(),s.ok?[3,3]:[4,mg("Delete Installation",s)];case 2:throw u.sent();case 3:return[2]}})})}function mF(e,t){var n=t.fid;return dg(e)+"/"+n}function yF(e){return ut(this,void 0,void 0,function(){var t,n;return ct(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Tc(t,function(o){if(!(o&&o.registrationStatus===0))return o})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ui.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ui.create("app-offline");case 3:return[4,vF(t,n)];case 4:return r.sent(),[4,bg(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function gF(e,t){var n=e.appConfig;return YU(n,t),function(){XU(n,t)}}function wF(e){var t,n;if(!e||!e.options)throw Tg("App Configuration");if(!e.name)throw Tg("App Name");var r=["projectId","apiKey","appId"];try{for(var o=pg(r),s=o.next();!s.done;s=o.next()){var u=s.value;if(!e.options[u])throw Tg(u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Tg(e){return ui.create("missing-app-config-values",{valueName:e})}function bF(e){var t="installations";e.INTERNAL.registerComponent(new Dn(t,function(n){var r=n.getProvider("app").getImmediate(),o=wF(r),s=n.getProvider("platform-logger"),u={appConfig:o,platformLoggerProvider:s},c={app:r,getId:function(){return hF(u)},getToken:function(f){return dF(u,f)},delete:function(){return yF(u)},onIdChange:function(f){return gF(u,f)}};return c},"PUBLIC")),e.registerVersion(LU,qI)}bF($);var _F="firebase_id",EF="origin",TF=60*1e3,SF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ox="https://www.googletagmanager.com/gtag/js",Mt;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Mt||(Mt={}));var Sg;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Sg||(Sg={}));function IF(e,t,n,r,o){return Dt(this,void 0,void 0,function(){var s,u;return Lt(this,function(c){switch(c.label){case 0:return o&&o.global?(e(Mt.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),u=Ec(Ec({},r),{send_to:s}),e(Mt.EVENT,n,u),c.label=3;case 3:return[2]}})})}function xF(e,t,n,r){return Dt(this,void 0,void 0,function(){var o;return Lt(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Mt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=s.sent(),e(Mt.CONFIG,o,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function NF(e,t,n,r){return Dt(this,void 0,void 0,function(){var o;return Lt(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Mt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=s.sent(),e(Mt.CONFIG,o,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function kF(e,t,n,r){return Dt(this,void 0,void 0,function(){var o,s,u,c,f;return Lt(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(o={},s=0,u=Object.keys(n);s<u.length;s++)c=u[s],o["user_properties."+c]=n[c];return e(Mt.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:f=h.sent(),e(Mt.CONFIG,f,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function PF(e,t){return Dt(this,void 0,void 0,function(){var n;return Lt(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}var xt=new ha("@firebase/analytics");function OF(e,t){var n=document.createElement("script");n.src=ox+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function AF(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function CF(e,t,n,r,o,s){return Dt(this,void 0,void 0,function(){var u,c,f,h;return Lt(this,function(d){switch(d.label){case 0:u=r[o],d.label=1;case 1:return d.trys.push([1,7,,8]),u?[4,t[u]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),f=c.find(function(y){return y.measurementId===o}),f?[4,t[f.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),xt.error(h),[3,8];case 8:return e(Mt.CONFIG,o,s),[2]}})})}function RF(e,t,n,r,o){return Dt(this,void 0,void 0,function(){var s,u,c,f,h,d,y,v,E;return Lt(this,function(S){switch(S.label){case 0:return S.trys.push([0,4,,5]),s=[],o&&o.send_to?(u=o.send_to,Array.isArray(u)||(u=[u]),[4,Promise.all(n)]):[3,2];case 1:for(c=S.sent(),f=function(I){var _=c.find(function(T){return T.measurementId===I}),b=_&&t[_.appId];if(b)s.push(b);else return s=[],"break"},h=0,d=u;h<d.length&&(y=d[h],v=f(y),v!=="break");h++);S.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return S.sent(),e(Mt.EVENT,r,o||{}),[3,5];case 4:return E=S.sent(),xt.error(E),[3,5];case 5:return[2]}})})}function DF(e,t,n,r){function o(s,u,c){return Dt(this,void 0,void 0,function(){var f;return Lt(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Mt.EVENT?[3,2]:[4,RF(e,t,n,u,c)];case 1:return h.sent(),[3,5];case 2:return s!==Mt.CONFIG?[3,4]:[4,CF(e,t,n,r,u,c)];case 3:return h.sent(),[3,5];case 4:e(Mt.SET,u),h.label=5;case 5:return[3,7];case 6:return f=h.sent(),xt.error(f),[3,7];case 7:return[2]}})})}return o}function LF(e,t,n,r,o){var s=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(s=window[o]),window[o]=DF(s,e,t,n),{gtagCore:s,wrappedGtag:window[o]}}function MF(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ox))return r}return null}var xr,jF=(xr={},xr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",xr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",xr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",xr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",xr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",xr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',xr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',xr),er=new Di("analytics","Analytics",jF);var UF=30,FF=1e3,VF=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=FF),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),sx=new VF;function BF(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function qF(e){var t;return Dt(this,void 0,void 0,function(){var n,r,o,s,u,c,f,h;return Lt(this,function(d){switch(d.label){case 0:return n=e.appId,r=e.apiKey,o={method:"GET",headers:BF(r)},s=SF.replace("{app-id}",n),[4,fetch(s,o)];case 1:if(u=d.sent(),!(u.status!==200&&u.status!==304))return[3,6];c="",d.label=2;case 2:return d.trys.push([2,4,,5]),[4,u.json()];case 3:return f=d.sent(),((t=f.error)===null||t===void 0?void 0:t.message)&&(c=f.error.message),[3,5];case 4:return h=d.sent(),[3,5];case 5:throw er.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 6:return[2,u.json()]}})})}function HF(e,t,n){return t===void 0&&(t=sx),Dt(this,void 0,void 0,function(){var r,o,s,u,c,f,h=this;return Lt(this,function(d){if(r=e.options,o=r.appId,s=r.apiKey,u=r.measurementId,!o)throw er.create("no-app-id");if(!s){if(u)return[2,{measurementId:u,appId:o}];throw er.create("no-api-key")}return c=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new zF,setTimeout(function(){return Dt(h,void 0,void 0,function(){return Lt(this,function(y){return f.abort(),[2]})})},n!==void 0?n:TF),[2,ax({appId:o,apiKey:s,measurementId:u},c,f,t)]})})}function ax(e,t,n,r){var o=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=sx),Dt(this,void 0,void 0,function(){var u,c,f,h,d,y,v;return Lt(this,function(E){switch(E.label){case 0:u=e.appId,c=e.measurementId,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,GF(n,o)];case 2:return E.sent(),[3,4];case 3:if(f=E.sent(),c)return xt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:u,measurementId:c}];throw f;case 4:return E.trys.push([4,6,,7]),[4,qF(e)];case 5:return h=E.sent(),r.deleteThrottleMetadata(u),[2,h];case 6:if(d=E.sent(),!KF(d)){if(r.deleteThrottleMetadata(u),c)return xt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:u,measurementId:c}];throw d}return y=Number(d.customData.httpStatus)===503?ag(s,r.intervalMillis,UF):ag(s,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:s+1},r.setThrottleMetadata(u,v),xt.debug("Calling attemptFetch again in "+y+" millis"),[2,ax(e,v,n,r)];case 7:return[2]}})})}function GF(e,t){return new Promise(function(n,r){var o=Math.max(t-Date.now(),0),s=setTimeout(n,o);e.addEventListener(function(){clearTimeout(s),r(er.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function KF(e){if(!(e instanceof es)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var zF=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();function WF(){return Dt(this,void 0,void 0,function(){var e;return Lt(this,function(t){switch(t.label){case 0:return ng()?[3,1]:(xt.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,rg()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),xt.warn(er.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function $F(e,t,n,r,o,s){return Dt(this,void 0,void 0,function(){var u,c,f,h,d,y,v;return Lt(this,function(E){switch(E.label){case 0:return u=HF(e),u.then(function(S){n[S.measurementId]=S.appId,e.options.measurementId&&S.measurementId!==e.options.measurementId&&xt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+S.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(S){return xt.error(S)}),t.push(u),c=WF().then(function(S){if(S)return r.getId()}),[4,Promise.all([u,c])];case 1:return f=E.sent(),h=f[0],d=f[1],MF()||OF(s,h.measurementId),o("js",new Date),y=(v={},v[EF]="firebase",v.update=!0,v),d!=null&&(y[_F]=d),o(Mt.CONFIG,h.measurementId,y),[2,h.measurementId]}})})}var ci={},ux=[],cx={},xh="dataLayer",lx="gtag",fx,Sc,Ig=!1;function YF(e){if(Ig)throw er.create("already-initialized");e.dataLayerName&&(xh=e.dataLayerName),e.gtagName&&(lx=e.gtagName)}function XF(){var e=[];if(bc()&&e.push("This is a browser extension environment."),ig()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,o){return"("+(o+1)+") "+r}).join(" "),n=er.create("invalid-analytics-context",{errorInfo:t});xt.warn(n.message)}}function QF(e,t){XF();var n=e.options.appId;if(!n)throw er.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)xt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw er.create("no-api-key");if(ci[n]!=null)throw er.create("already-exists",{id:n});if(!Ig){AF(xh);var r=LF(ci,ux,cx,xh,lx),o=r.wrappedGtag,s=r.gtagCore;Sc=o,fx=s,Ig=!0}ci[n]=$F(e,ux,cx,t,fx,xh);var u={app:e,logEvent:function(c,f,h){IF(Sc,ci[n],c,f,h).catch(function(d){return xt.error(d)})},setCurrentScreen:function(c,f){xF(Sc,ci[n],c,f).catch(function(h){return xt.error(h)})},setUserId:function(c,f){NF(Sc,ci[n],c,f).catch(function(h){return xt.error(h)})},setUserProperties:function(c,f){kF(Sc,ci[n],c,f).catch(function(h){return xt.error(h)})},setAnalyticsCollectionEnabled:function(c){PF(ci[n],c).catch(function(f){return xt.error(f)})},INTERNAL:{delete:function(){return delete ci[n],Promise.resolve()}}};return u}var JF="@firebase/analytics",ZF="0.6.9",hx="analytics";function t4(e){e.INTERNAL.registerComponent(new Dn(hx,function(n){var r=n.getProvider("app").getImmediate(),o=n.getProvider("installations").getImmediate();return QF(r,o)},"PUBLIC").setServiceProps({settings:YF,EventName:Sg,isSupported:e4})),e.INTERNAL.registerComponent(new Dn("analytics-internal",t,"PRIVATE")),e.registerVersion(JF,ZF);function t(n){try{var r=n.getProvider(hx).getImmediate();return{logEvent:r.logEvent}}catch(o){throw er.create("interop-component-reg-failed",{reason:o})}}}t4($);function e4(){return Dt(this,void 0,void 0,function(){var e,t;return Lt(this,function(n){switch(n.label){case 0:if(bc())return[2,!1];if(!ig())return[2,!1];if(!ng())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,rg()];case 2:return e=n.sent(),[2,e];case 3:return t=n.sent(),[2,!1];case 4:return[2]}})})}(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,l){i!=Array.prototype&&i!=Object.prototype&&(i[a]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var l=i[a];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,a){if(a){var l=r;i=i.split(".");for(var p=0;p<i.length-1;p++){var m=i[p];m in l||(l[m]={}),l=l[m]}i=i[i.length-1],p=l[i],a=a(p),a!=p&&a!=null&&t(l,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol!="undefined"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(w){this.b=0,this.c=void 0,this.a=[];var x=this.f();try{w(x.resolve,x.reject)}catch(R){x.reject(R)}}function l(){this.a=null}function p(w){return w instanceof a?w:new a(function(x){x(w)})}if(i)return i;l.prototype.b=function(w){if(this.a==null){this.a=[];var x=this;this.c(function(){x.g()})}this.a.push(w)};var m=r.setTimeout;l.prototype.c=function(w){m(w,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var x=0;x<w.length;++x){var R=w[x];w[x]=null;try{R()}catch(U){this.f(U)}}}this.a=null},l.prototype.f=function(w){this.c(function(){throw w})},a.prototype.f=function(){function w(U){return function(ne){R||(R=!0,U.call(x,ne))}}var x=this,R=!1;return{resolve:w(this.m),reject:w(this.g)}},a.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof a)this.s(w);else{e:switch(typeof w){case"object":var x=w!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.v(w):this.h(w)}},a.prototype.v=function(w){var x=void 0;try{x=w.then}catch(R){this.g(R);return}typeof x=="function"?this.u(x,w):this.h(w)},a.prototype.g=function(w){this.i(2,w)},a.prototype.h=function(w){this.i(1,w)},a.prototype.i=function(w,x){if(this.b!=0)throw Error("Cannot settle("+w+", "+x+"): Promise already settled in state"+this.b);this.b=w,this.c=x,this.l()},a.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)g.b(this.a[w]);this.a=null}};var g=new l;return a.prototype.s=function(w){var x=this.f();w.Qa(x.resolve,x.reject)},a.prototype.u=function(w,x){var R=this.f();try{w.call(x,R.resolve,R.reject)}catch(U){R.reject(U)}},a.prototype.then=function(w,x){function R(ge,wt){return typeof ge=="function"?function(ai){try{U(ge(ai))}catch(Zy){ne(Zy)}}:wt}var U,ne,Se=new a(function(ge,wt){U=ge,ne=wt});return this.Qa(R(w,U),R(x,ne)),Se},a.prototype.catch=function(w){return this.then(void 0,w)},a.prototype.Qa=function(w,x){function R(){switch(U.b){case 1:w(U.c);break;case 2:x(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?g.b(R):this.a.push(R)},a.resolve=p,a.reject=function(w){return new a(function(x,R){R(w)})},a.race=function(w){return new a(function(x,R){for(var U=u(w),ne=U.next();!ne.done;ne=U.next())p(ne.value).Qa(x,R)})},a.all=function(w){var x=u(w),R=x.next();return R.done?p([]):new a(function(U,ne){function Se(ai){return function(Zy){ge[ai]=Zy,wt--,wt==0&&U(ge)}}var ge=[],wt=0;do ge.push(void 0),wt++,p(R.value).Qa(Se(ge.length-1),ne),R=x.next();while(!R.done)})},a});var c=c||{},f=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function y(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&h.test(i)?i:""}function v(){}function E(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function S(i){var a=E(i);return a=="array"||a=="object"&&typeof i.length=="number"}function I(i){return E(i)=="function"}function _(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,T)&&i[T]||(i[T]=++N)}var T="closure_uid_"+(1e9*Math.random()>>>0),N=0;function k(i,a,l){return i.call.apply(i.bind,arguments)}function C(i,a,l){if(!i)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),i.apply(a,m)}}return function(){return i.apply(a,arguments)}}function O(i,a,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=k:O=C,O.apply(null,arguments)}function j(i,a){var l=Array.prototype.slice.call(arguments,1);return function(){var p=l.slice();return p.push.apply(p,arguments),i.apply(this,p)}}var q=Date.now;function D(i,a){function l(){}l.prototype=a.prototype,i.ab=a.prototype,i.prototype=new l,i.prototype.constructor=i}function he(i){return i}function P(i,a,l){this.code=Pn+i,this.message=a||On[i]||"",this.a=l||null}D(P,Error),P.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},P.prototype.toJSON=function(){return this.w()};function $t(i){var a=i&&i.code;return a?new P(a.substring(Pn.length),i.message,i.serverResponse):null}var Pn="auth/",On={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},yt={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function $n(i){for(var a in yt)if(yt[a].id===i)return i=yt[a],{firebaseEndpoint:i.Ta,secureTokenEndpoint:i.Za,identityPlatformEndpoint:i.Wa};return null}var Yn;Yn=$n("__EID__")?"__EID__":void 0;function Yt(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch(a){return!1}}function ie(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ie);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}D(ie,Error),ie.prototype.name="CustomError";function be(i,a){i=i.split("%s");for(var l="",p=i.length-1,m=0;m<p;m++)l+=i[m]+(m<a.length?a[m]:"%s");ie.call(this,l+i[p])}D(be,ie),be.prototype.name="AssertionError";function Q(i,a){throw new be("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function oe(i,a){this.c=i,this.f=a,this.b=0,this.a=null}oe.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function ye(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function Pe(){this.b=this.a=null}var Xt=new oe(function(){return new gt},function(i){i.reset()});Pe.prototype.add=function(i,a){var l=Xt.get();l.set(i,a),this.b?this.b.next=l:this.a=l,this.b=l};function Qt(){var i=J1,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function gt(){this.next=this.b=this.a=null}gt.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},gt.prototype.reset=function(){this.next=this.b=this.a=null};var ti=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===a)return l;return-1},Ne=Array.prototype.forEach?function(i,a,l){Array.prototype.forEach.call(i,a,l)}:function(i,a,l){for(var p=i.length,m=typeof i=="string"?i.split(""):i,g=0;g<p;g++)g in m&&a.call(l,m[g],g,i)};function wf(i,a){for(var l=typeof i=="string"?i.split(""):i,p=i.length-1;0<=p;--p)p in l&&a.call(void 0,l[p],p,i)}var VL=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var l=i.length,p=[],m=0,g=typeof i=="string"?i.split(""):i,w=0;w<l;w++)if(w in g){var x=g[w];a.call(void 0,x,w,i)&&(p[m++]=x)}return p},bf=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var l=i.length,p=Array(l),m=typeof i=="string"?i.split(""):i,g=0;g<l;g++)g in m&&(p[g]=a.call(void 0,m[g],g,i));return p},BL=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var l=i.length,p=typeof i=="string"?i.split(""):i,m=0;m<l;m++)if(m in p&&a.call(void 0,p[m],m,i))return!0;return!1};function qL(i){e:{for(var a=_M,l=i.length,p=typeof i=="string"?i.split(""):i,m=0;m<l;m++)if(m in p&&a.call(void 0,p[m],m,i)){a=m;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function ni(i,a){return 0<=ti(i,a)}function _f(i,a){a=ti(i,a);var l;return(l=0<=a)&&Array.prototype.splice.call(i,a,1),l}function yr(i,a){var l=0;wf(i,function(p,m){a.call(void 0,p,m,i)&&Array.prototype.splice.call(i,m,1).length==1&&l++})}function Im(i){return Array.prototype.concat.apply([],arguments)}function Ro(i){var a=i.length;if(0<a){for(var l=Array(a),p=0;p<a;p++)l[p]=i[p];return l}return[]}var N1=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},zL=/&/g,HL=/</g,GL=/>/g,KL=/"/g,WL=/'/g,$L=/\x00/g,YL=/[\x00&<>"']/;function Oe(i,a){return i.indexOf(a)!=-1}function xm(i,a){return i<a?-1:i>a?1:0}var Vs;e:{var k1=f.navigator;if(k1){var P1=k1.userAgent;if(P1){Vs=P1;break e}}Vs=""}function st(i){return Oe(Vs,i)}function O1(i,a){for(var l in i)a.call(void 0,i[l],l,i)}function Do(i){for(var a in i)return!1;return!0}function Ti(i){var a={},l;for(l in i)a[l]=i[l];return a}var A1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mn(i,a){for(var l,p,m=1;m<arguments.length;m++){p=arguments[m];for(l in p)i[l]=p[l];for(var g=0;g<A1.length;g++)l=A1[g],Object.prototype.hasOwnProperty.call(p,l)&&(i[l]=p[l])}}function C1(i,a){e:{try{var l=i&&i.ownerDocument,p=l&&(l.defaultView||l.parentWindow);if(p=p||f,p.Element&&p.Location){var m=p;break e}}catch(w){}m=null}if(m&&typeof m[a]!="undefined"&&(!i||!(i instanceof m[a])&&(i instanceof m.Location||i instanceof m.Element))){if(_(i))try{var g=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch(w){g="<object could not be stringified>"}else g=i===void 0?"undefined":i===null?"null":typeof i;Q("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,g)}}function Rr(i,a){this.a=i===Ef&&a||"",this.b=R1}Rr.prototype.sa=!0,Rr.prototype.ra=function(){return this.a},Rr.prototype.toString=function(){return"Const{"+this.a+"}"};function Nm(i){return i instanceof Rr&&i.constructor===Rr&&i.b===R1?i.a:(Q("expected object of type Const, got '"+i+"'"),"type_error:Const")}var R1={},Ef={},Tf;function D1(){if(Tf===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:he,createScript:he,createScriptURL:he})}catch(l){f.console&&f.console.error(l.message)}Tf=i}else Tf=i}return Tf}function Bs(i,a){this.a=a===M1?i:""}Bs.prototype.sa=!0,Bs.prototype.ra=function(){return this.a.toString()},Bs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function L1(i){return i instanceof Bs&&i.constructor===Bs?i.a:(Q("expected object of type TrustedResourceUrl, got '"+i+"' of type "+E(i)),"type_error:TrustedResourceUrl")}function km(i,a){var l=Nm(i);if(!QL.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(XL,function(p,m){if(!Object.prototype.hasOwnProperty.call(a,m))throw Error('Found marker, "'+m+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(a));return p=a[m],p instanceof Rr?Nm(p):encodeURIComponent(String(p))}),JL(i)}var XL=/%{(\w+)}/g,QL=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,M1={};function JL(i){var a=D1();return i=a?a.createScriptURL(i):i,new Bs(i,M1)}function vn(i,a){this.a=a===ju?i:""}vn.prototype.sa=!0,vn.prototype.ra=function(){return this.a.toString()},vn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Sf(i){return i instanceof vn&&i.constructor===vn?i.a:(Q("expected object of type SafeUrl, got '"+i+"' of type "+E(i)),"type_error:SafeUrl")}var ZL=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,e2=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,j1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function U1(i){if(i instanceof vn)return i;if(i=typeof i=="object"&&i.sa?i.ra():String(i),j1.test(i))i=new vn(i,ju);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(e2);i=a&&ZL.test(a[1])?new vn(i,ju):null}return i}function F1(i){return i instanceof vn?i:(i=typeof i=="object"&&i.sa?i.ra():String(i),j1.test(i)||(i="about:invalid#zClosurez"),new vn(i,ju))}var ju={},V1=new vn("about:invalid#zClosurez",ju);function qs(i,a,l){this.a=l===B1?i:""}qs.prototype.sa=!0,qs.prototype.ra=function(){return this.a.toString()},qs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function t2(i){return i instanceof qs&&i.constructor===qs?i.a:(Q("expected object of type SafeHtml, got '"+i+"' of type "+E(i)),"type_error:SafeHtml")}var B1={};function n2(i,a){C1(i,"HTMLScriptElement"),i.src=L1(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=y(a.document):(d===null&&(d=y(f.document)),a=d),a&&i.setAttribute("nonce",a)}function q1(i,a,l,p){return i=i instanceof vn?i:F1(i),a=a||f,l=l instanceof Rr?Nm(l):l||"",a.open(Sf(i),l,p,void 0)}function z1(i,a){for(var l=i.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<l.length;)p+=l.shift()+m.shift();return p+l.join("%s")}function Pm(i){return YL.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(zL,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(HL,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(GL,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(KL,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(WL,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace($L,"&#0;"))),i}function Om(i){return Om[" "](i),i}Om[" "]=v;function r2(i,a){var l=a2;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=a(i)}var i2=st("Opera"),gr=st("Trident")||st("MSIE"),H1=st("Edge"),o2=H1||gr,G1=st("Gecko")&&!(Oe(Vs.toLowerCase(),"webkit")&&!st("Edge"))&&!(st("Trident")||st("MSIE"))&&!st("Edge"),s2=Oe(Vs.toLowerCase(),"webkit")&&!st("Edge");function K1(){var i=f.document;return i?i.documentMode:void 0}var If;e:{var Am="",Cm=function(){var i=Vs;if(G1)return/rv:([^\);]+)(\)|;)/.exec(i);if(H1)return/Edge\/([\d\.]+)/.exec(i);if(gr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(s2)return/WebKit\/(\S+)/.exec(i);if(i2)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Cm&&(Am=Cm?Cm[1]:""),gr){var Rm=K1();if(Rm!=null&&Rm>parseFloat(Am)){If=String(Rm);break e}}If=Am}var a2={};function W1(i){return r2(i,function(){for(var a=0,l=N1(String(If)).split("."),p=N1(String(i)).split("."),m=Math.max(l.length,p.length),g=0;a==0&&g<m;g++){var w=l[g]||"",x=p[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],w[0].length==0&&x[0].length==0)break;a=xm(w[1].length==0?0:parseInt(w[1],10),x[1].length==0?0:parseInt(x[1],10))||xm(w[2].length==0,x[2].length==0)||xm(w[2],x[2]),w=w[3],x=x[3]}while(a==0)}return 0<=a})}var Dm;if(f.document&&gr){var $1=K1();Dm=$1||parseInt(If,10)||void 0}else Dm=void 0;var Si=Dm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(i){}var u2=!gr||9<=Number(Si);function Uu(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function Y1(i,a){O1(a,function(l,p){l&&typeof l=="object"&&l.sa&&(l=l.ra()),p=="style"?i.style.cssText=l:p=="class"?i.className=l:p=="for"?i.htmlFor=l:X1.hasOwnProperty(p)?i.setAttribute(X1[p],l):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?i.setAttribute(p,l):i[p]=l})}var X1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function c2(i,a,l){var p=arguments,m=document,g=String(p[0]),w=p[1];if(!u2&&w&&(w.name||w.type)){if(g=["<",g],w.name&&g.push(' name="',Pm(w.name),'"'),w.type){g.push(' type="',Pm(w.type),'"');var x={};mn(x,w),delete x.type,w=x}g.push(">"),g=g.join("")}return g=xf(m,g),w&&(typeof w=="string"?g.className=w:Array.isArray(w)?g.className=w.join(" "):Y1(g,w)),2<p.length&&l2(m,g,p),g}function l2(i,a,l){function p(x){x&&a.appendChild(typeof x=="string"?i.createTextNode(x):x)}for(var m=2;m<l.length;m++){var g=l[m];if(!S(g)||_(g)&&0<g.nodeType)p(g);else{e:{if(g&&typeof g.length=="number"){if(_(g)){var w=typeof g.item=="function"||typeof g.item=="string";break e}if(I(g)){w=typeof g.item=="function";break e}}w=!1}Ne(w?Ro(g):g,p)}}}function xf(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function Q1(i){f.setTimeout(function(){throw i},0)}var Lm;function f2(){var i=f.MessageChannel;if(typeof i=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!st("Presto")&&(i=function(){var m=xf(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.close();var w="callImmediate"+Math.random(),x=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=O(function(R){(x=="*"||R.origin==x)&&R.data==w&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,x)}}}),typeof i!="undefined"&&!st("Trident")&&!st("MSIE")){var a=new i,l={},p=l;return a.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var m=l.Gb;l.Gb=null,m()}},function(m){p.next={Gb:m},p=p.next,a.port2.postMessage(0)}}return function(m){f.setTimeout(m,0)}}function Nf(i,a){kf||h2(),Mm||(kf(),Mm=!0),J1.add(i,a)}var kf;function h2(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);kf=function(){i.then(Z1)}}else kf=function(){var a=Z1;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!st("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Lm||(Lm=f2()),Lm(a)):f.setImmediate(a)}}var Mm=!1,J1=new Pe;function Z1(){for(var i;i=Qt();){try{i.a.call(i.b)}catch(a){Q1(a)}ye(Xt,i)}Mm=!1}function ce(i,a){if(this.a=Lo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=v)try{var l=this;i.call(a,function(p){Mo(l,Fu,p)},function(p){if(!(p instanceof zs))try{throw p instanceof Error?p:Error("Promise rejected.")}catch(m){}Mo(l,ri,p)})}catch(p){Mo(this,ri,p)}}var Lo=0,Fu=2,ri=3;function eE(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}eE.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var tE=new oe(function(){return new eE},function(i){i.reset()});function jm(i,a,l){var p=tE.get();return p.g=i,p.b=a,p.f=l,p}function Z(i){if(i instanceof ce)return i;var a=new ce(v);return Mo(a,Fu,i),a}function Me(i){return new ce(function(a,l){l(i)})}function nE(i,a,l){sE(i,a,l,null)||Nf(j(a,i))}function p2(i){return new ce(function(a,l){var p=i.length,m=[];if(p)for(var g=function(U,ne){p--,m[U]=ne,p==0&&a(m)},w=function(U){l(U)},x=0,R;x<i.length;x++)R=i[x],nE(R,j(g,x),w);else a(m)})}function rE(i){return new ce(function(a){var l=i.length,p=[];if(l)for(var m=function(x,R,U){l--,p[x]=R?{Pb:!0,value:U}:{Pb:!1,reason:U},l==0&&a(p)},g=0,w;g<i.length;g++)w=i[g],nE(w,j(m,g,!0),j(m,g,!1));else a(p)})}ce.prototype.then=function(i,a,l){return oE(this,I(i)?i:null,I(a)?a:null,l)},ce.prototype.$goog_Thenable=!0,e=ce.prototype,e.oa=function(i,a){return i=jm(i,i,a),i.c=!0,Um(this,i),this},e.o=function(i,a){return oE(this,null,i,a)},e.cancel=function(i){if(this.a==Lo){var a=new zs(i);Nf(function(){iE(this,a)},this)}};function iE(i,a){if(i.a==Lo)if(i.c){var l=i.c;if(l.b){for(var p=0,m=null,g=null,w=l.b;w&&(w.c||(p++,w.a==i&&(m=w),!(m&&1<p)));w=w.next)m||(g=w);m&&(l.a==Lo&&p==1?iE(l,a):(g?(p=g,p.next==l.f&&(l.f=p),p.next=p.next.next):uE(l),cE(l,m,ri,a)))}i.c=null}else Mo(i,ri,a)}function Um(i,a){i.b||i.a!=Fu&&i.a!=ri||aE(i),i.f?i.f.next=a:i.b=a,i.f=a}function oE(i,a,l,p){var m=jm(null,null,null);return m.a=new ce(function(g,w){m.g=a?function(x){try{var R=a.call(p,x);g(R)}catch(U){w(U)}}:g,m.b=l?function(x){try{var R=l.call(p,x);R===void 0&&x instanceof zs?w(x):g(R)}catch(U){w(U)}}:w}),m.a.c=i,Um(i,m),m.a}e.$c=function(i){this.a=Lo,Mo(this,Fu,i)},e.ad=function(i){this.a=Lo,Mo(this,ri,i)};function Mo(i,a,l){i.a==Lo&&(i===l&&(a=ri,l=new TypeError("Promise cannot resolve to itself")),i.a=1,sE(l,i.$c,i.ad,i)||(i.i=l,i.a=a,i.c=null,aE(i),a!=ri||l instanceof zs||m2(i,l)))}function sE(i,a,l,p){if(i instanceof ce)return Um(i,jm(a||v,l||null,p)),!0;if(Yt(i))return i.then(a,l,p),!0;if(_(i))try{var m=i.then;if(I(m))return d2(i,m,a,l,p),!0}catch(g){return l.call(p,g),!0}return!1}function d2(i,a,l,p,m){function g(R){x||(x=!0,p.call(m,R))}function w(R){x||(x=!0,l.call(m,R))}var x=!1;try{a.call(i,w,g)}catch(R){g(R)}}function aE(i){i.h||(i.h=!0,Nf(i.gc,i))}function uE(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=uE(this);)cE(this,i,this.a,this.i);this.h=!1};function cE(i,a,l,p){if(l==ri&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,lE(a,l,p);else try{a.c?a.g.call(a.f):lE(a,l,p)}catch(m){fE.call(null,m)}ye(tE,a)}function lE(i,a,l){a==Fu?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function m2(i,a){i.g=!0,Nf(function(){i.g&&fE.call(null,a)})}var fE=Q1;function zs(i){ie.call(this,i)}D(zs,ie),zs.prototype.name="cancel";function Pf(){Fm!=0&&(hE[b(this)]=this),this.xa=this.xa,this.pa=this.pa}var Fm=0,hE={};Pf.prototype.xa=!1;function pE(i){if(!i.xa&&(i.xa=!0,i.Da(),Fm!=0)){var a=b(i);if(Fm!=0&&i.pa&&0<i.pa.length)throw Error(i+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete hE[a]}}Pf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var v2=Object.freeze||function(i){return i},dE=!gr||9<=Number(Si),y2=gr&&!W1("9"),g2=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",v,a),f.removeEventListener("test",v,a)}catch(l){}return i}();function yn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}yn.prototype.preventDefault=function(){this.defaultPrevented=!0};function jo(i,a){if(yn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(G1){e:{try{Om(a.nodeName);var m=!0;break e}catch(g){}m=!1}m||(a=null)}}else l=="mouseover"?a=i.fromElement:l=="mouseout"&&(a=i.toElement);this.relatedTarget=a,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:w2[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}D(jo,yn);var w2=v2({2:"touch",3:"pen",4:"mouse"});jo.prototype.preventDefault=function(){jo.ab.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,y2)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch(a){}},jo.prototype.g=function(){return this.a};var Vu="closure_listenable_"+(1e6*Math.random()|0),b2=0;function _2(i,a,l,p,m){this.listener=i,this.proxy=null,this.src=a,this.type=l,this.capture=!!p,this.Va=m,this.key=++b2,this.va=this.Pa=!1}function Of(i){i.va=!0,i.listener=null,i.proxy=null,i.src=null,i.Va=null}function Af(i){this.src=i,this.a={},this.b=0}Af.prototype.add=function(i,a,l,p,m){var g=i.toString();i=this.a[g],i||(i=this.a[g]=[],this.b++);var w=Bm(i,a,p,m);return-1<w?(a=i[w],l||(a.Pa=!1)):(a=new _2(a,this.src,g,!!p,m),a.Pa=l,i.push(a)),a};function Vm(i,a){var l=a.type;l in i.a&&_f(i.a[l],a)&&(Of(a),i.a[l].length==0&&(delete i.a[l],i.b--))}function Bm(i,a,l,p){for(var m=0;m<i.length;++m){var g=i[m];if(!g.va&&g.listener==a&&g.capture==!!l&&g.Va==p)return m}return-1}var qm="closure_lm_"+(1e6*Math.random()|0),zm={},mE=0;function Xn(i,a,l,p,m){if(p&&p.once)Hm(i,a,l,p,m);else if(Array.isArray(a))for(var g=0;g<a.length;g++)Xn(i,a[g],l,p,m);else l=Km(l),i&&i[Vu]?_E(i,a,l,_(p)?!!p.capture:!!p,m):vE(i,a,l,!1,p,m)}function vE(i,a,l,p,m,g){if(!a)throw Error("Invalid event type");var w=_(m)?!!m.capture:!!m,x=Cf(i);if(x||(i[qm]=x=new Af(i)),l=x.add(a,l,p,w,g),!l.proxy){if(p=E2(),l.proxy=p,p.src=i,p.listener=l,i.addEventListener)g2||(m=w),m===void 0&&(m=!1),i.addEventListener(a.toString(),p,m);else if(i.attachEvent)i.attachEvent(gE(a.toString()),p);else if(i.addListener&&i.removeListener)i.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");mE++}}function E2(){var i=T2,a=dE?function(l){return i.call(a.src,a.listener,l)}:function(l){if(l=i.call(a.src,a.listener,l),!l)return l};return a}function Hm(i,a,l,p,m){if(Array.isArray(a))for(var g=0;g<a.length;g++)Hm(i,a[g],l,p,m);else l=Km(l),i&&i[Vu]?Wm(i,a,l,_(p)?!!p.capture:!!p,m):vE(i,a,l,!0,p,m)}function An(i,a,l,p,m){if(Array.isArray(a))for(var g=0;g<a.length;g++)An(i,a[g],l,p,m);else p=_(p)?!!p.capture:!!p,l=Km(l),i&&i[Vu]?(i=i.v,a=String(a).toString(),a in i.a&&(g=i.a[a],l=Bm(g,l,p,m),-1<l&&(Of(g[l]),Array.prototype.splice.call(g,l,1),g.length==0&&(delete i.a[a],i.b--)))):i&&(i=Cf(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Bm(a,l,p,m)),(l=-1<i?a[i]:null)&&yE(l))}function yE(i){if(typeof i!="number"&&i&&!i.va){var a=i.src;if(a&&a[Vu])Vm(a.v,i);else{var l=i.type,p=i.proxy;a.removeEventListener?a.removeEventListener(l,p,i.capture):a.detachEvent?a.detachEvent(gE(l),p):a.addListener&&a.removeListener&&a.removeListener(p),mE--,(l=Cf(a))?(Vm(l,i),l.b==0&&(l.src=null,a[qm]=null)):Of(i)}}}function gE(i){return i in zm?zm[i]:zm[i]="on"+i}function wE(i,a,l,p){var m=!0;if((i=Cf(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var g=a[i];g&&g.capture==l&&!g.va&&(g=bE(g,p),m=m&&g!==!1)}return m}function bE(i,a){var l=i.listener,p=i.Va||i.src;return i.Pa&&yE(i),l.call(p,a)}function T2(i,a){if(i.va)return!0;if(!dE){if(!a)e:{a=["window","event"];for(var l=f,p=0;p<a.length;p++)if(l=l[a[p]],l==null){a=null;break e}a=l}if(p=a,a=new jo(p,this),l=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch(w){m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=a.b;m;m=m.parentNode)p.push(m);for(i=i.type,m=p.length-1;0<=m;m--){a.b=p[m];var g=wE(p[m],i,!0,a);l=l&&g}for(m=0;m<p.length;m++)a.b=p[m],g=wE(p[m],i,!1,a),l=l&&g}return l}return bE(i,new jo(a,this))}function Cf(i){return i=i[qm],i instanceof Af?i:null}var Gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(i){return I(i)?i:(i[Gm]||(i[Gm]=function(a){return i.handleEvent(a)}),i[Gm])}function Jt(){Pf.call(this),this.v=new Af(this),this.ac=this,this.gb=null}D(Jt,Pf),Jt.prototype[Vu]=!0,Jt.prototype.addEventListener=function(i,a,l,p){Xn(this,i,a,l,p)},Jt.prototype.removeEventListener=function(i,a,l,p){An(this,i,a,l,p)},Jt.prototype.dispatchEvent=function(i){var a,l=this.gb;if(l)for(a=[];l;l=l.gb)a.push(l);l=this.ac;var p=i.type||i;if(typeof i=="string")i=new yn(i,l);else if(i instanceof yn)i.target=i.target||l;else{var m=i;i=new yn(p,l),mn(i,m)}if(m=!0,a)for(var g=a.length-1;0<=g;g--){var w=i.b=a[g];m=Rf(w,p,!0,i)&&m}if(w=i.b=l,m=Rf(w,p,!0,i)&&m,m=Rf(w,p,!1,i)&&m,a)for(g=0;g<a.length;g++)w=i.b=a[g],m=Rf(w,p,!1,i)&&m;return m},Jt.prototype.Da=function(){if(Jt.ab.Da.call(this),this.v){var i=this.v,a=0,l;for(l in i.a){for(var p=i.a[l],m=0;m<p.length;m++)++a,Of(p[m]);delete i.a[l],i.b--}}this.gb=null};function _E(i,a,l,p,m){i.v.add(String(a),l,!1,p,m)}function Wm(i,a,l,p,m){i.v.add(String(a),l,!0,p,m)}function Rf(i,a,l,p){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.va&&w.capture==l){var x=w.listener,R=w.Va||w.src;w.Pa&&Vm(i.v,w),m=x.call(R,p)!==!1&&m}}return m&&!p.defaultPrevented}function $m(i,a,l){if(I(i))l&&(i=O(i,l));else if(i&&typeof i.handleEvent=="function")i=O(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function Hs(i){var a=null;return new ce(function(l,p){a=$m(function(){l(void 0)},i),a==-1&&p(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(a),l})}function EE(i){if(i.W&&typeof i.W=="function")return i.W();if(typeof i=="string")return i.split("");if(S(i)){for(var a=[],l=i.length,p=0;p<l;p++)a.push(i[p]);return a}a=[],l=0;for(p in i)a[l++]=i[p];return a}function TE(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.W||typeof i.W!="function"){if(S(i)||typeof i=="string"){var a=[];i=i.length;for(var l=0;l<i;l++)a.push(l);return a}a=[],l=0;for(var p in i)a[l++]=p;return a}}function S2(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(S(i)||typeof i=="string")Ne(i,a,void 0);else for(var l=TE(i),p=EE(i),m=p.length,g=0;g<m;g++)a.call(void 0,p[g],l&&l[g],i)}function Gs(i,a){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var p=0;p<l;p+=2)this.set(arguments[p],arguments[p+1])}else if(i)if(i instanceof Gs)for(l=i.Y(),p=0;p<l.length;p++)this.set(l[p],i.get(l[p]));else for(p in i)this.set(p,i[p])}e=Gs.prototype,e.W=function(){Ym(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Ym(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ym(i){if(i.c!=i.a.length){for(var a=0,l=0;a<i.a.length;){var p=i.a[a];Uo(i.b,p)&&(i.a[l++]=p),a++}i.a.length=l}if(i.c!=i.a.length){var m={};for(l=a=0;a<i.a.length;)p=i.a[a],Uo(m,p)||(i.a[l++]=p,m[p]=1),a++;i.a.length=l}}e.get=function(i,a){return Uo(this.b,i)?this.b[i]:a},e.set=function(i,a){Uo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var l=this.Y(),p=0;p<l.length;p++){var m=l[p],g=this.get(m);i.call(a,g,m,this)}};function Uo(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var SE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function I2(i,a){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var p=i[l].indexOf("="),m=null;if(0<=p){var g=i[l].substring(0,p);m=i[l].substring(p+1)}else g=i[l];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Ii(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof Ii?(this.i=a!==void 0?a:i.i,Bu(this,i.c),this.l=i.l,this.a=i.a,qu(this,i.g),this.f=i.f,Xm(this,kE(i.b)),this.h=i.h):i&&(l=String(i).match(SE))?(this.i=!!a,Bu(this,l[1]||"",!0),this.l=zu(l[2]||""),this.a=zu(l[3]||"",!0),qu(this,l[4]),this.f=zu(l[5]||"",!0),Xm(this,l[6]||"",!0),this.h=zu(l[7]||"")):(this.i=!!a,this.b=new Fo(null,this.i))}Ii.prototype.toString=function(){var i=[],a=this.c;a&&i.push(Hu(a,IE,!0),":");var l=this.a;return(l||a=="file")&&(i.push("//"),(a=this.l)&&i.push(Hu(a,IE,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(Hu(l,l.charAt(0)=="/"?k2:N2,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",Hu(l,O2)),i.join("")},Ii.prototype.resolve=function(i){var a=new Ii(this),l=!!i.c;l?Bu(a,i.c):l=!!i.l,l?a.l=i.l:l=!!i.a,l?a.a=i.a:l=i.g!=null;var p=i.f;if(l)qu(a,i.g);else if(l=!!i.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=a.f.lastIndexOf("/");m!=-1&&(p=a.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(Oe(m,"./")||Oe(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var g=[],w=0;w<m.length;){var x=m[w++];x=="."?p&&w==m.length&&g.push(""):x==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),p&&w==m.length&&g.push("")):(g.push(x),p=!0)}p=g.join("/")}else p=m}return l?a.f=p:l=i.b.toString()!=="",l?Xm(a,kE(i.b)):l=!!i.h,l&&(a.h=i.h),a};function Bu(i,a,l){i.c=l?zu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function qu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Xm(i,a,l){a instanceof Fo?(i.b=a,A2(i.b,i.i)):(l||(a=Hu(a,P2)),i.b=new Fo(a,i.i))}function Ke(i,a,l){i.b.set(a,l)}function Qn(i,a){return i.b.get(a)}function gn(i){return i instanceof Ii?new Ii(i):new Ii(i,void 0)}function Df(i,a,l,p){var m=new Ii(null,void 0);return i&&Bu(m,i),a&&(m.a=a),l&&qu(m,l),p&&(m.f=p),m}function zu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Hu(i,a,l){return typeof i=="string"?(i=encodeURI(i).replace(a,x2),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function x2(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var IE=/[#\/\?@]/g,N2=/[#\?:]/g,k2=/[#\?]/g,P2=/[#\?@]/g,O2=/#/g;function Fo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function xi(i){i.a||(i.a=new Gs,i.b=0,i.c&&I2(i.c,function(a,l){i.add(decodeURIComponent(a.replace(/\+/g," ")),l)}))}function xE(i){var a=TE(i);if(typeof a=="undefined")throw Error("Keys are undefined");var l=new Fo(null,void 0);i=EE(i);for(var p=0;p<a.length;p++){var m=a[p],g=i[p];Array.isArray(g)?NE(l,m,g):l.add(m,g)}return l}e=Fo.prototype,e.add=function(i,a){xi(this),this.c=null,i=Ks(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(a),this.b+=1,this};function Dr(i,a){xi(i),a=Ks(i,a),Uo(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Uo(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Ym(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Qm(i,a){return xi(i),a=Ks(i,a),Uo(i.a.b,a)}e.forEach=function(i,a){xi(this),this.a.forEach(function(l,p){Ne(l,function(m){i.call(a,m,p,this)},this)},this)},e.Y=function(){xi(this);for(var i=this.a.W(),a=this.a.Y(),l=[],p=0;p<a.length;p++)for(var m=i[p],g=0;g<m.length;g++)l.push(a[p]);return l},e.W=function(i){xi(this);var a=[];if(typeof i=="string")Qm(this,i)&&(a=Im(a,this.a.get(Ks(this,i))));else{i=this.a.W();for(var l=0;l<i.length;l++)a=Im(a,i[l])}return a},e.set=function(i,a){return xi(this),this.c=null,i=Ks(this,i),Qm(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.W(i),0<i.length?String(i[0]):a):a};function NE(i,a,l){Dr(i,a),0<l.length&&(i.c=null,i.a.set(Ks(i,a),Ro(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),l=0;l<a.length;l++){var p=a[l],m=encodeURIComponent(String(p));p=this.W(p);for(var g=0;g<p.length;g++){var w=m;p[g]!==""&&(w+="="+encodeURIComponent(String(p[g]))),i.push(w)}}return this.c=i.join("&")};function kE(i){var a=new Fo;return a.c=i.c,i.a&&(a.a=new Gs(i.a),a.b=i.b),a}function Ks(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function A2(i,a){a&&!i.f&&(xi(i),i.c=null,i.a.forEach(function(l,p){var m=p.toLowerCase();p!=m&&(Dr(this,p),NE(this,m,l))},i)),i.f=a}function PE(i){var a=[];return Jm(new C2,i,a),a.join("")}function C2(){}function Jm(i,a,l){if(a==null)l.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var p=a;a=p.length,l.push("[");for(var m="",g=0;g<a;g++)l.push(m),Jm(i,p[g],l),m=",";l.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{l.push("{"),m="";for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&(g=a[p],typeof g!="function"&&(l.push(m),AE(p,l),l.push(":"),Jm(i,g,l),m=","));l.push("}");return}}switch(typeof a){case"string":AE(a,l);break;case"number":l.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":l.push(String(a));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var OE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},R2=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function AE(i,a){a.push('"',i.replace(R2,function(l){var p=OE[l];return p||(p="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),OE[l]=p),p}),'"')}function Zm(){var i=St();return gr&&!!Si&&Si==11||/Edge\/\d+/.test(i)}function Gu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function CE(i,a){a=a||f.window;var l="about:blank";i&&(l=Sf(U1(i)||V1)),a.location.href=l}function RE(i,a){var l=[],p;for(p in i)p in a?typeof i[p]!=typeof a[p]?l.push(p):typeof i[p]=="object"&&i[p]!=null&&a[p]!=null?0<RE(i[p],a[p]).length&&l.push(p):i[p]!==a[p]&&l.push(p):l.push(p);for(p in a)p in i||l.push(p);return l}function D2(){var i=St();return i=Ws(i)!=jE?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!gr||!Si||9<Si}function DE(i){return i=(i||St()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function Vo(i){i=i||f.window;try{i.close()}catch(a){}}function LE(i,a,l){var p=Math.floor(1e9*Math.random()).toString();a=a||500,l=l||600;var m=(window.screen.availHeight-l)/2,g=(window.screen.availWidth-a)/2;a={width:a,height:l,top:0<m?m:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=St().toLowerCase(),p&&(a.target=p,Oe(l,"crios/")&&(a.target="_blank")),Ws(St())==nv&&(i=i||"http://localhost",a.scrollbars=!0),l=i||"",(i=a)||(i={}),p=window,a=l instanceof vn?l:U1(typeof l.href!="undefined"?l.href:String(l))||V1,l=i.target||l.target,m=[];for(w in i)switch(w){case"width":case"height":case"top":case"left":m.push(w+"="+i[w]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(w+"="+(i[w]?1:0))}var w=m.join(",");if((st("iPhone")&&!st("iPod")&&!st("iPad")||st("iPad")||st("iPod"))&&p.navigator&&p.navigator.standalone&&l&&l!="_self"?(w=xf(document,"A"),C1(w,"HTMLAnchorElement"),a=a instanceof vn?a:F1(a),w.href=Sf(a),w.setAttribute("target",l),i.noreferrer&&w.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(i),w={}):i.noreferrer?(w=q1("",p,l,w),i=Sf(a),w&&(o2&&Oe(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),w.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Pm(i)+'">',i=(p=D1())?p.createHTML(i):i,i=new qs(i,null,B1),p=w.document)&&(p.write(t2(i)),p.close())):(w=q1(a,p,l,w))&&i.noopener&&(w.opener=null),w)try{w.focus()}catch(x){}return w}function L2(i){return new ce(function(a){function l(){Hs(2e3).then(function(){if(!i||i.closed)a();else return l()})}return l()})}var M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j2=/^[^@]+@[^@]+$/;function Lf(){var i=null;return new ce(function(a){f.document.readyState=="complete"?a():(i=function(){a()},Hm(window,"load",i))}).o(function(a){throw An(window,"load",i),a})}function U2(){return ev(void 0)?Lf().then(function(){return new ce(function(i,a){var l=f.document,p=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(p),i()},!1)})}):Me(Error("Cordova must run in an Android or iOS file scheme."))}function ev(i){return i=i||St(),!(Ys()!=="file:"&&Ys()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function tv(){var i=f.window;try{return!(!i||i==i.top)}catch(a){return!1}}function wr(){return typeof f.WorkerGlobalScope!="undefined"&&typeof f.importScripts=="function"}function Lr(){return $.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":$.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function ME(){var i=Lr();return i==="ReactNative"||i==="Node"}function F2(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var nv="Firefox",jE="Chrome";function Ws(i){var a=i.toLowerCase();if(Oe(a,"opera/")||Oe(a,"opr/")||Oe(a,"opios/"))return"Opera";if(Oe(a,"iemobile"))return"IEMobile";if(Oe(a,"msie")||Oe(a,"trident/"))return"IE";if(Oe(a,"edge/"))return"Edge";if(Oe(a,"firefox/"))return nv;if(Oe(a,"silk/"))return"Silk";if(Oe(a,"blackberry"))return"Blackberry";if(Oe(a,"webos"))return"Webos";if(!Oe(a,"safari/")||Oe(a,"chrome/")||Oe(a,"crios/")||Oe(a,"android"))if(!Oe(a,"chrome/")&&!Oe(a,"crios/")||Oe(a,"edge/")){if(Oe(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return jE;else return"Safari";return"Other"}var UE={md:"FirebaseCore-web",od:"FirebaseUI-web"};function $s(i,a){a=a||[];var l=[],p={},m;for(m in UE)p[UE[m]]=!0;for(m=0;m<a.length;m++)typeof p[a[m]]!="undefined"&&(delete p[a[m]],l.push(a[m]));return l.sort(),a=l,a.length||(a=["FirebaseCore-web"]),l=Lr(),l==="Browser"?(p=St(),l=Ws(p)):l==="Worker"&&(p=St(),l=Ws(p)+"-"+l),l+"/JsCore/"+i+"/"+a.join(",")}function St(){return f.navigator&&f.navigator.userAgent||""}function je(i,a){i=i.split("."),a=a||f;for(var l=0;l<i.length&&typeof a=="object"&&a!=null;l++)a=a[i[l]];return l!=i.length&&(a=void 0),a}function rv(){try{var i=f.localStorage,a=qo();if(i)return i.setItem(a,"1"),i.removeItem(a),Zm()?!!f.indexedDB:!0}catch(l){return wr()&&!!f.indexedDB}return!1}function Bo(){return(Mf()||Ys()==="chrome-extension:"||ev())&&!ME()&&rv()&&!wr()}function Mf(){return Ys()==="http:"||Ys()==="https:"}function Ys(){return f.location&&f.location.protocol||null}function Ku(i){return i=i||St(),!(DE(i)||Ws(i)==nv)}function Wu(i){return typeof i=="undefined"?null:PE(i)}function FE(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(a[l]=i[l]);return a}function Xs(i){if(i!==null)return JSON.parse(i)}function qo(i){return i||Math.floor(1e9*Math.random()).toString()}function VE(i){return i=i||St(),!(Ws(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function BE(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function Ni(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=St(),a=Lr(),this.b=DE(i)||a==="ReactNative"}Ni.prototype.get=function(){var i=f.navigator;return(i&&typeof i.onLine=="boolean"&&(Mf()||Ys()==="chrome-extension:"||typeof i.connection!="undefined")?i.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function iv(){var i=f.document;return i&&typeof i.visibilityState!="undefined"?i.visibilityState=="visible":!0}function V2(){var i=f.document,a=null;return iv()||!i?Z():new ce(function(l){a=function(){iv()&&(i.removeEventListener("visibilitychange",a,!1),l())},i.addEventListener("visibilitychange",a,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",a,!1),l})}function $u(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch(l){}return null}function qE(){return!(!je("fireauth.oauthhelper",f)&&!je("fireauth.iframe",f))}function B2(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function q2(){var i=f.navigator;return i&&i.serviceWorker?Z().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Z(null)}var zE={};function ov(i){zE[i]||(zE[i]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(i))}var sv;try{var av={};Object.defineProperty(av,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(av,"abcd",{configurable:!0,enumerable:!0,value:2}),sv=av.abcd==2}catch(i){sv=!1}function W(i,a,l){sv?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:l}):i[a]=l}function Zt(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&W(i,l,a[l])}function Mr(i){var a={};return Zt(a,i),a}function z2(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);return a}function H2(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var l=0;l<a.length;l++){var p=i[a[l]];if(p==null||p==="")return!1}return!0}function uv(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var l in i)W(a,l,uv(i[l]))}return a}function cv(i){var a=i&&(i[pv]?"phone":null);if(a&&i&&i[hv]){W(this,"uid",i[hv]),W(this,"displayName",i[HE]||null);var l=null;i[fv]&&(l=new Date(i[fv]).toUTCString()),W(this,"enrollmentTime",l),W(this,"factorId",a)}else throw new P("internal-error","Internal assert: invalid MultiFactorInfo object")}cv.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function lv(i){try{var a=new Yu(i)}catch(l){a=null}return a}var HE="displayName",fv="enrolledAt",hv="mfaEnrollmentId",pv="phoneInfo";function Yu(i){cv.call(this,i),W(this,"phoneNumber",i[pv])}D(Yu,cv),Yu.prototype.w=function(){var i=Yu.ab.w.call(this);return i.phoneNumber=this.phoneNumber,i};function G2(i){var a={},l=i[K2],p=i[$2],m=i[Y2];if(i=lv(i[W2]),!m||m!=jf&&m!=Xu&&!l||m==Xu&&!p||m==dv&&!i)throw Error("Invalid checkActionCode response!");m==Xu?(a[KE]=l||null,a[WE]=l||null,a[GE]=p):(a[KE]=p||null,a[WE]=p||null,a[GE]=l||null),a[X2]=i||null,W(this,J2,m),W(this,Q2,uv(a))}var dv="REVERT_SECOND_FACTOR_ADDITION",jf="EMAIL_SIGNIN",Xu="VERIFY_AND_CHANGE_EMAIL",K2="email",W2="mfaInfo",$2="newEmail",Y2="requestType",GE="email",KE="fromEmail",X2="multiFactorInfo",WE="previousEmail",Q2="data",J2="operation";function mv(i){i=gn(i);var a=Qn(i,$E)||null,l=Qn(i,YE)||null,p=Qn(i,XE)||null;if(p=p&&nM[p]||null,!a||!l||!p)throw new P("argument-error",$E+", "+YE+"and "+XE+" are required in a valid action code URL.");Zt(this,{apiKey:a,operation:p,code:l,continueUrl:Qn(i,Z2)||null,languageCode:Qn(i,eM)||null,tenantId:Qn(i,tM)||null})}var $E="apiKey",YE="oobCode",Z2="continueUrl",eM="languageCode",XE="mode",tM="tenantId",nM={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:dv,signIn:jf,verifyAndChangeEmail:Xu,verifyEmail:"VERIFY_EMAIL"};function QE(i){try{return new mv(i)}catch(a){return null}}function Uf(i){var a=i[rM];if(typeof a=="undefined")throw new P("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new P("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var l=i[JE];if(l&&typeof l=="object"){a=l[rT];var p=l[tT];if(l=l[nT],typeof a=="string"&&a.length){if(this.a=a,typeof p!="undefined"&&typeof p!="boolean")throw new P("argument-error",tT+" property must be a boolean when specified.");if(this.g=!!p,typeof l!="undefined"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new P("argument-error",nT+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof a!="undefined")throw new P("argument-error",rT+" property must be a non empty string when specified.");if(typeof p!="undefined"||typeof l!="undefined")throw new P("missing-android-pkg-name")}}else if(typeof l!="undefined")throw new P("argument-error",JE+" property must be a non null object when specified.");if(this.f=null,(a=i[eT])&&typeof a=="object"){if(a=a[iT],typeof a=="string"&&a.length)this.f=a;else if(typeof a!="undefined")throw new P("argument-error",iT+" property must be a non empty string when specified.")}else if(typeof a!="undefined")throw new P("argument-error",eT+" property must be a non null object when specified.");if(a=i[vv],typeof a!="undefined"&&typeof a!="boolean")throw new P("argument-error",vv+" property must be a boolean when specified.");if(this.c=!!a,i=i[ZE],typeof i!="undefined"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new P("argument-error",ZE+" property must be a non empty string when specified.");this.i=i||null}var JE="android",ZE="dynamicLinkDomain",vv="handleCodeInApp",eT="iOS",rM="url",tT="installApp",nT="minimumVersion",rT="packageName",iT="bundleId";function Ff(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var l in a)a[l]===null&&delete a[l];return a}function iM(i){return bf(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Qu=null;function oM(i){var a=[];return sM(i,function(l){a.push(l)}),a}function sM(i,a){function l(R){for(;p<i.length;){var U=i.charAt(p++),ne=Qu[U];if(ne!=null)return ne;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return R}aM();for(var p=0;;){var m=l(-1),g=l(0),w=l(64),x=l(64);if(x===64&&m===-1)break;a(m<<2|g>>4),w!=64&&(a(g<<4&240|w>>2),x!=64&&a(w<<6&192|x))}}function aM(){if(!Qu){Qu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var p=i.concat(a[l].split("")),m=0;m<p.length;m++){var g=p[m];Qu[g]===void 0&&(Qu[g]=m)}}}function Vf(i){var a=oT(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Vf.prototype.T=function(){return this.f},Vf.prototype.l=function(){return this.c},Vf.prototype.toString=function(){return this.h};function Bf(i){try{return new Vf(i)}catch(a){return null}}function oT(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,l=0;l<a;l++)i+=".";try{var p=oM(i);for(i=[],l=a=0;a<p.length;){var m=p[a++];if(128>m)i[l++]=String.fromCharCode(m);else if(191<m&&224>m){var g=p[a++];i[l++]=String.fromCharCode((m&31)<<6|g&63)}else if(239<m&&365>m){g=p[a++];var w=p[a++],x=p[a++],R=((m&7)<<18|(g&63)<<12|(w&63)<<6|x&63)-65536;i[l++]=String.fromCharCode(55296+(R>>10)),i[l++]=String.fromCharCode(56320+(R&1023))}else g=p[a++],w=p[a++],i[l++]=String.fromCharCode((m&15)<<12|(g&63)<<6|w&63)}return JSON.parse(i.join(""))}catch(U){}return null}var sT="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qf=["client_id","response_type","scope","redirect_uri","state"],yv={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:qf},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:qf},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:qf},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:sT},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function gv(i){for(var a in yv)if(yv[a].fa==i)return yv[a];return null}function aT(i){var a={};a["facebook.com"]=cT,a["google.com"]=fT,a["github.com"]=lT,a["twitter.com"]=hT;var l=i&&i[uT];try{if(l)return a[l]?new a[l](i):new jr(i);if(typeof i[wv]!="undefined")return new bv(i)}catch(p){}return null}var wv="idToken",uT="providerId";function bv(i){var a=i[uT];if(!a&&i[wv]){var l=Bf(i[wv]);l&&l.b&&(a=l.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),l=!1,typeof i.isNewUser!="undefined"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),W(this,"providerId",a),W(this,"isNewUser",l)}function jr(i){bv.call(this,i),i=Xs(i.rawUserInfo||"{}"),W(this,"profile",uv(i||{}))}D(jr,bv);function cT(i){if(jr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(cT,jr);function lT(i){if(jr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");W(this,"username",this.profile&&this.profile.login||null)}D(lT,jr);function fT(i){if(jr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(fT,jr);function hT(i){if(jr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");W(this,"username",i.screenName||null)}D(hT,jr);function pT(i){var a=gn(i),l=Qn(a,"link"),p=Qn(gn(l),"link");return a=Qn(a,"deep_link_id"),Qn(gn(a),"link")||a||p||l||i}function zf(i,a){if(!i&&!a)throw new P("internal-error","Internal assert: no raw session string available");if(i&&a)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?Ju:Hf}var Ju="enroll",Hf="signin";zf.prototype.Ha=function(){return this.a?Z(this.a):Z(this.b)},zf.prototype.w=function(){return this.type==Ju?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Qs(){}Qs.prototype.ka=function(){},Qs.prototype.b=function(){},Qs.prototype.c=function(){},Qs.prototype.w=function(){};function Js(i,a){return i.then(function(l){if(l[Er]){var p=Bf(l[Er]);if(!p||a!=p.i)throw new P("user-mismatch");return l}throw new P("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==Pn+"user-not-found"?new P("user-mismatch"):l})}function zo(i,a){if(a)this.a=a;else throw new P("internal-error","failed to construct a credential");W(this,"providerId",i),W(this,"signInMethod",i)}zo.prototype.ka=function(i){return Hv(i,_v(this))},zo.prototype.b=function(i,a){var l=_v(this);return l.idToken=a,Gv(i,l)},zo.prototype.c=function(i,a){return Js(Kv(i,_v(this)),a)};function _v(i){return{pendingToken:i.a,requestUri:"http://localhost"}}zo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function uM(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new zo(i.providerId,i.pendingToken)}catch(a){}return null}function ii(i,a,l){if(this.a=null,a.idToken||a.accessToken)a.idToken&&W(this,"idToken",a.idToken),a.accessToken&&W(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&W(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)W(this,"accessToken",a.oauthToken),W(this,"secret",a.oauthTokenSecret);else throw new P("internal-error","failed to construct a credential");W(this,"providerId",i),W(this,"signInMethod",l)}ii.prototype.ka=function(i){return Hv(i,Ev(this))},ii.prototype.b=function(i,a){var l=Ev(this);return l.idToken=a,Gv(i,l)},ii.prototype.c=function(i,a){var l=Ev(this);return Js(Kv(i,l),a)};function Ev(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:xE(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}ii.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function cM(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ii(i.providerId,a,i.signInMethod)}catch(l){}}return null}function Ho(i,a){this.Qc=a||[],Zt(this,{providerId:i,isOAuthProvider:!0}),this.Ib={},this.pb=(gv(i)||{}).Ja||null,this.ob=null}Ho.prototype.Ka=function(i){return this.Ib=Ti(i),this};function dT(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');Ho.call(this,i,[])}D(dT,Ho);function Cn(i){Ho.call(this,i,qf),this.a=[]}D(Cn,Ho),Cn.prototype.Ca=function(i){return ni(this.a,i)||this.a.push(i),this},Cn.prototype.Qb=function(){return Ro(this.a)},Cn.prototype.credential=function(i,a){var l;if(_(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:a||null},!l.idToken&&!l.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new ii(this.providerId,l,this.providerId)};function Go(){Cn.call(this,"facebook.com")}D(Go,Cn),W(Go,"PROVIDER_ID","facebook.com"),W(Go,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function mT(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return _(i)&&(a=i.accessToken),new Go().credential({accessToken:a})}function Ko(){Cn.call(this,"github.com")}D(Ko,Cn),W(Ko,"PROVIDER_ID","github.com"),W(Ko,"GITHUB_SIGN_IN_METHOD","github.com");function vT(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return _(i)&&(a=i.accessToken),new Ko().credential({accessToken:a})}function Wo(){Cn.call(this,"google.com"),this.Ca("profile")}D(Wo,Cn),W(Wo,"PROVIDER_ID","google.com"),W(Wo,"GOOGLE_SIGN_IN_METHOD","google.com");function yT(i,a){var l=i;return _(i)&&(l=i.idToken,a=i.accessToken),new Wo().credential({idToken:l,accessToken:a})}function Zs(){Ho.call(this,"twitter.com",sT)}D(Zs,Ho),W(Zs,"PROVIDER_ID","twitter.com"),W(Zs,"TWITTER_SIGN_IN_METHOD","twitter.com");function gT(i,a){var l=i;if(_(l)||(l={oauthToken:i,oauthTokenSecret:a}),!l.oauthToken||!l.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ii("twitter.com",l,"twitter.com")}function ki(i,a,l){this.a=i,this.f=a,W(this,"providerId","password"),W(this,"signInMethod",l===Jn.EMAIL_LINK_SIGN_IN_METHOD?Jn.EMAIL_LINK_SIGN_IN_METHOD:Jn.EMAIL_PASSWORD_SIGN_IN_METHOD)}ki.prototype.ka=function(i){return this.signInMethod==Jn.EMAIL_LINK_SIGN_IN_METHOD?le(i,$M,{email:this.a,oobCode:this.f}):le(i,KT,{email:this.a,password:this.f})},ki.prototype.b=function(i,a){return this.signInMethod==Jn.EMAIL_LINK_SIGN_IN_METHOD?le(i,YM,{idToken:a,email:this.a,oobCode:this.f}):le(i,GT,{idToken:a,email:this.a,password:this.f})},ki.prototype.c=function(i,a){return Js(this.ka(i),a)},ki.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function lM(i){return i&&i.email&&i.password?new ki(i.email,i.password,i.signInMethod):null}function Jn(){Zt(this,{providerId:"password",isOAuthProvider:!1})}function wT(i,a){if(a=Tv(a),!a)throw new P("argument-error","Invalid email link!");return new ki(i,a.code,Jn.EMAIL_LINK_SIGN_IN_METHOD)}function Tv(i){return i=pT(i),(i=QE(i))&&i.operation===jf?i:null}Zt(Jn,{PROVIDER_ID:"password"}),Zt(Jn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zt(Jn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Pi(i){if(!(i.eb&&i.cb||i.La&&i.ea))throw new P("internal-error");this.a=i,W(this,"providerId","phone"),this.fa="phone",W(this,"signInMethod","phone")}Pi.prototype.ka=function(i){return i.fb(Zu(this))},Pi.prototype.b=function(i,a){var l=Zu(this);return l.idToken=a,le(i,mj,l)},Pi.prototype.c=function(i,a){var l=Zu(this);return l.operation="REAUTH",i=le(i,vj,l),Js(i,a)},Pi.prototype.w=function(){var i={providerId:"phone"};return this.a.eb&&(i.verificationId=this.a.eb),this.a.cb&&(i.verificationCode=this.a.cb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function fM(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return Ne(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(a[l]=i[l])}),new Pi(a)}return null}function Zu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.eb,code:i.a.cb}}function oi(i){try{this.a=i||$.auth()}catch(a){throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zt(this,{providerId:"phone",isOAuthProvider:!1})}oi.prototype.fb=function(i,a){var l=this.a.a;return Z(a.verify()).then(function(p){if(typeof p!="string")throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var m=_(i)?i.session:null,g=_(i)?i.phoneNumber:i,w;return m&&m.type==Ju?w=m.Ha().then(function(x){return FM(l,{idToken:x,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p}})}):m&&m.type==Hf?w=m.Ha().then(function(x){return VM(l,{mfaPendingCredential:x,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=UM(l,{phoneNumber:g,recaptchaToken:p}),w.then(function(x){return typeof a.reset=="function"&&a.reset(),x},function(x){throw typeof a.reset=="function"&&a.reset(),x});default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function bT(i,a){if(!i)throw new P("missing-verification-id");if(!a)throw new P("missing-verification-code");return new Pi({eb:i,cb:a})}Zt(oi,{PROVIDER_ID:"phone"}),Zt(oi,{PHONE_SIGN_IN_METHOD:"phone"});function Sv(i){if(i.temporaryProof&&i.phoneNumber)return new Pi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var l=i&&i.oauthAccessToken,p=i&&i.oauthTokenSecret,m=i&&i.nonce,g=i&&i.oauthIdToken,w=i&&i.pendingToken;try{switch(a){case"google.com":return yT(g,l);case"facebook.com":return mT(l);case"github.com":return vT(l);case"twitter.com":return gT(l,p);default:return l||p||g||w?w?a.indexOf("saml.")==0?new zo(a,w):new ii(a,{pendingToken:w,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Cn(a).credential({idToken:g,accessToken:l,rawNonce:m}):null}}catch(x){return null}}function Iv(i){if(!i.isOAuthProvider)throw new P("invalid-oauth-provider")}function br(i,a,l,p,m,g,w){if(this.c=i,this.b=a||null,this.g=l||null,this.f=p||null,this.i=g||null,this.h=w||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}else throw new P("invalid-auth-event")}br.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},br.prototype.T=function(){return this.h},br.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function _T(i){return i=i||{},i.type?new br(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&$t(i.error),i.postBody,i.tenantId):null}function hM(){this.b=null,this.a=[]}var xv=null;function pM(i){var a=xv;a.a.push(i),a.b||(a.b=function(l){for(var p=0;p<a.a.length;p++)a.a[p](l)},i=je("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function Nv(i){var a="unauthorized-domain",l=void 0,p=gn(i);i=p.a,p=p.c,p=="chrome-extension"?l=z1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p=="http"||p=="https"?l=z1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",P.call(this,a,l)}D(Nv,P);function ec(i,a,l){P.call(this,i,l),i=a||{},i.Jb&&W(this,"email",i.Jb),i.ea&&W(this,"phoneNumber",i.ea),i.credential&&W(this,"credential",i.credential),i.Zb&&W(this,"tenantId",i.Zb)}D(ec,P),ec.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&mn(i,a),i},ec.prototype.toJSON=function(){return this.w()};function Gf(i){if(i.code){var a=i.code||"";a.indexOf(Pn)==0&&(a=a.substring(Pn.length));var l={credential:Sv(i),Zb:i.tenantId};if(i.email)l.Jb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new P(a,i.message||void 0);return new ec(a,l,i.message)}return null}function tc(){}tc.prototype.c=null;function ET(i){return i.c||(i.c=i.b())}var kv;function Kf(){}D(Kf,tc),Kf.prototype.a=function(){var i=TT(this);return i?new ActiveXObject(i):new XMLHttpRequest},Kf.prototype.b=function(){var i={};return TT(this)&&(i[0]=!0,i[1]=!0),i};function TT(i){if(!i.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<a.length;l++){var p=a[l];try{return new ActiveXObject(p),i.f=p}catch(m){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}kv=new Kf;function Wf(){}D(Wf,tc),Wf.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest!="undefined")return new ST;throw Error("Unsupported browser")},Wf.prototype.b=function(){return{}};function ST(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Sb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=ST.prototype,e.open=function(i,a,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Pv(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Pv(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Pv(this,1)};function Pv(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Ov(i,a,l){this.reset(i,a,l,void 0,void 0)}Ov.prototype.a=null;var dM=0;Ov.prototype.reset=function(i,a,l,p,m){typeof m=="number"||dM++,p||q(),delete this.a};function Av(i){this.f=i,this.b=this.c=this.a=null}function nc(i,a){this.name=i,this.value=a}nc.prototype.toString=function(){return this.name};var IT=new nc("SEVERE",1e3),Cv=new nc("WARNING",900),mM=new nc("CONFIG",700),vM=new nc("FINE",500);function xT(i){return i.c?i.c:i.a?xT(i.a):(Q("Root logger has no level set."),null)}Av.prototype.log=function(i,a,l){if(i.value>=xT(this).value)for(I(a)&&(a=a()),i=new Ov(i,String(a),this.f),l&&(i.a=l),l=this;l;)l=l.a};var Rv={},$f=null;function Dv(i){$f||($f=new Av(""),Rv[""]=$f,$f.c=mM);var a;if(!(a=Rv[i])){a=new Av(i);var l=i.lastIndexOf("."),p=i.substr(l+1);l=Dv(i.substr(0,l)),l.b||(l.b={}),l.b[p]=a,a.a=l,Rv[i]=a}return a}function Zn(i,a){i&&i.log(vM,a,void 0)}function Yf(i){this.f=i}D(Yf,tc),Yf.prototype.a=function(){return new Xf(this.f)},Yf.prototype.b=function(i){return function(){return i}}({});function Xf(i){Jt.call(this),this.u=i,this.h=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Dv("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D(Xf,Jt);var Lv=0;e=Xf.prototype,e.open=function(i,a){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,ic(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,rc(this)),this.readyState=Lv},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,ic(this)),this.a&&(this.readyState=3,ic(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof f.ReadableStream!="undefined"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,NT(this)):i.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function NT(i){i.c.read().then(i.pc.bind(i)).catch(i.Ua.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?rc(this):ic(this),this.readyState==3&&NT(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,rc(this))},e.sc=function(i){this.a&&(this.response=i,rc(this))},e.Ua=function(i){var a=this.i;a&&a.log(Cv,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&rc(this)};function rc(i){i.readyState=4,i.g=null,i.c=null,i.m=null,ic(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Cv,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Cv,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),l=a.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=a.next();return i.join(`\r
`)};function ic(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function oc(i){Jt.call(this),this.headers=new Gs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=kT,this.u=this.S=!1}D(oc,Jt);var kT="";oc.prototype.b=Dv("goog.net.XhrIo");var yM=/^https?$/i,gM=["POST","PUT"];function wM(i,a,l,p,m){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);l=l?l.toUpperCase():"GET",i.l=a,i.h="",i.R=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():kv.a(),i.C=i.D?ET(i.D):ET(kv),i.a.onreadystatechange=O(i.Vb,i);try{Zn(i.b,si(i,"Opening Xhr")),i.O=!0,i.a.open(l,String(a),!0),i.O=!1}catch(w){Zn(i.b,si(i,"Error opening Xhr: "+w.message)),PT(i,w);return}a=p||"";var g=new Gs(i.headers);m&&S2(m,function(w,x){g.set(x,w)}),m=qL(g.Y()),p=f.FormData&&a instanceof f.FormData,!ni(gM,l)||m||p||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(w,x){this.a.setRequestHeader(x,w)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{CT(i),0<i.g&&(i.u=bM(i.a),Zn(i.b,si(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=O(i.Ma,i)):i.s=$m(i.Ma,i.g,i)),Zn(i.b,si(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(w){Zn(i.b,si(i,"Send error: "+w.message)),PT(i,w)}}function bM(i){return gr&&W1(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function _M(i){return i.toLowerCase()=="content-type"}e=oc.prototype,e.Ma=function(){typeof c!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Zn(this.b,si(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function PT(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,OT(i),Qf(i)}function OT(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Zn(this.b,si(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qf(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Qf(this,!0)),oc.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?AT(this):this.Jc())},e.Jc=function(){AT(this)};function AT(i){if(i.c&&typeof c!="undefined"){if(i.C[1]&&sc(i)==4&&Jf(i)==2)Zn(i.b,si(i,"Local request error detected and ignored"));else if(i.i&&sc(i)==4)$m(i.Vb,0,i);else if(i.dispatchEvent("readystatechange"),sc(i)==4){Zn(i.b,si(i,"Request complete")),i.c=!1;try{var a=Jf(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var p;if(!(p=l)){var m;if(m=a===0){var g=String(i.l).match(SE)[1]||null;if(!g&&f.self&&f.self.location){var w=f.self.location.protocol;g=w.substr(0,w.length-1)}m=!yM.test(g?g.toLowerCase():"")}p=m}if(p)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var x=2<sc(i)?i.a.statusText:""}catch(R){Zn(i.b,"Can not get status: "+R.message),x=""}i.h=x+" ["+Jf(i)+"]",OT(i)}}finally{Qf(i)}}}}function Qf(i,a){if(i.a){CT(i);var l=i.a,p=i.C[0]?v:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{l.onreadystatechange=p}catch(m){(i=i.b)&&i.log(IT,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function CT(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function sc(i){return i.a?i.a.readyState:0}function Jf(i){try{return 2<sc(i)?i.a.status:-1}catch(a){return-1}}function EM(i){try{return i.a?i.a.responseText:""}catch(a){return Zn(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case kT:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(IT,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Zn(this.b,"Can not get response: "+a.message),null}};function si(i,a){return a+" ["+i.R+" "+i.l+" "+Jf(i)+"]"}function $o(i){var a=IM;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}$o.prototype.cancel=function(i){if(this.a)this.c instanceof $o&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new uc(this),Zf(this),ac(this,!1,i))}},$o.prototype.m=function(i,a){this.i=!1,ac(this,i,a)};function ac(i,a,l){i.a=!0,i.c=l,i.f=!a,DT(i)}function Zf(i){if(i.a){if(!i.v)throw new eh(i);i.v=!1}}function TM(i,a){Mv(i,null,a,void 0)}function Mv(i,a,l,p){i.g.push([a,l,p]),i.a&&DT(i)}$o.prototype.then=function(i,a,l){var p,m,g=new ce(function(w,x){p=w,m=x});return Mv(this,p,function(w){w instanceof uc?g.cancel():m(w)}),g.then(i,a,l)},$o.prototype.$goog_Thenable=!0;function RT(i){return BL(i.g,function(a){return I(a[1])})}function DT(i){if(i.h&&i.a&&RT(i)){var a=i.h,l=th[a];l&&(f.clearTimeout(l.a),delete th[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var p=l=!1;i.g.length&&!i.i;){var m=i.g.shift(),g=m[0],w=m[1];if(m=m[2],g=i.f?w:g)try{var x=g.call(m||i.s,a);x!==void 0&&(i.f=i.f&&(x==a||x instanceof Error),i.c=a=x),(Yt(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(p=!0,i.i=!0)}catch(R){a=R,i.f=!0,RT(i)||(l=!0)}}i.c=a,p&&(x=O(i.m,i,!0),p=O(i.m,i,!1),a instanceof $o?(Mv(a,x,p),a.C=!0):a.then(x,p)),l&&(a=new LT(a),th[a.a]=a,i.h=a.a)}function eh(){ie.call(this)}D(eh,ie),eh.prototype.message="Deferred has already fired",eh.prototype.name="AlreadyCalledError";function uc(){ie.call(this)}D(uc,ie),uc.prototype.message="Deferred was canceled",uc.prototype.name="CanceledError";function LT(i){this.a=f.setTimeout(O(this.c,this),0),this.b=i}LT.prototype.c=function(){throw delete th[this.a],this.b};var th={};function jv(i){var a={},l=a.document||document,p=L1(i).toString(),m=xf(document,"SCRIPT"),g={Wb:m,Ma:void 0},w=new $o(g),x=null,R=a.timeout!=null?a.timeout:5e3;return 0<R&&(x=window.setTimeout(function(){nh(m,!0);var U=new Uv(NM,"Timeout reached for loading script "+p);Zf(w),ac(w,!1,U)},R),g.Ma=x),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(nh(m,a.xd||!1,x),Zf(w),ac(w,!0,null))},m.onerror=function(){nh(m,!0,x);var U=new Uv(xM,"Error while loading script "+p);Zf(w),ac(w,!1,U)},g=a.attributes||{},mn(g,{type:"text/javascript",charset:"UTF-8"}),Y1(m,g),n2(m,i),SM(l).appendChild(m),w}function SM(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function IM(){if(this&&this.Wb){var i=this.Wb;i&&i.tagName=="SCRIPT"&&nh(i,!0,this.Ma)}}function nh(i,a,l){l!=null&&f.clearTimeout(l),i.onload=v,i.onerror=v,i.onreadystatechange=v,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var xM=0,NM=1;function Uv(i,a){var l="Jsloader error (code #"+i+")";a&&(l+=": "+a),ie.call(this,l),this.code=i}D(Uv,ie);function rh(i){this.f=i}D(rh,tc),rh.prototype.a=function(){return new this.f},rh.prototype.b=function(){return{}};function _r(i,a,l){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||kM,this.g=Ti(i.secureTokenHeaders||PM),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||OM,this.a=Ti(i.firebaseHeaders||AM),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=Lr()=="Node",l=f.XMLHttpRequest||l&&$.INTERNAL.node&&$.INTERNAL.node.XMLHttpRequest,!l&&!wr())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new Yf(self):ME()?this.f=new rh(l):this.f=new Wf,this.b=null}var Fv,Er="idToken",kM=new Ni(3e4,6e4),PM={"Content-Type":"application/x-www-form-urlencoded"},OM=new Ni(3e4,6e4),AM={"Content-Type":"application/json"};function MT(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function ea(i,a){a&&(i.l=Vv("https://securetoken.googleapis.com/v1/token",a),i.h=Vv("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Vv("https://identitytoolkit.googleapis.com/v2/",a))}function Vv(i,a){return i=gn(i),a=gn(a.url),i.f=i.a+i.f,Bu(i,a.c),i.a=a.a,qu(i,a.g),i.toString()}function jT(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}_r.prototype.T=function(){return this.b};function UT(i,a,l,p,m,g,w){D2()||wr()?i=O(i.u,i):(Fv||(Fv=new ce(function(x,R){RM(x,R)})),i=O(i.s,i)),i(a,l,p,m,g,w)}_r.prototype.u=function(i,a,l,p,m,g){if(wr()&&(typeof f.fetch=="undefined"||typeof f.Headers=="undefined"||typeof f.Request=="undefined"))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new oc(this.f);if(g){w.g=Math.max(0,g);var x=setTimeout(function(){w.dispatchEvent("timeout")},g)}_E(w,"complete",function(){x&&clearTimeout(x);var R=null;try{R=JSON.parse(EM(this))||null}catch(U){R=null}a&&a(R)}),Wm(w,"ready",function(){x&&clearTimeout(x),pE(this)}),Wm(w,"timeout",function(){x&&clearTimeout(x),pE(this),a&&a(null)}),wM(w,i,l,p,m)};var CM=new Rr(Ef,"https://apis.google.com/js/client.js?onload=%{onload}"),FT="__fcb"+Math.floor(1e6*Math.random()).toString();function RM(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[FT]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var l=km(CM,{onload:FT});TM(jv(l),function(){a(Error("CORS_UNSUPPORTED"))})}}_r.prototype.s=function(i,a,l,p,m){var g=this;Fv.then(function(){window.gapi.client.setApiKey(g.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:p,headers:m,authType:"none",callback:function(x){window.gapi.auth.setToken(w),a&&a(x)}})}).o(function(w){a&&a({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function DM(i,a){return new ce(function(l,p){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?UT(i,i.l+"?key="+encodeURIComponent(i.c),function(m){m?m.error?p($v(m)):m.access_token&&m.refresh_token?l(m):p(new P("internal-error")):p(new P("network-request-failed"))},"POST",xE(a).toString(),i.g,i.m.get()):p(new P("internal-error"))})}function VT(i,a,l,p,m,g,w){var x=gn(a+l);Ke(x,"key",i.c),w&&Ke(x,"cb",Date.now().toString());var R=p=="GET";if(R)for(var U in m)m.hasOwnProperty(U)&&Ke(x,U,m[U]);return new ce(function(ne,Se){UT(i,x.toString(),function(ge){ge?ge.error?Se($v(ge,g||{})):ne(ge):Se(new P("network-request-failed"))},p,R?void 0:PE(FE(m)),i.a,i.v.get())})}function Yo(i){if(i=i.email,typeof i!="string"||!j2.test(i))throw new P("invalid-email")}function BT(i){"email"in i&&Yo(i)}function LM(i,a){return le(i,GM,{identifier:a,continueUri:Mf()?Gu():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function MM(i){return le(i,rj,{}).then(function(a){return a.authorizedDomains||[]})}function wn(i){if(!i[Er])throw i.mfaPendingCredential?new P("multi-factor-auth-required",null,Ti(i)):new P("internal-error")}function Bv(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new P("internal-error")}else{if(!i.sessionInfo)throw new P("missing-verification-id");if(!i.code)throw new P("missing-verification-code")}}_r.prototype.zb=function(){return le(this,aj,{})},_r.prototype.Bb=function(i,a){return le(this,HT,{idToken:i,email:a})},_r.prototype.Cb=function(i,a){return le(this,GT,{idToken:i,password:a})};var jM={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=_r.prototype,e.Db=function(i,a){var l={idToken:i},p=[];return O1(jM,function(m,g){var w=a[g];w===null?p.push(m):g in a&&(l[g]=w)}),p.length&&(l.deleteAttribute=p),le(this,HT,l)},e.vb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},mn(i,a),le(this,nj,i)},e.wb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},mn(i,a),le(this,ZM,i)},e.ub=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},mn(i,a),le(this,ej,i)},e.Eb=function(i,a,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},mn(i,l),le(this,tj,i)};function UM(i,a){return le(i,sj,a)}e.fb=function(i){return le(this,dj,i)};function FM(i,a){return le(i,uj,a).then(function(l){return l.phoneSessionInfo.sessionInfo})}function qT(i){if(!i.phoneVerificationInfo)throw new P("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new P("missing-verification-code")}function VM(i,a){return le(i,cj,a).then(function(l){return l.phoneResponseInfo.sessionInfo})}function BM(i,a,l){return le(i,WM,{idToken:a,deleteProvider:l})}function qv(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new P("internal-error")}function zv(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Fo(i.postBody),Qm(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function zT(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=Gf(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=Gf(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=Gf(i)):i.errorMessage&&(a=WT(i.errorMessage)),a)throw a;wn(i)}function Hv(i,a){return a.returnIdpCredential=!0,le(i,lj,a)}function Gv(i,a){return a.returnIdpCredential=!0,le(i,hj,a)}function Kv(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,le(i,fj,a)}function Wv(i){if(!i.oobCode)throw new P("invalid-action-code")}e.nb=function(i,a){return le(this,oj,{oobCode:i,newPassword:a})},e.Ra=function(i){return le(this,zM,{oobCode:i})},e.jb=function(i){return le(this,qM,{oobCode:i})};var qM={endpoint:"setAccountInfo",A:Wv,Z:"email",B:!0},zM={endpoint:"resetPassword",A:Wv,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},B:!0},HM={endpoint:"signupNewUser",A:function(i){if(Yo(i),!i.password)throw new P("weak-password")},G:wn,V:!0,B:!0},GM={endpoint:"createAuthUri",B:!0},KM={endpoint:"deleteAccount",N:["idToken"]},WM={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new P("internal-error")}},$M={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Yo,G:wn,V:!0,B:!0},YM={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Yo,G:wn,V:!0},XM={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:qT,G:wn,B:!0,Na:!0},QM={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:qT,G:wn,B:!0,Na:!0},JM={endpoint:"getAccountInfo"},ZM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new P("internal-error");Yo(i)},Z:"email",B:!0},ej={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new P("internal-error")},Z:"email",B:!0},tj={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},Z:"email",B:!0},nj={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new P("internal-error");Yo(i)},Z:"email",B:!0},rj={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},ij={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new P("internal-error")}},oj={endpoint:"resetPassword",A:Wv,Z:"email",B:!0},sj={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},HT={endpoint:"setAccountInfo",N:["idToken"],A:BT,V:!0},GT={endpoint:"setAccountInfo",N:["idToken"],A:function(i){if(BT(i),!i.password)throw new P("weak-password")},G:wn,V:!0},aj={endpoint:"signupNewUser",G:wn,V:!0,B:!0},uj={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new P("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},cj={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},lj={endpoint:"verifyAssertion",A:qv,Ya:zv,G:zT,V:!0,B:!0},fj={endpoint:"verifyAssertion",A:qv,Ya:zv,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new P("user-not-found");if(i.errorMessage)throw WT(i.errorMessage);wn(i)},V:!0,B:!0},hj={endpoint:"verifyAssertion",A:function(i){if(qv(i),!i.idToken)throw new P("internal-error")},Ya:zv,G:zT,V:!0},pj={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new P("invalid-custom-token")},G:wn,V:!0,B:!0},KT={endpoint:"verifyPassword",A:function(i){if(Yo(i),!i.password)throw new P("wrong-password")},G:wn,V:!0,B:!0},dj={endpoint:"verifyPhoneNumber",A:Bv,G:wn,B:!0},mj={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new P("internal-error");Bv(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Gf(i);wn(i)}},vj={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Bv,G:wn,B:!0},yj={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Er]^!!i.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function le(i,a,l){if(!H2(l,a.N))return Me(new P("internal-error"));var p=!!a.Na,m=a.Ub||"POST",g;return Z(l).then(a.A).then(function(){return a.V&&(l.returnSecureToken=!0),a.B&&i.b&&typeof l.tenantId=="undefined"&&(l.tenantId=i.b),p?VT(i,i.i,a.endpoint,m,l,a.Hb,a.lb||!1):VT(i,i.h,a.endpoint,m,l,a.Hb,a.lb||!1)}).then(function(w){return g=w,a.Ya?a.Ya(l,g):g}).then(a.G).then(function(){if(!a.Z)return g;if(!(a.Z in g))throw new P("internal-error");return g[a.Z]})}function WT(i){return $v({error:{errors:[{message:i}],code:400,message:i}})}function $v(i,a){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=p[l]?new P(p[l]):null)return l;l=i.error&&i.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},mn(p,a||{}),a=(a=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var m in p)if(l.indexOf(m)===0)return new P(p[m],a);return!a&&i&&(a=Wu(i)),new P("internal-error",a)}function gj(i){this.b=i,this.a=null,this.rb=wj(this)}function wj(i){return Ij().then(function(){return new ce(function(a,l){je("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:je("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(g),a()}i.a=p,i.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){l(Error("Network Error"))},Sj.get());p.ping(m).then(m,function(){l(Error("Network Error"))})})})})}function bj(i,a){return i.rb.then(function(){return new ce(function(l){i.a.send(a.type,a,l,je("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function _j(i,a){i.rb.then(function(){i.a.register("authEvent",a,je("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ej=new Rr(Ef,"https://apis.google.com/js/api.js?onload=%{onload}"),Tj=new Ni(3e4,6e4),Sj=new Ni(5e3,15e3),ih=null;function Ij(){return ih||(ih=new ce(function(i,a){function l(){BE(),je("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){BE(),a(Error("Network Error"))},timeout:Tj.get()})}if(je("gapi.iframes.Iframe"))i();else if(je("gapi.load"))l();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[p]=function(){je("gapi.load")?l():a(Error("Network Error"))},p=km(Ej,{onload:p}),Z(jv(p)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw ih=null,i}))}function $T(i,a,l,p){this.l=i,this.h=a,this.i=l,this.g=p,this.f=null,this.g?(i=gn(this.g.url),i=Df(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Df("https",this.l,null,"/__/auth/iframe"),this.a=i,Ke(this.a,"apiKey",this.h),Ke(this.a,"appName",this.i),this.b=null,this.c=[]}$T.prototype.toString=function(){return this.f?Ke(this.a,"v",this.f):Dr(this.a.b,"v"),this.b?Ke(this.a,"eid",this.b):Dr(this.a.b,"eid"),this.c.length?Ke(this.a,"fw",this.c.join(",")):Dr(this.a.b,"fw"),this.a.toString()};function Yv(i,a,l,p,m,g){this.u=i,this.s=a,this.c=l,this.m=p,this.v=g,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}Yv.prototype.yb=function(i){return this.h=i,this},Yv.prototype.toString=function(){if(this.v){var i=gn(this.v.url);i=Df(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Df("https",this.u,null,"/__/auth/handler");if(Ke(i,"apiKey",this.s),Ke(i,"appName",this.c),Ke(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var l=$.app(this.c).auth().la()}catch(x){l=null}a.ob=l,Ke(i,"providerId",this.a.providerId),l=this.a,a=FE(l.Ib);for(var p in a)a[p]=a[p].toString();p=l.Qc,a=Ti(a);for(var m=0;m<p.length;m++){var g=p[m];g in a&&delete a[g]}l.pb&&l.ob&&!a[l.pb]&&(a[l.pb]=l.ob),Do(a)||Ke(i,"customParameters",Wu(a))}if(typeof this.a.Qb=="function"&&(l=this.a.Qb(),l.length&&Ke(i,"scopes",l.join(","))),this.l?Ke(i,"redirectUrl",this.l):Dr(i.b,"redirectUrl"),this.g?Ke(i,"eventId",this.g):Dr(i.b,"eventId"),this.i?Ke(i,"v",this.i):Dr(i.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Qn(i,w)&&Ke(i,w,this.b[w]);return this.h?Ke(i,"tid",this.h):Dr(i.b,"tid"),this.f?Ke(i,"eid",this.f):Dr(i.b,"eid"),w=Xv(this.c),w.length&&Ke(i,"fw",w.join(",")),i.toString()};function Xv(i){try{return $.app(i).auth().Ga()}catch(a){return[]}}function YT(i,a,l,p,m,g){this.s=i,this.g=a,this.b=l,this.f=g,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function XT(i){var a=Gu();return MM(i).then(function(l){e:{var p=gn(a),m=p.c;p=p.a;for(var g=0;g<l.length;g++){var w=l[g],x=p,R=m;if(w.indexOf("chrome-extension://")==0?x=gn(w).a==x&&R=="chrome-extension":R!="http"&&R!="https"?x=!1:M2.test(w)?x=x==w:(w=w.split(".").join("\\."),x=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(x)),x){l=!0;break e}}l=!1}if(!l)throw new Nv(Gu())})}function QT(i){return i.m||(i.m=Lf().then(function(){if(!i.u){var a=i.c,l=i.i,p=Xv(i.b),m=new $T(i.s,i.g,i.b,i.f);m.f=a,m.b=l,m.c=Ro(p||[]),i.u=m.toString()}i.v=new gj(i.u),xj(i)})),i.m}e=YT.prototype,e.Ob=function(i,a,l){var p=new P("popup-closed-by-user"),m=new P("web-storage-unsupported"),g=this,w=!1;return this.ma().then(function(){Nj(g).then(function(x){x||(i&&Vo(i),a(m),w=!0)})}).o(function(){}).then(function(){if(!w)return L2(i)}).then(function(){if(!w)return Hs(l).then(function(){a(p)})})},e.Xb=function(){var i=St();return!Ku(i)&&!VE(i)},e.Tb=function(){return!1},e.Mb=function(i,a,l,p,m,g,w,x){if(!i)return Me(new P("popup-blocked"));if(w&&!Ku())return this.ma().o(function(U){Vo(i),m(U)}),p(),Z();this.a||(this.a=XT(JT(this)));var R=this;return this.a.then(function(){var U=R.ma().o(function(ne){throw Vo(i),m(ne),ne});return p(),U}).then(function(){if(Iv(l),!w){var U=cc(R.s,R.g,R.b,a,l,null,g,R.c,void 0,R.i,x,R.f);CE(U,i)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(R.a=null),U})};function JT(i){return i.l||(i.C=i.c?$s(i.c,Xv(i.b)):null,i.l=new _r(i.g,$n(i.i),i.C),i.f&&ea(i.l,i.f)),i.l}e.Nb=function(i,a,l,p){this.a||(this.a=XT(JT(this)));var m=this;return this.a.then(function(){Iv(a);var g=cc(m.s,m.g,m.b,i,a,Gu(),l,m.c,void 0,m.i,p,m.f);CE(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(m.a=null),g})},e.ma=function(){var i=this;return QT(this).then(function(){return i.v.rb}).o(function(){throw i.a=null,new P("network-request-failed")})},e.$b=function(){return!0};function cc(i,a,l,p,m,g,w,x,R,U,ne,Se){return i=new Yv(i,a,l,p,m,Se),i.l=g,i.g=w,i.i=x,i.b=Ti(R||null),i.f=U,i.yb(ne).toString()}function xj(i){if(!i.v)throw Error("IfcHandler must be initialized!");_j(i.v,function(a){var l={};if(a&&a.authEvent){var p=!1;for(a=_T(a.authEvent),l=0;l<i.h.length;l++)p=i.h[l](a)||p;return l={},l.status=p?"ACK":"ERROR",Z(l)}return l.status="ERROR",Z(l)})}function Nj(i){var a={type:"webStorageSupport"};return QT(i).then(function(){return bj(i.v,a)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport!="undefined")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Sa=function(i){yr(this.h,function(a){return a==i})};function ZT(i){if(this.a=i||$.INTERNAL.reactNative&&$.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=ZT.prototype,e.get=function(i){return Z(this.a.getItem(i)).then(function(a){return a&&Xs(a)})},e.set=function(i,a){return Z(this.a.setItem(i,Wu(a)))},e.U=function(i){return Z(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function eS(i){this.b=i,this.a={},this.f=O(this.c,this)}var tS=[];function kj(){var i=wr()?self:null;if(Ne(tS,function(l){l.b==i&&(a=l)}),!a){var a=new eS(i);tS.push(a)}return a}eS.prototype.c=function(i){var a=i.data.eventType,l=i.data.eventId,p=this.a[a];if(p&&0<p.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:a,response:null});var m=[];Ne(p,function(g){m.push(Z().then(function(){return g(i.origin,i.data.data)}))}),rE(m).then(function(g){var w=[];Ne(g,function(x){w.push({fulfilled:x.Pb,value:x.value,reason:x.reason?x.reason.message:void 0})}),Ne(w,function(x){for(var R in x)typeof x[R]=="undefined"&&delete x[R]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:a,response:w})})}};function nS(i,a,l){Do(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]=="undefined"&&(i.a[a]=[]),i.a[a].push(l)}function rS(i){this.a=i}rS.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function iS(i){this.c=i,this.b=!1,this.a=[]}function oS(i,a,l,p){var m,g=l||{},w,x,R,U=null;if(i.b)return Me(Error("connection_unavailable"));var ne=p?800:50,Se=typeof MessageChannel!="undefined"?new MessageChannel:null;return new ce(function(ge,wt){Se?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),Se.port1.start(),x=setTimeout(function(){wt(Error("unsupported_event"))},ne),w=function(ai){ai.data.eventId===m&&(ai.data.status==="ack"?(clearTimeout(x),R=setTimeout(function(){wt(Error("timeout"))},3e3)):ai.data.status==="done"?(clearTimeout(R),typeof ai.data.response!="undefined"?ge(ai.data.response):wt(Error("unknown_error"))):(clearTimeout(x),clearTimeout(R),wt(Error("invalid_response"))))},U={messageChannel:Se,onMessage:w},i.a.push(U),Se.port1.addEventListener("message",w),i.c.postMessage({eventType:a,eventId:m,data:g},[Se.port2])):wt(Error("connection_unavailable"))}).then(function(ge){return Qv(i,U),ge}).o(function(ge){throw Qv(i,U),ge})}function Qv(i,a){if(a){var l=a.messageChannel,p=a.onMessage;l&&(l.port1.removeEventListener("message",p),l.port1.close()),yr(i.a,function(m){return m==a})}}iS.prototype.close=function(){for(;0<this.a.length;)Qv(this,this.a[0]);this.b=!0};function sS(){if(!ey())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;wr()&&self?(this.v=kj(),nS(this.v,"keyChanged",function(a,l){return cS(i).then(function(p){return 0<p.length&&Ne(i.a,function(m){m(p)}),{keyProcessed:ni(p,l.key)}})}),nS(this.v,"ping",function(){return Z(["keyChanged"])})):q2().then(function(a){(i.h=a)&&(i.g=new iS(new rS(a)),oS(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&ni(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Jv;function Pj(i){return new ce(function(a,l){var p=i.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){a()},p.onerror=function(m){l(Error(m.target.error))}})}function aS(i){return new ce(function(a,l){var p=i.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch(g){}l(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){l(g)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?a(m):Pj(i).then(function(){return aS(i)}).then(function(g){a(g)}).o(function(g){l(g)})}})}function Zv(i){return i.i||(i.i=aS(i)),i.i}function oh(i,a){function l(m,g){Zv(i).then(a).then(m).o(function(w){if(3<++p)g(w);else return Zv(i).then(function(x){return x.close(),i.i=void 0,l(m,g)}).o(function(x){g(x)})})}var p=0;return new ce(l)}function ey(){try{return!!f.indexedDB}catch(i){return!1}}function lc(i){return i.objectStore("firebaseLocalStorage")}function fc(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function ta(i){return new ce(function(a,l){i.onsuccess=function(p){p&&p.target?a(p.target.result):a()},i.onerror=function(p){l(p.target.error)}})}e=sS.prototype,e.set=function(i,a){var l=this,p=!1;return oh(this,function(m){return m=lc(fc(m,!0)),ta(m.get(i))}).then(function(m){return oh(l,function(g){if(g=lc(fc(g,!0)),m)return m.value=a,ta(g.put(m));l.b++,p=!0;var w={};return w.fbase_key=i,w.value=a,ta(g.add(w))})}).then(function(){return l.c[i]=a,uS(l,i)}).oa(function(){p&&l.b--})};function uS(i,a){return i.g&&i.h&&B2()===i.h?oS(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Z()}e.get=function(i){return oh(this,function(a){return ta(lc(fc(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,l=!1;return oh(this,function(p){return l=!0,a.b++,ta(lc(fc(p,!0)).delete(i))}).then(function(){return delete a.c[i],uS(a,i)}).oa(function(){l&&a.b--})};function cS(i){return Zv(i).then(function(a){var l=lc(fc(a,!1));return l.getAll?ta(l.getAll()):new ce(function(p,m){var g=[],w=l.openCursor();w.onsuccess=function(x){(x=x.target.result)?(g.push(x.value),x.continue()):p(g)},w.onerror=function(x){m(x.target.error)}})}).then(function(a){var l={},p=[];if(i.b==0){for(p=0;p<a.length;p++)l[a[p].fbase_key]=a[p].value;p=RE(i.c,l),i.c=l}return p})}e.ca=function(i){this.a.length==0&&Oj(this),this.a.push(i)},e.ia=function(i){yr(this.a,function(a){return a==i}),this.a.length==0&&lS(this)};function Oj(i){function a(){i.f=setTimeout(function(){i.l=cS(i).then(function(l){0<l.length&&Ne(i.a,function(p){p(l)})}).then(function(){a()}).o(function(l){l.message!="STOP_EVENT"&&a()})},800)}lS(i),a()}function lS(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function fS(i){var a=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Z().then(function(){if(ey()){var p=qo(),m="__sak"+p;return Jv||(Jv=new sS),l=Jv,l.set(m,p).then(function(){return l.get(m)}).then(function(g){if(g!==p)throw Error("indexedDB not supported!");return l.U(m)}).then(function(){return l}).o(function(){return a.c})}return a.c}).then(function(p){return a.type=p.type,p.ca(function(m){Ne(a.a,function(g){g(m)})}),p})}e=fS.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(l){return l.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){yr(this.a,function(a){return a==i})};function hc(){this.a={},this.type="inMemory"}e=hc.prototype,e.get=function(i){return Z(this.a[i])},e.set=function(i,a){return this.a[i]=a,Z()},e.U=function(i){return delete this.a[i],Z()},e.ca=function(){},e.ia=function(){};function sh(){if(!Aj())throw Lr()=="Node"?new P("internal-error","The LocalStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=hS()||$.INTERNAL.node.localStorage,this.type="localStorage"}function hS(){try{var i=f.localStorage,a=qo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch(l){return null}}function Aj(){var i=Lr()=="Node";if(i=hS()||i&&$.INTERNAL.node&&$.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(a){return!1}}e=sh.prototype,e.get=function(i){var a=this;return Z().then(function(){var l=a.a.getItem(i);return Xs(l)})},e.set=function(i,a){var l=this;return Z().then(function(){var p=Wu(a);p===null?l.U(i):l.a.setItem(i,p)})},e.U=function(i){var a=this;return Z().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&Xn(f.window,"storage",i)},e.ia=function(i){f.window&&An(f.window,"storage",i)};function ty(){this.type="nullStorage"}e=ty.prototype,e.get=function(){return Z(null)},e.set=function(){return Z()},e.U=function(){return Z()},e.ca=function(){},e.ia=function(){};function ny(){if(!Cj())throw Lr()=="Node"?new P("internal-error","The SessionStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=pS()||$.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function pS(){try{var i=f.sessionStorage,a=qo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch(l){return null}}function Cj(){var i=Lr()=="Node";if(i=pS()||i&&$.INTERNAL.node&&$.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(a){return!1}}e=ny.prototype,e.get=function(i){var a=this;return Z().then(function(){var l=a.a.getItem(i);return Xs(l)})},e.set=function(i,a){var l=this;return Z().then(function(){var p=Wu(a);p===null?l.U(i):l.a.setItem(i,p)})},e.U=function(i){var a=this;return Z().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function Rj(){var i={};i.Browser=Dj,i.Node=Lj,i.ReactNative=Mj,i.Worker=jj,this.a=i[Lr()]}var ry,Dj={F:sh,bb:ny},Lj={F:sh,bb:ny},Mj={F:ZT,bb:ty},jj={F:sh,bb:ty},na={rd:"local",NONE:"none",td:"session"};function Uj(i){var a=new P("invalid-persistence-type"),l=new P("unsupported-persistence-type");e:{for(p in na)if(na[p]==i){var p=!0;break e}p=!1}if(!p||typeof i!="string")throw a;switch(Lr()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!ey()&&i!=="none")throw l;break;default:if(!rv()&&i!=="none")throw l}}function dS(){var i=!!(!VE(St())&&tv()),a=Ku(),l=rv();this.m=i,this.h=a,this.l=l,this.a={},ry||(ry=new Rj),i=ry;try{this.g=!Zm()&&qE()||!f.indexedDB?new i.a.F:new fS(wr()?new hc:new i.a.F)}catch(p){this.g=new hc,this.h=!0}try{this.i=new i.a.bb}catch(p){this.i=new hc}this.v=new hc,this.f=O(this.Yb,this),this.b={}}var iy;function pc(){return iy||(iy=new dS),iy}function Xo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function ra(i,a){return"firebase:"+i.name+(a?":"+a:"")}function Fj(i,a,l){var p=ra(a,l),m=Xo(i,a.F);return i.get(a,l).then(function(g){var w=null;try{w=Xs(f.localStorage.getItem(p))}catch(x){}if(w&&!g)return f.localStorage.removeItem(p),i.set(a,w,l);w&&g&&m.type!="localStorage"&&f.localStorage.removeItem(p)})}e=dS.prototype,e.get=function(i,a){return Xo(this,i.F).get(ra(i,a))};function ia(i,a,l){return l=ra(a,l),a.F=="local"&&(i.b[l]=null),Xo(i,a.F).U(l)}e.set=function(i,a,l){var p=ra(i,l),m=this,g=Xo(this,i.F);return g.set(p,a).then(function(){return g.get(p)}).then(function(w){i.F=="local"&&(m.b[p]=w)})},e.addListener=function(i,a,l){i=ra(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Do(this.a)&&(Xo(this,"local").ca(this.f),this.h||(Zm()||!qE())&&f.indexedDB||!this.l||Vj(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,a,l){i=ra(i,a),this.a[i]&&(yr(this.a[i],function(p){return p==l}),this.a[i].length==0&&delete this.a[i]),Do(this.a)&&(Xo(this,"local").ia(this.f),oy(this))};function Vj(i){oy(i),i.c=setInterval(function(){for(var a in i.a){var l=f.localStorage.getItem(a),p=i.b[a];l!=p&&(i.b[a]=l,l=new jo({type:"storage",key:a,target:window,oldValue:p,newValue:l,a:!0}),i.Yb(l))}},1e3)}function oy(i){i.c&&(clearInterval(i.c),i.c=null)}e.Yb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var l in this.a){var p=this.b[l];typeof p=="undefined"&&(p=null);var m=f.localStorage.getItem(l);m!==p&&(this.b[l]=m,this.mb(l))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a!="undefined"?Xo(this,"local").ia(this.f):oy(this),this.m){if(l=f.localStorage.getItem(a),p=i.a.newValue,p!==l)p!==null?f.localStorage.setItem(a,p):f.localStorage.removeItem(a);else if(this.b[a]===p&&typeof i.a.a=="undefined")return}var g=this;l=function(){(typeof i.a.a!="undefined"||g.b[a]!==f.localStorage.getItem(a))&&(g.b[a]=f.localStorage.getItem(a),g.mb(a))},gr&&Si&&Si==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else Ne(i,O(this.mb,this))},e.mb=function(i){this.a[i]&&Ne(this.a[i],function(a){a()})};function Bj(i){this.a=i,this.b=pc()}var sy={name:"authEvent",F:"local"};function qj(i){return i.b.get(sy,i.a).then(function(a){return _T(a)})}function zj(){this.a=pc()}function Hj(){this.b=-1}function ah(i,a){this.b=mS,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),uh===void 0&&(f.Int32Array?uh=new Int32Array(gS):uh=gS),this.reset()}var uh;D(ah,Hj);for(var mS=64,Gj=mS-1,vS=[],ay=0;ay<Gj;ay++)vS[ay]=0;var yS=Im(128,vS);ah.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):Ro(this.h)};function uy(i){for(var a=i.f,l=i.l,p=0,m=0;m<a.length;)l[p++]=a[m]<<24|a[m+1]<<16|a[m+2]<<8|a[m+3],m=4*p;for(a=16;64>a;a++){m=l[a-15]|0,p=l[a-2]|0;var g=(l[a-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,w=(l[a-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;l[a]=g+w|0}p=i.a[0]|0,m=i.a[1]|0;var x=i.a[2]|0,R=i.a[3]|0,U=i.a[4]|0,ne=i.a[5]|0,Se=i.a[6]|0;for(g=i.a[7]|0,a=0;64>a;a++){var ge=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&x^m&x)|0;w=U&ne^~U&Se,g=g+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,w=w+(uh[a]|0)|0,w=g+(w+(l[a]|0)|0)|0,g=Se,Se=ne,ne=U,U=R+w|0,R=x,x=m,m=p,p=w+ge|0}i.a[0]=i.a[0]+p|0,i.a[1]=i.a[1]+m|0,i.a[2]=i.a[2]+x|0,i.a[3]=i.a[3]+R|0,i.a[4]=i.a[4]+U|0,i.a[5]=i.a[5]+ne|0,i.a[6]=i.a[6]+Se|0,i.a[7]=i.a[7]+g|0}function cy(i,a,l){l===void 0&&(l=a.length);var p=0,m=i.c;if(typeof a=="string")for(;p<l;)i.f[m++]=a.charCodeAt(p++),m==i.b&&(uy(i),m=0);else if(S(a))for(;p<l;){var g=a[p++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");i.f[m++]=g,m==i.b&&(uy(i),m=0)}else throw Error("message must be string or array");i.c=m,i.g+=l}var gS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wS(){ah.call(this,8,Kj)}D(wS,ah);var Kj=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bS(i,a,l,p,m,g){this.v=i,this.i=a,this.l=l,this.m=p||null,this.u=m||null,this.s=g,this.h=a+":"+l,this.C=new zj,this.g=new Bj(this.h),this.f=null,this.b=[],this.a=this.c=null}function ch(i){return new P("invalid-cordova-configuration",i)}e=bS.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=U2().then(function(){if(typeof je("universalLinks.subscribe",f)!="function")throw ch("cordova-universal-links-plugin-fix is not installed");if(typeof je("BuildInfo.packageName",f)=="undefined")throw ch("cordova-plugin-buildinfo is not installed");if(typeof je("cordova.plugins.browsertab.openUrl",f)!="function")throw ch("cordova-plugin-browsertab is not installed");if(typeof je("cordova.InAppBrowser.open",f)!="function")throw ch("cordova-plugin-inappbrowser is not installed")},function(){throw new P("cordova-not-ready")})};function Wj(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function $j(i){var a=new wS;cy(a,i),i=[];var l=8*a.g;56>a.c?cy(a,yS,56-a.c):cy(a,yS,a.b-(a.c-56));for(var p=63;56<=p;p--)a.f[p]=l&255,l/=256;for(uy(a),p=l=0;p<a.i;p++)for(var m=24;0<=m;m-=8)i[l++]=a.a[p]>>m&255;return iM(i)}e.Ob=function(i,a){return a(new P("operation-not-supported-in-this-environment")),Z()},e.Mb=function(){return Me(new P("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(i,a,l,p){if(this.c)return Me(new P("redirect-operation-pending"));var m=this,g=f.document,w=null,x=null,R=null,U=null;return this.c=Z().then(function(){return Iv(a),ES(m)}).then(function(){return Yj(m,i,a,l,p)}).then(function(){return new ce(function(ne,Se){x=function(){var ge=je("cordova.plugins.browsertab.close",f);return ne(),typeof ge=="function"&&ge(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(x),R=function(){w||(w=Hs(2e3).then(function(){Se(new P("redirect-cancelled-by-user"))}))},U=function(){iv()&&R()},g.addEventListener("resume",R,!1),St().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",U,!1)}).o(function(ne){return ly(m).then(function(){throw ne})})}).oa(function(){R&&g.removeEventListener("resume",R,!1),U&&g.removeEventListener("visibilitychange",U,!1),w&&w.cancel(),x&&m.Sa(x),m.c=null})};function Yj(i,a,l,p,m){var g=Wj(),w=new br(a,p,null,g,new P("no-auth-event"),null,m),x=je("BuildInfo.packageName",f);if(typeof x!="string")throw new P("invalid-cordova-configuration");var R=je("BuildInfo.displayName",f),U={};if(St().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=x;else if(St().toLowerCase().match(/android/))U.apn=x;else return Me(new P("operation-not-supported-in-this-environment"));R&&(U.appDisplayName=R),g=$j(g),U.sessionId=g;var ne=cc(i.v,i.i,i.l,a,l,null,p,i.m,U,i.u,m,i.s);return i.ma().then(function(){var Se=i.h;return i.C.a.set(sy,w.w(),Se)}).then(function(){var Se=je("cordova.plugins.browsertab.isAvailable",f);if(typeof Se!="function")throw new P("invalid-cordova-configuration");var ge=null;Se(function(wt){if(wt){if(ge=je("cordova.plugins.browsertab.openUrl",f),typeof ge!="function")throw new P("invalid-cordova-configuration");ge(ne)}else{if(ge=je("cordova.InAppBrowser.open",f),typeof ge!="function")throw new P("invalid-cordova-configuration");wt=St(),i.a=ge(ne,wt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||wt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function _S(i,a){for(var l=0;l<i.b.length;l++)try{i.b[l](a)}catch(p){}}function ES(i){return i.f||(i.f=i.ma().then(function(){return new ce(function(a){function l(p){return a(p),i.Sa(l),!1}i.Ea(l),Xj(i)})})),i.f}function ly(i){var a=null;return qj(i.g).then(function(l){return a=l,l=i.g,ia(l.b,sy,l.a)}).then(function(){return a})}function Xj(i){function a(w){p=!0,m&&m.cancel(),ly(i).then(function(x){var R=l;if(x&&w&&w.url){var U=null;R=pT(w.url),R.indexOf("/__/auth/callback")!=-1&&(U=gn(R),U=Xs(Qn(U,"firebaseError")||null),U=(U=typeof U=="object"?$t(U):null)?new br(x.c,x.b,null,null,U,null,x.T()):new br(x.c,x.b,R,x.f,null,null,x.T())),R=U||l}_S(i,R)})}var l=new br("unknown",null,null,null,new P("no-auth-event")),p=!1,m=Hs(500).then(function(){return ly(i).then(function(){p||_S(i,l)})}),g=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(je("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:w}),typeof g=="function")try{g(w)}catch(x){console.error(x)}},xv||(xv=new hM),pM(a)}e.Ea=function(i){this.b.push(i),ES(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new br("unknown",null,null,null,new P("no-auth-event")),i(a))})},e.Sa=function(i){yr(this.b,function(a){return a==i})};function Qj(i){this.a=i,this.b=pc()}var fy={name:"pendingRedirect",F:"session"};function Jj(i){return i.b.set(fy,"pending",i.a)}function hy(i){return ia(i.b,fy,i.a)}function Zj(i){return i.b.get(fy,i.a).then(function(a){return a=="pending"})}function lh(i,a,l,p){this.i={},this.u=0,this.D=i,this.v=a,this.m=l,this.J=p,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new fh,this.C=new DS,this.g=new Qj(OS(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=TS(this.D,this.v,this.m,Yn,this.J)}function TS(i,a,l,p,m){var g=$.SDK_VERSION||null;return ev()?new bS(i,a,l,g,p,m):new YT(i,a,l,g,p,m)}lh.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=TS(this.D,this.v,this.m,null,this.J),this.i={}};function SS(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(l){throw i.a==a&&i.reset(),l})}function IS(i){i.a.Xb()&&SS(i).o(function(a){var l=new br("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));dy(a)&&i.s(l)}),i.a.Tb()||CS(i.b)}function py(i,a){ni(i.h,a)||i.h.push(a),i.f||Zj(i.g).then(function(l){l?hy(i.g).then(function(){SS(i).o(function(p){var m=new br("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));dy(p)&&i.s(m)})}):IS(i)}).o(function(){IS(i)})}function xS(i,a){yr(i.h,function(l){return l==a})}lh.prototype.s=function(i){if(!i)throw new P("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,l=0;l<this.h.length;l++){var p=this.h[l];if(p.Fb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,p),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return CS(this.b),a};var e3=new Ni(2e3,1e4),t3=new Ni(3e4,6e4);lh.prototype.qa=function(){return this.b.qa()};function NS(i,a,l,p,m,g,w){return i.a.Mb(a,l,p,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},m,g,w)}function dy(i){return!!(i&&i.code=="auth/cordova-not-ready")}function kS(i,a,l,p,m){var g;return Jj(i.g).then(function(){return i.a.Nb(a,l,p,m).o(function(w){if(dy(w))throw new P("operation-not-supported-in-this-environment");return g=w,hy(i.g).then(function(){throw g})}).then(function(){return i.a.$b()?new ce(function(){}):hy(i.g).then(function(){return i.qa()}).then(function(){}).o(function(){})})})}function PS(i,a,l,p,m){return i.a.Ob(p,function(g){a.na(l,null,g,m)},e3.get())}var my={};function OS(i,a,l){return i=i+":"+a,l&&(i=i+":"+l.url),i}function AS(i,a,l,p){var m=OS(a,l,p);return my[m]||(my[m]=new lh(i,a,l,p)),my[m]}function fh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}fh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},fh.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var l=i.c,p=i.b,m=i.a&&i.a.code=="auth/web-storage-unsupported",g=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!g),l!="unknown"||m||g?i.a?(Qo(this,!0,null,i.a),Z()):a.Fa(l,p)?n3(this,i,a):Me(new P("invalid-auth-event")):(Qo(this,!1,null,null),Z())}else Me(new P("invalid-auth-event"))};function CS(i){i.g||(i.g=!0,Qo(i,!1,null,null))}function hh(i){i.g&&!i.i&&Qo(i,!1,null,null)}function n3(i,a,l){l=l.Fa(a.c,a.b);var p=a.g,m=a.f,g=a.i,w=a.T(),x=!!a.c.match(/Redirect$/);l(p,m,w,g).then(function(R){Qo(i,x,R,null)}).o(function(R){Qo(i,x,null,R)})}function r3(i,a){if(i.b=function(){return Me(a)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](a)}function RS(i,a){if(i.b=function(){return Z(a)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](a)}function Qo(i,a,l,p){a?p?r3(i,p):RS(i,l):RS(i,{user:null}),i.f=[],i.c=[]}fh.prototype.qa=function(){var i=this;return new ce(function(a,l){i.b?i.b().then(a,l):(i.f.push(a),i.c.push(l),i3(i))})};function i3(i){var a=new P("timeout");i.a&&i.a.cancel(),i.a=Hs(t3.get()).then(function(){i.b||(i.g=!0,Qo(i,!0,null,a))})}function DS(){}DS.prototype.h=function(i,a){if(i){var l=i.c,p=i.b;i.a?(a.na(i.c,null,i.a,i.b),Z()):a.Fa(l,p)?o3(i,a):Me(new P("invalid-auth-event"))}else Me(new P("invalid-auth-event"))};function o3(i,a){var l=i.b,p=i.c;a.Fa(p,l)(i.g,i.f,i.T(),i.i).then(function(m){a.na(p,m,null,l)}).o(function(m){a.na(p,null,m,l)})}function LS(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(i){this.ib=i},enumerable:!1})}function vy(i,a){this.a=a,W(this,"verificationId",i)}vy.prototype.confirm=function(i){return i=bT(this.verificationId,i),this.a(i)};function yy(i,a,l,p){return new oi(i).fb(a,l).then(function(m){return new vy(m,p)})}function s3(i){var a=oT(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zt(this,{token:i,expirationTime:$u(1e3*a.exp),authTime:$u(1e3*a.auth_time),issuedAtTime:$u(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function gy(i,a,l){var p=a&&a[jS];if(!p)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Ti(a),this.g=l,this.c=new zf(null,p),this.b=[];var m=this;Ne(a[MS]||[],function(g){(g=lv(g))&&m.b.push(g)}),W(this,"auth",this.a),W(this,"session",this.c),W(this,"hints",this.b)}var MS="mfaInfo",jS="mfaPendingCredential";gy.prototype.Rc=function(i){var a=this;return i.sb(this.a.a,this.c).then(function(l){var p=Ti(a.f);return delete p[MS],delete p[jS],mn(p,l),a.g(p)})};function wy(i,a,l,p){P.call(this,"multi-factor-auth-required",p,a),this.b=new gy(i,a,l),W(this,"resolver",this.b)}D(wy,P);function US(i,a,l){if(i&&_(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new wy(a,i.serverResponse,l,i.message)}catch(p){}return null}function FS(){}FS.prototype.sb=function(i,a,l){return a.type==Ju?a3(this,i,a,l):u3(this,i,a)};function a3(i,a,l,p){return l.Ha().then(function(m){return m={idToken:m},typeof p!="undefined"&&(m.displayName=p),mn(m,{phoneVerificationInfo:Zu(i.a)}),le(a,XM,m)})}function u3(i,a,l){return l.Ha().then(function(p){return p={mfaPendingCredential:p},mn(p,{phoneVerificationInfo:Zu(i.a)}),le(a,QM,p)})}function by(i){W(this,"factorId",i.fa),this.a=i}D(by,FS);function VS(i){if(by.call(this,i),this.a.fa!=oi.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D(VS,by);function oa(i,a){yn.call(this,i);for(var l in a)this[l]=a[l]}D(oa,yn);function _y(i,a){this.a=i,this.b=[],this.c=O(this.yc,this),Xn(this.a,"userReloaded",this.c);var l=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Ne(a.multiFactor.enrolledFactors,function(p){var m=null,g={};if(p){p.uid&&(g[hv]=p.uid),p.displayName&&(g[HE]=p.displayName),p.enrollmentTime&&(g[fv]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(g[pv]=p.phoneNumber);try{m=new Yu(g)}catch(w){}p=m}else p=null;p&&l.push(p)}),ph(this,l)}function c3(i){var a=[];return Ne(i.mfaInfo||[],function(l){(l=lv(l))&&a.push(l)}),a}e=_y.prototype,e.yc=function(i){ph(this,c3(i.hd))};function ph(i,a){i.b=a,W(i,"enrolledFactors",a)}e.Rb=function(){return this.a.I().then(function(i){return new zf(i,null)})},e.fc=function(i,a){var l=this,p=this.a.a;return this.Rb().then(function(m){return i.sb(p,m,a)}).then(function(m){return Ur(l.a,m),l.a.reload()})},e.bd=function(i){var a=this,l=typeof i=="string"?i:i.uid,p=this.a.a;return this.a.I().then(function(m){return le(p,yj,{idToken:m,mfaEnrollmentId:l})}).then(function(m){var g=VL(a.b,function(w){return w.uid!=l});return ph(a,g),Ur(a.a,m),a.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:bf(this.b,function(i){return i.w()})}}};function Ey(i,a,l){if(this.h=i,this.i=a,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Ey.prototype.start=function(){this.a=this.c,Ty(this,!0)};function l3(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function Ty(i,a){i.stop(),i.b=Hs(l3(i,a)).then(function(){return V2()}).then(function(){return i.h()}).then(function(){Ty(i,!0)}).o(function(l){i.i(l)&&Ty(i,!1)})}Ey.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Sy(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Sy.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function BS(i,a){typeof a=="undefined"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function qS(i,a){i.b=Bf(a[Er]||""),i.a=a.refreshToken,a=a.expiresIn,BS(i,typeof a!="undefined"?Number(a):void 0)}function f3(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function h3(i,a){return DM(i.f,a).then(function(l){return i.b=Bf(l.access_token),i.a=l.refresh_token,BS(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}Sy.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Me(new P("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?h3(this,{grant_type:"refresh_token",refresh_token:this.a}):Z(null):Z({accessToken:this.b.toString(),refreshToken:this.a})};function dh(i,a){this.a=i||null,this.b=a||null,Zt(this,{lastSignInTime:$u(a||null),creationTime:$u(i||null)})}function p3(i){return new dh(i.a,i.b)}dh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function d3(i,a,l,p,m,g){Zt(this,{uid:i,displayName:p||null,photoURL:m||null,email:l||null,phoneNumber:g||null,providerId:a})}function Rn(i,a,l){this.J=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var p=$.SDK_VERSION?$s($.SDK_VERSION):null;this.a=new _r(this.l,$n(Yn),p),i.emulatorConfig&&ea(this.a,i.emulatorConfig),this.b=new Sy(this.a),Oy(this,a[Er]),qS(this.b,a),W(this,"refreshToken",this.b.a),HS(this,l||{}),Jt.call(this),this.R=!1,this.s&&Bo()&&(this.i=AS(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=m3(this),this.aa=O(this.hb,this);var m=this;this.ya=null,this.Oa=function(g){m.wa(g.h)},this.ja=null,this.Aa=function(g){ea(m.a,g.c)},this.X=null,this.$=[],this.Ba=function(g){dc(m,g.f)},this.ba=null,this.O=new _y(this,l),W(this,"multiFactor",this.O)}D(Rn,Jt),Rn.prototype.wa=function(i){this.ya=i,MT(this.a,i)},Rn.prototype.la=function(){return this.ya};function Iy(i,a){i.ja&&An(i.ja,"languageCodeChanged",i.Oa),(i.ja=a)&&Xn(a,"languageCodeChanged",i.Oa)}function xy(i,a){i.X&&An(i.X,"emulatorConfigChanged",i.Aa),(i.X=a)&&Xn(a,"emulatorConfigChanged",i.Aa)}function dc(i,a){i.$=a,jT(i.a,$.SDK_VERSION?$s($.SDK_VERSION,i.$):null)}Rn.prototype.Ga=function(){return Ro(this.$)};function Ny(i,a){i.ba&&An(i.ba,"frameworkChanged",i.Ba),(i.ba=a)&&Xn(a,"frameworkChanged",i.Ba)}Rn.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function ky(i){try{return $.app(i.m).auth()}catch(a){throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function m3(i){return new Ey(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.b.c-Date.now()-3e5;return 0<a?a:0})}function zS(i){i.D||i.u.b||(i.u.start(),An(i,"tokenChanged",i.aa),Xn(i,"tokenChanged",i.aa))}function Py(i){An(i,"tokenChanged",i.aa),i.u.stop()}function Oy(i,a){i.za=a,W(i,"_lat",a)}function v3(i,a){yr(i.S,function(l){return l==a})}function Jo(i){for(var a=[],l=0;l<i.S.length;l++)a.push(i.S[l](i));return rE(a).then(function(){return i})}function mc(i){i.i&&!i.R&&(i.R=!0,py(i.i,i))}function HS(i,a){Zt(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new dh(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}W(Rn.prototype,"providerId","firebase");function GS(){}function Ay(i){return Z().then(function(){if(i.D)throw new P("app-deleted")})}function Cy(i){return bf(i.providerData,function(a){return a.providerId})}function Ry(i,a){a&&(KS(i,a.providerId),i.providerData.push(a))}function KS(i,a){yr(i.providerData,function(l){return l.providerId==a})}function Oi(i,a,l){(a!="uid"||l)&&i.hasOwnProperty(a)&&W(i,a,l)}function mh(i,a){i!=a&&(Zt(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?W(i,"metadata",p3(a.metadata)):W(i,"metadata",new dh),Ne(a.providerData,function(l){Ry(i,l)}),f3(i.b,a.b),W(i,"refreshToken",i.b.a),ph(i.O,a.O.b))}e=Rn.prototype,e.reload=function(){var i=this;return at(this,Ay(this).then(function(){return Dy(i).then(function(){return Jo(i)}).then(GS)}))};function Dy(i){return i.I().then(function(a){var l=i.isAnonymous;return y3(i,a).then(function(){return l||Oi(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new s3(a)})},e.I=function(i){var a=this;return at(this,Ay(this).then(function(){return a.b.getToken(i)}).then(function(l){if(!l)throw new P("internal-error");return l.accessToken!=a.za&&(Oy(a,l.accessToken),a.dispatchEvent(new oa("tokenChanged"))),Oi(a,"refreshToken",l.refreshToken),l.accessToken}))};function Ur(i,a){a[Er]&&i.za!=a[Er]&&(qS(i.b,a),i.dispatchEvent(new oa("tokenChanged")),Oy(i,a[Er]),Oi(i,"refreshToken",i.b.a))}function y3(i,a){return le(i.a,JM,{idToken:a}).then(O(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new P("internal-error");i=i[0],HS(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=g3(i),l=0;l<a.length;l++)Ry(this,a[l]);Oi(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new oa("userReloaded",{hd:i}))};function g3(i){return(i=i.providerUserInfo)&&i.length?bf(i,function(a){return new d3(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return ov("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(i)},e.tb=function(i){var a=this,l=null;return at(this,i.c(this.a,this.uid).then(function(p){return Ur(a,p),l=vc(a,p,"reauthenticate"),a.h=null,a.reload()}).then(function(){return l}),!0)};function vh(i,a){return Dy(i).then(function(){if(ni(Cy(i),a))return Jo(i).then(function(){throw new P("provider-already-linked")})})}e.Cc=function(i){return ov("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(i)},e.qb=function(i){var a=this,l=null;return at(this,vh(this,i.providerId).then(function(){return a.I()}).then(function(p){return i.b(a.a,p)}).then(function(p){return l=vc(a,p,"link"),WS(a,p)}).then(function(){return l}))},e.Dc=function(i,a){var l=this;return at(this,vh(this,"phone").then(function(){return yy(ky(l),i,a,O(l.qb,l))}))},e.Mc=function(i,a){var l=this;return at(this,Z().then(function(){return yy(ky(l),i,a,O(l.tb,l))}),!0)};function vc(i,a,l){var p=Sv(a);return a=aT(a),Mr({user:i,credential:p,additionalUserInfo:a,operationType:l})}function WS(i,a){return Ur(i,a),i.reload().then(function(){return i})}e.Bb=function(i){var a=this;return at(this,this.I().then(function(l){return a.a.Bb(l,i)}).then(function(l){return Ur(a,l),a.reload()}))},e.ed=function(i){var a=this;return at(this,this.I().then(function(l){return i.b(a.a,l)}).then(function(l){return Ur(a,l),a.reload()}))},e.Cb=function(i){var a=this;return at(this,this.I().then(function(l){return a.a.Cb(l,i)}).then(function(l){return Ur(a,l),a.reload()}))},e.Db=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Ay(this);var a=this;return at(this,this.I().then(function(l){return a.a.Db(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return Ur(a,l),Oi(a,"displayName",l.displayName||null),Oi(a,"photoURL",l.photoUrl||null),Ne(a.providerData,function(p){p.providerId==="password"&&(W(p,"displayName",a.displayName),W(p,"photoURL",a.photoURL))}),Jo(a)}).then(GS))},e.cd=function(i){var a=this;return at(this,Dy(this).then(function(l){return ni(Cy(a),i)?BM(a.a,l,[i]).then(function(p){var m={};return Ne(p.providerUserInfo||[],function(g){m[g.providerId]=!0}),Ne(Cy(a),function(g){m[g]||KS(a,g)}),m[oi.PROVIDER_ID]||W(a,"phoneNumber",null),Jo(a)}):Jo(a).then(function(){throw new P("no-such-provider")})}))},e.delete=function(){var i=this;return at(this,this.I().then(function(a){return le(i.a,KM,{idToken:a})}).then(function(){i.dispatchEvent(new oa("userDeleted"))})).then(function(){for(var a=0;a<i.J.length;a++)i.J[a].cancel("app-deleted");Iy(i,null),xy(i,null),Ny(i,null),i.J=[],i.D=!0,Py(i),W(i,"refreshToken",null),i.i&&xS(i.i,i)})},e.Fb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,l,p){i!="linkViaPopup"&&i!="reauthViaPopup"||p!=(this.g||null)||(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?O(this.Kb,this):i=="reauthViaPopup"&&a==(this.g||null)?O(this.Lb,this):i=="linkViaRedirect"&&(this.ga||null)==a?O(this.Kb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?O(this.Lb,this):null},e.Ec=function(i){var a=this;return $S(this,"linkViaPopup",i,function(){return vh(a,i.providerId).then(function(){return Jo(a)})},!1)},e.Nc=function(i){return $S(this,"reauthViaPopup",i,function(){return Z()},!0)};function $S(i,a,l,p,m){if(!Bo())return Me(new P("operation-not-supported-in-this-environment"));if(i.h&&!m)return Me(i.h);var g=gv(l.providerId),w=qo(i.uid+":::"),x=null;(!Ku()||tv())&&i.s&&l.isOAuthProvider&&(x=cc(i.s,i.l,i.m,a,l,null,w,$.SDK_VERSION||null,null,null,i.tenantId));var R=LE(x,g&&g.ua,g&&g.ta);return p=p().then(function(){if(XS(i),!m)return i.I().then(function(){})}).then(function(){return NS(i.i,R,a,l,w,!!x,i.tenantId)}).then(function(){return new ce(function(U,ne){i.na(a,null,new P("cancelled-popup-request"),i.g||null),i.f=U,i.C=ne,i.g=w,i.c=PS(i.i,i,a,R,w)})}).then(function(U){return R&&Vo(R),U?Mr(U):null}).o(function(U){throw R&&Vo(R),U}),at(i,p,m)}e.Fc=function(i){var a=this;return YS(this,"linkViaRedirect",i,function(){return vh(a,i.providerId)},!1)},e.Oc=function(i){return YS(this,"reauthViaRedirect",i,function(){return Z()},!0)};function YS(i,a,l,p,m){if(!Bo())return Me(new P("operation-not-supported-in-this-environment"));if(i.h&&!m)return Me(i.h);var g=null,w=qo(i.uid+":::");return p=p().then(function(){if(XS(i),!m)return i.I().then(function(){})}).then(function(){return i.ga=w,Jo(i)}).then(function(x){return i.ha&&(x=i.ha,x=x.b.set(Ly,i.w(),x.a)),x}).then(function(){return kS(i.i,a,l,w,i.tenantId)}).o(function(x){if(g=x,i.ha)return JS(i.ha);throw g}).then(function(){if(g)throw g}),at(i,p,m)}function XS(i){if(!i.i||!i.R)throw i.i&&!i.R?new P("internal-error"):new P("auth-domain-config-required")}e.Kb=function(i,a,l,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return l=this.I().then(function(w){return Gv(m.a,{requestUri:i,postBody:p,sessionId:a,idToken:w})}).then(function(w){return g=vc(m,w,"link"),WS(m,w)}).then(function(){return g}),at(this,l)},e.Lb=function(i,a,l,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var g=null,w=Z().then(function(){return Js(Kv(m.a,{requestUri:i,sessionId:a,postBody:p,tenantId:l}),m.uid)}).then(function(x){return g=vc(m,x,"reauthenticate"),Ur(m,x),m.h=null,m.reload()}).then(function(){return g});return at(this,w,!0)},e.ub=function(i){var a=this,l=null;return at(this,this.I().then(function(p){return l=p,typeof i=="undefined"||Do(i)?{}:Ff(new Uf(i))}).then(function(p){return a.a.ub(l,p)}).then(function(p){if(a.email!=p)return a.reload()}).then(function(){}))},e.Eb=function(i,a){var l=this,p=null;return at(this,this.I().then(function(m){return p=m,typeof a=="undefined"||Do(a)?{}:Ff(new Uf(a))}).then(function(m){return l.a.Eb(p,i,m)}).then(function(m){if(l.email!=m)return l.reload()}).then(function(){}))};function at(i,a,l){var p=w3(i,a,l);return i.J.push(p),p.oa(function(){_f(i.J,p)}),p.o(function(m){var g=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(g=US(m.w(),ky(i),O(i.jc,i))),g||m})}e.jc=function(i){var a=null,l=this;return i=Js(Z(i),l.uid).then(function(p){return a=vc(l,p,"reauthenticate"),Ur(l,p),l.h=null,l.reload()}).then(function(){return a}),at(this,i,!0)};function w3(i,a,l){return i.h&&!l?(a.cancel(),Me(i.h)):a.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(i.h||i.dispatchEvent(new oa("userInvalidated")),i.h=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mn(i,this.metadata.w()),Ne(this.providerData,function(a){i.providerData.push(z2(a))}),mn(i,this.O.w()),i};function QS(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[Er]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var p=i.stsTokenManager.expirationTime;p&&(l.expiresIn=(p-Date.now())/1e3)}else return null;var m=new Rn(a,l,i);return i.providerData&&Ne(i.providerData,function(g){g&&Ry(m,Mr(g))}),i.redirectEventId&&(m.ga=i.redirectEventId),m}function b3(i,a,l,p){var m=new Rn(i,a);return l&&(m.ha=l),p&&dc(m,p),m.reload().then(function(){return m})}function _3(i,a,l,p){var m=i.b,g={};return g[Er]=m.b&&m.b.toString(),g.refreshToken=m.a,a=new Rn(a||{apiKey:i.l,authDomain:i.s,appName:i.m},g),l&&(a.ha=l),p&&dc(a,p),mh(a,i),a}function E3(i){this.a=i,this.b=pc()}var Ly={name:"redirectUser",F:"session"};function JS(i){return ia(i.b,Ly,i.a)}function T3(i,a){return i.b.get(Ly,i.a).then(function(l){return l&&a&&(l.authDomain=a),QS(l||{})})}function My(i){this.a=i,this.b=pc(),this.c=null,this.f=S3(this),this.b.addListener(Fr("local"),this.a,O(this.g,this))}My.prototype.g=function(){var i=this,a=Fr("local");sa(this,function(){return Z().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(l){if(l)return jy(i,"local").then(function(){i.c=a})})})};function jy(i,a){var l=[],p;for(p in na)na[p]!==a&&l.push(ia(i.b,Fr(na[p]),i.a));return l.push(ia(i.b,Uy,i.a)),p2(l)}function S3(i){var a=Fr("local"),l=Fr("session"),p=Fr("none");return Fj(i.b,a,i.a).then(function(){return i.b.get(l,i.a)}).then(function(m){return m?l:i.b.get(p,i.a).then(function(g){return g?p:i.b.get(a,i.a).then(function(w){return w?a:i.b.get(Uy,i.a).then(function(x){return x?Fr(x):a})})})}).then(function(m){return i.c=m,jy(i,m.F)}).o(function(){i.c||(i.c=a)})}var Uy={name:"persistence",F:"session"};function Fr(i){return{name:"authUser",F:i}}My.prototype.xb=function(i){var a=null,l=this;return Uj(i),sa(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(p){return a=p,jy(l,i)}).then(function(){if(l.c=Fr(i),a)return l.b.set(l.c,a,l.a)}):Z()})};function I3(i){return sa(i,function(){return i.b.set(Uy,i.c.F,i.a)})}function ZS(i,a){return sa(i,function(){return i.b.set(i.c,a.w(),i.a)})}function eI(i){return sa(i,function(){return ia(i.b,i.c,i.a)})}function tI(i,a,l){return sa(i,function(){return i.b.get(i.c,i.a).then(function(p){return p&&a&&(p.authDomain=a),p&&l&&(p.emulatorConfig=l),QS(p||{})})})}function sa(i,a){return i.f=i.f.then(a,a),i.f}function Tr(i){if(this.l=!1,W(this,"settings",new LS),W(this,"app",i),ke(this).options&&ke(this).options.apiKey)i=$.SDK_VERSION?$s($.SDK_VERSION):null,this.a=new _r(ke(this).options&&ke(this).options.apiKey,$n(Yn),i);else throw new P("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=$.INTERNAL.createSubscribe(O(this.zc,this)),this.X=void 0,this.bc=$.INTERNAL.createSubscribe(O(this.Ac,this)),aa(this,null),this.i=new My(ke(this).options.apiKey+":"+ke(this).name),this.D=new E3(ke(this).options.apiKey+":"+ke(this).name),this.$=qe(this,A3(this)),this.h=qe(this,C3(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.ya=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,k3(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,Jt.call(this),N3(this),this.J=[],this.P=null}D(Tr,Jt);function nI(i){yn.call(this,"languageCodeChanged"),this.h=i}D(nI,yn);function rI(i){yn.call(this,"emulatorConfigChanged"),this.c=i}D(rI,yn);function iI(i){yn.call(this,"frameworkChanged"),this.f=i}D(iI,yn),e=Tr.prototype,e.xb=function(i){return i=this.i.xb(i),qe(this,i)},e.wa=function(i){this.aa===i||this.l||(this.aa=i,MT(this.a,this.aa),this.dispatchEvent(new nI(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.wa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.P){if(!/^https?:\/\//.test(i))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,x3(a),this.P={url:i,ec:a},this.settings.ib=!0,ea(this.a,this.P),this.dispatchEvent(new rI(this.P))}};function x3(i){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Lf().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#ff0000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),jT(this.a,$.SDK_VERSION?$s($.SDK_VERSION,this.J):null),this.dispatchEvent(new iI(this.J))},e.Ga=function(){return Ro(this.J)},e.yb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function N3(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.wa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.yb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.P){var a=gn(this.P.url);a=Mr({protocol:a.c,host:a.a,port:a.g,options:Mr({disableWarnings:this.P.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ke(this).options.apiKey,authDomain:ke(this).options.authDomain,appName:ke(this).name,currentUser:ae(this)&&ae(this).w()}};function Fy(i){return i.Oa||Me(new P("auth-domain-config-required"))}function k3(i){var a=ke(i).options.authDomain,l=ke(i).options.apiKey;a&&Bo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=AS(a,l,ke(i).name,i.P),py(i.b,i),ae(i)&&mc(ae(i)),i.m){mc(i.m);var p=i.m;p.wa(i.la()),Iy(p,i),p=i.m,dc(p,i.J),Ny(p,i),p=i.m,ea(p.a,i.P),xy(p,i),i.m=null}return i.b}}))}e.Fb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,l,p){i=="signInViaPopup"&&this.g==p&&(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?O(this.ic,this):null},e.ic=function(i,a,l,p){var m=this,g={requestUri:i,postBody:p,sessionId:a,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Zo(m,Hv(m.a,g))})},e.Xc=function(i){if(!Bo())return Me(new P("operation-not-supported-in-this-environment"));var a=this,l=gv(i.providerId),p=qo(),m=null;(!Ku()||tv())&&ke(this).options.authDomain&&i.isOAuthProvider&&(m=cc(ke(this).options.authDomain,ke(this).options.apiKey,ke(this).name,"signInViaPopup",i,null,p,$.SDK_VERSION||null,null,null,this.T(),this.P));var g=LE(m,l&&l.ua,l&&l.ta);return l=Fy(this).then(function(w){return NS(w,g,"signInViaPopup",i,p,!!m,a.T())}).then(function(){return new ce(function(w,x){a.na("signInViaPopup",null,new P("cancelled-popup-request"),a.g),a.f=w,a.C=x,a.g=p,a.c=PS(a.b,a,"signInViaPopup",g,p)})}).then(function(w){return g&&Vo(g),w?Mr(w):null}).o(function(w){throw g&&Vo(g),w}),qe(this,l)},e.Yc=function(i){if(!Bo())return Me(new P("operation-not-supported-in-this-environment"));var a=this,l=Fy(this).then(function(){return I3(a.i)}).then(function(){return kS(a.b,"signInViaRedirect",i,void 0,a.T())});return qe(this,l)};function oI(i){if(!Bo())return Me(new P("operation-not-supported-in-this-environment"));var a=Fy(i).then(function(){return i.b.qa()}).then(function(l){return l?Mr(l):null});return qe(i,a)}e.qa=function(){var i=this;return oI(this).then(function(a){return i.b&&hh(i.b.b),a}).o(function(a){throw i.b&&hh(i.b.b),a})},e.dd=function(i){if(!i)return Me(new P("null-user"));if(this.S!=i.tenantId)return Me(new P("tenant-id-mismatch"));var a=this,l={};l.apiKey=ke(this).options.apiKey,l.authDomain=ke(this).options.authDomain,l.appName=ke(this).name;var p=_3(i,l,a.D,a.Ga());return qe(this,this.h.then(function(){if(ke(a).options.apiKey!=i.l)return p.reload()}).then(function(){return ae(a)&&i.uid==ae(a).uid?(mh(ae(a),i),a.da(i)):(aa(a,p),mc(p),a.da(p))}).then(function(){yc(a)}))};function P3(i,a){var l={};return l.apiKey=ke(i).options.apiKey,l.authDomain=ke(i).options.authDomain,l.appName=ke(i).name,i.P&&(l.emulatorConfig=i.P),i.$.then(function(){return b3(l,a,i.D,i.Ga())}).then(function(p){return ae(i)&&p.uid==ae(i).uid?(mh(ae(i),p),i.da(p)):(aa(i,p),mc(p),i.da(p))}).then(function(){yc(i)})}function aa(i,a){ae(i)&&(v3(ae(i),i.Ba),An(ae(i),"tokenChanged",i.ya),An(ae(i),"userDeleted",i.za),An(ae(i),"userInvalidated",i.Aa),Py(ae(i))),a&&(a.S.push(i.Ba),Xn(a,"tokenChanged",i.ya),Xn(a,"userDeleted",i.za),Xn(a,"userInvalidated",i.Aa),0<i.u&&zS(a)),W(i,"currentUser",a),a&&(a.wa(i.la()),Iy(a,i),dc(a,i.J),Ny(a,i),ea(a.a,i.P),xy(a,i))}e.Ab=function(){var i=this,a=this.h.then(function(){return i.b&&hh(i.b.b),ae(i)?(aa(i,null),eI(i.i).then(function(){yc(i)})):Z()});return qe(this,a)};function O3(i){var a=T3(i.D,ke(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),JS(i.D)});return qe(i,a)}function A3(i){var a=ke(i).options.authDomain,l=O3(i).then(function(){return tI(i.i,a,i.P)}).then(function(p){return p?(p.ha=i.D,i.m&&(i.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return ZS(i.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:eI(i.i)})):null}).then(function(p){aa(i,p||null)});return qe(i,l)}function C3(i){return i.$.then(function(){return oI(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Fr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return tI(this.i,ke(this).options.authDomain).then(function(a){if(!i.l){var l;if(l=ae(i)&&a){l=ae(i).uid;var p=a.uid;l=l==null||l===""||p===void 0||p===null||p===""?!1:l==p}if(l)return mh(ae(i),a),ae(i).I();(ae(i)||a)&&(aa(i,a),a&&(mc(a),a.ha=i.D),i.b&&py(i.b,i),yc(i))}})},e.da=function(i){return ZS(this.i,i)},e.mc=function(){yc(this),this.da(ae(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Zo(i,a){var l=null,p=null;return qe(i,a.then(function(m){return l=Sv(m),p=aT(m),P3(i,m)},function(m){var g=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(g=US(m.w(),i,O(i.kc,i))),g||m}).then(function(){return Mr({user:ae(i),credential:l,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Zo(a,Z(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(ae(a))})},e.Ac=function(i){var a=this;R3(this,function(){i.next(ae(a))})},e.Ic=function(i,a,l){var p=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(ae(p)):typeof i.next=="function"&&i.next(ae(p))}),this.hb(i,a,l)},e.Hc=function(i,a,l){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof i=="function"?i(ae(p)):typeof i.next=="function"&&i.next(ae(p))}),this.bc(i,a,l)},e.nc=function(i){var a=this,l=this.h.then(function(){return ae(a)?ae(a).I(i).then(function(p){return{accessToken:p}}):null});return qe(this,l)},e.Tc=function(i){var a=this;return this.h.then(function(){return Zo(a,le(a.a,pj,{token:i}))}).then(function(l){var p=l.user;return Oi(p,"isAnonymous",!1),a.da(p),l})},e.Uc=function(i,a){var l=this;return this.h.then(function(){return Zo(l,le(l.a,KT,{email:i,password:a}))})},e.dc=function(i,a){var l=this;return this.h.then(function(){return Zo(l,le(l.a,HM,{email:i,password:a}))})},e.$a=function(i){var a=this;return this.h.then(function(){return Zo(a,i.ka(a.a))})},e.Sc=function(i){return ov("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(i)},e.zb=function(){var i=this;return this.h.then(function(){var a=ae(i);if(a&&a.isAnonymous){var l=Mr({providerId:null,isNewUser:!1});return Mr({user:a,credential:null,additionalUserInfo:l,operationType:"signIn"})}return Zo(i,i.a.zb()).then(function(p){var m=p.user;return Oi(m,"isAnonymous",!0),i.da(m),p})})};function ke(i){return i.app}function ae(i){return i.currentUser}e.getUid=function(){return ae(this)&&ae(this).uid||null};function yh(i){return ae(i)&&ae(i)._lat||null}function yc(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](yh(i));if(i.X!==i.getUid()&&i.O.length)for(i.X=i.getUid(),a=0;a<i.O.length;a++)i.O[a]&&i.O[a](yh(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&ae(this)&&zS(ae(this))},e.Pc=function(i){var a=this;Ne(this.s,function(l){l==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&ae(this)&&Py(ae(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),qe(this,this.h.then(function(){a.l||ni(a.s,i)&&i(yh(a))}))},e.removeAuthTokenListener=function(i){yr(this.s,function(a){return a==i})};function R3(i,a){i.O.push(a),qe(i,i.h.then(function(){!i.l&&ni(i.O,a)&&i.X!==i.getUid()&&(i.X=i.getUid(),a(yh(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.R.length;i++)this.R[i].cancel("app-deleted");return this.R=[],this.i&&(i=this.i,i.b.removeListener(Fr("local"),i.a,this.ja)),this.b&&(xS(this.b,this),hh(this.b.b)),Promise.resolve()};function qe(i,a){return i.R.push(a),a.oa(function(){_f(i.R,a)}),a}e.hc=function(i){return qe(this,LM(this.a,i))},e.Bc=function(i){return!!Tv(i)},e.wb=function(i,a){var l=this;return qe(this,Z().then(function(){var p=new Uf(a);if(!p.c)throw new P("argument-error",vv+" must be true when sending sign in link to email");return Ff(p)}).then(function(p){return l.a.wb(i,p)}).then(function(){}))},e.jd=function(i){return this.Ra(i).then(function(a){return a.data.email})},e.nb=function(i,a){return qe(this,this.a.nb(i,a).then(function(){}))},e.Ra=function(i){return qe(this,this.a.Ra(i).then(function(a){return new G2(a)}))},e.jb=function(i){return qe(this,this.a.jb(i).then(function(){}))},e.vb=function(i,a){var l=this;return qe(this,Z().then(function(){return typeof a=="undefined"||Do(a)?{}:Ff(new Uf(a))}).then(function(p){return l.a.vb(i,p)}).then(function(){}))},e.Wc=function(i,a){return qe(this,yy(this,i,a,O(this.$a,this)))},e.Vc=function(i,a){var l=this;return qe(this,Z().then(function(){var p=a||Gu(),m=wT(i,p);if(p=Tv(p),!p)throw new P("argument-error","Invalid email link!");if(p.tenantId!==l.T())throw new P("tenant-id-mismatch");return l.$a(m)}))};function gc(){}gc.prototype.render=function(){},gc.prototype.reset=function(){},gc.prototype.getResponse=function(){},gc.prototype.execute=function(){};function ua(){this.a={},this.b=1e12}var Vy=null;ua.prototype.render=function(i,a){return this.a[this.b.toString()]=new gh(i,a),this.b++},ua.prototype.reset=function(i){var a=By(this,i);i=sI(i),a&&i&&(a.delete(),delete this.a[i])},ua.prototype.getResponse=function(i){return(i=By(this,i))?i.getResponse():null},ua.prototype.execute=function(i){(i=By(this,i))&&i.execute()};function By(i,a){return(a=sI(a))&&i.a[a]||null}function sI(i){return(i=typeof i=="undefined"?1e12:i)?i.toString():null}function gh(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Uu(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():Xn(this.f,"click",this.i)}gh.prototype.getResponse=function(){return qy(this),this.b},gh.prototype.execute=function(){qy(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=F2();var a=i.c.callback,l=i.c["expired-callback"];if(a)try{a(i.b)}catch(p){}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch(p){}i.h&&i.execute()},6e4)},500))},gh.prototype.delete=function(){qy(this),this.g=!0,clearTimeout(this.a),this.a=null,An(this.f,"click",this.i)};function qy(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function zy(){}W(zy,"FACTOR_ID","phone");function Hy(){}Hy.prototype.g=function(){return Vy||(Vy=new ua),Z(Vy)},Hy.prototype.c=function(){};var Gy=null;function Ky(){this.b=f.grecaptcha?Infinity:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var D3=new Rr(Ef,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),L3=new Ni(3e4,6e4);Ky.prototype.g=function(i){var a=this;return new ce(function(l,p){var m=setTimeout(function(){p(new P("network-request-failed"))},L3.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var w=f.grecaptcha.render;f.grecaptcha.render=function(x,R){return x=w(x,R),a.b++,x},clearTimeout(m),l(f.grecaptcha)}else clearTimeout(m),p(new P("internal-error"));delete f[a.a]};var g=km(D3,{onload:a.a,hl:i||""});Z(jv(g)).o(function(){clearTimeout(m),p(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),l(f.grecaptcha)})},Ky.prototype.c=function(){this.b--};var Wy=null;function $y(i,a,l,p,m,g,w){if(W(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=a,this.g=null,w?(Gy||(Gy=new Hy),w=Gy):(Wy||(Wy=new Ky),w=Wy),this.m=w,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[cI])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[M3]==="invisible",!f.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Uu(a)||!this.i&&Uu(a).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new _r(i,g||null,m||null),this.u=p||function(){return null};var x=this;this.l=[];var R=this.a[aI];this.a[aI]=function(ne){if(lI(x,ne),typeof R=="function")R(ne);else if(typeof R=="string"){var Se=je(R,f);typeof Se=="function"&&Se(ne)}};var U=this.a[uI];this.a[uI]=function(){if(lI(x,null),typeof U=="function")U();else if(typeof U=="string"){var ne=je(U,f);typeof ne=="function"&&ne()}}}var aI="callback",uI="expired-callback",cI="sitekey",M3="size";function lI(i,a){for(var l=0;l<i.l.length;l++)try{i.l[l](a)}catch(p){}}function j3(i,a){yr(i.l,function(l){return l==a})}function Yy(i,a){return i.h.push(a),a.oa(function(){_f(i.h,a)}),a}e=$y.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Yy(this,Z().then(function(){if(Mf()&&!wr())return Lf();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,le(i.s,ij,{})}).then(function(a){i.a[cI]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){wh(this);var i=this;return Yy(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var l=Uu(a);a=c2("DIV"),l.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){wh(this);var i=this;return Yy(this,this.render().then(function(a){return new ce(function(l){var p=i.g.getResponse(a);if(p)l(p);else{var m=function(g){g&&(j3(i,m),l(g))};i.l.push(m),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){wh(this),this.c!==null&&this.g.reset(this.c)};function wh(i){if(i.D)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){wh(this),this.D=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Uu(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function Xy(i,a,l){var p=!1;try{this.b=l||$.app()}catch(w){throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new P("invalid-api-key");var m=this,g=null;try{g=this.b.auth().Ga()}catch(w){}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch(w){}g=$.SDK_VERSION?$s($.SDK_VERSION,g):null,$y.call(this,l,i,a,function(){try{var w=m.b.auth().la()}catch(x){w=null}return w},g,$n(Yn),p)}D(Xy,$y);function fI(i,a,l,p){e:{l=Array.prototype.slice.call(l);for(var m=0,g=!1,w=0;w<a.length;w++)if(a[w].optional)g=!0;else{if(g)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(g=a.length,l.length<m||g<l.length)p="Expected "+(m==g?m==1?"1 argument":m+" arguments":m+"-"+g+" arguments")+" but got "+l.length+".";else{for(m=0;m<l.length;m++)if(g=a[m].optional&&l[m]===void 0,!a[m].M(l[m])&&!g){if(a=a[m],0>m||m>=hI.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");l=hI[m],p=(p?"":l+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}p=null}}if(p)throw new P("argument-error",i+" failed: "+p)}var hI="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function K(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(l){return typeof l=="string"}}}function Qy(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(l){return typeof l=="boolean"}}}function Ze(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:_}}function ca(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(l){return typeof l=="function"}}}function Vr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(l){return l===null}}}function U3(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function F3(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Tr)}}}function V3(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof $.app.App)}}}function Ai(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var l=!i||a.providerId===i;return!(!a.ka||!l)}}}function pI(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.sb:!1}}}function la(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Jy(i,a){return _(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function dI(i){return _(i)&&typeof i.uid=="string"}function bh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function We(i,a,l,p){return{name:l||"",K:i.K+" or "+a.K,optional:!!p,M:function(m){return i.M(m)||a.M(m)}}}function Ve(i,a){for(var l in a){var p=a[l].name;i[p]=vI(p,i[l],a[l].j)}}function mI(i,a){for(var l in a){var p=a[l].name;p!==l&&Object.defineProperty(i,p,{get:j(function(m){return this[m]},l),set:j(function(m,g,w,x){fI(m,[w],[x],!0),this[g]=x},p,l,a[l].kb),enumerable:!0})}}function $e(i,a,l,p){i[a]=vI(a,l,p)}function vI(i,a,l){function p(){var w=Array.prototype.slice.call(arguments);return fI(m,l,w),a.apply(this,w)}if(!l)return a;var m=B3(i),g;for(g in a)p[g]=a[g];for(g in a.prototype)p.prototype[g]=a.prototype[g];return p}function B3(i){return i=i.split("."),i[i.length-1]}Ve(Tr.prototype,{jb:{name:"applyActionCode",j:[K("code")]},Ra:{name:"checkActionCode",j:[K("code")]},nb:{name:"confirmPasswordReset",j:[K("code"),K("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[K("email"),K("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[K("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[K("emailLink")]},Hc:{name:"onAuthStateChanged",j:[We(Ze(),ca(),"nextOrObserver"),ca("opt_error",!0),ca("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[We(Ze(),ca(),"nextOrObserver"),ca("opt_error",!0),ca("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[K("email"),We(Ze("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[K("email"),Ze("actionCodeSettings")]},xb:{name:"setPersistence",j:[K("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ai()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ai()]},Tc:{name:"signInWithCustomToken",j:[K("token")]},Uc:{name:"signInWithEmailAndPassword",j:[K("email"),K("password")]},Vc:{name:"signInWithEmailLink",j:[K("email"),K("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[K("phoneNumber"),bh()]},Xc:{name:"signInWithPopup",j:[la()]},Yc:{name:"signInWithRedirect",j:[la()]},dd:{name:"updateCurrentUser",j:[We(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof Rn)}}}(),Vr(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[K(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[K("url"),Ze("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[K("code")]}}),mI(Tr.prototype,{lc:{name:"languageCode",kb:We(K(),Vr(),"languageCode")},ti:{name:"tenantId",kb:We(K(),Vr(),"tenantId")}}),Tr.Persistence=na,Tr.Persistence.LOCAL="local",Tr.Persistence.SESSION="session",Tr.Persistence.NONE="none",Ve(Rn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Qy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Qy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ai()]},qb:{name:"linkWithCredential",j:[Ai()]},Dc:{name:"linkWithPhoneNumber",j:[K("phoneNumber"),bh()]},Ec:{name:"linkWithPopup",j:[la()]},Fc:{name:"linkWithRedirect",j:[la()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ai()]},tb:{name:"reauthenticateWithCredential",j:[Ai()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[K("phoneNumber"),bh()]},Nc:{name:"reauthenticateWithPopup",j:[la()]},Oc:{name:"reauthenticateWithRedirect",j:[la()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[We(Ze("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[K(null,!0)]},cd:{name:"unlink",j:[K("provider")]},Bb:{name:"updateEmail",j:[K("email")]},Cb:{name:"updatePassword",j:[K("password")]},ed:{name:"updatePhoneNumber",j:[Ai("phone")]},Db:{name:"updateProfile",j:[Ze("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[K("email"),We(Ze("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]}}),Ve(ua.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ve(gc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ve(ce.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),mI(LS.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Qy("appVerificationDisabledForTesting")}}),Ve(vy.prototype,{confirm:{name:"confirm",j:[K("verificationCode")]}}),$e(Qs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,l=[cM,lM,fM,uM],p=0;p<l.length;p++)if(a=l[p](i))return a;return null},[We(K(),Ze(),"json")]),$e(Jn,"credential",function(i,a){return new ki(i,a)},[K("email"),K("password")]),Ve(ki.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Ve(Go.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),$e(Go,"credential",mT,[We(K(),Ze(),"token")]),$e(Jn,"credentialWithLink",wT,[K("email"),K("emailLink")]),Ve(Ko.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),$e(Ko,"credential",vT,[We(K(),Ze(),"token")]),Ve(Wo.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),$e(Wo,"credential",yT,[We(K(),We(Ze(),Vr()),"idToken"),We(K(),Vr(),"accessToken",!0)]),Ve(Zs.prototype,{Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),$e(Zs,"credential",gT,[We(K(),Ze(),"token"),K("secret",!0)]),Ve(Cn.prototype,{Ca:{name:"addScope",j:[K("scope")]},credential:{name:"credential",j:[We(K(),We(Ze(),Vr()),"optionsOrIdToken"),We(K(),Vr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ze("customOAuthParameters")]}}),Ve(ii.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Ve(zo.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),$e(oi,"credential",bT,[K("verificationId"),K("verificationCode")]),Ve(oi.prototype,{fb:{name:"verifyPhoneNumber",j:[We(K(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(l){return l?l.session&&l.phoneNumber?Jy(l.session,Ju)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?Jy(l.session,Hf)&&dI(l.multiFactorHint):l.session&&l.multiFactorUid?Jy(l.session,Hf)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),bh()]}}),Ve(Pi.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Ve(P.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ve(ec.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ve(Nv.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ve(wy.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ve(gy.prototype,{Rc:{name:"resolveSignIn",j:[pI()]}}),Ve(_y.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[pI(),K("displayName",!0)]},bd:{name:"unenroll",j:[We({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:dI},K(),"multiFactorInfoIdentifier")]}}),Ve(Xy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$e(mv,"parseLink",QE,[K("link")]),$e(zy,"assertion",function(i){return new VS(i)},[Ai("phone")]),function(){if(typeof $!="undefined"&&$.INTERNAL&&$.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:dv,VERIFY_AND_CHANGE_EMAIL:Xu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Tr,AuthCredential:Qs,Error:P};$e(i,"EmailAuthProvider",Jn,[]),$e(i,"FacebookAuthProvider",Go,[]),$e(i,"GithubAuthProvider",Ko,[]),$e(i,"GoogleAuthProvider",Wo,[]),$e(i,"TwitterAuthProvider",Zs,[]),$e(i,"OAuthProvider",Cn,[K("providerId")]),$e(i,"SAMLAuthProvider",dT,[K("providerId")]),$e(i,"PhoneAuthProvider",oi,[F3()]),$e(i,"RecaptchaVerifier",Xy,[We(K(),U3(),"recaptchaContainer"),Ze("recaptchaParameters",!0),V3()]),$e(i,"ActionCodeURL",mv,[]),$e(i,"PhoneMultiFactorGenerator",zy,[]),$.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Tr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC"}),$.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:O(a.getUid,a),getToken:O(a.nc,a),addAuthTokenListener:O(a.cc,a),removeAuthTokenListener:O(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),$.registerVersion("@firebase/auth","0.16.5"),$.INTERNAL.extendNamespace({User:Rn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var xg=function(e,t){return xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},xg(e,t)};function n4(e,t){xg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function px(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var r4=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Y,Ng=Ng||{},se=r4||self;function Nh(){}function kg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ic(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function o4(e){return Object.prototype.hasOwnProperty.call(e,Pg)&&e[Pg]||(e[Pg]=++i4)}var Pg="closure_uid_"+(1e9*Math.random()>>>0),i4=0;function s4(e,t,n){return e.call.apply(e.bind,arguments)}function a4(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function jt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jt=s4:jt=a4,jt.apply(null,arguments)}function kh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Br(){return Date.now()}function tn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,o,s){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return t.prototype[o].apply(r,u)}}function Ui(){this.j=this.j,this.i=this.i}var u4=0;Ui.prototype.j=!1;Ui.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),u4!=0))var e=o4(this)};Ui.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var dx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},mx=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function l4(e){e:{for(var t=c4,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function vx(e){return Array.prototype.concat.apply([],arguments)}function Og(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ph(e){return/^[\s\xa0]*$/.test(e)}var yx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function nn(e,t){return e.indexOf(t)!=-1}function Ag(e,t){return e<t?-1:e>t?1:0}var rn;e:{if(Cg=se.navigator,Cg&&(Rg=Cg.userAgent,Rg)){rn=Rg;break e}rn=""}var Cg,Rg;function Dg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gx(e){var t={};for(var n in e)t[n]=e[n];return t}var wx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bx(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<wx.length;s++)n=wx[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lg(e){return Lg[" "](e),e}Lg[" "]=Nh;function h4(e,t){var n=f4;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var p4=nn(rn,"Opera"),Fi=nn(rn,"Trident")||nn(rn,"MSIE"),_x=nn(rn,"Edge"),Mg=_x||Fi,Ex=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),d4=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");function Tx(){var e=se.document;return e?e.documentMode:void 0}var Oh;e:{if(Ah="",Ch=function(){var e=rn;if(Ex)return/rv:([^\);]+)(\)|;)/.exec(e);if(_x)return/Edge\/([\d\.]+)/.exec(e);if(Fi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(d4)return/WebKit\/(\S+)/.exec(e);if(p4)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),Ch&&(Ah=Ch?Ch[1]:""),Fi&&(Rh=Tx(),Rh!=null&&Rh>parseFloat(Ah))){Oh=String(Rh);break e}Oh=Ah}var Ah,Ch,Rh,f4={};function Sx(e){return h4(e,function(){for(var t=0,n=yx(String(Oh)).split("."),r=yx(String(e)).split("."),o=Math.max(n.length,r.length),s=0;t==0&&s<o;s++){var u=n[s]||"",c=r[s]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],u[0].length==0&&c[0].length==0)break;t=Ag(u[1].length==0?0:parseInt(u[1],10),c[1].length==0?0:parseInt(c[1],10))||Ag(u[2].length==0,c[2].length==0)||Ag(u[2],c[2]),u=u[3],c=c[3]}while(t==0)}return 0<=t})}var jg;se.document&&Fi?(Ug=Tx(),jg=Ug||parseInt(Oh,10)||void 0):jg=void 0;var Ug,Ix=jg,Fg=!Fi||9<=Number(Ix),m4=Fi&&!Sx("9"),v4=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{se.addEventListener("test",Nh,t),se.removeEventListener("test",Nh,t)}catch(n){}return e}();function Ut(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Ut.prototype.b=function(){this.defaultPrevented=!0};function xc(e,t){if(Ut.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Ex){e:{try{Lg(t.nodeName);var o=!0;break e}catch(s){}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:y4[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}tn(xc,Ut);var y4={2:"touch",3:"pen",4:"mouse"};xc.prototype.b=function(){xc.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,m4)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Nc="closure_listenable_"+(1e6*Math.random()|0),g4=0;function w4(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=o,this.key=++g4,this.Y=this.Z=!1}function Dh(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Lh(e){this.src=e,this.a={},this.b=0}Lh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var u=Vg(e,t,r,o);return-1<u?(t=e[u],n||(t.Z=!1)):(t=new w4(t,this.src,s,!!r,o),t.Z=n,e.push(t)),t};function Bg(e,t){var n=t.type;if(n in e.a){var r=e.a[n],o=dx(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Dh(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function Vg(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return o}return-1}var qg="closure_lm_"+(1e6*Math.random()|0),zg={};function Hg(e,t,n,r,o){if(r&&r.once)return Nx(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Hg(e,t[s],n,r,o);return null}return n=Gg(n),e&&e[Nc]?e.va(t,n,Ic(r)?!!r.capture:!!r,o):xx(e,t,n,!1,r,o)}function xx(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=Ic(o)?!!o.capture:!!o;if(u&&!Fg)return null;var c=Kg(e);if(c||(e[qg]=c=new Lh(e)),n=c.add(t,n,r,u,s),n.proxy)return n;if(r=b4(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)v4||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(kx(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function b4(){var e=_4,t=Fg?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Nx(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Nx(e,t[s],n,r,o);return null}return n=Gg(n),e&&e[Nc]?e.wa(t,n,Ic(r)?!!r.capture:!!r,o):xx(e,t,n,!0,r,o)}function Px(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)Px(e,t[s],n,r,o);else r=Ic(r)?!!r.capture:!!r,n=Gg(n),e&&e[Nc]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=Vg(s,n,r,o),-1<n&&(Dh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=Kg(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Vg(t,n,r,o)),(n=-1<e?t[e]:null)&&Wg(n))}function Wg(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Nc])Bg(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kx(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kg(t))?(Bg(n,e),n.b==0&&(n.src=null,t[qg]=null)):Dh(e)}}}function kx(e){return e in zg?zg[e]:zg[e]="on"+e}function Ox(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Wg(e),n.call(r,t)}function _4(e,t){if(e.Y)return!0;if(!Fg){if(!t)e:{t=["window","event"];for(var n=se,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new xc(t,this),Ox(e,t)}return Ox(e,new xc(t,this))}function Kg(e){return e=e[qg],e instanceof Lh?e:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(e){return typeof e=="function"?e:(e[$g]||(e[$g]=function(t){return e.handleEvent(t)}),e[$g])}function Ln(){Ui.call(this),this.c=new Lh(this),this.J=this,this.C=null}tn(Ln,Ui);Ln.prototype[Nc]=!0;Y=Ln.prototype;Y.addEventListener=function(e,t,n,r){Hg(this,e,t,n,r)};Y.removeEventListener=function(e,t,n,r){Px(this,e,t,n,r)};function Nt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Ut(t,e);else if(t instanceof Ut)t.target=t.target||e;else{var o=t;t=new Ut(r,e),bx(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.a=n[s];o=Mh(u,r,!0,t)&&o}if(u=t.a=e,o=Mh(u,r,!0,t)&&o,o=Mh(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.a=n[s],o=Mh(u,r,!1,t)&&o}Y.G=function(){if(Ln.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Dh(n[r]);delete e.a[t],e.b--}}this.C=null};Y.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};Y.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function Mh(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.Y&&u.capture==n){var c=u.listener,f=u.ca||u.src;u.Z&&Bg(e.c,u),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var Yg=se.JSON.stringify;function Ax(){this.b=this.a=null}var Cx=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new Xg},function(e){e.reset()});Ax.prototype.add=function(e,t){var n=Cx.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function E4(){var e=Rx,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Xg(){this.next=this.b=this.a=null}Xg.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};Xg.prototype.reset=function(){this.next=this.b=this.a=null};function T4(e){se.setTimeout(function(){throw e},0)}function Dx(e,t){Qg||S4(),Jg||(Qg(),Jg=!0),Rx.add(e,t)}var Qg;function S4(){var e=se.Promise.resolve(void 0);Qg=function(){e.then(I4)}}var Jg=!1,Rx=new Ax;function I4(){for(var e;e=E4();){try{e.a.call(e.b)}catch(n){T4(n)}var t=Cx;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Jg=!1}function jh(e,t){Ln.call(this),this.b=e||1,this.a=t||se,this.f=jt(this.Za,this),this.g=Br()}tn(jh,Ln);Y=jh.prototype;Y.aa=!1;Y.M=null;Y.Za=function(){if(this.aa){var e=Br()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Nt(this,"tick"),this.aa&&(Zg(this),this.start()))}};Y.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Br())};function Zg(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}Y.G=function(){jh.X.G.call(this),Zg(this),delete this.a};function e0(e,t,n){if(typeof e=="function")n&&(e=jt(e,n));else if(e&&typeof e.handleEvent=="function")e=jt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:se.setTimeout(e,t||0)}function Lx(e){e.a=e0(function(){e.a=null,e.c&&(e.c=!1,Lx(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var x4=function(e){n4(t,e);function t(n,r){var o=e.call(this)||this;return o.g=n,o.h=r,o.b=null,o.c=!1,o.a=null,o}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:Lx(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(se.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Ui);function kc(e){Ui.call(this),this.b=e,this.a={}}tn(kc,Ui);var Mx=[];function jx(e,t,n,r){Array.isArray(n)||(n&&(Mx[0]=n.toString()),n=Mx);for(var o=0;o<n.length;o++){var s=Hg(t,n[o],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function Ux(e){Dg(e.a,function(t,n){this.a.hasOwnProperty(n)&&Wg(t)},e),e.a={}}kc.prototype.G=function(){kc.X.G.call(this),Ux(this)};kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function t0(){this.a=!0}function N4(e,t,n,r,o,s){e.info(function(){if(e.a)if(s)for(var u="",c=s.split("&"),f=0;f<c.length;f++){var h=c[f].split("=");if(1<h.length){var d=h[0];h=h[1];var y=d.split("_");u=2<=y.length&&y[1]=="type"?u+(d+"="+h+"&"):u+(d+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function k4(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function ya(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+P4(e,n)+(r?" "+r:"")})}function O4(e,t){e.info(function(){return"TIMEOUT: "+t})}t0.prototype.info=function(){};function P4(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return Yg(n)}catch(c){return t}}var is={},Fx=null;function Uh(){return Fx=Fx||new Ln}is.Fa="serverreachability";function Vx(e){Ut.call(this,is.Fa,e)}tn(Vx,Ut);function Pc(e){var t=Uh();Nt(t,new Vx(t,e))}is.STAT_EVENT="statevent";function Bx(e,t){Ut.call(this,is.STAT_EVENT,e),this.stat=t}tn(Bx,Ut);function on(e){var t=Uh();Nt(t,new Bx(t,e))}is.Ga="timingevent";function qx(e){Ut.call(this,is.Ga,e)}tn(qx,Ut);function Oc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){e()},t)}var Fh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},zx={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Hx(){}Hx.prototype.a=null;function Gx(e){var t;return(t=e.a)||(t=e.a={}),t}function Kx(){}var Ac={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function n0(){Ut.call(this,"d")}tn(n0,Ut);function r0(){Ut.call(this,"c")}tn(r0,Ut);var Wx;function $x(){}tn($x,Hx);Wx=new $x;function Cc(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new kc(this),this.P=A4,e=Mg?125:void 0,this.R=new jh(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var A4=45e3,Yx={},i0={};Y=Cc.prototype;Y.setTimeout=function(e){this.P=e};function o0(e,t,n){e.H=1,e.i=Vh(li(t)),e.j=n,e.I=!0,Xx(e,null)}function Xx(e,t){e.u=Br(),Rc(e),e.l=li(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Qx(n.b,"t",r),e.D=0,e.a=Jx(e.g,e.g.C?t:null),0<e.O&&(e.F=new x4(jt(e.Ca,e,e.a),e.O)),jx(e.J,e.a,"readystatechange",e.Xa),t=e.B?gx(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Pc(1),N4(e.c,e.m,e.l,e.f,e.S,e.j)}Y.Xa=function(e){e=e.target;var t=this.F;t&&Vi(e)==3?t.f():this.Ca(e)};Y.Ca=function(e){try{if(e==this.a)e:{var t=Vi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!Mg&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Pc(3):Pc(2)),Bh(this);var o=this.a.W();this.N=o;var s=this.a.$();if(this.b=o==200,k4(this.c,this.m,this.l,this.f,this.S,t,o),this.b){if(this.U&&!this.C){t:{if(this.a){var u,c=this.a;if((u=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(u)){var f=u;break t}}f=null}if(f)ya(this.c,this.f,f,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,s0(this,f);else{this.b=!1,this.h=3,on(12),ga(this),qh(this);break e}}this.I?(Zx(this,t,s),Mg&&this.b&&t==3&&(jx(this.J,this.R,"tick",this.Wa),this.R.start())):(ya(this.c,this.f,s,null),s0(this,s)),t==4&&ga(this),this.b&&!this.A&&(t==4?eN(this.g,this):(this.b=!1,Rc(this)))}else o==400&&0<s.indexOf("Unknown SID")?(this.h=3,on(12)):(this.h=0,on(13)),ga(this),qh(this)}}}catch(h){}finally{}};function Zx(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var o=C4(e,n);if(o==i0){t==4&&(e.h=4,on(14),r=!1),ya(e.c,e.f,null,"[Incomplete Response]");break}else if(o==Yx){e.h=4,on(15),ya(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else ya(e.c,e.f,o,null),s0(e,o)}t==4&&n.length==0&&(e.h=1,on(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),a0(t),t.F=!0,on(11))):(ya(e.c,e.f,n,"[Invalid Chunked Response]"),ga(e),qh(e))}Y.Wa=function(){if(this.a){var e=Vi(this.a),t=this.a.$();this.D<t.length&&(Bh(this),Zx(this,e,t),this.b&&e!=4&&Rc(this))}};function C4(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?i0:(n=Number(t.substring(n,r)),isNaN(n)?Yx:(r+=1,r+n>t.length?i0:(t=t.substr(r,n),e.D=r+n,t)))}Y.cancel=function(){this.A=!0,ga(this)};function Rc(e){e.T=Br()+e.P,tN(e,e.P)}function tN(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Oc(jt(e.Va,e),t)}function Bh(e){e.o&&(se.clearTimeout(e.o),e.o=null)}Y.Va=function(){this.o=null;var e=Br();0<=e-this.T?(O4(this.c,this.l),this.H!=2&&(Pc(3),on(17)),ga(this),this.h=2,qh(this)):tN(this,this.T-e)};function qh(e){e.g.v==0||e.A||eN(e.g,e)}function ga(e){Bh(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,Zg(e.R),Ux(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function s0(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||u0(n.b,e))){if(n.I=e.N,!e.C&&u0(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch(_){r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0)e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)Gh(n),zh(n);else break e;f0(n),on(18)}else n.oa=o[1],0<n.oa-n.P&&37500>o[2]&&n.H&&n.o==0&&!n.m&&(n.m=Oc(jt(n.Sa,n),6e3));if(1>=nN(n.b)&&n.ea){try{n.ea()}catch(_){}n.ea=void 0}}else os(n,11)}else if((e.C||n.a==e)&&Gh(n),!Ph(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(o=t[r],n.P=o[0],o=o[1],n.v==2)if(o[0]=="c"){n.J=o[1],n.ga=o[2];var s=o[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var u=o[4];u!=null&&(n.pa=u,n.c.info("SVER="+n.pa));var c=o[5];if(c!=null&&typeof c=="number"&&0<c){var f=1.5*c;n.D=f,n.c.info("backChannelRequestTimeoutMs_="+f)}f=n;var h=e.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var y=f.b;!y.a&&(nn(d,"spdy")||nn(d,"quic")||nn(d,"h2"))&&(y.f=y.g,y.a=new Set,y.b&&(c0(y,y.b),y.b=null))}if(f.A){var v=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;v&&(f.na=v,Ue(f.B,f.A,v))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Br()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),f=n;var E=e;if(f.la=oN(f,f.C?f.ga:null,f.fa),E.C){rN(f.b,E);var S=E,I=f.D;I&&S.setTimeout(I),S.o&&(Bh(S),Rc(S)),f.a=E}else iN(f);0<n.g.length&&Hh(n)}else o[0]!="stop"&&o[0]!="close"||os(n,7);else n.v==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?os(n,7):l0(n):o[0]!="noop"&&n.f&&n.f.sa(o),n.o=0)}Pc(4)}catch(_){}}function R4(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(kg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function h0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(kg(e)||typeof e=="string")mx(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(kg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=R4(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function wa(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wa)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Y=wa.prototype;Y.K=function(){p0(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};Y.L=function(){return p0(this),this.a.concat()};function p0(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ss(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)r=e.a[t],ss(o,r)||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}Y.get=function(e,t){return ss(this.b,e)?this.b[e]:t};Y.set=function(e,t){ss(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};Y.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function ss(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var sN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function D4(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function as(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof as){this.a=t!==void 0?t:e.a,Kh(this,e.f),this.j=e.j,Wh(this,e.c),$h(this,e.h),this.g=e.g,t=e.b;var n=new Lc;n.c=t.c,t.a&&(n.a=new wa(t.a),n.b=t.b),aN(this,n),this.i=e.i}else e&&(n=String(e).match(sN))?(this.a=!!t,Kh(this,n[1]||"",!0),this.j=Dc(n[2]||""),Wh(this,n[3]||"",!0),$h(this,n[4]),this.g=Dc(n[5]||"",!0),aN(this,n[6]||"",!0),this.i=Dc(n[7]||"")):(this.a=!!t,this.b=new Lc(null,this.a))}as.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Mc(t,uN,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Mc(t,uN,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Mc(n,n.charAt(0)=="/"?M4:L4,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Mc(n,j4)),e.join("")};function li(e){return new as(e)}function Kh(e,t,n){e.f=n?Dc(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Wh(e,t,n){e.c=n?Dc(t,!0):t}function $h(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function aN(e,t,n){t instanceof Lc?(e.b=t,F4(e.b,e.a)):(n||(t=Mc(t,U4)),e.b=new Lc(t,e.a))}function Ue(e,t,n){e.b.set(t,n)}function Vh(e){return Ue(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Br()).toString(36)),e}function V4(e){return e instanceof as?li(e):new as(e,void 0)}function B4(e,t,n,r){var o=new as(null,void 0);return e&&Kh(o,e),t&&Wh(o,t),n&&$h(o,n),r&&(o.g=r),o}function Dc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,q4),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function q4(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var uN=/[#\/\?@]/g,L4=/[#\?:]/g,M4=/[#\?]/g,U4=/[#\?@]/g,j4=/#/g;function Lc(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Bi(e){e.a||(e.a=new wa,e.b=0,e.c&&D4(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Y=Lc.prototype;Y.add=function(e,t){Bi(this),this.c=null,e=ba(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function cN(e,t){Bi(e),t=ba(e,t),ss(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,ss(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&p0(e)))}function lN(e,t){return Bi(e),t=ba(e,t),ss(e.a.b,t)}Y.forEach=function(e,t){Bi(this),this.a.forEach(function(n,r){mx(n,function(o){e.call(t,o,r,this)},this)},this)};Y.L=function(){Bi(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};Y.K=function(e){Bi(this);var t=[];if(typeof e=="string")lN(this,e)&&(t=vx(t,this.a.get(ba(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=vx(t,e[n])}return t};Y.set=function(e,t){return Bi(this),this.c=null,e=ba(this,e),lN(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};Y.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function Qx(e,t,n){cN(e,t),0<n.length&&(e.c=null,e.a.set(ba(e,t),Og(n)),e.b+=n.length)}Y.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.c=e.join("&")};function ba(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function F4(e,t){t&&!e.f&&(Bi(e),e.c=null,e.a.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(cN(this,r),Qx(this,o,n))},e)),e.f=t}var z4=function(){function e(t,n){this.b=t,this.a=n}return e}();function fN(e){this.g=e||H4,se.PerformanceNavigationTiming?(e=se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(se.ia&&se.ia.ya&&se.ia.ya()&&se.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var H4=10;function hN(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function nN(e){return e.b?1:e.a?e.a.size:0}function u0(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function c0(e,t){e.a?e.a.add(t):e.b=t}function rN(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}fN.prototype.cancel=function(){var e,t;if(this.c=pN(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=px(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function pN(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var o=px(e.a.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.s)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Og(e.c)}function d0(){}d0.prototype.stringify=function(e){return se.JSON.stringify(e,void 0)};d0.prototype.parse=function(e){return se.JSON.parse(e,void 0)};function G4(){this.a=new d0}function K4(e,t,n){var r=n||"";try{h0(e,function(o,s){var u=o;Ic(o)&&(u=Yg(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function W4(e,t){var n=new t0;if(se.Image){var r=new Image;r.onload=kh(Yh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=kh(Yh,n,r,"TestLoadImage: error",!1,t),r.onabort=kh(Yh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=kh(Yh,n,r,"TestLoadImage: timeout",!1,t),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Yh(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(s){}}var $4=se.JSON.parse;function lt(e){Ln.call(this),this.headers=new wa,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Y4,this.D=this.F=!1}tn(lt,Ln);var Y4="",X4=/^https?$/i,Q4=["POST","PUT"];Y=lt.prototype;Y.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Gx(this.H):Gx(Wx),this.a.onreadystatechange=jt(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){dN(this,s);return}e=n||"";var o=new wa(this.headers);r&&h0(r,function(s,u){o.set(u,s)}),r=l4(o.L()),n=se.FormData&&e instanceof se.FormData,!(0<=dx(Q4,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.a.setRequestHeader(u,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{mN(this),0<this.o&&((this.D=J4(this.a))?(this.a.timeout=this.o,this.a.ontimeout=jt(this.xa,this)):this.m=e0(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){dN(this,s)}};function J4(e){return Fi&&Sx(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function c4(e){return e.toLowerCase()=="content-type"}Y.xa=function(){typeof Ng!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Nt(this,"timeout"),this.abort(8))};function dN(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,vN(e),Xh(e)}function vN(e){e.u||(e.u=!0,Nt(e,"complete"),Nt(e,"error"))}Y.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Nt(this,"complete"),Nt(this,"abort"),Xh(this))};Y.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Xh(this,!0)),lt.X.G.call(this)};Y.za=function(){this.j||(this.A||this.l||this.g?yN(this):this.Ua())};Y.Ua=function(){yN(this)};function yN(e){if(e.b&&typeof Ng!="undefined"&&(!e.s[1]||Vi(e)!=4||e.W()!=2)){if(e.l&&Vi(e)==4)e0(e.za,0,e);else if(Nt(e,"readystatechange"),Vi(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.B).match(sN)[1]||null;if(!s&&se.self&&se.self.location){var u=se.self.location.protocol;s=u.substr(0,u.length-1)}o=!X4.test(s?s.toLowerCase():"")}r=o}var c=r}if(c)Nt(e,"complete"),Nt(e,"success");else{e.h=6;try{var f=2<Vi(e)?e.a.statusText:""}catch(h){f=""}e.f=f+" ["+e.W()+"]",vN(e)}}finally{Xh(e)}}}}function Xh(e,t){if(e.a){mN(e);var n=e.a,r=e.s[0]?Nh:null;e.a=null,e.s=null,t||Nt(e,"ready");try{n.onreadystatechange=r}catch(o){}}}function mN(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(se.clearTimeout(e.m),e.m=null)}function Vi(e){return e.a?e.a.readyState:0}Y.W=function(){try{return 2<Vi(this)?this.a.status:-1}catch(e){return-1}};Y.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}};Y.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),$4(t)}};Y.ua=function(){return this.h};Y.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function Z4(e){var t="";return Dg(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function m0(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Z4(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ue(e,t,n))}function jc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gN(e){this.pa=0,this.g=[],this.c=new t0,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=jc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=jc("baseRetryDelayMs",5e3,e),this.Ra=jc("retryDelaySeedMs",1e4,e),this.Ma=jc("forwardChannelMaxRetries",2,e),this.ma=jc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new fN(e&&e.concurrentRequestLimit),this.ka=new G4,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}Y=gN.prototype;Y.ha=8;Y.v=1;function l0(e){if(wN(e),e.v==3){var t=e.R++,n=li(e.B);Ue(n,"SID",e.J),Ue(n,"RID",t),Ue(n,"TYPE","terminate"),Uc(e,n),t=new Cc(e,e.c,t,void 0),t.H=2,t.i=Vh(li(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(t.i.toString(),"")),!n&&se.Image&&(new Image().src=t.i,n=!0),n||(t.a=Jx(t.g,null),t.a.ba(t.i)),t.u=Br(),Rc(t)}bN(e)}function zh(e){e.a&&(a0(e),e.a.cancel(),e.a=null)}function wN(e){zh(e),e.j&&(se.clearTimeout(e.j),e.j=null),Gh(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&se.clearTimeout(e.h),e.h=null)}function v0(e,t){e.g.push(new z4(e.Oa++,t)),e.v==3&&Hh(e)}function Hh(e){hN(e.b)||e.h||(e.h=!0,Dx(e.Ba,e),e.u=0)}function eV(e,t){return nN(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Oc(jt(e.Ba,e,t),_N(e,e.u)),e.u++,!0)}Y.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Cc(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=gx(n),bx(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var o=r=0;o<this.g.length;o++){t:{var s=this.g[o];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.g.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=TN(this,t,r),o=li(this.B),Ue(o,"RID",e),Ue(o,"CVER",22),this.A&&Ue(o,"X-HTTP-Session-Id",this.A),Uc(this,o),this.i&&n&&m0(o,this.i,n),c0(this.b,t),this.Ia&&Ue(o,"TYPE","init"),this.da?(Ue(o,"$req",r),Ue(o,"SID","null"),t.U=!0,o0(t,o,null)):o0(t,o,r),this.v=2}}else this.v==3&&(e?EN(this,e):this.g.length==0||hN(this.b)||EN(this))};function EN(e,t){var n;t?n=t.f:n=e.R++;var r=li(e.B);Ue(r,"SID",e.J),Ue(r,"RID",n),Ue(r,"AID",e.P),Uc(e,r),e.i&&e.l&&m0(r,e.i,e.l),n=new Cc(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=TN(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),c0(e.b,n),o0(n,r,t)}function Uc(e,t){e.f&&h0({},function(n,r){Ue(t,r,n)})}function TN(e,t,n){n=Math.min(e.g.length,n);var r=e.f?jt(e.f.Ja,e.f,e):null;e:for(var o=e.g,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].b,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var h=o[f].b,d=o[f].a;if(h-=s,0>h)s=Math.max(0,o[f].b-100),c=!1;else try{K4(d,u,"req"+h+"_")}catch(y){r&&r(d)}}if(c){r=u.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function iN(e){e.a||e.j||(e.T=1,Dx(e.Aa,e),e.o=0)}function f0(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Oc(jt(e.Aa,e),_N(e,e.o)),e.o++,!0)}Y.Aa=function(){if(this.j=null,SN(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Oc(jt(this.Ta,this),e)}};Y.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,on(10),zh(this),SN(this))};function a0(e){e.s!=null&&(se.clearTimeout(e.s),e.s=null)}function SN(e){e.a=new Cc(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=li(e.la);Ue(t,"RID","rpc"),Ue(t,"SID",e.J),Ue(t,"CI",e.H?"0":"1"),Ue(t,"AID",e.P),Uc(e,t),Ue(t,"TYPE","xmlhttp"),e.i&&e.l&&m0(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Vh(li(t)),n.j=null,n.I=!0,Xx(n,e)}Y.Sa=function(){this.m!=null&&(this.m=null,zh(this),f0(this),on(19))};function Gh(e){e.m!=null&&(se.clearTimeout(e.m),e.m=null)}function eN(e,t){var n=null;if(e.a==t){Gh(e),a0(e),e.a=null;var r=2}else if(u0(e.b,t))n=t.s,rN(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Br()-t.u;var o=e.u;r=Uh(),Nt(r,new qx(r,n,t,o)),Hh(e)}else iN(e);else if(o=t.h,o==3||o==0&&0<e.I||!(r==1&&eV(e,t)||r==2&&f0(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),o){case 1:os(e,5);break;case 4:os(e,10);break;case 3:os(e,6);break;default:os(e,2)}}}function _N(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function os(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=jt(e.Ya,e);n||(n=new as("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Kh(n,"https"),Vh(n)),W4(n.toString(),r)}else on(2);e.v=0,e.f&&e.f.ra(t),bN(e),wN(e)}Y.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),on(2)):(this.c.info("Failed to ping google.com"),on(1))};function bN(e){e.v=0,e.I=-1,e.f&&((pN(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,Og(e.g),e.g.length=0),e.f.qa())}function oN(e,t,n){var r=V4(n);if(r.c!="")t&&Wh(r,t+"."+r.c),$h(r,r.h);else{var o=se.location;r=B4(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.V&&Dg(e.V,function(s,u){Ue(r,u,s)}),t=e.A,n=e.na,t&&n&&Ue(r,t,n),Ue(r,"VER",e.ha),Uc(e,r),r}function Jx(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new lt(e.Na),t.F=e.C,t}function IN(){}Y=IN.prototype;Y.ta=function(){};Y.sa=function(){};Y.ra=function(){};Y.qa=function(){};Y.Ja=function(){};function Qh(){if(Fi&&!(10<=Number(Ix)))throw Error("Environmental error: no available transport.")}Qh.prototype.a=function(e,t){return new Mn(e,t)};function Mn(e,t){Ln.call(this),this.a=new gN(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ph(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ph(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new _a(this)}tn(Mn,Ln);Mn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;on(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=oN(e,null,e.fa),Hh(e)};Mn.prototype.close=function(){l0(this.a)};Mn.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,v0(this.a,t)}else this.l?(t={},t.__data__=Yg(e),v0(this.a,t)):v0(this.a,e)};Mn.prototype.G=function(){this.a.f=null,delete this.f,l0(this.a),delete this.a,Mn.X.G.call(this)};function xN(e){n0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}tn(xN,n0);function NN(){r0.call(this),this.status=1}tn(NN,r0);function _a(e){this.a=e}tn(_a,IN);_a.prototype.ta=function(){Nt(this.a,"a")};_a.prototype.sa=function(e){Nt(this.a,new xN(e))};_a.prototype.ra=function(e){Nt(this.a,new NN(e))};_a.prototype.qa=function(){Nt(this.a,"b")};Qh.prototype.createWebChannel=Qh.prototype.a;Mn.prototype.send=Mn.prototype.h;Mn.prototype.open=Mn.prototype.g;Mn.prototype.close=Mn.prototype.close;Fh.NO_ERROR=0;Fh.TIMEOUT=8;Fh.HTTP_ERROR=6;zx.COMPLETE="complete";Kx.EventType=Ac;Ac.OPEN="a";Ac.CLOSE="b";Ac.ERROR="c";Ac.MESSAGE="d";Ln.prototype.listen=Ln.prototype.va;lt.prototype.listenOnce=lt.prototype.wa;lt.prototype.getLastError=lt.prototype.Qa;lt.prototype.getLastErrorCode=lt.prototype.ua;lt.prototype.getStatus=lt.prototype.W;lt.prototype.getResponseJson=lt.prototype.Pa;lt.prototype.getResponseText=lt.prototype.$;lt.prototype.send=lt.prototype.ba;var kN=function(){return new Qh},PN=function(){return Uh()},Jh=Fh,ON=zx,AN=is,y0={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Fc=Kx,CN=lt;var g0=function(e,t){return g0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},g0(e,t)};function ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");g0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function M(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function L(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Xe(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var jn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();jn.o=-1;var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ee(t,e),t}(Error),Nr=new ha("@firebase/firestore");function w0(){return Nr.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nr.logLevel<=me.DEBUG){var r=t.map(b0);Nr.debug.apply(Nr,Xe(["Firestore (8.4.2): "+e],r))}}function et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nr.logLevel<=me.ERROR){var r=t.map(b0);Nr.error.apply(Nr,Xe(["Firestore (8.4.2): "+e],r))}}function _0(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Nr.logLevel<=me.WARN){var r=t.map(b0);Nr.warn.apply(Nr,Xe(["Firestore (8.4.2): "+e],r))}}function b0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function X(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+e;throw et(t),new Error(t)}function te(e,t){e||X()}function H(e,t){return e}function tV(e){var t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var RN=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=tV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function fe(e,t){return e<t?-1:e>t?1:0}function Ea(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function DN(e){return e+"\0"}var sn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new sn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function LN(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function MN(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var jN=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&X(),r===void 0?r=t.length-n:r>t.length-n&&X(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),we=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var c=u[s];if(c.indexOf("//")>=0)throw new F(A.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(jN),nV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return nV.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new F(A.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new F(A.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new F(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=h,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(u(),s++)}if(u(),c)throw new F(A.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(jN),Ta=function(){function e(t){this.fields=t,t.sort(tr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ea(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),an=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return fe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();an.EMPTY_BYTE_STRING=new an("");var rV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(te(!!e),typeof e=="string"){var t=0,n=rV.exec(e);if(te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:tt(e.seconds),nanos:tt(e.nanos)}}function tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Sa(e){return typeof e=="string"?an.fromBase64String(e):an.fromUint8Array(e)}function E0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UN(e){var t=e.mapValue.fields.__previous_value__;return E0(t)?UN(t):t}function Bc(e){var t=qi(e.mapValue.fields.__local_write_time__.timestampValue);return new sn(t.seconds,t.nanos)}function us(e){return e==null}function Zh(e){return e===0&&1/e==-1/0}function FN(e){return typeof e=="number"&&Number.isInteger(e)&&!Zh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var J=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(we.fromString(t))},e.fromName=function(t){return new e(we.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&we.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return we.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new we(t.slice()))},e}();function zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?E0(e)?4:10:X()}function qr(e,t){var n=zi(e);if(n!==zi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bc(e).isEqual(Bc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=qi(r.timestampValue),u=qi(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Sa(r.bytesValue).isEqual(Sa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return tt(r.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return tt(r.integerValue)===tt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=tt(r.doubleValue),u=tt(o.doubleValue);return s===u?Zh(s)===Zh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return Ea(e.arrayValue.values||[],t.arrayValue.values||[],qr);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(LN(s)!==LN(u))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!qr(s[c],u[c])))return!1;return!0}(e,t);default:return X()}}function qc(e,t){return(e.values||[]).find(function(n){return qr(n,t)})!==void 0}function Ia(e,t){var n=zi(e),r=zi(t);if(n!==r)return fe(n,r);switch(n){case 0:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=tt(o.integerValue||o.doubleValue),c=tt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(e,t);case 3:return VN(e.timestampValue,t.timestampValue);case 4:return VN(Bc(e),Bc(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Sa(o),c=Sa(s);return u.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),c=s.split("/"),f=0;f<u.length&&f<c.length;f++){var h=fe(u[f],c[f]);if(h!==0)return h}return fe(u.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=fe(tt(o.latitude),tt(s.latitude));return u!==0?u:fe(tt(o.longitude),tt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],c=s.values||[],f=0;f<u.length&&f<c.length;++f){var h=Ia(u[f],c[f]);if(h)return h}return fe(u.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var y=fe(c[d],h[d]);if(y!==0)return y;var v=Ia(u[c[d]],f[h[d]]);if(v!==0)return v}return fe(c.length,h.length)}(e.mapValue,t.mapValue);default:throw X()}}function VN(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);var n=qi(e),r=qi(t),o=fe(n.seconds,r.seconds);return o!==0?o:fe(n.nanos,r.nanos)}function S0(e){return T0(e)}function T0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=qi(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,J.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,c=r.values||[];u<c.length;u++)s?s=!1:o+=",",o+=T0(c[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,c=Object.keys(r.fields||{}).sort();u<c.length;u++){var f=c[u];s?s=!1:o+=",",o+=f+":"+T0(r.fields[f])}return o+"}"}(e.mapValue):X();var t,n}function ep(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function I0(e){return!!e&&"integerValue"in e}function x0(e){return!!e&&"arrayValue"in e}function BN(e){return!!e&&"nullValue"in e}function qN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function N0(e){return!!e&&"mapValue"in e}var Un=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(tr.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,o){r?n.set(o,r):n.delete(o)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return qr(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,o=0;o<t.length-1;++o){var s=t.get(o),u=r.get(s);u instanceof Map?r=u:u&&zi(u)===10?(u=new Map(Object.entries(u.mapValue.fields||{})),r.set(s,u),r=u):(u=new Map,r.set(s,u),r=u)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,o=!1,s=e.extractNestedValue(this.partialValue,t),u=N0(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,f){if(c instanceof Map){var h=r.applyOverlay(t.child(f),c);h!=null&&(u[f]=h,o=!0)}else c!==null?(u[f]=c,o=!0):u.hasOwnProperty(f)&&(delete u[f],o=!0)}),o?{mapValue:{fields:u}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(tr.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,o=0;o<n.length-1;++o)if(!r.mapValue.fields||!N0(r=r.mapValue.fields[n.get(o)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function zN(e){var t=[];return Vc(e.fields||{},function(n,r){var o=new tr([n]);if(N0(r)){var s=zN(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,c=s;u<c.length;u++){var f=c[u];t.push(o.child(f))}}else t.push(o)}),new Ta(t)}var kt=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ue.min(),Un.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Un.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Un.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),iV=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};function HN(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new iV(e,t,n,r,o,s,u)}function zc(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+S0(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),us(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=tp(t.startAt)),t.endAt&&(n+="|ub:",n+=tp(t.endAt)),t.h=n}return t.h}function np(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!qr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!GN(e.startAt,t.startAt)&&GN(e.endAt,t.endAt)}function rp(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Fn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return ee(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new sV(n,r,o):r==="array-contains"?new cV(n,o):r==="in"?new lV(n,o):r==="not-in"?new fV(n,o):r==="array-contains-any"?new hV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new aV(n,o):new uV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ia(r,this.value)):r!==null&&zi(this.value)===zi(r)&&this.m(Ia(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return X()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),sV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=J.fromName(o.referenceValue),s}return ee(t,e),t.prototype.matches=function(n){var r=J.comparator(n.key,this.key);return this.m(r)},t}(Fn),aV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=KN("in",r),o}return ee(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Fn),uV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=KN("not-in",r),o}return ee(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Fn);function KN(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return J.fromName(r.referenceValue)})}var cV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return x0(r)&&qc(r.arrayValue,this.value)},t}(Fn),lV=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&qc(this.value.arrayValue,r)},t}(Fn),fV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ee(t,e),t.prototype.matches=function(n){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!qc(this.value.arrayValue,r)},t}(Fn),hV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!x0(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return qc(r.value.arrayValue,s)})},t}(Fn),Hc=function(e,t){this.position=e,this.before=t};function tp(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return S0(t)}).join(",")}var xa=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function oV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function WN(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?J.comparator(J.fromName(u.referenceValue),n.key):Ia(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function GN(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qr(e.position[n],t.position[n]))return!1;return!0}var fi=function(e,t,n,r,o,s,u,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function $N(e,t,n,r,o,s,u,c){return new fi(e,t,n,r,o,s,u,c)}function Na(e){return new fi(e)}function ip(e){return!us(e.limit)&&e.limitType==="F"}function op(e){return!us(e.limit)&&e.limitType==="L"}function k0(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function P0(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function O0(e){return e.collectionGroup!==null}function ka(e){var t=H(e);if(t.p===null){t.p=[];var n=P0(t),r=k0(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new xa(n)),t.p.push(new xa(tr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var c=u[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new xa(tr.keyField(),f))}}}return t.p}function nr(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=HN(t.path,t.collectionGroup,ka(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ka(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new xa(s.field,u))}var c=t.endAt?new Hc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Hc(t.startAt.position,!t.startAt.before):null;t.T=HN(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function YN(e,t,n){return new fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gc(e,t){return np(nr(e),nr(t))&&e.limitType===t.limitType}function XN(e){return zc(nr(e))+"|lt:"+e.limitType}function A0(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+S0(o.value);var o}).join(", ")+"]"),us(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+tp(t.startAt)),t.endAt&&(n+=", endAt: "+tp(t.endAt)),"Target("+n+")"}(nr(e))+"; limitType="+e.limitType+")"}function Kc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):J.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!WN(n.startAt,ka(n),r))&&(!n.endAt||!WN(n.endAt,ka(n),r))}(e,t)}function QN(e){return function(t,n){for(var r=!1,o=0,s=ka(e);o<s.length;o++){var u=s[o],c=pV(u,t,n);if(c!==0)return c;r=r||u.field.isKeyField()}return 0}}function pV(e,t,n){var r=e.field.isKeyField()?J.comparator(t.key,n.key):function(o,s,u){var c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Ia(c,f):X()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}function JN(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(t)?"-0":t}}function ZN(e){return{integerValue:""+e}}function ek(e,t){return FN(t)?ZN(t):JN(e,t)}var sp=function(){this._=void 0};function dV(e,t,n){return e instanceof Pa?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof cs?nk(e,t):e instanceof ls?rk(e,t):function(r,o){var s=tk(r,o),u=ik(s)+ik(r.A);return I0(s)&&I0(r.A)?ZN(u):JN(r.R,u)}(e,t)}function mV(e,t,n){return e instanceof cs?nk(e,t):e instanceof ls?rk(e,t):n}function tk(e,t){return e instanceof Oa?I0(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Pa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t}(sp),cs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ee(t,e),t}(sp);function nk(e,t){for(var n=ok(t),r=function(u){n.some(function(c){return qr(c,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var ls=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ee(t,e),t}(sp);function rk(e,t){for(var n=ok(t),r=function(u){n=n.filter(function(c){return!qr(c,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Oa=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return ee(t,e),t}(sp);function ik(e){return tt(e.integerValue||e.doubleValue)}function ok(e){return x0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Wc=function(e,t){this.field=e,this.transform=t},vV=function(e,t){this.version=e,this.transformResults=t},Ft=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function ap(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var up=function(){};function yV(e,t,n){e instanceof $c?function(r,o,s){var u=r.value.clone(),c=ak(r.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Hi?function(r,o,s){if(ap(r.precondition,o)){var u=ak(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(sk(r)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function C0(e,t,n){e instanceof $c?function(r,o,s){if(ap(r.precondition,o)){var u=r.value.clone(),c=ck(r.fieldTransforms,s,o);u.setAll(c),o.convertToFoundDocument(uk(o),u).setHasLocalMutations()}}(e,t,n):e instanceof Hi?function(r,o,s){if(ap(r.precondition,o)){var u=ck(r.fieldTransforms,s,o),c=o.data;c.setAll(sk(r)),c.setAll(u),o.convertToFoundDocument(uk(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){ap(r.precondition,o)&&o.convertToNoDocument(ue.min())}(e,t)}function gV(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),c=tk(s.transform,u||null);c!=null&&(n==null&&(n=Un.empty()),n.set(s.field,c))}return n||null}function lk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ea(n,r,function(o,s){return function(u,c){return u.field.isEqual(c.field)&&function(f,h){return f instanceof cs&&h instanceof cs||f instanceof ls&&h instanceof ls?Ea(f.elements,h.elements,qr):f instanceof Oa&&h instanceof Oa?qr(f.A,h.A):f instanceof Pa&&h instanceof Pa}(u.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function uk(e){return e.isFoundDocument()?e.version:ue.min()}var $c=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return ee(t,e),t}(up),Hi=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=u,c.type=1,c}return ee(t,e),t}(up);function sk(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function ak(e,t,n){var r=new Map;te(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,mV(u,c,n[o]))}return r}function ck(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],c=u.transform,f=n.data.field(u.field);r.set(u.field,dV(c,f,t))}return r}var nt,pe,Yc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return ee(t,e),t}(up),R0=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return ee(t,e),t}(up),wV=function(e){this.count=e};function fk(e){switch(e){case A.OK:return X();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return X()}}function hk(e){if(e===void 0)return et("GRPC error has no .code"),A.UNKNOWN;switch(e){case nt.OK:return A.OK;case nt.CANCELLED:return A.CANCELLED;case nt.UNKNOWN:return A.UNKNOWN;case nt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case nt.INTERNAL:return A.INTERNAL;case nt.UNAVAILABLE:return A.UNAVAILABLE;case nt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case nt.NOT_FOUND:return A.NOT_FOUND;case nt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case nt.ABORTED:return A.ABORTED;case nt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case nt.DATA_LOSS:return A.DATA_LOSS;default:return X()}}(pe=nt||(nt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var Vt=function(){function e(t,n){this.comparator=t,this.root=n||Gi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new cp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new cp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new cp(this.root,t,this.comparator,!0)},e}(),cp=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Gi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();var t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)},e}();Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1,Gi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw X()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Gi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ft=function(){function e(t){this.comparator=t,this.data=new Vt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new pk(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new pk(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),pk=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),bV=new Vt(J.comparator);function rr(){return bV}var _V=new Vt(J.comparator);function D0(){return _V}var EV=new Vt(J.comparator);function dk(){return EV}var TV=new ft(J.comparator);function Ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=TV,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var SV=new ft(fe);function lp(){return SV}var M0=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,L0.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ue.min(),r,lp(),rr(),Ie())},e}(),L0=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(an.EMPTY_BYTE_STRING,n,Ie(),Ie(),Ie())},e}(),fp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},mk=function(e,t){this.targetId=e,this.V=t},vk=function(e,t,n,r){n===void 0&&(n=an.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},gk=function(){function e(){this.S=0,this.D=yk(),this.C=an.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Ie(),n=Ie(),r=Ie();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:X()}}),new L0(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=yk()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),IV=function(){function e(t){this.W=t,this.G=new Map,this.H=rr(),this.J=wk(),this.Y=new ft(fe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.$(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.$(t.resumeToken);break;case 2:o.K(),o.k||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.$(t.resumeToken));break;default:X()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(rp(s))if(r===0){var u=new J(s.path);this.tt(n,u,kt.newNoDocument(u,ue.min()))}else te(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,c){var f=n.ot(c);if(f){if(u.current&&rp(f.target)){var h=new J(f.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,kt.newNoDocument(h,t))}u.O&&(r.set(c,u.M()),u.L())}});var o=Ie();this.J.forEach(function(u,c){var f=!0;c.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new M0(t,r,this.Y,this.H,o);return this.H=rr(),this.J=wk(),this.Y=new ft(fe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new gk,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new ft(fe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new gk),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function wk(){return new Vt(J.comparator)}function yk(){return new Vt(J.comparator)}var xV={asc:"ASCENDING",desc:"DESCENDING"},NV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kV=function(e,t){this.databaseId=e,this.I=t};function Xc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function bk(e,t){return e.I?t.toBase64():t.toUint8Array()}function PV(e,t){return Xc(e,t.toTimestamp())}function Pt(e){return te(!!e),ue.fromTimestamp(function(t){var n=qi(t);return new sn(n.seconds,n.nanos)}(e))}function j0(e,t){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Ek(e){var t=we.fromString(e);return te(_k(t)),t}function Qc(e,t){return j0(e.databaseId,t.path)}function zr(e,t){var n=Ek(t);if(n.get(1)!==e.databaseId.projectId)throw new F(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(Tk(n))}function U0(e,t){return j0(e.databaseId,t)}function Sk(e){var t=Ek(e);return t.length===4?we.emptyPath():Tk(t)}function Jc(e){return new we(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tk(e){return te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Ik(e,t,n){return{name:Qc(e,t),fields:n.toProto().mapValue.fields}}function xk(e,t,n){var r=zr(e,t.name),o=Pt(t.updateTime),s=new Un({mapValue:{fields:t.fields}}),u=kt.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function hp(e,t){var n;if(t instanceof $c)n={update:Ik(e,t.key,t.value)};else if(t instanceof Yc)n={delete:Qc(e,t.key)};else if(t instanceof Hi)n={update:Ik(e,t.key,t.data),updateMask:OV(t.fieldMask)};else{if(!(t instanceof R0))return X();n={verify:Qc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof Pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Oa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw X()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:PV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(e,t.precondition)),n}function Nk(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?Ft.updateTime(Pt(h.updateTime)):h.exists!==void 0?Ft.exists(h.exists):Ft.none()}(t.currentDocument):Ft.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,y){var v=null;if("setToServerValue"in y)te(y.setToServerValue==="REQUEST_TIME"),v=new Pa;else if("appendMissingElements"in y){var E=y.appendMissingElements.values||[];v=new cs(E)}else if("removeAllFromArray"in y){var S=y.removeAllFromArray.values||[];v=new ls(S)}else"increment"in y?v=new Oa(d,y.increment):X();var I=tr.fromServerFormat(y.fieldPath);return new Wc(I,v)}(e,h)}):[];if(t.update){t.update.name;var o=zr(e,t.update.name),s=new Un({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(h){var d=h.fieldPaths||[];return new Ta(d.map(function(y){return tr.fromServerFormat(y)}))}(t.updateMask);return new Hi(o,s,u,n,r)}return new $c(o,s,n,r)}if(t.delete){var c=zr(e,t.delete);return new Yc(c,n)}if(t.verify){var f=zr(e,t.verify);return new R0(f,n)}return X()}function kk(e,t){return{documents:[U0(e,t.path)]}}function Ok(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=U0(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=U0(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(h){return function(d){if(d.op==="=="){if(qN(d.value))return{unaryFilter:{field:Aa(d.field),op:"IS_NAN"}};if(BN(d.value))return{unaryFilter:{field:Aa(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(qN(d.value))return{unaryFilter:{field:Aa(d.field),op:"IS_NOT_NAN"}};if(BN(d.value))return{unaryFilter:{field:Aa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(d.field),op:CV(d.op),value:d.value}}}(h)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(h){return{field:Aa(h.field),direction:AV(h.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(c,f){return c.I||us(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=Pk(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Pk(t.endAt)),n}function Rk(e){var t=Sk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){te(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=Ak(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(y){return function(v){return new xa(Ca(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(y)}));var f=null;n.limit&&(f=function(y){var v;return us(v=typeof y=="object"?y.value:y)?null:v}(n.limit));var h=null;n.startAt&&(h=Ck(n.startAt));var d=null;return n.endAt&&(d=Ck(n.endAt)),$N(t,o,c,u,f,"F",h,d)}function Ak(e){return e?e.unaryFilter!==void 0?[DV(e)]:e.fieldFilter!==void 0?[RV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Ak(t)}).reduce(function(t,n){return t.concat(n)}):X():[]}function Pk(e){return{before:e.before,values:e.position}}function Ck(e){var t=!!e.before,n=e.values||[];return new Hc(n,t)}function AV(e){return xV[e]}function CV(e){return NV[e]}function Aa(e){return{fieldPath:e.canonicalString()}}function Ca(e){return tr.fromServerFormat(e.fieldPath)}function RV(e){return Fn.create(Ca(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}function DV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ca(e.unaryFilter.field);return Fn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ca(e.unaryFilter.field);return Fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ca(e.unaryFilter.field);return Fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ca(e.unaryFilter.field);return Fn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return X()}}function OV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function _k(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function kr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dk(t)),t=LV(e.get(n),t);return Dk(t)}function LV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Dk(e){return e+""}function hi(e){var t=e.length;if(te(t>=2),t===2)return te(e.charAt(0)===""&&e.charAt(1)===""),we.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&X(),e.charAt(u+1)){case"":var c=e.substring(s,u),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:X()}s=u+2}return new we(r)}var MV=function(e,t){this.seconds=e,this.nanoseconds=t},Vn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Vn.store="owner",Vn.key="owner";var Ki=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ki.store="mutationQueues",Ki.keyPath="userId";var Ce=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Ce.store="mutations",Ce.keyPath="batchId",Ce.userMutationsIndex="userMutationsIndex",Ce.userMutationsKeyPath=["userId","batchId"];var Bt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,kr(n)]},e.key=function(t,n,r){return[t,kr(n),r]},e}();Bt.store="documentMutations",Bt.PLACEHOLDER=new Bt;var jV=function(e,t){this.path=e,this.readTime=t},UV=function(e,t){this.path=e,this.version=t},ze=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};ze.store="remoteDocuments",ze.readTimeIndex="readTimeIndex",ze.readTimeIndexPath="readTime",ze.collectionReadTimeIndex="collectionReadTimeIndex",ze.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var bn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};bn.store="targets",bn.keyPath="targetId",bn.queryTargetsIndexName="queryTargetsIndex",bn.queryTargetsKeyPath=["canonicalId","targetId"];var Ot=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ot.store="targetDocuments",Ot.keyPath=["targetId","path"],Ot.documentTargetsIndex="documentTargetsIndex",Ot.documentTargetsKeyPath=["path","targetId"];var Bn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bn.key="targetGlobalKey",Bn.store="targetGlobal";var fs=function(e,t){this.collectionId=e,this.parent=t};fs.store="collectionParents",fs.keyPath=["collectionId","parent"];var pi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};pi.store="clientMetadata",pi.keyPath="clientId";var Ra=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Ra.store="bundles",Ra.keyPath="bundleId";var Da=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Da.store="namedQueries",Da.keyPath="name";var FV=Xe(Xe([],Xe(Xe([],Xe(Xe([],Xe(Xe([],[Ki.store,Ce.store,Bt.store,ze.store,bn.store,Vn.store,Bn.store,Ot.store]),[pi.store])),[Hr.store])),[fs.store])),[Ra.store,Da.store]),Lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mk=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),un=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(c){++o,c.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(c){return c?e.resolve(c):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),jk=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new un,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Zc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=F0(o.target.error);r.ft.reject(new Zc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Zc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new VV(n)},e}(),La=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ri())===12.2&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),hs(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB=="undefined")return!1;if(e.gt())return!0;var t=Ri(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process!="undefined"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return M(this,void 0,void 0,function(){var n,r=this;return L(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var h=f.target.result;s(h)},c.onblocked=function(){u(new Zc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var h=f.target.error;h.name==="VersionError"?u(new F(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Zc(t,h))},c.onupgradeneeded=function(f){z("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var h=f.target.result;r.wt.Rt(h,c.transaction,f.oldVersion,r.version).next(function(){z("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return M(this,void 0,void 0,function(){var s,u,c,f,h;return L(this,function(d){switch(d.label){case 0:s=n==="readonly",u=0,c=function(){var y,v,E,S,I;return L(this,function(_){switch(_.label){case 0:++u,_.label=1;case 1:return _.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=_.sent(),y=jk.open(f.db,t,s?"readonly":"readwrite",r),v=o(y).catch(function(b){return y.abort(b),V.reject(b)}).toPromise(),E={},v.catch(function(){}),[4,y.dt];case 3:return[2,(E.value=(_.sent(),v),E)];case 4:return S=_.sent(),I=S.name!=="FirebaseError"&&u<3,z("SimpleDb","Transaction failed with error:",S.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(S)}];case 5:return[2]}})},f=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),BV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return hs(this.Pt.delete())},e}(),Zc=function(e){function t(n,r){var o=this;return(o=e.call(this,A.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return ee(t,e),t}(F);function ps(e){return e.name==="IndexedDbTransactionError"}var VV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),hs(r)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),hs(this.store.add(t))},e.prototype.get=function(t){var n=this;return hs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),z("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),hs(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),hs(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.Ft=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var o=this.cursor(r);return this.xt(o,function(s,u,c){return c.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.$t=function(t){var n=this.cursor({});return new V(function(r,o){n.onerror=function(s){var u=F0(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(c){c?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var c=u.target.result;if(c){var f=new BV(c),h=n(c.primaryKey,c.value,f);if(h instanceof V){var d=h.catch(function(y){return f.done(),V.reject(y)});r.push(d)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function hs(e){return new V(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=F0(r.target.error);n(o)}})}var Uk=!1;function F0(e){var t=La._t(Ri());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Uk||(Uk=!0,setTimeout(function(){throw r},0)),r}}return e}var Fk=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return ee(t,e),t}(Mk);function _n(e,t){var n=H(e);return La.It(n.Mt,t)}var V0=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&yV(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&C0(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&C0(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ie())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ea(this.mutations,t.mutations,function(n,r){return lk(n,r)})&&Ea(this.baseMutations,t.baseMutations,function(n,r){return lk(n,r)})},e}(),qV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){te(t.mutations.length===r.length);for(var o=dk(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),pp=function(){function e(t,n,r,o,s,u,c){s===void 0&&(s=ue.min()),u===void 0&&(u=ue.min()),c===void 0&&(c=an.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Vk=function(e){this.Lt=e};function B0(e,t){if(t.document)return xk(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=J.fromSegments(t.noDocument.path),r=Ma(t.noDocument.readTime),o=kt.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=J.fromSegments(t.unknownDocument.path);return r=Ma(t.unknownDocument.version),kt.newUnknownDocument(s,r)}return X()}function Bk(e,t,n){var r=q0(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(y,v){return{name:Qc(y,v.key),fields:v.data.toProto().mapValue.fields,updateTime:Xc(y,v.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new ze(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=ja(t.version);return u=t.hasCommittedMutations,new ze(null,new jV(c,f),null,u,r,o)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=ja(t.version);return new ze(new UV(h,d),null,null,!0,r,o)}return X()}function q0(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qk(e){var t=new sn(e[0],e[1]);return ue.fromTimestamp(t)}function ja(e){var t=e.toTimestamp();return new MV(t.seconds,t.nanoseconds)}function Ma(e){var t=new sn(e.seconds,e.nanoseconds);return ue.fromTimestamp(t)}function Ua(e,t){for(var n=(t.baseMutations||[]).map(function(f){return Nk(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return Nk(e.Lt,f)}),c=sn.fromMillis(t.localWriteTimeMs);return new V0(t.batchId,c,n,u)}function el(e){var t,n,r=Ma(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Ma(e.lastLimboFreeSnapshotVersion):ue.min();return e.query.documents!==void 0?(te((n=e.query).documents.length===1),t=nr(Na(Sk(n.documents[0])))):t=function(s){return nr(Rk(s))}(e.query),new pp(t,e.targetId,0,e.lastListenSequenceNumber,r,o,an.fromBase64String(e.resumeToken))}function zk(e,t){var n,r=ja(t.snapshotVersion),o=ja(t.lastLimboFreeSnapshotVersion);n=rp(t.target)?kk(e.Lt,t.target):Ok(e.Lt,t.target);var s=t.resumeToken.toBase64();return new bn(t.targetId,zc(t.target),r,s,t.sequenceNumber,o,n)}function z0(e){var t=Rk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YN(t,t.limit,"L"):t}var zV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Hk(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Ma(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return Hk(t).put({bundleId:(r=n).id,createTime:ja(Pt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return Gk(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:z0(o.bundledQuery),readTime:Ma(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return Gk(t).put(function(r){return{name:r.name,readTime:ja(Pt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Hk(e){return _n(e,Ra.store)}function Gk(e){return _n(e,Da.store)}var HV=function(){function e(){this.Bt=new H0}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),H0=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new ft(we.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new ft(we.comparator)).toArray()},e}(),GV=function(){function e(){this.qt=new H0}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:kr(s)};return Kk(t).put(u)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[DN(n),""],!1,!0);return Kk(t).Nt(o).next(function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(f.collectionId!==n)break;r.push(hi(f.parent))}return r})},e}();function Kk(e){return _n(e,fs.store)}var Wk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function $k(e,t,n){var r=e.store(Ce.store),o=e.store(Bt.store),s=[],u=IDBKeyRange.only(n.batchId),c=0,f=r.Ot({range:u},function(S,I,_){return c++,_.delete()});s.push(f.next(function(){te(c===1)}));for(var h=[],d=0,y=n.mutations;d<y.length;d++){var v=y[d],E=Bt.key(t,v.key.path,n.batchId);s.push(o.delete(E)),h.push(v.key)}return V.waitFor(s).next(function(){return h})}function dp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw X();t=e.noDocument}return JSON.stringify(t).length}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);var KV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Qt={}}return e.Kt=function(t,n,r,o){return te(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(t).Ot({index:Ce.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=Fa(t),c=Wi(t);return c.add({}).next(function(f){te(typeof f=="number");for(var h=new V0(f,n,r,o),d=function(b,T,N){var k=N.baseMutations.map(function(O){return hp(b.Lt,O)}),C=N.mutations.map(function(O){return hp(b.Lt,O)});return new Ce(T,N.batchId,N.localWriteTime.toMillis(),k,C)}(s.R,s.userId,h),y=[],v=new ft(function(b,T){return fe(b.canonicalString(),T.canonicalString())}),E=0,S=o;E<S.length;E++){var I=S[E],_=Bt.key(s.userId,I.key.path,f);v=v.add(I.key.path.popLast()),y.push(c.put(d)),y.push(u.put(_,Bt.PLACEHOLDER))}return v.forEach(function(b){y.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Qt[f]=h.keys()}),V.waitFor(y).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Wi(t).get(n).next(function(o){return o?(te(o.userId===r.userId),Ua(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?V.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Wi(t).Ot({index:Ce.userMutationsIndex,range:s},function(c,f,h){f.userId===r.userId&&(te(f.batchId>=o),u=Ua(r.R,f)),h.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Wi(t).Ot({index:Ce.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(t).Nt(Ce.userMutationsIndex,r).next(function(o){return o.map(function(s){return Ua(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=Bt.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return Fa(t).Ot({range:s},function(c,f,h){var d=c[0],y=c[1],v=c[2],E=hi(y);if(d===r.userId&&n.path.isEqual(E))return Wi(t).get(v).next(function(S){if(!S)throw X();te(S.userId===r.userId),u.push(Ua(r.R,S))});h.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new ft(fe),s=[];return n.forEach(function(u){var c=Bt.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(c),h=Fa(t).Ot({range:f},function(d,y,v){var E=d[0],S=d[1],I=d[2],_=hi(S);E===r.userId&&u.path.isEqual(_)?o=o.add(I):v.done()});s.push(h)}),V.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=Bt.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(u),f=new ft(fe);return Fa(t).Ot({range:c},function(h,d,y){var v=h[0],E=h[1],S=h[2],I=hi(E);v===r.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(S)):y.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Wi(t).get(u).next(function(c){if(c===null)throw X();te(c.userId===r.userId),o.push(Ua(r.R,c))}))}),V.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return $k(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var o=IDBKeyRange.lowerBound(Bt.prefixForUser(n.userId)),s=[];return Fa(t).Ot({range:o},function(u,c,f){if(u[0]===n.userId){var h=hi(u[1]);s.push(h)}else f.done()}).next(function(){te(s.length===0)})})},e.prototype.containsKey=function(t,n){return Yk(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Xk(t).get(this.userId).next(function(r){return r||new Ki(n.userId,-1,"")})},e}();function Yk(e,t,n){var r=Bt.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return Fa(e).Ot({range:s,kt:!0},function(c,f,h){var d=c[0],y=c[1];c[2],d===t&&y===o&&(u=!0),h.done()}).next(function(){return u})}function Wi(e){return _n(e,Ce.store)}function Fa(e){return _n(e,Bt.store)}function Xk(e){return _n(e,Ki.store)}var mp=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),WV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new mp(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ue.fromTimestamp(new sn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Va(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return te(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return Va(t).Ot(function(c,f){var h=el(f);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,u.push(o.removeTargetData(t,h)))}).next(function(){return V.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Va(t).Ot(function(r,o){var s=el(o);n(s)})},e.prototype.Xt=function(t){return Qk(t).get(Bn.key).next(function(n){return te(n!==null),n})},e.prototype.Zt=function(t,n){return Qk(t).put(Bn.key,n)},e.prototype.te=function(t,n){return Va(t).put(zk(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=zc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Va(t).Ot({range:o,index:bn.queryTargetsIndexName},function(u,c,f){var h=el(c);np(n,h.target)&&(s=h,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=$i(t);return n.forEach(function(c){var f=kr(c.path);s.push(u.put(new Ot(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),V.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=$i(t);return V.forEach(n,function(u){var c=kr(u.path);return V.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=$i(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=$i(t),s=Ie();return o.Ot({range:r,kt:!0},function(u,c,f){var h=hi(u[1]),d=new J(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=kr(n.path),o=IDBKeyRange.bound([r],[DN(r)],!1,!0),s=0;return $i(t).Ot({index:Ot.documentTargetsIndex,kt:!0,range:o},function(u,c,f){var h=u[0];u[1],h!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Va(t).get(n).next(function(r){return r?el(r):null})},e}();function Va(e){return _n(e,bn.store)}function Qk(e){return _n(e,Bn.store)}function $i(e){return _n(e,Ot.store)}function ds(e){return M(this,void 0,void 0,function(){return L(this,function(t){if(e.code!==A.FAILED_PRECONDITION||e.message!==Lk)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Jk(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=fe(n,o);return u===0?fe(r,s):u}var $V=function(){function e(t){this.ne=t,this.buffer=new ft(Jk),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Jk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),YV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return M(n,void 0,void 0,function(){var o;return L(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ps(o=s.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,ds(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),XV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(jn.o);var o=new $V(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(Wk)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Wk):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,c,f,h,d=this,y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>d.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+v),o=d.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),d.nthSequenceNumber(t,o)}).next(function(v){return r=v,c=Date.now(),d.removeTargets(t,r,n)}).next(function(v){return s=v,f=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(v){return h=Date.now(),w0()<=me.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-y)+`ms
	Determined least recently used `+o+" in "+(c-u)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+v+" documents in "+(h-f)+`ms
Total Duration: `+(h-y)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:v})})},e}(),QV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new XV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return vp(t,r)},e.prototype.removeReference=function(t,n,r){return vp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return vp(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return Xk(r).$t(function(u){return Yk(r,u,o).next(function(c){return c&&(s=!0),V.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(c,f){if(f<=n){var h=r._e(t,c).next(function(d){if(!d)return u++,o.getEntry(t,c).next(function(){return o.removeEntry(c),$i(t).delete([0,kr(c.path)])})});s.push(h)}}).next(function(){return V.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return vp(t,n)},e.prototype.we=function(t,n){var r,o=$i(t),s=jn.o;return o.Ot({index:Ot.documentTargetsIndex},function(u,c){var f=u[0],h=(u[1],c.path),d=c.sequenceNumber;f===0?(s!==jn.o&&n(new J(hi(r)),s),s=d,r=h):s=jn.o}).next(function(){s!==jn.o&&n(new J(hi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function vp(e,t){return $i(e).put(function(n,r){return new Ot(0,kr(n.path),r)}(t,e.currentSequenceNumber))}var Ba=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Vc(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];t(c,f)}})},e.prototype.isEmpty=function(){return MN(this.inner)},e}(),Zk=function(){function e(){this.changes=new Ba(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:kt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),ZV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Yi(t).put(yp(n),r)},e.prototype.removeEntry=function(t,n){var r=Yi(t),o=yp(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Yi(t).get(yp(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Yi(t).get(yp(n)).next(function(o){return{document:r.ye(n,o),size:dp(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=rr();return this.pe(t,n,function(s,u){var c=r.ye(s,u);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=rr(),s=new Vt(J.comparator);return this.pe(t,n,function(u,c){var f=r.ye(u,c);o=o.insert(u,f),s=s.insert(u,dp(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Yi(t).Ot({range:o},function(c,f,h){for(var d=J.fromSegments(c);u&&J.comparator(u,d)<0;)r(u,null),u=s.getNext();u&&u.isEqual(d)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?h.Ct(u.path.toArray()):h.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=rr(),u=n.path.length+1,c={};if(r.isEqual(ue.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var h=n.path.toArray(),d=q0(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=ze.collectionReadTimeIndex}return Yi(t).Ot(c,function(y,v,E){if(y.length===u){var S=B0(o.R,v);n.path.isPrefixOf(S.key.path)?Kc(n,S)&&(s=s.insert(S.key,S)):E.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new JV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return eP(t).get(Hr.key).next(function(n){return te(!!n),n})},e.prototype.me=function(t,n){return eP(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var r=B0(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ue.min()))return r}return kt.newInvalidDocument(t)},e}(),JV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ba(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return ee(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new ft(function(c,f){return fe(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var h=r.Ae.get(c);if(f.document.isValidDocument()){var d=Bk(r.Ie.R,f.document,r.getReadTime(c));u=u.add(c.path.popLast());var y=dp(d);s+=y-h,o.push(r.Ie.addEntry(n,c,d))}else if(s-=h,r.trackRemovals){var v=Bk(r.Ie.R,kt.newNoDocument(c,ue.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,v))}else o.push(r.Ie.removeEntry(n,c))}),u.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),V.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),u})},t}(Zk);function eP(e){return _n(e,Hr.store)}function Yi(e){return _n(e,ze.store)}function yp(e){return e.path.toArray()}var eB=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;te(r<o&&r>=0&&o<=11);var u=new jk("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Vn.store)}(t),function(f){f.createObjectStore(Ki.store,{keyPath:Ki.keyPath}),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Bt.store)}(t),tP(t),function(f){f.createObjectStore(ze.store)}(t));var c=V.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(Ot.store),f.deleteObjectStore(bn.store),f.deleteObjectStore(Bn.store)}(t),tP(t)),c=c.next(function(){return function(f){var h=f.store(Bn.store),d=new Bn(0,0,ue.min().toTimestamp(),0);return h.put(Bn.key,d)}(u)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,h){return h.store(Ce.store).Nt().next(function(d){f.deleteObjectStore(Ce.store),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0});var y=h.store(Ce.store),v=d.map(function(E){return y.put(E)});return V.waitFor(v)})}(t,u)})),c=c.next(function(){(function(f){f.createObjectStore(pi.store,{keyPath:pi.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(u)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),s.be(u)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(u)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var h=f.objectStore(ze.store);h.createIndex(ze.readTimeIndex,ze.readTimeIndexPath,{unique:!1}),h.createIndex(ze.collectionReadTimeIndex,ze.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(u)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(Ra.store,{keyPath:Ra.keyPath})})(t),function(f){f.createObjectStore(Da.store,{keyPath:Da.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(ze.store).Ot(function(r,o){n+=dp(o)}).next(function(){var r=new Hr(n);return t.store(Hr.store).put(Hr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Ki.store),o=t.store(Ce.store);return r.Nt().next(function(s){return V.forEach(s,function(u){var c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(Ce.userMutationsIndex,c).next(function(f){return V.forEach(f,function(h){te(h.userId===u.userId);var d=Ua(n.R,h);return $k(t,u.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Ot.store),r=t.store(ze.store);return t.store(Bn.store).get(Bn.key).next(function(o){var s=[];return r.Ot(function(u,c){var f=new we(u),h=function(d){return[0,kr(d)]}(f);s.push(n.get(h).next(function(d){return d?V.resolve():function(y){return n.put(new Ot(0,kr(y),o.highestListenSequenceNumber))}(f)}))}).next(function(){return V.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(fs.store,{keyPath:fs.keyPath});var r=n.store(fs.store),o=new H0,s=function(u){if(o.add(u)){var c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:kr(f)})}};return n.store(ze.store).Ot({kt:!0},function(u,c){var f=new we(u);return s(f.popLast())}).next(function(){return n.store(Bt.store).Ot({kt:!0},function(u,c){u[0];var f=u[1],h=(u[2],hi(f));return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(bn.store);return r.Ot(function(o,s){var u=el(s),c=zk(n.R,u);return r.put(c)})},e}();function tP(e){e.createObjectStore(Ot.store,{keyPath:Ot.keyPath}).createIndex(Ot.documentTargetsIndex,Ot.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(bn.store,{keyPath:bn.keyPath}).createIndex(bn.queryTargetsIndexName,bn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Bn.store)}var G0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tB=function(){function e(t,n,r,o,s,u,c,f,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=c,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(y){return Promise.resolve()},!e.yt())throw new F(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QV(this,o),this.Le=n+"main",this.R=new Vk(f),this.Be=new La(this.Le,11,new eB(this.R)),this.qe=new WV(this.referenceDelegate,this.R),this.Ut=new GV,this.Ue=function(y,v){return new ZV(y,v)}(this.R,this.Ut),this.Qe=new zV,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,d===!1&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new F(A.FAILED_PRECONDITION,G0);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new jn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return M(n,void 0,void 0,function(){return L(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return M(n,void 0,void 0,function(){return L(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return M(n,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return gp(n).put(new pi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ps(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return tl(t).get(Vn.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return gp(t).delete(this.clientId)},e.prototype.nn=function(){return M(this,void 0,void 0,function(){var t,n,r,o,s=this;return L(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=_n(c,pi.store);return f.Nt().next(function(h){var d=s.rn(h,18e5),y=h.filter(function(v){return d.indexOf(v)===-1});return V.forEach(y,function(v){return f.delete(v.clientId)}).next(function(){return y})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)o=r[n],this.Ke.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):tl(t).get(Vn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new F(A.FAILED_PRECONDITION,G0);return!1}}return!(!n.networkEnabled||!n.inForeground)||gp(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&z("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return M(this,void 0,void 0,function(){var t=this;return L(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Vn.store,pi.store],function(r){var o=new Fk(r,jn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return gp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return KV.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;z("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,FV,function(c){return s=new Fk(c,o.Ne?o.Ne.next():jn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw et("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new F(A.FAILED_PRECONDITION,Lk);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return tl(t).get(Vn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new F(A.FAILED_PRECONDITION,G0)})},e.prototype.Ze=function(t){var n=new Vn(this.clientId,this.allowTabSynchronization,Date.now());return tl(t).put(Vn.key,n)},e.yt=function(){return La.yt()},e.prototype.Xe=function(t){var n=this,r=tl(t);return r.get(Vn.key).next(function(o){return n.tn(o)?(z("IndexedDbPersistence","Releasing primary lease."),r.delete(Vn.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(et("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return et("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){et("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function tl(e){return _n(e,Vn.store)}function gp(e){return _n(e,pi.store)}function K0(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var nB=function(e,t){this.progress=e,this.wn=t},nP=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):O0(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new J(n)).next(function(r){var o=D0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=D0();return this.Ut.getCollectionParents(t,s).next(function(c){return V.forEach(c,function(f){var h=function(d,y){return new fi(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,f.child(s));return o.An(t,h,r).next(function(d){d.forEach(function(y,v){u=u.insert(y,v)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,u.Rn(t,s,o).next(function(f){o=f;for(var h=0,d=s;h<d.length;h++)for(var y=d[h],v=0,E=y.mutations;v<E.length;v++){var S=E[v],I=S.key,_=o.get(I);_==null&&(_=kt.newInvalidDocument(I),o=o.insert(I,_)),C0(S,_,y.localWriteTime),_.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(c,f){Kc(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=Ie(),s=0,u=n;s<u.length;s++)for(var c=0,f=u[s].mutations;c<f.length;c++){var h=f[c];h instanceof Hi&&r.get(h.key)===null&&(o=o.add(h.key))}var d=r;return this.Ue.getEntries(t,o).next(function(y){return y.forEach(function(v,E){E.isFoundDocument()&&(d=d.insert(v,E))}),d})},e}(),rB=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=Ie(),o=Ie(),s=0,u=n.docChanges;s<u.length;s++){var c=u[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),rP=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var c=s.Cn(n,u);return(ip(n)||op(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(w0()<=me.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),A0(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(h){f=f.insert(h.key,h)}),f}))})},e.prototype.Cn=function(t,n){var r=new ft(QN(t));return n.forEach(function(o,s){Kc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return w0()<=me.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",A0(n)),this.Sn.getDocumentsMatchingQuery(t,n,ue.min())},e}(),iB=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.Fn=new Vt(fe),this.kn=new Ba(function(s){return zc(s)},np),this.On=ue.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new nP(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();function iP(e,t,n,r){return new iB(e,t,n,r)}function oP(e,t){return M(this,void 0,void 0,function(){var n,r,o,s;return L(this,function(u){switch(u.label){case 0:return n=H(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(h){return f=h,r=n.persistence.getMutationQueue(t),o=new nP(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var d=[],y=[],v=Ie(),E=0,S=f;E<S.length;E++){var I=S[E];d.push(I.batchId);for(var _=0,b=I.mutations;_<b.length;_++){var T=b[_];v=v.add(T.key)}}for(var N=0,k=h;N<k.length;N++){var C=k[N];y.push(C.batchId);for(var O=0,j=C.mutations;O<j.length;O++){var q=j[O];v=v.add(q.key)}}return o.pn(c,v).next(function(D){return{Ln:D,removedBatchIds:d,addedBatchIds:y}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function oB(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){var d=f.batch,y=d.keys(),v=V.resolve();return y.forEach(function(E){v=v.next(function(){return h.getEntry(c,E)}).next(function(S){var I=f.docVersions.get(E);te(I!==null),S.version.compareTo(I)<0&&(d.applyToRemoteDocument(S,f),S.isValidDocument()&&h.addEntry(S,f.commitVersion))})}),v.next(function(){return u._n.removeMutationBatch(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function sP(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function sB(e,t){var n=H(e),r=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.$n.newChangeBuffer({trackRemovals:!0});o=n.Fn;var c=[];t.targetChanges.forEach(function(d,y){var v=o.get(y);if(v){c.push(n.qe.removeMatchingKeys(s,d.removedDocuments,y).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,y)}));var E=d.resumeToken;if(E.approximateByteSize()>0){var S=v.withResumeToken(E,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(y,S),function(I,_,b){return te(_.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,S,d)&&c.push(n.qe.updateTargetData(s,S))}}});var f=rr();if(t.documentUpdates.forEach(function(d,y){t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(aP(s,u,t.documentUpdates,r,void 0).next(function(d){f=d})),!r.isEqual(ue.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return V.waitFor(c).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.Fn=o,s})}function aP(e,t,n,r,o){var s=Ie();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var c=rr();return n.forEach(function(f,h){var d=u.get(f),y=(o==null?void 0:o.get(f))||r;h.isNoDocument()&&h.version.isEqual(ue.min())?(t.removeEntry(f,y),c=c.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,y),c=c.insert(f,h)):z("LocalStore","Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)}),c})}function aB(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function qa(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,V.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new pp(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.Fn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function za(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u;return L(this,function(c){switch(c.label){case 0:r=H(e),o=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!ps(u=c.sent()))throw u;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(o.target),[2]}})})}function wp(e,t,n){var r=H(e),o=ue.min(),s=Ie();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(c,f,h){var d=H(c),y=d.kn.get(h);return y!==void 0?V.resolve(d.Fn.get(y)):d.qe.getTargetData(f,h)}(r,u,nr(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:ue.min(),n?s:Ie())}).next(function(c){return{documents:c,Bn:s}})})}function uP(e,t){var n=H(e),r=H(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function cP(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=H(r),c=rr(),f=q0(s),h=Yi(o),d=IDBKeyRange.lowerBound(f,!0);return h.Ot({index:ze.readTimeIndex,range:d},function(y,v){var E=B0(u.R,v);c=c.insert(E.key,E),f=v.readTime}).next(function(){return{wn:c,readTime:qk(f)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,o=n.readTime;return t.On=o,r})}function uB(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Yi(o),u=ue.min();return s.Ot({index:ze.readTimeIndex,reverse:!0},function(c,f,h){f.readTime&&(u=qk(f.readTime)),h.done()}).next(function(){return u})}(r)}).then(function(r){t.On=r})]})})}function cB(e,t,n,r){return M(this,void 0,void 0,function(){var o,s,u,c,f,h,d,y,v,E;return L(this,function(S){switch(S.label){case 0:for(o=H(e),s=Ie(),u=rr(),c=dk(),f=0,h=n;f<h.length;f++)d=h[f],y=t.qn(d.metadata.name),d.document&&(s=s.add(y)),u=u.insert(y,t.Un(d)),c=c.insert(y,t.Qn(d.metadata.readTime));return v=o.$n.newChangeBuffer({trackRemovals:!0}),[4,qa(o,function(I){return nr(Na(we.fromString("__bundle__/docs/"+I)))}(r))];case 1:return E=S.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(I){return aP(I,v,u,ue.min(),c).next(function(_){return v.apply(I),_}).next(function(_){return o.qe.removeMatchingKeysForTargetId(I,E.targetId).next(function(){return o.qe.addMatchingKeys(I,s,E.targetId)}).next(function(){return o.Mn.En(I,_)}).next(function(){return _})})})]}})})}function lB(e,t,n){return n===void 0&&(n=Ie()),M(this,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return[4,qa(e,nr(z0(t.bundledQuery)))];case 1:return r=s.sent(),[2,(o=H(e)).persistence.runTransaction("Save named query","readwrite",function(u){var c=Pt(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return o.Qe.saveNamedQuery(u,t);var f=r.withResumeToken(an.EMPTY_BYTE_STRING,c);return o.Fn=o.Fn.insert(f.targetId,f),o.qe.updateTargetData(u,f).next(function(){return o.qe.removeMatchingKeysForTargetId(u,r.targetId)}).next(function(){return o.qe.addMatchingKeys(u,n,r.targetId)}).next(function(){return o.Qe.saveNamedQuery(u,t)})})]}})})}var fB=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:Pt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:z0(r.bundledQuery),readTime:Pt(r.readTime)}}(n)),V.resolve()},e}(),W0=function(){function e(){this.Wn=new ft(bt.Gn),this.zn=new ft(bt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new bt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new bt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new J(new we([])),o=new bt(r,t),s=new bt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),u.push(c.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new J(new we([])),r=new bt(n,t),o=new bt(n,t+1),s=Ie();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new bt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),bt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return J.comparator(t.key,n.key)||fe(t.ns,n.ns)},e.Hn=function(t,n){return fe(t.ns,n.ns)||J.comparator(t.key,n.key)},e}(),hB=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new ft(bt.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new V0(s,n,r,o);this._n.push(u);for(var c=0,f=o;c<f.length;c++){var h=f[c];this.rs=this.rs.add(new bt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return V.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return V.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new bt(n,0),s=new bt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);u.push(f)}),V.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new ft(fe);return n.forEach(function(s){var u=new bt(s,0),c=new bt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,c],function(f){o=o.add(f.ns)})}),V.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));var u=new bt(new J(s),0),c=new ft(fe);return this.rs.forEachWhile(function(f){var h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===o&&(c=c.add(f.ns)),!0)},u),V.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;te(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return V.forEach(n.mutations,function(s){var u=new bt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new bt(n,0),o=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),dB=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Vt(J.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():kt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=rr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():kt.newInvalidDocument(s))}),V.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=rr(),s=new J(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),f=c.key,h=c.value,d=h.document,y=h.readTime;if(!n.path.isPrefixOf(f.path))break;y.compareTo(r)<=0||Kc(n,d)&&(o=o.insert(d.key,d.clone()))}return V.resolve(o)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new pB(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),pB=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ee(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),V.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(Zk),mB=function(){function e(t){this.persistence=t,this.ds=new Ba(function(n){return zc(n)},np),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ws=0,this._s=new W0,this.targetCount=0,this.ys=mp.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new mp(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),V.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),V.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),yB=function(){function e(t,n){var r=this;this.gs={},this.Ne=new jn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new mB(this),this.Ut=new HV,this.Ue=function(o,s){return new dB(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new Vk(n),this.Qe=new fB(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new hB(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;z("MemoryPersistence","Starting transaction:",t);var s=new vB(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),vB=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ee(t,e),t}(Mk),gB=function(){function e(t){this.persistence=t,this.As=new W0,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw X()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(o){var s=J.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),qn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();function lP(e,t){return"firestore_clients_"+e+"_"+t}function fP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function $0(e,t){return"firestore_targets_"+e+"_"+t}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid");var hP=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new F(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(et("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Y0=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new F(o.error.code,o.error.message)),s?new e(t,o.state,r):(et("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),pP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=lp(),u=0;o&&u<r.activeTargetIds.length;++u)o=FN(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(et("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),wB=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(et("SharedClientState","Failed to parse online state: "+t),null)},e}(),X0=function(){function e(){this.activeTargetIds=lp()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Q0=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Vt(fe),this.started=!1,this.Os=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=lP(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new X0),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Qs=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return M(this,void 0,void 0,function(){var t,n,r,o,s,u,c,f,h,d,y,v=this;return L(this,function(E){switch(E.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=E.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(lP(this.persistenceKey,o)))&&(u=pP.Vs(o,s))&&(this.ks=this.ks.insert(u.clientId,u));for(this.Ks(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),h=0,d=this.Os;h<d.length;h++)y=d[h],this.Fs(y);return this.Os=[],this.window.addEventListener("unload",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem($0(this.persistenceKey,t));if(r){var o=Y0.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem($0(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(z("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return M(n,void 0,void 0,function(){var o,s,u,c,f,h;return L(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(h=function(y){var v=jn.o;if(y!=null)try{var E=JSON.parse(y);te(typeof E=="number"),v=E}catch(S){et("SharedClientState","Failed to read sequence number from WebStorage",S)}return v}(r.newValue))!==jn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new hP(this.currentUser,t,n,r),s=fP(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=fP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=$0(this.persistenceKey,t),s=new Y0(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return pP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return hP.Vs(new qn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Y0.Vs(o,n)},e.prototype.js=function(t){return wB.Vs(t)},e.prototype.ii=function(t){return M(this,void 0,void 0,function(){return L(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),u=this.Gs(o),c=[],f=[];return u.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){u.has(h)||f.push(h)}),this.syncEngine.hi(c,f).then(function(){r.ks=o})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=lp();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),dP=function(){function e(){this.li=new X0,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new X0,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),bB=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),mP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),_B={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},EB=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),TB=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return ee(t,e),t.prototype.ki=function(n,r,o,s){return new Promise(function(u,c){var f=new CN;f.listenOnce(ON.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Jh.NO_ERROR:var d=f.getResponseJson();z("Connection","XHR received:",JSON.stringify(d)),u(d);break;case Jh.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),c(new F(A.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:var y=f.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',y,"response text:",f.getResponseText()),y>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var E=function(S){var I=S.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(I)>=0?I:A.UNKNOWN}(v.status);c(new F(E,v.message))}else c(new F(A.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new F(A.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);f.send(r,"POST",h,o,15)})},t.prototype.$i=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=kN(),u=PN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(c.initMessageHeaders,r),bI()||TI()||SI()||II()||xI()||bc()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");z("Connection","Creating WebChannel: "+f,c);var h=s.createWebChannel(f,c),d=!1,y=!1,v=new EB({Ei:function(S){y?z("Connection","Not sending because WebChannel is closed:",S):(d||(z("Connection","Opening WebChannel transport."),h.open(),d=!0),z("Connection","WebChannel sending:",S),h.send(S))},Ti:function(){return h.close()}}),E=function(S,I,_){S.listen(I,function(b){try{_(b)}catch(T){setTimeout(function(){throw T},0)}})};return E(h,Fc.EventType.OPEN,function(){y||z("Connection","WebChannel transport opened.")}),E(h,Fc.EventType.CLOSE,function(){y||(y=!0,z("Connection","WebChannel transport closed"),v.Vi())}),E(h,Fc.EventType.ERROR,function(S){y||(y=!0,_0("Connection","WebChannel transport errored:",S),v.Vi(new F(A.UNAVAILABLE,"The operation could not be completed")))}),E(h,Fc.EventType.MESSAGE,function(S){var I;if(!y){var _=S.data[0];te(!!_);var b=_,T=b.error||((I=b[0])===null||I===void 0?void 0:I.error);if(T){z("Connection","WebChannel received error:",T);var N=T.status,k=function(O){var j=nt[O];if(j!==void 0)return hk(j)}(N),C=T.message;k===void 0&&(k=A.INTERNAL,C="Unknown error status: "+N+" with message "+T.message),y=!0,v.Vi(new F(k,C)),h.close()}else z("Connection","WebChannel received:",_),v.Si(_)}}),E(u,AN.STAT_EVENT,function(S){S.stat===y0.PROXY?z("Connection","Detected buffering proxy"):S.stat===y0.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);z("RestConnection","Sending: ",s,r);var u={};return this.Fi(u,o),this.ki(t,s,u,r).then(function(c){return z("RestConnection","Received: ",c),c},function(c){throw _0("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.Oi=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=_B[t];return this.Di+"/v1/"+n+":"+r},e}());function vP(){return typeof window!="undefined"?window:null}function bp(){return typeof document!="undefined"?document:null}function _p(e){return new kV(e,!0)}var J0=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-o);s>0&&z("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),yP=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new J0(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return M(this,void 0,void 0,function(){return L(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return M(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===A.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new F(A.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return M(t,void 0,void 0,function(){return L(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),SB=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,c}return ee(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var c;if("targetChange"in u){u.targetChange;var f=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:X()}(u.targetChange.targetChangeType||"NO_CHANGE"),h=u.targetChange.targetIds||[],d=function(_,b){return _.I?(te(b===void 0||typeof b=="string"),an.fromBase64String(b||"")):(te(b===void 0||b instanceof Uint8Array),an.fromUint8Array(b||new Uint8Array))}(s,u.targetChange.resumeToken),y=(v=u.targetChange.cause)&&function(_){var b=_.code===void 0?A.UNKNOWN:hk(_.code);return new F(b,_.message||"")}(v);c=new vk(f,h,d,y||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,h=zr(s,f.document.name),d=Pt(f.document.updateTime);var v=new Un({mapValue:{fields:f.document.fields}}),E=(y=kt.newFoundDocument(h,d,v),f.targetIds||[]),S=f.removedTargetIds||[];c=new fp(E,S,y.key,y)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,h=zr(s,f.document),d=f.readTime?Pt(f.readTime):ue.min(),v=kt.newNoDocument(h,d),y=f.removedTargetIds||[],c=new fp([],y,v.key,v);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,h=zr(s,f.document),d=f.removedTargetIds||[],c=new fp([],d,h,null);else{if(!("filter"in u))return X();u.filter;var I=u.filter;I.targetId,f=I.count||0,h=new wV(f),d=I.targetId,c=new mk(d,h)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return ue.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?ue.min():u.readTime?Pt(u.readTime):ue.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=Jc(this.R),r.addTarget=function(s,u){var c,f=u.target;return(c=rp(f)?{documents:kk(s,f)}:{query:Ok(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=bk(s,u.resumeToken):u.snapshotVersion.compareTo(ue.min())>0&&(c.readTime=Xc(s,u.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,u){var c=function(f,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return X()}}(0,u.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Jc(this.R),r.removeTarget=n,this.cr(r)},t}(yP),IB=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,c.gr=!1,c}return ee(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(te(u!==void 0),s.map(function(c){return function(f,h){var d=f.updateTime?Pt(f.updateTime):Pt(h);return d.isEqual(ue.min())&&(d=Pt(h)),new vV(d,f.transformResults||[])}(c,u)})):[]}(n.writeResults,n.commitTime),o=Pt(n.commitTime);return this.listener.Tr(o,r)}return te(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Jc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return hp(r.R,s)})};this.cr(o)},t}(yP),xB=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return ee(t,e),t.prototype.br=function(){if(this.Rr)throw new F(A.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===A.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new F(A.UNKNOWN,u.toString())})},t.prototype.Oi=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Oi(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===A.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new F(A.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),NB=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(et(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),kB=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return M(s,void 0,void 0,function(){return L(this,function(c){switch(c.label){case 0:return Xi(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return M(this,void 0,void 0,function(){var h;return L(this,function(d){switch(d.label){case 0:return(h=H(f)).$r.add(4),[4,Ha(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.$r.delete(4),[4,nl(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new NB(n,r)};function nl(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:if(!Xi(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ha(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ep(e,t){var n=H(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),tw(n)?ew(n):Ga(n).er()&&Z0(n,t))}function rl(e,t){var n=H(e),r=Ga(n);n.Or.delete(t),r.er()&&gP(n,t),n.Or.size===0&&(r.er()?r.ir():Xi(n)&&n.Br.set("Unknown"))}function Z0(e,t){e.qr.U(t.targetId),Ga(e).mr(t)}function gP(e,t){e.qr.U(t),Ga(e).yr(t)}function ew(e){e.qr=new IV({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Ga(e).start(),e.Br.Sr()}function tw(e){return Xi(e)&&!Ga(e).tr()&&e.Or.size>0}function Xi(e){return H(e).$r.size===0}function wP(e){e.qr=void 0}function PB(e){return M(this,void 0,void 0,function(){return L(this,function(t){return e.Or.forEach(function(n,r){Z0(e,n)}),[2]})})}function OB(e,t){return M(this,void 0,void 0,function(){return L(this,function(n){return wP(e),tw(e)?(e.Br.Nr(t),ew(e)):e.Br.set("Unknown"),[2]})})}function AB(e,t,n){return M(this,void 0,void 0,function(){var r,o,s;return L(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof vk&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(c,f){return M(this,void 0,void 0,function(){var h,d,y,v;return L(this,function(E){switch(E.label){case 0:h=f.cause,d=0,y=f.targetIds,E.label=1;case 1:return d<y.length?(v=y[d],c.Or.has(v)?[4,c.remoteSyncer.rejectListen(v,h)]:[3,3]):[3,5];case 2:E.sent(),c.Or.delete(v),c.qr.removeTarget(v),E.label=3;case 3:E.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Tp(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof fp?e.qr.X(t):t instanceof mk?e.qr.rt(t):e.qr.et(t),n.isEqual(ue.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,sP(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(c,f){var h=c.qr.ut(f);return h.targetChanges.forEach(function(d,y){if(d.resumeToken.approximateByteSize()>0){var v=c.Or.get(y);v&&c.Or.set(y,v.withResumeToken(d.resumeToken,f))}}),h.targetMismatches.forEach(function(d){var y=c.Or.get(d);if(y){c.Or.set(d,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),gP(c,d);var v=new pp(y.target,d,1,y.sequenceNumber);Z0(c,v)}}),c.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Tp(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Tp(e,t,n){return M(this,void 0,void 0,function(){var r=this;return L(this,function(o){switch(o.label){case 0:if(!ps(t))throw t;return e.$r.add(1),[4,Ha(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return sP(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return M(r,void 0,void 0,function(){return L(this,function(s){switch(s.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,nl(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function bP(e,t){return t().catch(function(n){return Tp(e,n,t)})}function Ka(e){return M(this,void 0,void 0,function(){var t,n,r,o,s;return L(this,function(u){switch(u.label){case 0:t=H(e),n=Qi(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,u.label=1;case 1:if(!function(c){return Xi(c)&&c.kr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,aB(t.localStore,r)];case 3:return(o=u.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.kr.push(f);var h=Qi(c);h.er()&&h.pr&&h.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Tp(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return _P(t)&&EP(t),[2]}})})}function _P(e){return Xi(e)&&!Qi(e).tr()&&e.kr.length>0}function EP(e){Qi(e).start()}function CB(e){return M(this,void 0,void 0,function(){return L(this,function(t){return Qi(e).Ar(),[2]})})}function RB(e){return M(this,void 0,void 0,function(){var t,n,r,o;return L(this,function(s){for(t=Qi(e),n=0,r=e.kr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function DB(e,t,n){return M(this,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),o=qV.from(r,t,n),[4,bP(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Ka(e)];case 2:return s.sent(),[2]}})})}function LB(e,t){return M(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return t&&Qi(e).pr?[4,function(r,o){return M(this,void 0,void 0,function(){var s,u;return L(this,function(c){switch(c.label){case 0:return fk(u=o.code)&&u!==A.ABORTED?(s=r.kr.shift(),Qi(r).sr(),[4,bP(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,Ka(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _P(e)&&EP(e),[2]}})})}function nw(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return n=H(e),t?(n.$r.delete(2),[4,nl(n)]):[3,2];case 1:return o.sent(),[3,5];case 2:return(r=t)?[3,4]:(n.$r.add(2),[4,Ha(n)]);case 3:o.sent(),r=n.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Ga(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=H(n);return s.br(),new SB(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:PB.bind(null,e),Ri:OB.bind(null,e),_r:AB.bind(null,e)}),e.Mr.push(function(n){return M(t,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),tw(e)?ew(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),wP(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Qi(e){var t=this;return e.Qr||(e.Qr=function(n,r,o){var s=H(n);return s.br(),new IB(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:CB.bind(null,e),Ri:LB.bind(null,e),Ir:RB.bind(null,e),Tr:DB.bind(null,e)}),e.Mr.push(function(n){return M(t,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,Ka(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(z("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var MB=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Wa(e,t){if(et("AsyncQueue",t+": "+e),ps(e))return new F(A.UNAVAILABLE,t+": "+e);throw e}var TP=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||J.comparator(n.key,r.key)}:function(n,r){return J.comparator(n.key,r.key)},this.keyedMap=D0(),this.sortedSet=new Vt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),SP=function(){function e(){this.Kr=new Vt(J.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):X():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Sp=function(){function e(t,n,r,o,s,u,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,TP.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),jB=function(){this.Wr=void 0,this.listeners=[]},UB=function(){this.queries=new Ba(function(e){return XN(e)},Gc),this.onlineState="Unknown",this.Gr=new Set};function iw(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u,c,f;return L(this,function(h){switch(h.label){case 0:if(n=H(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new jB),!o)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=h.sent(),[3,4];case 3:return c=h.sent(),f=Wa(c,"Initialization of query '"+A0(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&rw(n),[2]}})})}function ow(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u;return L(this,function(c){return n=H(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function FB(e,t){for(var n=H(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],c=u.query,f=n.queries.get(c);if(f){for(var h=0,d=f.listeners;h<d.length;h++)d[h].Hr(u)&&(r=!0);f.Wr=u}}r&&rw(n)}function VB(e,t,n){var r=H(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function rw(e){e.Gr.forEach(function(t){t.next()})}var sw=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Sp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Sp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),BB=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),IP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return zr(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?xk(this.R,t.document,!1):kt.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return Pt(t)},e}(),iK=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=qB(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new IP(this.R),o=0,s=t;o<s.length;o++){var u=s[o];if(u.metadata.queries)for(var c=r.qn(u.metadata.name),f=0,h=u.metadata.queries;f<h.length;f++){var d=h[f],y=(n.get(d)||Ie()).add(c);n.set(d,y)}}return n},e.prototype.complete=function(){return M(this,void 0,void 0,function(){var t,n,r,o,s;return L(this,function(u){switch(u.label){case 0:return[4,cB(this.localStore,new IP(this.R),this.documents,this.ro.id)];case 1:t=u.sent(),n=this.co(this.documents),r=0,o=this.queries,u.label=2;case 2:return r<o.length?(s=o[r],[4,lB(this.localStore,s,n.get(s.name))]):[3,5];case 3:u.sent(),u.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new nB(Object.assign({},this.progress),t))]}})})},e}();function qB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xP=function(e){this.key=e},NP=function(e){this.key=e},kP=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ie(),this.mutatedKeys=Ie(),this.lo=QN(t),this.fo=new TP(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new SP,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,h=ip(this.query)&&s.size===this.query.limit?s.last():null,d=op(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(v,E){var S=s.get(v),I=Kc(r.query,E)?E:null,_=!!S&&r.mutatedKeys.has(S.key),b=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),T=!1;S&&I?S.data.isEqual(I.data)?_!==b&&(o.track({type:3,doc:I}),T=!0):r.yo(S,I)||(o.track({type:2,doc:I}),T=!0,(h&&r.lo(I,h)>0||d&&r.lo(I,d)<0)&&(f=!0)):!S&&I?(o.track({type:0,doc:I}),T=!0):S&&!I&&(o.track({type:1,doc:S}),T=!0,(h||d)&&(f=!0)),T&&(I?(c=c.add(I),u=b?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))}),ip(this.query)||op(this.query))for(;c.size>this.query.limit;){var y=ip(this.query)?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),o.track({type:1,doc:y})}return{fo:c,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(d,y){return function(v,E){var S=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return S(v)-S(E)}(d.type,y.type)||o.lo(d.doc,y.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,h=f!==this.ao;return this.ao=f,u.length!==0||h?{snapshot:new Sp(this.query,t.fo,s,u,t.mutatedKeys,f===0,h,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new SP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ie(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new NP(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new xP(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ie();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Sp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),zB=function(e,t,n){this.query=e,this.targetId=t,this.view=n},HB=function(e){this.key=e,this.bo=!1},GB=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ba(function(c){return XN(c)},Gc),this.Vo=new Map,this.So=new Set,this.Do=new Vt(J.comparator),this.Co=new Map,this.No=new W0,this.xo={},this.Fo=new Map,this.ko=mp.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function KB(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u,c;return L(this,function(f){switch(f.label){case 0:return n=uw(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,qa(n.localStore,nr(t))];case 2:return u=f.sent(),c=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,aw(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Ep(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function aw(e,t,n,r){return M(this,void 0,void 0,function(){var o,s,u,c,f,h;return L(this,function(d){switch(d.label){case 0:return e.$o=function(y,v,E){return function(S,I,_,b){return M(this,void 0,void 0,function(){var T,N,k;return L(this,function(C){switch(C.label){case 0:return T=I.view._o(_),T.Nn?[4,wp(S.localStore,I.query,!1).then(function(O){var j=O.documents;return I.view._o(j,T)})]:[3,2];case 1:T=C.sent(),C.label=2;case 2:return N=b&&b.targetChanges.get(I.targetId),k=I.view.applyChanges(T,S.isPrimaryClient,N),[2,(cw(S,I.targetId,k.To),k.snapshot)]}})})}(e,y,v,E)},[4,wp(e.localStore,t,!0)];case 1:return o=d.sent(),s=new kP(t,o.Bn),u=s._o(o.documents),c=L0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,c),cw(e,n,f.To),h=new zB(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function WB(e,t){return M(this,void 0,void 0,function(){var n,r,o;return L(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!Gc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,za(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),rl(n.remoteStore,r.targetId),$a(n,r.targetId)}).catch(ds)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return $a(n,r.targetId),[4,za(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function $B(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u;return L(this,function(c){switch(c.label){case 0:r=lw(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,h){var d,y=H(f),v=sn.now(),E=h.reduce(function(S,I){return S.add(I.key)},Ie());return y.persistence.runTransaction("Locally write mutations","readwrite",function(S){return y.Mn.pn(S,E).next(function(I){d=I;for(var _=[],b=0,T=h;b<T.length;b++){var N=T[b],k=gV(N,d.get(N.key));k!=null&&_.push(new Hi(N.key,k,zN(k.toProto().mapValue),Ft.exists(!0)))}return y._n.addMutationBatch(S,v,_,h)})}).then(function(S){return S.applyToLocalDocumentSet(d),{batchId:S.batchId,changes:d}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,h,d){var y=f.xo[f.currentUser.toKey()];y||(y=new Vt(fe)),y=y.insert(h,d),f.xo[f.currentUser.toKey()]=y}(r,o.batchId,n),[4,Ji(r,o.changes)];case 3:return c.sent(),[4,Ka(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),u=Wa(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function PP(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:n=H(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,sB(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var c=n.Co.get(u);c&&(te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?te(c.bo):s.removedDocuments.size>0&&(te(c.bo),c.bo=!1))}),[4,Ji(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,ds(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function OP(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var c=u.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,u){var c=H(s);c.onlineState=u;var f=!1;c.queries.forEach(function(h,d){for(var y=0,v=d.listeners;y<v.length;y++)v[y].zr(u)&&(f=!0)}),f&&rw(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YB(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u,c,f;return L(this,function(h){switch(h.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Vt(J.comparator)).insert(s,kt.newNoDocument(s,ue.min())),c=Ie().add(s),f=new M0(ue.min(),new Map,new ft(fe),u,c),[4,PP(r,f)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),fw(r),[3,4];case 2:return[4,za(r.localStore,t,!1).then(function(){return $a(r,t,n)}).catch(ds)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function XB(e,t){return M(this,void 0,void 0,function(){var n,r,o;return L(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,oB(n.localStore,t)];case 2:return o=s.sent(),pw(n,r,null),hw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ji(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,ds(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function QB(e,t,n){return M(this,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,c){var f=H(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return f._n.lookupMutationBatch(h,c).next(function(y){return te(y!==null),d=y.keys(),f._n.removeMutationBatch(h,y)}).next(function(){return f._n.performConsistencyCheck(h)}).next(function(){return f.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return o=s.sent(),pw(r,t,n),hw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ji(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,ds(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function JB(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u;return L(this,function(c){switch(c.label){case 0:Xi((n=H(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var h=H(f);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.Fo.get(r)||[]).push(t),n.Fo.set(r,o),[3,4]);case 3:return s=c.sent(),u=Wa(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function hw(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function pw(e,t,n){var r=H(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function $a(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||AP(e,u)})}function AP(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(rl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),fw(e))}function cw(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof xP?(e.No.addReference(s.key,t),ZB(e,s)):s instanceof NP?(z("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||AP(e,s.key)):X()}}function ZB(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(z("SyncEngine","New document in limbo: "+n),e.So.add(r),fw(e))}function fw(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new J(we.fromString(t)),r=e.ko.next();e.Co.set(r,new HB(n)),e.Do=e.Do.insert(n,r),Ep(e.remoteStore,new pp(nr(Na(n.path)),r,2,jn.o))}}function Ji(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u;return L(this,function(c){switch(c.label){case 0:return r=H(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,h){u.push(r.$o(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),o.push(d);var y=rB.Pn(h.targetId,d);s.push(y)}}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,h){return M(this,void 0,void 0,function(){var d,y,v,E,S,I,_,b,T;return L(this,function(N){switch(N.label){case 0:d=H(f),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return V.forEach(h,function(C){return V.forEach(C.bn,function(O){return d.persistence.referenceDelegate.addReference(k,C.targetId,O)}).next(function(){return V.forEach(C.vn,function(O){return d.persistence.referenceDelegate.removeReference(k,C.targetId,O)})})})})];case 2:return N.sent(),[3,4];case 3:if(!ps(y=N.sent()))throw y;return z("LocalStore","Failed to update sequence numbers: "+y),[3,4];case 4:for(v=0,E=h;v<E.length;v++)S=E[v],I=S.targetId,S.fromCache||(_=d.Fn.get(I),b=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(b),d.Fn=d.Fn.insert(I,T));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function eq(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,oP(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.Fo.forEach(function(c){c.forEach(function(f){f.reject(new F(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ji(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function tq(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return Ie().add(r.key);var o=Ie(),s=n.Vo.get(t);if(!s)return o;for(var u=0,c=s;u<c.length;u++){var f=c[u],h=n.Po.get(f);o=o.unionWith(h.view.wo)}return o}function nq(e,t){return M(this,void 0,void 0,function(){var n,r,o;return L(this,function(s){switch(s.label){case 0:return[4,wp((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&cw(n,t.targetId,o.To),o)]}})})}function rq(e){return M(this,void 0,void 0,function(){var t;return L(this,function(n){return[2,cP((t=H(e)).localStore).then(function(r){return Ji(t,r)})]})})}function iq(e,t,n,r){return M(this,void 0,void 0,function(){var o,s;return L(this,function(u){switch(u.label){case 0:return[4,function(c,f){var h=H(c),d=H(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(y){return d.jt(y,f).next(function(v){return v?h.Mn.pn(y,v):V.resolve(null)})})}((o=H(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ka(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(pw(o,t,r||null),hw(o,t),function(c,f){H(H(c)._n).Gt(f)}(o.localStore,t)):X(),u.label=4;case 4:return[4,Ji(o,s)];case 5:return u.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function oq(e,t){return M(this,void 0,void 0,function(){var n,r,o,s,u,c,f,h;return L(this,function(d){switch(d.label){case 0:return uw(n=H(e)),lw(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,CP(n,r.toArray())]);case 1:return o=d.sent(),n.Oo=!0,[4,nw(n.remoteStore,!0)];case 2:for(d.sent(),s=0,u=o;s<u.length;s++)c=u[s],Ep(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(f=[],h=Promise.resolve(),n.Vo.forEach(function(y,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):h=h.then(function(){return $a(n,v),za(n.localStore,v,!0)}),rl(n.remoteStore,v)}),[4,h]);case 4:return d.sent(),[4,CP(n,f)];case 5:return d.sent(),function(y){var v=H(y);v.Co.forEach(function(E,S){rl(v.remoteStore,S)}),v.No.ts(),v.Co=new Map,v.Do=new Vt(J.comparator)}(n),n.Oo=!1,[4,nw(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function CP(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u,c,f,h,d,y,v,E,S,I,_;return L(this,function(b){switch(b.label){case 0:r=H(e),o=[],s=[],u=0,c=t,b.label=1;case 1:return u<c.length?(f=c[u],h=void 0,(d=r.Vo.get(f))&&d.length!==0?[4,qa(r.localStore,nr(d[0]))]:[3,7]):[3,13];case 2:h=b.sent(),y=0,v=d,b.label=3;case 3:return y<v.length?(E=v[y],S=r.Po.get(E),[4,nq(r,S)]):[3,6];case 4:(I=b.sent()).snapshot&&s.push(I.snapshot),b.label=5;case 5:return y++,[3,3];case 6:return[3,11];case 7:return[4,uP(r.localStore,f)];case 8:return _=b.sent(),[4,qa(r.localStore,_)];case 9:return h=b.sent(),[4,aw(r,RP(_),f,!1)];case 10:b.sent(),b.label=11;case 11:o.push(h),b.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function RP(e){return $N(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sq(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function aq(e,t,n,r){return M(this,void 0,void 0,function(){var o,s,u;return L(this,function(c){switch(c.label){case 0:return(o=H(e)).Oo?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,cP(o.localStore)];case 3:return s=c.sent(),u=M0.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Ji(o,s,u)];case 4:return c.sent(),[3,8];case 5:return[4,za(o.localStore,t,!0)];case 6:return c.sent(),$a(o,t,r),[3,8];case 7:X(),c.label=8;case 8:return[2]}})})}function uq(e,t,n){return M(this,void 0,void 0,function(){var r,o,s,u,c,f,h,d,y,v;return L(this,function(E){switch(E.label){case 0:if(!(r=uw(e)).Oo)return[3,10];o=0,s=t,E.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(z("SyncEngine","Adding an already active target "+u),[3,5]):[4,uP(r.localStore,u)]):[3,6];case 2:return c=E.sent(),[4,qa(r.localStore,c)];case 3:return f=E.sent(),[4,aw(r,RP(c),f.targetId,!1)];case 4:E.sent(),Ep(r.remoteStore,f),E.label=5;case 5:return o++,[3,1];case 6:h=function(S){return L(this,function(I){switch(I.label){case 0:return r.Vo.has(S)?[4,za(r.localStore,S,!1).then(function(){rl(r.remoteStore,S),$a(r,S)}).catch(ds)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},d=0,y=n,E.label=7;case 7:return d<y.length?(v=y[d],[5,h(v)]):[3,10];case 8:E.sent(),E.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function uw(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YB.bind(null,t),t.vo._r=FB.bind(null,t.eventManager),t.vo.Mo=VB.bind(null,t.eventManager),t}function lw(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QB.bind(null,t),t}var DP=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return M(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:return this.R=_p(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return iP(this.persistence,new rP,t.initialUser,this.R)},e.prototype.qo=function(t){return new yB(gB.bs,this.R)},e.prototype.Bo=function(t){return new dP},e.prototype.terminate=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),LP=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ee(t,e),t.prototype.initialize=function(n){return M(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,uB(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,lw(this.Ko.syncEngine)];case 4:return r.sent(),[4,Ka(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return iP(this.persistence,new rP,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new YV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=K0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new tB(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,vP(),bp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new dP},t}(DP),cq=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Ko=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return ee(t,e),t.prototype.initialize=function(n){return M(this,void 0,void 0,function(){var r,o=this;return L(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof Q0?(this.sharedClientState.syncEngine={ui:iq.bind(null,r),ai:aq.bind(null,r),hi:uq.bind(null,r),fn:sq.bind(null,r),ci:rq.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return M(o,void 0,void 0,function(){return L(this,function(c){switch(c.label){case 0:return[4,oq(this.Ko.syncEngine,u)];case 1:return c.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=vP();if(!Q0.yt(r))throw new F(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=K0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Q0(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(LP),dw=function(){function e(){}return e.prototype.initialize=function(t,n){return M(this,void 0,void 0,function(){var r=this;return L(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return OP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eq.bind(null,this.syncEngine),[4,nw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new UB},e.prototype.createDatastore=function(t){var n,r=_p(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new TB(n));return function(s,u,c){return new xB(s,u,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return OP(c.syncEngine,f,0)},u=mP.yt()?new mP:new bB,new kB(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,c,f,h){var d=new GB(r,o,s,u,c,f);return h&&(d.Oo=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return M(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return n=H(t),z("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,Ha(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();var Ip=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),oK=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new un,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?r.metadata.resolve(o.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(o==null?void 0:o.payload)))},function(o){return r.metadata.reject(o)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return M(this,void 0,void 0,function(){return L(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return M(this,void 0,void 0,function(){var t,n,r,o;return L(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return o=s.sent(),[2,new BB(JSON.parse(o),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return M(this,void 0,void 0,function(){var n;return L(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),lq=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return M(this,void 0,void 0,function(){var n,r=this;return L(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new F(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return M(this,void 0,void 0,function(){var c,f,h,d,y,v;return L(this,function(E){switch(E.label){case 0:return c=H(s),f=Jc(c.R)+"/documents",h={documents:u.map(function(S){return Qc(c.R,S)})},[4,c.Oi("BatchGetDocuments",f,h)];case 1:return d=E.sent(),y=new Map,d.forEach(function(S){var I=function(_,b){return"found"in b?function(T,N){te(!!N.found),N.found.name,N.found.updateTime;var k=zr(T,N.found.name),C=Pt(N.found.updateTime),O=new Un({mapValue:{fields:N.found.fields}});return kt.newFoundDocument(k,C,O)}(_,b):"missing"in b?function(T,N){te(!!N.missing),te(!!N.readTime);var k=zr(T,N.missing),C=Pt(N.readTime);return kt.newNoDocument(k,C)}(_,b):X()}(c.R,S);y.set(I.key.toString(),I)}),v=[],[2,(u.forEach(function(S){var I=y.get(S.toString());te(!!I),v.push(I)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Yc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=J.fromPath(s);n.mutations.push(new R0(u,n.precondition(u)))}),[4,function(o,s){return M(this,void 0,void 0,function(){var u,c,f;return L(this,function(h){switch(h.label){case 0:return u=H(o),c=Jc(u.R)+"/documents",f={writes:s.map(function(d){return hp(u.R,d)})},[4,u.Ni("Commit",c,f)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw X();n=ue.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new F(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Ft.updateTime(n):Ft.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ue.min()))throw new F(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),fq=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new J0(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return M(t,void 0,void 0,function(){var n,r,o=this;return L(this,function(s){return n=new lq(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(c){o.ic(c)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!us(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!fk(n)}return!1},e}(),hq=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qn.UNAUTHENTICATED,this.clientId=RN.u(),this.credentialListener=function(){},this.receivedInitialUser=new un,this.credentials.setChangeListener(function(s){z("FirestoreClient","Received user=",s.uid),o.user=s,o.credentialListener(s),o.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new F(A.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return M(t,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Wa(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();function MP(e,t){return M(this,void 0,void 0,function(){var n,r,o=this;return L(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){r.isEqual(u)||(r=u,e.asyncQueue.enqueueRetryable(function(){return M(o,void 0,void 0,function(){return L(this,function(c){switch(c.label){case 0:return[4,oP(t.localStore,u)];case 1:return c.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function jP(e,t){return M(this,void 0,void 0,function(){var n,r;return L(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,mw(e)];case 1:return n=o.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(u,c){return M(this,void 0,void 0,function(){var f,h;return L(this,function(d){switch(d.label){case 0:return(f=H(u)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),h=Xi(f),f.$r.add(3),[4,Ha(f)];case 1:return d.sent(),h&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return d.sent(),f.$r.delete(3),[4,nl(f)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function mw(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,MP(e,new DP)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function xp(e){return M(this,void 0,void 0,function(){return L(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,jP(e,new dw)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function UP(e){return mw(e).then(function(t){return t.persistence})}function FP(e){return mw(e).then(function(t){return t.localStore})}function VP(e){return xp(e).then(function(t){return t.remoteStore})}function BP(e){return xp(e).then(function(t){return t.syncEngine})}function Ya(e){return M(this,void 0,void 0,function(){var t,n;return L(this,function(r){switch(r.label){case 0:return[4,xp(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=KB.bind(null,t.syncEngine),n.onUnlisten=WB.bind(null,t.syncEngine),n)]}})})}function qP(e,t,n){var r=this;n===void 0&&(n={});var o=new un;return e.asyncQueue.enqueueAndForget(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return s=function(c,f,h,d,y){var v=new Ip({next:function(S){f.enqueueAndForget(function(){return ow(c,E)});var I=S.docs.has(h);!I&&S.fromCache?y.reject(new F(A.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&d&&d.source==="server"?y.reject(new F(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:function(S){return y.reject(S)}}),E=new sw(Na(h.path),v,{includeMetadataChanges:!0,so:!0});return iw(c,E)},[4,Ya(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function zP(e,t,n){var r=this;n===void 0&&(n={});var o=new un;return e.asyncQueue.enqueueAndForget(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return s=function(c,f,h,d,y){var v=new Ip({next:function(S){f.enqueueAndForget(function(){return ow(c,E)}),S.fromCache&&d.source==="server"?y.reject(new F(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:function(S){return y.reject(S)}}),E=new sw(h,v,{includeMetadataChanges:!0,so:!0});return iw(c,E)},[4,Ya(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var pq=function(e,t,n,r,o,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u},Np=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),HP=new Map,dq=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},GP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(qn.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),mq=function(){function e(t){var n=this;this.oc=null,this.currentUser=qn.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(te(typeof o.accessToken=="string"),new dq(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new qn(t)},e}(),vq=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=qn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),yq=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new vq(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(qn.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function vw(e,t,n){if(!n)throw new F(A.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function yw(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new F(A.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function KP(e,t,n,r){if(t===!0&&r===!0)throw new F(A.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function WP(e){if(!J.isDocumentKey(e))throw new F(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $P(e){if(J.isDocumentKey(e))throw new F(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function kp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":X()}function Ee(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kp(e);throw new F(A.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function YP(e,t){if(t<=0)throw new F(A.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var XP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new F(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,KP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),il=function(){function e(t,n){this._persistenceKey="(lite)",this._settings=new XP({}),this._settingsFrozen=!1,t instanceof Np?(this._databaseId=t,this._credentials=new GP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new F(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(r.options.projectId)}(t),this._credentials=new mq(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new F(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new F(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new GP;switch(n.type){case"gapi":var r=n.client;return te(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new yq(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new F(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=HP.get(t))&&(z("ComponentProvider","Removing Datastore"),HP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Be=function(){function e(t,n,r){this._converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zi(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),zn=function(){function e(t,n,r){this._converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Zi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Na(o))||this)._path=o,s.type="collection",s}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Be(this.firestore,null,new J(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(zn);function QP(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=_e(e),vw("collection","path",t),e instanceof il)return $P(n=we.fromString.apply(we,Xe([t],r))),new Zi(e,null,n);if(!(e instanceof Be||e instanceof Zi))throw new F(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $P(n=we.fromString.apply(we,Xe([e.path],r)).child(we.fromString(t))),new Zi(e.firestore,null,n)}function Pp(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=_e(e),arguments.length===1&&(t=RN.u()),vw("doc","path",t),e instanceof il)return WP(n=we.fromString.apply(we,Xe([t],r))),new Be(e,null,new J(n));if(!(e instanceof Be||e instanceof Zi))throw new F(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return WP(n=e._path.child(we.fromString.apply(we,Xe([t],r)))),new Be(e.firestore,e instanceof Zi?e._converter:null,new J(n))}function JP(e,t){return e=_e(e),t=_e(t),(e instanceof Be||e instanceof Zi)&&(t instanceof Be||t instanceof Zi)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function ZP(e,t){return e=_e(e),t=_e(t),e instanceof zn&&t instanceof zn&&e.firestore===t.firestore&&Gc(e._query,t._query)&&e._converter===t._converter}var gq=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new J0(this,"async_queue_retry"),this.Ec=function(){var r=bp();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=bp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return M(this,void 0,void 0,function(){var t,n=this;return L(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ps(t=r.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(o){throw n.mc=o,n.yc=!1,et("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.yc=!1,o})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=MB.createAndSchedule(this,t,n,r,function(u){return o.Rc(u)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&X()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return M(this,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(u,c){return u.targetTimeMs-c.targetTimeMs});for(var r=0,o=n._c;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function Xa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var sK=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new un,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),eO=-1,rt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._queue=new gq,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ee(t,e),t.prototype._terminate=function(){return this._firestoreClient||tO(this),this._firestoreClient.terminate()},t}(il);function qt(e){return e._firestoreClient||tO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tO(e){var t,n=e._freezeSettings(),r=function(o,s,u,c){return new pq(o,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new hq(e._credentials,e._queue,r)}function nO(e,t,n){var r=this,o=new un;return e.asyncQueue.enqueue(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,MP(e,n)];case 1:return u.sent(),[4,jP(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===A.FAILED_PRECONDITION||c.code===A.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function rO(e){if(e._initialized||e._terminated)throw new F(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new F(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ms=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(an.fromBase64String(t))}catch(n){throw new F(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(an.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),vs=function(e){this._methodName=e},ol=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return fe(this._lat,t._lat)||fe(this._long,t._long)},e}(),wq=/^__.*__$/,bq=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Hi(t,this.data,this.fieldMask,n,this.fieldTransforms):new $c(t,this.data,n,this.fieldTransforms)},e}(),iO=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Hi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();function oO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var sO=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Fc(t),o},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Sc(),o},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return Op(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(oO(this.Dc)&&wq.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),_q=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||_p(t)}return e.prototype.Bc=function(t,n,r,o){return o===void 0&&(o=!1),new sO({Dc:t,methodName:n,Lc:r,path:tr.emptyPath(),xc:!1,Mc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ys(e){var t=e._freezeSettings(),n=_p(e._databaseId);return new _q(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ap(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Bc(s.merge||s.mergeFields?2:0,t,n,o);gw("Data must be an object, but it was:",u,r);var c,f,h=aO(r,u);if(s.merge)c=new Ta(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var d=[],y=0,v=s.mergeFields;y<v.length;y++){var E=ww(t,v[y],n);if(!u.contains(E))throw new F(A.INVALID_ARGUMENT,"Field '"+E+"' is specified in your field mask but missing from your input data.");uO(d,E)||d.push(E)}c=new Ta(d),f=u.fieldTransforms.filter(function(S){return c.covers(S.field)})}else c=null,f=u.fieldTransforms;return new bq(new Un(h),c,f)}var bw=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(vs);function cO(e,t,n){return new sO({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Eq=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){return new Wc(n.path,new Pa)},t.prototype.isEqual=function(n){return n instanceof t},t}(vs),Tq=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=cO(this,n,!0),o=this.qc.map(function(u){return gs(u,r)}),s=new cs(o);return new Wc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(vs),Sq=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=cO(this,n,!0),o=this.qc.map(function(u){return gs(u,r)}),s=new ls(o);return new Wc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(vs),Iq=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Uc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=new Oa(n.R,ek(n.R,this.Uc));return new Wc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(vs);function Ew(e,t,n,r){var o=e.Bc(1,t,n);gw("Data must be an object, but it was:",o,r);var s=[],u=Un.empty();Vc(r,function(f,h){var d=_w(t,f,n);h=_e(h);var y=o.kc(d);if(h instanceof bw)s.push(d);else{var v=gs(h,y);v!=null&&(s.push(d),u.set(d,v))}});var c=new Ta(s);return new iO(u,c,o.fieldTransforms)}function Tw(e,t,n,r,o,s){var u=e.Bc(1,t,n),c=[ww(t,r,n)],f=[o];if(s.length%2!=0)throw new F(A.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(ww(t,s[h])),f.push(s[h+1]);for(var d=[],y=Un.empty(),v=c.length-1;v>=0;--v)if(!uO(d,c[v])){var E=c[v],S=f[v];S=_e(S);var I=u.kc(E);if(S instanceof bw)d.push(E);else{var _=gs(S,I);_!=null&&(d.push(E),y.set(E,_))}}var b=new Ta(d);return new iO(y,b,u.fieldTransforms)}function lO(e,t,n,r){return r===void 0&&(r=!1),gs(n,e.Bc(r?4:3,t))}function gs(e,t){if(fO(e=_e(e)))return gw("Unsupported field value:",t,e),aO(e,t);if(e instanceof vs)return function(n,r){if(!oO(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,c=n;u<c.length;u++){var f=gs(c[u],r.Oc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=_e(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ek(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=sn.fromDate(n);return{timestampValue:Xc(r.R,o)}}if(n instanceof sn)return o=new sn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Xc(r.R,o)};if(n instanceof ol)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ms)return{bytesValue:bk(r.R,n._byteString)};if(n instanceof Be){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:j0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+kp(n))}(e,t)}function aO(e,t){var n={};return MN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vc(e,function(r,o){var s=gs(o,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof sn||e instanceof ol||e instanceof ms||e instanceof Be||e instanceof vs)}function gw(e,t,n){if(!fO(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=kp(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function ww(e,t,n){if((t=_e(t))instanceof Kr)return t._internalPath;if(typeof t=="string")return _w(e,t);throw Op("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var xq=new RegExp("[~\\*/\\[\\]]");function _w(e,t,n){if(t.search(xq)>=0)throw Op("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Kr.bind.apply(Kr,Xe([void 0],t.split("."))))()._internalPath}catch(r){throw Op("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Op(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new F(A.INVALID_ARGUMENT,(c+=". ")+e+f)}function uO(e,t){return e.some(function(n){return n.isEqual(t)})}var sl=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Be(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Nq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Cp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Nq=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(sl);function Cp(e,t){return typeof t=="string"?_w(e,t):t instanceof Kr?t._internalPath:t._delegate._internalPath}var ws=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),di=function(e){function t(n,r,o,s,u,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return ee(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Cp("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(sl),al=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(di),eo=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ws(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new al(r._firestore,r._userDataWriter,o.key,o,new ws(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query._converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){var f=new al(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ws(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query._converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new al(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ws(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query._converter),h=-1,d=-1;return c.type!==0&&(h=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(d=(u=u.add(c.doc)).indexOf(c.doc.key)),{type:kq(c.type),doc:f,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function kq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function hO(e,t){return e instanceof di&&t instanceof di?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof eo&&t instanceof eo&&e._firestore===t._firestore&&ZP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function pO(e){if(op(e)&&e.explicitOrderBy.length===0)throw new F(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ul=function(){};function to(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var Pq=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=o,s.type="where",s}return ee(t,e),t.prototype._apply=function(n){var r=ys(n.firestore),o=function(s,u,c,f,h,d,y){var v;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){mO(y,d);for(var E=[],S=0,I=y;S<I.length;S++){var _=I[S];E.push(dO(f,s,_))}v={arrayValue:{values:E}}}else v=dO(f,s,y)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||mO(y,d),v=lO(c,"where",y,d==="in"||d==="not-in");var b=Fn.create(h,d,v);return function(T,N){if(N.g()){var k=P0(T);if(k!==null&&!k.isEqual(N.field))throw new F(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+N.field.toString()+"'");var C=k0(T);C!==null&&vO(T,N.field,C)}var O=function(j,q){for(var D=0,he=j.filters;D<he.length;D++){var P=he[D];if(q.indexOf(P.op)>=0)return P.op}return null}(T,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(O!==null)throw O===N.op?new F(A.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+N.op.toString()+"' filter."):new F(A.INVALID_ARGUMENT,"Invalid query. You cannot use '"+N.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new zn(n.firestore,n._converter,function(s,u){var c=s.filters.concat([u]);return new fi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(ul),Oq=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Qc=n,o.Wc=r,o.type="orderBy",o}return ee(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new F(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new F(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new xa(s,u);return function(f,h){if(k0(f)===null){var d=P0(f);d!==null&&vO(f,d,h.field)}}(o,c),c}(n._query,this.Qc,this.Wc);return new zn(n.firestore,n._converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new fi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(ul),yO=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=o,s}return ee(t,e),t.prototype._apply=function(n){return new zn(n.firestore,n._converter,YN(n._query,this.Gc,this.zc))},t}(ul),wO=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return ee(t,e),t.prototype._apply=function(n){var r=gO(n,this.type,this.Hc,this.Jc);return new zn(n.firestore,n._converter,function(o,s){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(ul),bO=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return ee(t,e),t.prototype._apply=function(n){var r=gO(n,this.type,this.Hc,this.Jc);return new zn(n.firestore,n._converter,function(o,s){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(ul);function gO(e,t,n,r){if(n[0]=_e(n[0]),n[0]instanceof sl)return function(s,u,c,f,h){if(!f)throw new F(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],y=0,v=ka(s);y<v.length;y++){var E=v[y];if(E.field.isKeyField())d.push(ep(u,f.key));else{var S=f.data.field(E.field);if(E0(S))throw new F(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){var I=E.field.canonicalString();throw new F(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}d.push(S)}}return new Hc(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ys(e.firestore);return function(s,u,c,f,h,d){var y=s.explicitOrderBy;if(h.length>y.length)throw new F(A.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],E=0;E<h.length;E++){var S=h[E];if(y[E].field.isKeyField()){if(typeof S!="string")throw new F(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof S);if(!O0(s)&&S.indexOf("/")!==-1)throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+S+"' contains a slash.");var I=s.path.child(we.fromString(S));if(!J.isDocumentKey(I))throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var _=new J(I);v.push(ep(u,_))}else{var b=lO(c,f,S);v.push(b)}}return new Hc(v,d)}(e._query,e.firestore._databaseId,o,t,n,r)}function dO(e,t,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(t)&&n.indexOf("/")!==-1)throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(we.fromString(n));if(!J.isDocumentKey(r))throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ep(e,new J(r))}if(n instanceof Be)return ep(e,n._key);throw new F(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+kp(n)+".")}function mO(e,t){if(!Array.isArray(e)||e.length===0)throw new F(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new F(A.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function vO(e,t,n){if(!n.isEqual(t))throw new F(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Sw=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),zi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw X()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Vc(t.fields||{},function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new ol(tt(t.latitude),tt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=UN(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=qi(t);return new sn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=we.fromString(t);te(_k(r));var o=new Np(r.get(1),r.get(3)),s=new J(r.popFirst(5));return o.isEqual(n)||et("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();function Rp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Aq=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new ms(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},t}(Sw),Cq=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ys(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=no(t,this._firestore),s=Rp(o._converter,n,r),u=Ap(this._dataReader,"WriteBatch.set",o._key,s,o._converter!==null,r);return this._mutations.push(u.toMutation(o._key,Ft.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,c=no(t,this._firestore);return u=typeof(n=_e(n))=="string"||n instanceof Kr?Tw(this._dataReader,"WriteBatch.update",c._key,n,r,o):Ew(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,Ft.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=no(t,this._firestore);return this._mutations=this._mutations.concat(new Yc(n._key,Ft.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new F(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function no(e,t){if((e=_e(e)).firestore!==t)throw new F(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new ms(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Be(this.firestore,null,r)},t}(Sw);function _O(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Ee(e,Be);var s=Ee(e.firestore,rt),u=ys(s);return cl(s,[(typeof(t=_e(t))=="string"||t instanceof Kr?Tw(u,"updateDoc",e._key,t,n,r):Ew(u,"updateDoc",e._key,t)).toMutation(e._key,Ft.exists(!0))])}function EO(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=_e(e);var u={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||Xa(o[c])||(u=o[c],c++);var f,h,d,y={includeMetadataChanges:u.includeMetadataChanges};if(Xa(o[c])){var v=o[c];o[c]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[c+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}if(e instanceof Be)h=Ee(e.firestore,rt),d=Na(e._key.path),f={next:function(I){o[c]&&o[c](Iw(h,e,I))},error:o[c+1],complete:o[c+2]};else{var E=Ee(e,zn);h=Ee(E.firestore,rt),d=E._query;var S=new bs(h);f={next:function(I){o[c]&&o[c](new eo(h,S,E,I))},error:o[c+1],complete:o[c+2]},pO(e._query)}return function(I,_,b,T){var N=this,k=new Ip(T),C=new sw(_,k,b);return I.asyncQueue.enqueueAndForget(function(){return M(N,void 0,void 0,function(){var O;return L(this,function(j){switch(j.label){case 0:return O=iw,[4,Ya(I)];case 1:return[2,O.apply(void 0,[j.sent(),C])]}})})}),function(){k.Wo(),I.asyncQueue.enqueueAndForget(function(){return M(N,void 0,void 0,function(){var O;return L(this,function(j){switch(j.label){case 0:return O=ow,[4,Ya(I)];case 1:return[2,O.apply(void 0,[j.sent(),C])]}})})})}}(qt(h),d,y,f)}function cl(e,t){return function(n,r){var o=this,s=new un;return n.asyncQueue.enqueueAndForget(function(){return M(o,void 0,void 0,function(){var u;return L(this,function(c){switch(c.label){case 0:return u=$B,[4,BP(n)];case 1:return[2,u.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(qt(e),t)}function Iw(e,t,n){var r=n.docs.get(t._key),o=new bs(e);return new di(e,o,t._key,r,new ws(n.hasPendingWrites,n.fromCache),t._converter)}var Rq=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return ee(t,e),t.prototype.get=function(n){var r=this,o=no(n,this._firestore),s=new bs(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new di(r._firestore,s,o._key,u._document,new ws(!1,!1),o._converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ys(t)}return e.prototype.get=function(t){var n=this,r=no(t,this._firestore),o=new Aq(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return X();var u=s[0];if(u.isFoundDocument())return new sl(n._firestore,o,u.key,u,r._converter);if(u.isNoDocument())return new sl(n._firestore,o,r._key,null,r._converter);throw X()})},e.prototype.set=function(t,n,r){var o=no(t,this._firestore),s=Rp(o._converter,n,r),u=Ap(this._dataReader,"Transaction.set",o._key,s,o._converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,c=no(t,this._firestore);return u=typeof(n=_e(n))=="string"||n instanceof Kr?Tw(this._dataReader,"Transaction.update",c._key,n,r,o):Ew(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this},e.prototype.delete=function(t){var n=no(t,this._firestore);return this._transaction.delete(n._key),this},e}());function TO(){if(typeof Uint8Array=="undefined")throw new F(A.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function SO(){if(typeof atob=="undefined")throw new F(A.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xw=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return SO(),new e(ms.fromBase64String(t))},e.fromUint8Array=function(t){return TO(),new e(ms.fromUint8Array(t))},e.prototype.toBase64=function(){return SO(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return TO(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),IO=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){rO(r=Ee(r,rt));var s=qt(r),u=r._freezeSettings(),c=new dw;return nO(s,c,new LP(c,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){rO(n=Ee(n,rt));var r=qt(n),o=n._freezeSettings(),s=new dw;return nO(r,s,new cq(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new F(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new un;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return M(r,void 0,void 0,function(){var s;return L(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return M(this,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return La.yt()?(f=c+"main",[4,La.delete(f)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(K0(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Pw=function(){function e(t,n,r){var o=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Np||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n){(function(r,o,s){var u=(r=Ee(r,il))._getSettings();u.host!=="firestore.googleapis.com"&&u.host!==o&&_0("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:o+":"+s,ssl:!1}))})(this._delegate,t,n)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return[4,UP(t)];case 1:return r=s.sent(),[4,VP(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var c=H(u);return c.$r.delete(0),nl(c)}(o))]}})})})}(qt(Ee(this._delegate,rt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return M(n,void 0,void 0,function(){var r,o;return L(this,function(s){switch(s.label){case 0:return[4,UP(t)];case 1:return r=s.sent(),[4,VP(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return M(this,void 0,void 0,function(){var c;return L(this,function(f){switch(f.label){case 0:return(c=H(u)).$r.add(0),[4,Ha(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(qt(Ee(this._delegate,rt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&KP("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new un;return t.asyncQueue.enqueueAndForget(function(){return M(n,void 0,void 0,function(){var o;return L(this,function(s){switch(s.label){case 0:return o=JB,[4,BP(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(qt(Ee(this._delegate,rt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,c=new Ip(s);return o.asyncQueue.enqueueAndForget(function(){return M(u,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return f=function(d,y){H(d).Gr.add(y),y.next()},[4,Ya(o)];case 1:return[2,f.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return M(u,void 0,void 0,function(){var f;return L(this,function(h){switch(h.label){case 0:return f=function(d,y){H(d).Gr.delete(y)},[4,Ya(o)];case 1:return[2,f.apply(void 0,[h.sent(),c])]}})})})}}(qt(n=Ee(n,rt)),Xa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new F(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new fl(this,QP(this._delegate,t))}catch(n){throw cn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ro(this,Pp(this._delegate,t))}catch(n){throw cn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ll(this,function(n,r){if(n=Ee(n,il),vw("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new F(A.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zn(n,null,function(o){return new fi(we.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw cn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var c=this,f=new un;return s.asyncQueue.enqueueAndForget(function(){return M(c,void 0,void 0,function(){var h;return L(this,function(d){switch(d.label){case 0:return[4,function(y){return xp(y).then(function(v){return v.datastore})}(s)];case 1:return h=d.sent(),new fq(s.asyncQueue,h,u,f).run(),[2]}})})}),f.promise}(qt(r),function(s){return o(new Rq(r,s))})}(this._delegate,function(r){return t(new Nw(n,r))})},e.prototype.batch=function(){var t=this;return qt(this._delegate),new kw(new Cq(this._delegate,function(n){return cl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new F(A.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new F(A.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Dp=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new xw(new ms(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ro.Zc(r,this.firestore,null)},t}(Sw);function xO(e){var t;t=e,Nr.setLogLevel(t)}var Nw=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Dp(t)}return e.prototype.get=function(t){var n=this,r=_s(t);return this._delegate.get(r).then(function(o){return new Qa(n._firestore,new di(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r._converter))})},e.prototype.set=function(t,n,r){var o=_s(t);return r?(yw("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=_s(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Xe([c,n,r],s)),this},e.prototype.delete=function(t){var n=_s(t);return this._delegate.delete(n),this},e}(),kw=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=_s(t);return r?(yw("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=_s(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Xe([c,n,r],s)),this},e.prototype.delete=function(t){var n=_s(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Lp=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new al(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ja(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Dp(t),n),o.set(n,s)),s},e}();Lp.eu=new WeakMap;var ro=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Dp(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new F(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Be(n._delegate,r,new J(t)))},e.Zc=function(t,n,r){return new e(n,new Be(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new fl(this.firestore,QP(this._delegate,t))}catch(n){throw cn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=_e(t))instanceof Be&&JP(this._delegate,t)},e.prototype.set=function(t,n){n=yw("DocumentReference.set",n);try{return function(r,o,s){r=Ee(r,Be);var u=Ee(r.firestore,rt),c=Rp(r._converter,o,s);return cl(u,[Ap(ys(u),"setDoc",r._key,c,r._converter!==null,s).toMutation(r._key,Ft.none())])}(this._delegate,t,n)}catch(r){throw cn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?_O(this._delegate,t):_O.apply(void 0,Xe([this._delegate,t,n],r))}catch(s){throw cn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return cl(Ee((t=this._delegate).firestore,rt),[new Yc(t._key,Ft.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=NO(n),s=kO(n,function(u){return new Qa(t.firestore,new di(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate._converter))});return EO(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ee(r,Be);var o=Ee(r.firestore,rt),s=qt(o),u=new bs(o);return function(c,f){var h=this,d=new un;return c.asyncQueue.enqueueAndForget(function(){return M(h,void 0,void 0,function(){var y;return L(this,function(v){switch(v.label){case 0:return y=function(E,S,I){return M(this,void 0,void 0,function(){var _,b;return L(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(N,k){var C=H(N);return C.persistence.runTransaction("read document","readonly",function(O){return C.Mn.mn(O,k)})}(E,S)];case 1:return(b=T.sent()).isFoundDocument()?I.resolve(b):b.isNoDocument()?I.resolve(null):I.reject(new F(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return _=T.sent(),b=Wa(_,"Failed to get document '"+S+" from cache"),I.reject(b),[3,3];case 3:return[2]}})})},[4,FP(c)];case 1:return[2,y.apply(void 0,[v.sent(),f,d])]}})})}),d.promise}(s,r._key).then(function(c){return new di(o,u,r._key,c,new ws(c!==null&&c.hasLocalMutations,!0),r._converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ee(r,Be);var o=Ee(r.firestore,rt);return qP(qt(o),r._key,{source:"server"}).then(function(s){return Iw(o,r,s)})}(this._delegate):function(r){r=Ee(r,Be);var o=Ee(r.firestore,rt);return qP(qt(o),r._key).then(function(s){return Iw(o,r,s)})}(this._delegate)).then(function(r){return new Qa(n.firestore,new di(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Lp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function cn(e,t,n){return e.message=e.message.replace(t,n),e}function NO(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Xa(r))return r}return{}}function kO(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Xa(e[0])?e[0]:Xa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Qa=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ro(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return hO(this._delegate,t._delegate)},e}(),Ja=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Qa),ll=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Dp(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,to(this._delegate,function(o,s,u){var c=s,f=Cp("where",o);return new Pq(f,c,u)}(t,n,r)))}catch(o){throw cn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,to(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=Cp("orderBy",r);return new Oq(u,s)}(t,n)))}catch(r){throw cn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,to(this._delegate,function(n){return YP("limit",n),new yO("limit",n,"F")}(t)))}catch(n){throw cn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,to(this._delegate,function(n){return YP("limitToLast",n),new yO("limitToLast",n,"L")}(t)))}catch(n){throw cn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,to(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new wO("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw cn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,to(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new wO("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw cn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,to(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new bO("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw cn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,to(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new bO("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw cn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ZP(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ee(r,zn);var o=Ee(r.firestore,rt),s=qt(o),u=new bs(o);return function(c,f){var h=this,d=new un;return c.asyncQueue.enqueueAndForget(function(){return M(h,void 0,void 0,function(){var y;return L(this,function(v){switch(v.label){case 0:return y=function(E,S,I){return M(this,void 0,void 0,function(){var _,b,T,N,k;return L(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,wp(E,S,!0)];case 1:return k=C.sent(),_=new kP(S,k.Bn),b=_._o(k.documents),T=_.applyChanges(b,!1),I.resolve(T.snapshot),[3,3];case 2:return N=C.sent(),k=Wa(N,"Failed to execute query '"+S+" against cache"),I.reject(k),[3,3];case 3:return[2]}})})},[4,FP(c)];case 1:return[2,y.apply(void 0,[v.sent(),f,d])]}})})}),d.promise}(s,r._query).then(function(c){return new eo(o,u,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ee(r,zn);var o=Ee(r.firestore,rt),s=qt(o),u=new bs(o);return zP(s,r._query,{source:"server"}).then(function(c){return new eo(o,u,r,c)})}(this._delegate):function(r){r=Ee(r,zn);var o=Ee(r.firestore,rt),s=qt(o),u=new bs(o);return pO(r._query),zP(s,r._query).then(function(c){return new eo(o,u,r,c)})}(this._delegate)).then(function(r){return new Mp(n.firestore,new eo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=NO(n),s=kO(n,function(u){return new Mp(t.firestore,new eo(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return EO(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Lp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Dq=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ja(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Mp=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ll(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ja(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Dq(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Ja(r._firestore,o))})},e.prototype.isEqual=function(t){return hO(this._delegate,t._delegate)},e}(),fl=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ro(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ro(this.firestore,n===void 0?Pp(this._delegate):Pp(this._delegate,n))}catch(r){throw cn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=Ee(o.firestore,rt),c=Pp(o),f=Rp(o._converter,s);return cl(u,[Ap(ys(o.firestore),"addDoc",c._key,f,o._converter!==null,{}).toMutation(c._key,Ft.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new ro(r.firestore,o)})},t.prototype.isEqual=function(n){return JP(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Lp.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(ll);function _s(e){return Ee(e,Be)}var PO=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Kr.bind.apply(Kr,Xe([void 0],t)))}return e.documentId=function(){return new e(tr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=_e(t))instanceof Kr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),OO=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Eq("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new Tq("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new Sq("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new Iq("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();var Lq={Firestore:Pw,GeoPoint:ol,Timestamp:sn,Blob:xw,Transaction:Nw,WriteBatch:kw,DocumentReference:ro,DocumentSnapshot:Qa,Query:ll,QueryDocumentSnapshot:Ja,QuerySnapshot:Mp,CollectionReference:fl,FieldPath:PO,FieldValue:OO,setLogLevel:xO,CACHE_SIZE_UNLIMITED:eO};function Mq(e){(function(t,n){t.INTERNAL.registerComponent(new Dn("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Lq)))})(e,function(t,n){return new Pw(t,new rt(t,n),new IO)}),e.registerVersion("@firebase/firestore","2.2.5")}Mq($);var Ow=function(e,t){return Ow=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ow(e,t)};function AO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ow(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var jp=function(){return jp=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jp.apply(this,arguments)};function io(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(d){try{h(r.next(d))}catch(y){u(y)}}function f(d){try{h(r.throw(d))}catch(y){u(y)}}function h(d){d.done?s(d.value):o(d.value).then(c,f)}h((r=r.apply(e,t||[])).next())})}function oo(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Aw(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var CO="firebasestorage.googleapis.com",RO="storageBucket",jq=2*60*1e3,Uq=10*60*1e3,ht=function(e){AO(t,e);function t(n,r){var o=e.call(this,Cw(n),"Firebase Storage: "+r+" ("+Cw(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Cw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(es);function Cw(e){return"storage/"+e}function Rw(){var e="An unknown error occurred, please check the error payload for server response.";return new ht("unknown",e)}function Fq(e){return new ht("object-not-found","Object '"+e+"' does not exist.")}function Vq(e){return new ht("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Bq(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht("unauthenticated",e)}function qq(e){return new ht("unauthorized","User does not have permission to access '"+e+"'.")}function zq(){return new ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function DO(){return new ht("canceled","User canceled the upload/download.")}function Hq(e){return new ht("invalid-url","Invalid URL '"+e+"'.")}function Gq(e){return new ht("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Kq(){return new ht("no-default-bucket","No default bucket found. Did you set the '"+RO+"' property when initializing the app?")}function LO(){return new ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Wq(){return new ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function $q(){return new ht("no-download-url","The given file does not have any download URLs.")}function Es(e){return new ht("invalid-argument",e)}function MO(){return new ht("app-deleted","The Firebase app was deleted.")}function jO(e){return new ht("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hl(e,t){return new ht("invalid-format","String does not match format '"+e+"': "+t)}function Up(e){throw new ht("internal-error","Internal error: "+e)}var ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Dw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function VO(e,t){switch(e){case ir.RAW:return new Dw(UO(t));case ir.BASE64:case ir.BASE64URL:return new Dw(FO(e,t));case ir.DATA_URL:return new Dw(Yq(t),Xq(t))}throw Rw()}function UO(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)==55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)==56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Qq(e){var t;try{t=decodeURIComponent(e)}catch(n){throw hl(ir.DATA_URL,"Malformed data URL.")}return UO(t)}function FO(e,t){switch(e){case ir.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw hl(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case ir.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw hl(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(t)}catch(d){throw hl(e,"Invalid character found")}for(var f=new Uint8Array(c.length),h=0;h<c.length;h++)f[h]=c.charCodeAt(h);return f}var BO=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw hl(ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Jq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Yq(e){var t=new BO(e);return t.base64?FO(ir.BASE64,t.rest):Qq(t.rest)}function Xq(e){var t=new BO(e);return t.contentType}function Jq(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}var Zq={STATE_CHANGED:"state_changed"},ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Lw(e){switch(e){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}var Ts;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ts||(Ts={}));var e6=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ts.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ts.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ts.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Up("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Up("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Up("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Up("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();var t6=function(){function e(){}return e.prototype.createXhrIo=function(){return new e6},e}();var or=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(o){return new e(t,"")}if(r.path==="")return r;throw Gq(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}var u="(/(.*))?$",c=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}for(var d="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp("^https?://"+y+"/"+d+"/b/"+o+"/o"+v,"i"),S={bucket:1,path:3},I=n===CO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",b=new RegExp("^https?://"+I+"/"+o+"/"+_,"i"),T={bucket:1,path:2},N=[{regex:c,indices:f,postModify:s},{regex:E,indices:S,postModify:h},{regex:b,indices:T,postModify:h}],k=0;k<N.length;k++){var C=N[k],O=C.regex.exec(t);if(O){var j=O[C.indices.bucket],q=O[C.indices.path];q||(q=""),r=new e(j,q),C.postModify(r);break}}if(r==null)throw Hq(t);return r},e}(),n6=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();function r6(e,t,n){var r=1,o=null,s=!1,u=0;function c(){return u===2}var f=!1;function h(){for(var S=[],I=0;I<arguments.length;I++)S[I]=arguments[I];f||(f=!0,t.apply(null,S))}function d(S){o=setTimeout(function(){o=null,e(y,c())},S)}function y(S){for(var I=[],_=1;_<arguments.length;_++)I[_-1]=arguments[_];if(!f){if(S){h.call.apply(h,Aw([null,S],I));return}var b=c()||s;if(b){h.call.apply(h,Aw([null,S],I));return}r<64&&(r*=2);var T;u===1?(u=2,T=0):T=(r+Math.random())*1e3,d(T)}}var v=!1;function E(S){v||(v=!0,!f&&(o!==null?(S||(u=2),clearTimeout(o),d(0)):S||(u=1)))}return d(0),setTimeout(function(){s=!0,E(!0)},n),E}function i6(e){e(!1)}function o6(e){return e!==void 0}function s6(e){return typeof e=="function"}function a6(e){return typeof e=="object"&&!Array.isArray(e)}function Fp(e){return typeof e=="string"||e instanceof String}function qO(e){return Mw()&&e instanceof Blob}function Mw(){return typeof Blob!="undefined"}function jw(e,t,n,r){if(r<t)throw Es("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Es("Invalid value for '"+e+"'. Expected "+n+" or less.")}function so(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function zO(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var u6=function(){function e(t,n,r,o,s,u,c,f,h,d,y){var v=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=d,this.timeout_=h,this.pool_=y,this.promise_=new Promise(function(E,S){v.resolve_=E,v.reject_=S,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Vp(!1,null,!0));return}var u=t.pool_.createXhrIo();t.pendingXhr_=u;function c(f){var h=f.loaded,d=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(f){t.progressCallback_!==null&&f.removeUploadProgressListener(c),t.pendingXhr_=null,f=f;var h=f.getErrorCode()===Ts.NO_ERROR,d=f.getStatus();if(!h||t.isRetryStatusCode_(d)){var y=f.getErrorCode()===Ts.ABORT;o(!1,new Vp(!1,null,y));return}var v=t.successCodes_.indexOf(d)!==-1;o(!0,new Vp(v,f))})}function r(o,s){var u=t.resolve_,c=t.reject_,f=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(f,f.getResponseText());o6(h)?u(h):u()}catch(y){c(y)}else if(f!==null){var d=Rw();d.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,d)):c(d)}else if(s.canceled){var d=t.appDelete_?MO():DO();c(d)}else{var d=zq();c(d)}}this.canceled_?r(!1,new Vp(!1,null,!0)):this.backoffId_=r6(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&i6(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Vp=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function c6(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function l6(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function f6(e,t){t&&(e["X-Firebase-GMPID"]=t)}function h6(e,t,n,r,o){var s=zO(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return f6(c,t),c6(c,n),l6(c,o),new u6(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}function p6(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function d6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p6();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Mw())return new Blob(e);throw new ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function m6(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}var Uw=function(){function e(t,n){var r=0,o="";qO(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(qO(this.data_)){var r=this.data_,o=m6(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Mw()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(d6.apply(null,r))}else{var o=t.map(function(f){return Fp(f)?VO(ir.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),c=0;return o.forEach(function(f){for(var h=0;h<f.length;h++)u[c++]=f[h]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();function Fw(e){var t;try{t=JSON.parse(e)}catch(n){return null}return a6(t)?t:null}function v6(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function y6(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function HO(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function g6(e,t){return t}var fn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||g6}return e}(),Bp=null;function w6(e){return!Fp(e)||e.length<2?e:HO(e)}function qp(){if(Bp)return Bp;var e=[];e.push(new fn("bucket")),e.push(new fn("generation")),e.push(new fn("metageneration")),e.push(new fn("name","fullPath",!0));function t(s,u){return w6(u)}var n=new fn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new fn("size");return o.xform=r,e.push(o),e.push(new fn("timeCreated")),e.push(new fn("updated")),e.push(new fn("md5Hash",null,!0)),e.push(new fn("cacheControl",null,!0)),e.push(new fn("contentDisposition",null,!0)),e.push(new fn("contentEncoding",null,!0)),e.push(new fn("contentLanguage",null,!0)),e.push(new fn("contentType",null,!0)),e.push(new fn("metadata","customMetadata",!0)),Bp=e,Bp}function b6(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new or(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function _6(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return b6(r,e),r}function GO(e,t,n){var r=Fw(t);if(r===null)return null;var o=r;return _6(e,o,n)}function E6(e,t,n){var r=Fw(t);if(r===null||!Fp(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),c=u.map(function(f){var h=e.bucket,d=e.fullPath,y="/b/"+s(h)+"/o/"+s(d),v=so(y,n),E=zO({alt:"media",token:f});return v+E});return c[0]}function Vw(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}var KO="prefixes",WO="items";function T6(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[KO])for(var o=0,s=n[KO];o<s.length;o++){var u=s[o],c=u.replace(/\/$/,""),f=e._makeStorageReference(new or(t,c));r.prefixes.push(f)}if(n[WO])for(var h=0,d=n[WO];h<d.length;h++){var y=d[h],f=e._makeStorageReference(new or(t,y.name));r.items.push(f)}return r}function S6(e,t,n){var r=Fw(n);if(r===null)return null;var o=r;return T6(e,t,o)}var mi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();function Wr(e){if(!e)throw Rw()}function zp(e,t){function n(r,o){var s=GO(e,o,t);return Wr(s!==null),s}return n}function I6(e,t){function n(r,o){var s=S6(e,t,o);return Wr(s!==null),s}return n}function x6(e,t){function n(r,o){var s=GO(e,o,t);return Wr(s!==null),E6(s,o,e.host)}return n}function Za(e){function t(n,r){var o;return n.getStatus()===401?o=Bq():n.getStatus()===402?o=Vq(e.bucket):n.getStatus()===403?o=qq(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Hp(e){var t=Za(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=Fq(e.path)),s.serverResponse=o.serverResponse,s}return n}function $O(e,t,n){var r=t.fullServerUrl(),o=so(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new mi(o,s,zp(e,n),u);return c.errorHandler=Hp(t),c}function N6(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),c=so(u,e.host),f="GET",h=e.maxOperationRetryTime,d=new mi(c,f,I6(e,t.bucket),h);return d.urlParams=s,d.errorHandler=Za(t),d}function k6(e,t,n){var r=t.fullServerUrl(),o=so(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new mi(o,s,x6(e,n),u);return c.errorHandler=Hp(t),c}function P6(e,t,n,r){var o=t.fullServerUrl(),s=so(o,e.host),u="PATCH",c=Vw(n,r),f={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new mi(s,u,zp(e,r),h);return d.headers=f,d.body=c,d.errorHandler=Hp(t),d}function O6(e,t){var n=t.fullServerUrl(),r=so(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,h){}var c=new mi(r,o,u,s);return c.successCodes=[200,204],c.errorHandler=Hp(t),c}function A6(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function YO(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=A6(null,t)),r}function C6(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var N="",k=0;k<2;k++)N=N+Math.random().toString().slice(2);return N}var f=c();u["Content-Type"]="multipart/related; boundary="+f;var h=YO(t,r,o),d=Vw(h,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+f+"--",E=Uw.getBlob(y,r,v);if(E===null)throw LO();var S={name:h.fullPath},I=so(s,e.host),_="POST",b=e.maxUploadRetryTime,T=new mi(I,_,zp(e,n),b);return T.urlParams=S,T.headers=u,T.body=E.uploadData(),T.errorHandler=Za(t),T}var Gp=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function Bw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(o){Wr(!1)}var r=t||["active"];return Wr(!!n&&r.indexOf(n)!==-1),n}function R6(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=YO(t,r,o),c={name:u.fullPath},f=so(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},y=Vw(u,n),v=e.maxUploadRetryTime;function E(I){Bw(I);var _;try{_=I.getResponseHeader("X-Goog-Upload-URL")}catch(b){Wr(!1)}return Wr(Fp(_)),_}var S=new mi(f,h,E,v);return S.urlParams=c,S.headers=d,S.body=y,S.errorHandler=Za(t),S}function D6(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(h){var d=Bw(h,["active","final"]),y=null;try{y=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(E){Wr(!1)}y||Wr(!1);var v=Number(y);return Wr(!isNaN(v)),new Gp(v,r.size(),d==="final")}var u="POST",c=e.maxUploadRetryTime,f=new mi(n,u,s,c);return f.headers=o,f.errorHandler=Za(t),f}var XO=256*1024;function L6(e,t,n,r,o,s,u,c){var f=new Gp(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Wq();var h=f.total-f.current,d=h;o>0&&(d=Math.min(d,o));var y=f.current,v=y+d,E=d===h?"upload, finalize":"upload",S={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":f.current},I=r.slice(y,v);if(I===null)throw LO();function _(k,C){var O=Bw(k,["active","final"]),j=f.current+d,q=r.size(),D;return O==="final"?D=zp(t,s)(k,C):D=null,new Gp(j,q,O==="final",D)}var b="POST",T=t.maxUploadRetryTime,N=new mi(n,b,_,T);return N.headers=S,N.body=I.uploadData(),N.progressCallback=c||null,N.errorHandler=Za(e),N}var M6=function(){function e(t,n,r){var o=s6(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();function eu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var QO=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=qp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage._getAuthToken().then(function(r){switch(n._state){case"running":t(r);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=R6(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var o=D6(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage._makeRequest(o,r);t._request=s,s.getPromise().then(function(u){u=u,t._request=void 0,t._updateProgress(u.current),t._needToFetchStatus=!1,u.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=XO*this._chunkMultiplier,r=new Gp(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s){var u;try{u=L6(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(f){t._error=f,t._transition("error");return}var c=t._ref.storage._makeRequest(u,s);t._request=c,c.getPromise().then(function(f){t._increaseMultiplier(),t._request=void 0,t._updateProgress(f.current),f.finalized?(t._metadata=f.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=XO*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=$O(t._ref.storage,t._ref._location,t._mappings),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=C6(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=DO(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Lw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new M6(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Lw(this._state)){case ln.SUCCESS:eu(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:var n=this._reject;eu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Lw(this._state);switch(n){case ln.RUNNING:case ln.PAUSED:t.next&&eu(t.next.bind(t,this.snapshot))();break;case ln.SUCCESS:t.complete&&eu(t.complete.bind(t))();break;case ln.CANCELED:case ln.ERROR:t.error&&eu(t.error.bind(t,this._error))();break;default:t.error&&eu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();var Kp=function(){function e(t,n){this._service=t,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new or(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return HO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=v6(this._location.path);if(t===null)return null;var n=new or(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw jO(t)},e}();function j6(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new QO(e,new Uw(t),n)}function U6(e){var t={prefixes:[],items:[]};return JO(e,t).then(function(){return t})}function JO(e,t,n){return io(this,void 0,void 0,function(){var r,o,s,u;return oo(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,ZO(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,JO(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function ZO(e,t){return io(this,void 0,void 0,function(){var n,r,o;return oo(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&jw("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=s.sent(),r=t||{},o=N6(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(o,n).getPromise()]}})})}function F6(e){return io(this,void 0,void 0,function(){var t,n;return oo(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=$O(e.storage,e._location,qp()),[2,e.storage._makeRequest(n,t).getPromise()]}})})}function V6(e,t){return io(this,void 0,void 0,function(){var n,r;return oo(this,function(o){switch(o.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=P6(e.storage,e._location,t,qp()),[2,e.storage._makeRequest(r,n).getPromise()]}})})}function B6(e){return io(this,void 0,void 0,function(){var t,n;return oo(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=k6(e.storage,e._location,qp()),[2,e.storage._makeRequest(n,t).getPromise().then(function(o){if(o===null)throw $q();return o})]}})})}function q6(e){return io(this,void 0,void 0,function(){var t,n;return oo(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=O6(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}})})}function eA(e,t){var n=y6(e._location.path,t),r=new or(e._location.bucket,n);return new Kp(e.storage,r)}function qw(e){return/^[A-Za-z]+:\/\//.test(e)}function z6(e,t){return new Kp(e,t)}function tA(e,t){if(e instanceof Wp){var n=e;if(n._bucket==null)throw Kq();var r=new Kp(n,n._bucket);return t!=null?tA(r,t):r}else if(t!==void 0){if(t.includes(".."))throw Es('`path` param cannot contain ".."');return eA(e,t)}else return e}function H6(e,t){if(t&&qw(t)){if(e instanceof Wp)return z6(e,t);throw Es("To use ref(service, url), the first argument must be a Storage instance.")}else return tA(e,t)}function nA(e,t){var n=t==null?void 0:t[RO];return n==null?null:or.makeFromBucketSpec(n,e)}function G6(e,t,n){e.host="http://"+t+":"+n}var Wp=function(){function e(t,n,r,o,s){this.app=t,this._authProvider=n,this._pool=r,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=CO,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jq,this._maxUploadRetryTime=Uq,this._requests=new Set,o!=null?this._bucket=or.makeFromBucketSpec(o,this._host):this._bucket=nA(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,t):this._bucket=nA(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){jw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){jw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return io(this,void 0,void 0,function(){var t,n;return oo(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Kp(this,t)},e.prototype._makeRequest=function(t,n){var r=this;if(this._deleted)return new n6(MO());var o=h6(t,this._appId,n,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(function(){return r._requests.delete(o)},function(){return r._requests.delete(o)}),o},e}();function K6(e,t,n){return e=_e(e),j6(e,t,n)}function W6(e){return e=_e(e),F6(e)}function $6(e,t){return e=_e(e),V6(e,t)}function Y6(e,t){return e=_e(e),ZO(e,t)}function X6(e){return e=_e(e),U6(e)}function Q6(e){return e=_e(e),B6(e)}function J6(e){return e=_e(e),q6(e)}function rA(e,t){return e=_e(e),H6(e,t)}function Z6(e,t){return eA(e,t)}var $p=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();var iA=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new $p(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new $p(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(c){return n(new $p(c,s,s._ref))}:u={next:n.next?function(c){return n.next(new $p(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),oA=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new pl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new pl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();var pl=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Z6(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new iA(K6(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=ir.RAW),this._throwIfRoot("putString");var o=VO(n,t),s=jp({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new iA(new QO(this._delegate,new Uw(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return X6(this._delegate).then(function(n){return new oA(n,t.storage)})},e.prototype.list=function(t){var n=this;return Y6(this._delegate,t||void 0).then(function(r){return new oA(r,n.storage)})},e.prototype.getMetadata=function(){return W6(this._delegate)},e.prototype.updateMetadata=function(t){return $6(this._delegate,t)},e.prototype.getDownloadURL=function(){return Q6(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),J6(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw jO(t)},e}();var ez=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(qw(t))throw Es("ref() expected a child path but got a URL, use refFromURL instead.");return new pl(rA(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!qw(t))throw Es("refFromURL() expected a full URL but got a child path, use ref() instead.");try{or.makeFromUrl(t,this._delegate.host)}catch(n){throw Es("refFromUrl() expected a valid full URL but got an invalid one.")}return new pl(rA(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){G6(this._delegate,t,n)},e}(),tz="@firebase/storage",nz="0.5.1";var rz="storage";function iz(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=new ez(r,new Wp(r,o,new t6,n,$.SDK_VERSION));return s}function oz(e){var t={TaskState:ln,TaskEvent:Zq,StringFormat:ir,Storage:Wp,Reference:pl};e.INTERNAL.registerComponent(new Dn(rz,iz,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(tz,nz)}oz($);var sz="AIzaSyDnb7CnJxySsm2_w1Yq1l3ZlsRsN2qe16c",az="collectio-photo-2233e.firebaseapp.com",uz="collectio-photo-2233e",cz="collectio-photo-2233e.appspot.com",lz="590643802391",fz="1:590643802391:web:ad661fba7fb099ca018752",hz="G-X7DEP88WR5",sA={apiKey:sz,authDomain:az,projectId:uz,storageBucket:cz,messagingSenderId:lz,appId:fz,measurementId:hz};var UL=Ye(En()),FL=Ye(TD());var Tt=Ye(En());function df(e,t){return df=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},df(e,t)}function Nn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,df(e,t)}var Je=Ye(En()),i8=Ye(um());function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function cm(e){return e.charAt(0)==="/"}function s1(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}function b5(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&cm(e),s=t&&cm(t),u=o||s;if(e&&cm(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var c;if(r.length){var f=r[r.length-1];c=f==="."||f===".."||f===""}else c=!1;for(var h=0,d=r.length;d>=0;d--){var y=r[d];y==="."?s1(r,d):y===".."?(s1(r,d),h++):h&&(s1(r,d),h--)}if(!u)for(;h--;h)r.unshift("..");u&&r[0]!==""&&(!r[0]||!cm(r[0]))&&r.unshift("");var v=r.join("/");return c&&v.substr(-1)!=="/"&&(v+="/"),v}var AD=b5;var _5=!0,CD="Invariant failed";function E5(e,t){if(!e)throw _5?new Error(CD):new Error(CD+": "+(t||""))}var Cr=E5;function mf(e){return e.charAt(0)==="/"?e:"/"+e}function RD(e){return e.charAt(0)==="/"?e.substr(1):e}function T5(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function DD(e,t){return T5(e,t)?e.substr(t.length):e}function LD(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function S5(e){var t=e||"/",n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substr(o),t=t.substr(0,o));var s=t.indexOf("?");return s!==-1&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function Kn(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(o+=r.charAt(0)==="#"?r:"#"+r),o}function dn(e,t,n,r){var o;typeof e=="string"?(o=S5(e),o.state=t):(o=it({},e),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",t!==void 0&&o.state===void 0&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=AD(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function a1(){var e=null;function t(u){return e=u,function(){e===u&&(e=null)}}function n(u,c,f,h){if(e!=null){var d=typeof e=="function"?e(u,c):e;typeof d=="string"?typeof f=="function"?f(d,h):h(!0):h(d!==!1)}else h(!0)}var r=[];function o(u){var c=!0;function f(){c&&u.apply(void 0,arguments)}return r.push(f),function(){c=!1,r=r.filter(function(h){return h!==f})}}function s(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];r.forEach(function(h){return h.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:o,notifyListeners:s}}var MD=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function jD(e,t){t(window.confirm(e))}function I5(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function x5(){return window.navigator.userAgent.indexOf("Trident")===-1}function N5(){return window.navigator.userAgent.indexOf("Firefox")===-1}function k5(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var UD="popstate",FD="hashchange";function VD(){try{return window.history.state||{}}catch(e){return{}}}function BD(e){e===void 0&&(e={}),MD||Cr(!1);var t=window.history,n=I5(),r=!x5(),o=e,s=o.forceRefresh,u=s===void 0?!1:s,c=o.getUserConfirmation,f=c===void 0?jD:c,h=o.keyLength,d=h===void 0?6:h,y=e.basename?LD(mf(e.basename)):"";function v(ie){var be=ie||{},Q=be.key,oe=be.state,ye=window.location,Pe=ye.pathname,Xt=ye.search,Qt=ye.hash,gt=Pe+Xt+Qt;return y&&(gt=DD(gt,y)),dn(gt,oe,Q)}function E(){return Math.random().toString(36).substr(2,d)}var S=a1();function I(ie){it(Yt,ie),Yt.length=t.length,S.notifyListeners(Yt.location,Yt.action)}function _(ie){k5(ie)||N(v(ie.state))}function b(){N(v(VD()))}var T=!1;function N(ie){if(T)T=!1,I();else{var be="POP";S.confirmTransitionTo(ie,be,f,function(Q){Q?I({action:be,location:ie}):k(ie)})}}function k(ie){var be=Yt.location,Q=O.indexOf(be.key);Q===-1&&(Q=0);var oe=O.indexOf(ie.key);oe===-1&&(oe=0);var ye=Q-oe;ye&&(T=!0,he(ye))}var C=v(VD()),O=[C.key];function j(ie){return y+Kn(ie)}function q(ie,be){var Q="PUSH",oe=dn(ie,be,E(),Yt.location);S.confirmTransitionTo(oe,Q,f,function(ye){if(!!ye){var Pe=j(oe),Xt=oe.key,Qt=oe.state;if(n)if(t.pushState({key:Xt,state:Qt},null,Pe),u)window.location.href=Pe;else{var gt=O.indexOf(Yt.location.key),ti=O.slice(0,gt+1);ti.push(oe.key),O=ti,I({action:Q,location:oe})}else window.location.href=Pe}})}function D(ie,be){var Q="REPLACE",oe=dn(ie,be,E(),Yt.location);S.confirmTransitionTo(oe,Q,f,function(ye){if(!!ye){var Pe=j(oe),Xt=oe.key,Qt=oe.state;if(n)if(t.replaceState({key:Xt,state:Qt},null,Pe),u)window.location.replace(Pe);else{var gt=O.indexOf(Yt.location.key);gt!==-1&&(O[gt]=oe.key),I({action:Q,location:oe})}else window.location.replace(Pe)}})}function he(ie){t.go(ie)}function P(){he(-1)}function $t(){he(1)}var Pn=0;function On(ie){Pn+=ie,Pn===1&&ie===1?(window.addEventListener(UD,_),r&&window.addEventListener(FD,b)):Pn===0&&(window.removeEventListener(UD,_),r&&window.removeEventListener(FD,b))}var yt=!1;function $n(ie){ie===void 0&&(ie=!1);var be=S.setPrompt(ie);return yt||(On(1),yt=!0),function(){return yt&&(yt=!1,On(-1)),be()}}function Yn(ie){var be=S.appendListener(ie);return On(1),function(){On(-1),be()}}var Yt={length:t.length,action:"POP",location:C,createHref:j,push:q,replace:D,go:he,goBack:P,goForward:$t,block:$n,listen:Yn};return Yt}var qD="hashchange",P5={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+RD(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:RD,decodePath:mf},slash:{encodePath:mf,decodePath:mf}};function zD(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function vf(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function O5(e){window.location.hash=e}function u1(e){window.location.replace(zD(window.location.href)+"#"+e)}function HD(e){e===void 0&&(e={}),MD||Cr(!1);var t=window.history,n=N5(),r=e,o=r.getUserConfirmation,s=o===void 0?jD:o,u=r.hashType,c=u===void 0?"slash":u,f=e.basename?LD(mf(e.basename)):"",h=P5[c],d=h.encodePath,y=h.decodePath;function v(){var Q=y(vf());return f&&(Q=DD(Q,f)),dn(Q)}var E=a1();function S(Q){it(be,Q),be.length=t.length,E.notifyListeners(be.location,be.action)}var I=!1,_=null;function b(Q,oe){return Q.pathname===oe.pathname&&Q.search===oe.search&&Q.hash===oe.hash}function T(){var Q=vf(),oe=d(Q);if(Q!==oe)u1(oe);else{var ye=v(),Pe=be.location;if(!I&&b(Pe,ye)||_===Kn(ye))return;_=null,N(ye)}}function N(Q){if(I)I=!1,S();else{var oe="POP";E.confirmTransitionTo(Q,oe,s,function(ye){ye?S({action:oe,location:Q}):k(Q)})}}function k(Q){var oe=be.location,ye=q.lastIndexOf(Kn(oe));ye===-1&&(ye=0);var Pe=q.lastIndexOf(Kn(Q));Pe===-1&&(Pe=0);var Xt=ye-Pe;Xt&&(I=!0,$t(Xt))}var C=vf(),O=d(C);C!==O&&u1(O);var j=v(),q=[Kn(j)];function D(Q){var oe=document.querySelector("base"),ye="";return oe&&oe.getAttribute("href")&&(ye=zD(window.location.href)),ye+"#"+d(f+Kn(Q))}function he(Q,oe){var ye="PUSH",Pe=dn(Q,void 0,void 0,be.location);E.confirmTransitionTo(Pe,ye,s,function(Xt){if(!!Xt){var Qt=Kn(Pe),gt=d(f+Qt),ti=vf()!==gt;if(ti){_=Qt,O5(gt);var Ne=q.lastIndexOf(Kn(be.location)),wf=q.slice(0,Ne+1);wf.push(Qt),q=wf,S({action:ye,location:Pe})}else S()}})}function P(Q,oe){var ye="REPLACE",Pe=dn(Q,void 0,void 0,be.location);E.confirmTransitionTo(Pe,ye,s,function(Xt){if(!!Xt){var Qt=Kn(Pe),gt=d(f+Qt),ti=vf()!==gt;ti&&(_=Qt,u1(gt));var Ne=q.indexOf(Kn(be.location));Ne!==-1&&(q[Ne]=Qt),S({action:ye,location:Pe})}})}function $t(Q){t.go(Q)}function Pn(){$t(-1)}function On(){$t(1)}var yt=0;function $n(Q){yt+=Q,yt===1&&Q===1?window.addEventListener(qD,T):yt===0&&window.removeEventListener(qD,T)}var Yn=!1;function Yt(Q){Q===void 0&&(Q=!1);var oe=E.setPrompt(Q);return Yn||($n(1),Yn=!0),function(){return Yn&&(Yn=!1,$n(-1)),oe()}}function ie(Q){var oe=E.appendListener(Q);return $n(1),function(){$n(-1),oe()}}var be={length:t.length,action:"POP",location:j,createHref:D,push:he,replace:P,go:$t,goBack:Pn,goForward:On,block:Yt,listen:ie};return be}function GD(e,t,n){return Math.min(Math.max(e,t),n)}function KD(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=r===void 0?["/"]:r,s=t.initialIndex,u=s===void 0?0:s,c=t.keyLength,f=c===void 0?6:c,h=a1();function d(q){it(j,q),j.length=j.entries.length,h.notifyListeners(j.location,j.action)}function y(){return Math.random().toString(36).substr(2,f)}var v=GD(u,0,o.length-1),E=o.map(function(q){return typeof q=="string"?dn(q,void 0,y()):dn(q,void 0,q.key||y())}),S=Kn;function I(q,D){var he="PUSH",P=dn(q,D,y(),j.location);h.confirmTransitionTo(P,he,n,function($t){if(!!$t){var Pn=j.index,On=Pn+1,yt=j.entries.slice(0);yt.length>On?yt.splice(On,yt.length-On,P):yt.push(P),d({action:he,location:P,index:On,entries:yt})}})}function _(q,D){var he="REPLACE",P=dn(q,D,y(),j.location);h.confirmTransitionTo(P,he,n,function($t){!$t||(j.entries[j.index]=P,d({action:he,location:P}))})}function b(q){var D=GD(j.index+q,0,j.entries.length-1),he="POP",P=j.entries[D];h.confirmTransitionTo(P,he,n,function($t){$t?d({action:he,location:P,index:D}):d()})}function T(){b(-1)}function N(){b(1)}function k(q){var D=j.index+q;return D>=0&&D<j.entries.length}function C(q){return q===void 0&&(q=!1),h.setPrompt(q)}function O(q){return h.appendListener(q)}var j={length:E.length,action:"POP",location:E[v],index:v,entries:E,createHref:S,push:I,replace:_,go:b,goBack:T,goForward:N,canGo:k,block:C,listen:O};return j}var yf=Ye(En());var c1=Ye(um());var l1=1073741823,WD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function A5(){var e="__global_unique_id__";return WD[e]=(WD[e]||0)+1}function C5(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}function R5(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(o){return o!==r})},get:function(){return e},set:function(r,o){e=r,t.forEach(function(s){return s(e,o)})}}}function D5(e){return Array.isArray(e)?e[0]:e}function L5(e,t){var n,r,o="__create-react-context-"+A5()+"__",s=function(c){Nn(f,c);function f(){var d;return d=c.apply(this,arguments)||this,d.emitter=R5(d.props.value),d}var h=f.prototype;return h.getChildContext=function(){var y;return y={},y[o]=this.emitter,y},h.componentWillReceiveProps=function(y){if(this.props.value!==y.value){var v=this.props.value,E=y.value,S;C5(v,E)?S=0:(S=typeof t=="function"?t(v,E):l1,S|=0,S!==0&&this.emitter.set(y.value,S))}},h.render=function(){return this.props.children},f}(yf.Component);s.childContextTypes=(n={},n[o]=c1.default.object.isRequired,n);var u=function(c){Nn(f,c);function f(){var d;return d=c.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(y,v){var E=d.observedBits|0;(E&v)!=0&&d.setState({value:d.getValue()})},d}var h=f.prototype;return h.componentWillReceiveProps=function(y){var v=y.observedBits;this.observedBits=v==null?l1:v},h.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var y=this.props.observedBits;this.observedBits=y==null?l1:y},h.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},h.getValue=function(){return this.context[o]?this.context[o].get():e},h.render=function(){return D5(this.props.children)(this.state.value)},f}(yf.Component);return u.contextTypes=(r={},r[o]=c1.default.object,r),{Provider:s,Consumer:u}}var M5=yf.default.createContext||L5,f1=M5;var lL=Ye(ZD()),f8=Ye(g1());function Po(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var fL=Ye(cL()),rG=function(t){var n=f1();return n.displayName=t,n},iG=rG("Router-History"),oG=function(t){var n=f1();return n.displayName=t,n},Oo=oG("Router"),gf=function(e){Nn(t,e),t.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function t(r){var o;return o=e.call(this,r)||this,o.state={location:r.history.location},o._isMounted=!1,o._pendingLocation=null,r.staticContext||(o.unlisten=r.history.listen(function(s){o._isMounted?o.setState({location:s}):o._pendingLocation=s})),o}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return Je.default.createElement(Oo.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Je.default.createElement(iG.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Je.default.Component),d8=function(e){Nn(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=KD(r.props),r}var n=t.prototype;return n.render=function(){return Je.default.createElement(gf,{history:this.history,children:this.props.children})},t}(Je.default.Component),m8=function(e){Nn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Je.default.Component);var hL={},sG=1e4,pL=0;function aG(e,t){var n=""+t.end+t.strict+t.sensitive,r=hL[n]||(hL[n]={});if(r[e])return r[e];var o=[],s=(0,lL.default)(e,o,t),u={regexp:s,keys:o};return pL<sG&&(r[e]=u,pL++),u}function Em(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,s=o===void 0?!1:o,u=n.strict,c=u===void 0?!1:u,f=n.sensitive,h=f===void 0?!1:f,d=[].concat(r);return d.reduce(function(y,v){if(!v&&v!=="")return null;if(y)return y;var E=aG(v,{end:s,strict:c,sensitive:h}),S=E.regexp,I=E.keys,_=S.exec(e);if(!_)return null;var b=_[0],T=_.slice(1),N=e===b;return s&&!N?null:{path:v,url:v==="/"&&b===""?"/":b,isExact:N,params:I.reduce(function(k,C,O){return k[C.name]=T[O],k},{})}},null)}var Ao=function(e){Nn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var o=this;return Je.default.createElement(Oo.Consumer,null,function(s){s||Cr(!1);var u=o.props.location||s.location,c=o.props.computedMatch?o.props.computedMatch:o.props.path?Em(u.pathname,o.props):s.match,f=it({},s,{location:u,match:c}),h=o.props,d=h.children,y=h.component,v=h.render;return Array.isArray(d)&&d.length===0&&(d=null),Je.default.createElement(Oo.Provider,{value:f},f.match?d?typeof d=="function"?d(f):d:y?Je.default.createElement(y,f):v?v(f):null:typeof d=="function"?d(f):null)})},t}(Je.default.Component);function _1(e){return e.charAt(0)==="/"?e:"/"+e}function uG(e,t){return e?it({},t,{pathname:_1(e)+t.pathname}):t}function cG(e,t){if(!e)return t;var n=_1(e);return t.pathname.indexOf(n)!==0?t:it({},t,{pathname:t.pathname.substr(n.length)})}function dL(e){return typeof e=="string"?e:Kn(e)}function E1(e){return function(){Cr(!1)}}function mL(){}var v8=function(e){Nn(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.handlePush=function(c){return r.navigateTo(c,"PUSH")},r.handleReplace=function(c){return r.navigateTo(c,"REPLACE")},r.handleListen=function(){return mL},r.handleBlock=function(){return mL},r}var n=t.prototype;return n.navigateTo=function(o,s){var u=this.props,c=u.basename,f=c===void 0?"":c,h=u.context,d=h===void 0?{}:h;d.action=s,d.location=uG(f,dn(o)),d.url=dL(d.location)},n.render=function(){var o=this.props,s=o.basename,u=s===void 0?"":s,c=o.context,f=c===void 0?{}:c,h=o.location,d=h===void 0?"/":h,y=Po(o,["basename","context","location"]),v={createHref:function(S){return _1(u+dL(S))},action:"POP",location:cG(u,dn(d)),push:this.handlePush,replace:this.handleReplace,go:E1("go"),goBack:E1("goBack"),goForward:E1("goForward"),listen:this.handleListen,block:this.handleBlock};return Je.default.createElement(gf,it({},y,{history:v,staticContext:f}))},t}(Je.default.Component),vL=function(e){Nn(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var o=this;return Je.default.createElement(Oo.Consumer,null,function(s){s||Cr(!1);var u=o.props.location||s.location,c,f;return Je.default.Children.forEach(o.props.children,function(h){if(f==null&&Je.default.isValidElement(h)){c=h;var d=h.props.path||h.props.from;f=d?Em(u.pathname,it({},h.props,{path:d})):s.match}}),f?Je.default.cloneElement(c,{location:u,computedMatch:f}):null})},t}(Je.default.Component);function dr(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(o){var s=o.wrappedComponentRef,u=Po(o,["wrappedComponentRef"]);return Je.default.createElement(Oo.Consumer,null,function(c){return c||Cr(!1),Je.default.createElement(e,it({},u,c,{ref:s}))})};return n.displayName=t,n.WrappedComponent=e,(0,fL.default)(n,e)}var y8=Je.default.useContext;var mr=Ye(En());var E8=Ye(um());var N8=function(e){Nn(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=BD(r.props),r}var n=t.prototype;return n.render=function(){return mr.default.createElement(gf,{history:this.history,children:this.props.children})},t}(mr.default.Component),yL=function(e){Nn(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return r=e.call.apply(e,[this].concat(s))||this,r.history=HD(r.props),r}var n=t.prototype;return n.render=function(){return mr.default.createElement(gf,{history:this.history,children:this.props.children})},t}(mr.default.Component),T1=function(t,n){return typeof t=="function"?t(n):t},gL=function(t,n){return typeof t=="string"?dn(t,null,null,n):t},S1=function(t){return t},Lu=mr.default.forwardRef;typeof Lu=="undefined"&&(Lu=S1);function lG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var fG=Lu(function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,s=Po(e,["innerRef","navigate","onClick"]),u=s.target,c=it({},s,{onClick:function(h){try{o&&o(h)}catch(d){throw h.preventDefault(),d}!h.defaultPrevented&&h.button===0&&(!u||u==="_self")&&!lG(h)&&(h.preventDefault(),r())}});return S1!==Lu?c.ref=t||n:c.ref=n,mr.default.createElement("a",c)}),ot=Lu(function(e,t){var n=e.component,r=n===void 0?fG:n,o=e.replace,s=e.to,u=e.innerRef,c=Po(e,["component","replace","to","innerRef"]);return mr.default.createElement(Oo.Consumer,null,function(f){f||Cr(!1);var h=f.history,d=gL(T1(s,f.location),f.location),y=d?h.createHref(d):"",v=it({},c,{href:y,navigate:function(){var S=T1(s,f.location),I=o?h.replace:h.push;I(S)}});return S1!==Lu?v.ref=t||u:v.innerRef=u,mr.default.createElement(r,v)})});var wL=function(t){return t},Tm=mr.default.forwardRef;typeof Tm=="undefined"&&(Tm=wL);function hG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}var k8=Tm(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,o=e.activeClassName,s=o===void 0?"active":o,u=e.activeStyle,c=e.className,f=e.exact,h=e.isActive,d=e.location,y=e.sensitive,v=e.strict,E=e.style,S=e.to,I=e.innerRef,_=Po(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return mr.default.createElement(Oo.Consumer,null,function(b){b||Cr(!1);var T=d||b.location,N=gL(T1(S,T),T),k=N.pathname,C=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=C?Em(T.pathname,{path:C,exact:f,sensitive:y,strict:v}):null,j=!!(h?h(O,T):O),q=j?hG(c,s):c,D=j?it({},E,{},u):E,he=it({"aria-current":j&&r||null,className:q,style:D,to:N},_);return wL!==Tm?he.ref=t||I:he.innerRef=I,mr.default.createElement(ot,he)})});var de=Ye(En());var bL=class extends de.default.Component{constructor(t){super(t);this.state={loading:!t.user,user:null,uploading:!1},this.input=null}setInputRef(t){this.input=t}componentDidMount(){this.props.user||Co.auth().onAuthStateChanged(t=>{t&&(console.log(t),this.props.setUser(t),I1.collection("albums").where("userId","==",this.props.user.uid).get().then(n=>{if(n.forEach(u=>{this.props.addAlbums(u.data())}),!n.empty)return;let r=[];r.push({image:"https://yabumi.cc/17901ccdcd7973907b4cfd62.jpg"});let o=new Date,s={title:"\u30B5\u30F3\u30D7\u30EB\u306E\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u4F1A",date:`${o.getFullYear()}/${o.getMonth()+1}/${o.getDate()}`,photos:r,games:[{bgdb:"http://www.gamers-jp.com/playgame/db_gamea.php?game_id=6959",bgg:"https://boardgamegeek.com/boardgame/191895",bodogema:"https://bodoge.hoobby.net/games/golovonogi",etitle:"Toddles-Bobbles Green",hasJPURL:1,id:"95735",keyword:"\u306A\u3093\u3058\u3083\u3082\u3093\u3058\u3083,\u307F\u3069\u308A,\u7DD1",maxPlayers:6,minPlayers:2,playAge:4,playingTime:15,title:"\u30CA\u30F3\u30B8\u30E3\u30E2\u30F3\u30B8\u30E3\u30FB\u30DF\u30C9\u30EA",year:"2010",image:"https://db.collectio.jp/wp-content/uploads/2019/05/95735.jpg"},{bgdb:"",bgg:"https://boardgamegeek.com/boardgame/230802",bodogema:"https://bodoge.hoobby.net/games/azul",etitle:"Azul",hasJPURL:1,id:"72660",keyword:"",maxPlayers:4,minPlayers:2,playAge:8,playingTime:45,title:"\u30A2\u30BA\u30FC\u30EB",year:"2017",image:"https://db.collectio.jp/wp-content/uploads/2019/05/72660.jpg"},{bgdb:"http://www.gamers-jp.com/playgame/db_gamea.php?game_id=4786",bgg:"https://boardgamegeek.com/boardgame/68448",bodogema:"https://bodoge.hoobby.net/games/7-wonders",etitle:"7 Wonders",hasJPURL:1,id:"81063",keyword:"\u305B\u304B\u3044\u306E\u306A\u306A\u3075\u3057\u304E \u305B\u3076\u3093\u308F\u3093\u3060\u30FC 7\u308F\u3093\u3060\u30FC",maxPlayers:"",minPlayers:"",playAge:"",playingTime:"",title:"\u4E16\u754C\u306E\u4E03\u4E0D\u601D\u8B70",year:"2010",image:"https://db.collectio.jp/wp-content/uploads/2019/05/81063.jpg"},{bgdb:null,bgg:null,bodogema:null,etitle:"",hasJPURL:1,id:"110318",keyword:"",maxPlayers:null,minPlayers:null,playAge:null,playingTime:null,title:"Escape from the Office: The exciting escape game \u2013 escape your boss",year:"0",image:null}],userId:""};this.props.addAlbums(s)}).catch(n=>{console.log("Error getting documents: ",n)})),this.setState({loading:!1})})}async createAlbum(){if(this.input&&this.input.files){this.setState({uploading:!0});let t=[];for(let s=0;s<this.input.files.length;s++){let u=this.input.files[s],c=await this.loadImage(u).catch(f=>console.log(f));t.push(c)}console.log(t);let n=new Date,r={title:"\u3042\u308B\u65E5\u306E\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u4F1A",date:`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`,photos:[],games:[],userId:this.props.user.uid},o=await I1.collection("albums").add(r).catch(s=>{console.error("Error adding document: ",s)});if(o){console.log("Document written with ID: ",o.id);let s=[];for(let u of t){let c=await this.uploadPhoto(o,u).catch(f=>console.log(f));c&&s.push({image:c})}o.update({photos:s}).catch(u=>console.log(u)),r.photos=s,this.props.addAlbums(r)}this.setState({uploading:!1})}}loadImage(t){return new Promise((n,r)=>{let o=new FileReader;o.onload=async s=>{n(await this.resizeImage(s.target.result))},o.readAsDataURL(t)})}uploadPhoto(t,n){return console.log("uploadPhoto"),new Promise((r,o)=>{let c=Co.storage().ref().child(`${this.props.user.uid}/${t.id}/${new Date().getTime()}.jpg`).putString(n,"data_url");c.on("state_changed",f=>{let h=f.bytesTransferred/f.totalBytes*100;switch(console.log("Upload is "+h+"% done"),f.state){case Co.storage.TaskState.PAUSED:console.log("Upload is paused");break;case Co.storage.TaskState.RUNNING:console.log("Upload is running");break}},f=>{console.log(f),o()},async()=>{let f=await c.snapshot.ref.getDownloadURL();console.log("File available at",f),r(f)})})}resizeImage(t){return new Promise((n,r)=>{let o=640,s=document.createElement("canvas"),u=s.getContext("2d");if(u){let c=new Image;c.crossOrigin="Anonymous",c.onload=f=>{let h=f.target,d,y;h.width>h.height?(d=o,y=h.height*o/h.width):(y=o,d=h.width*o/h.height),s.width=d,s.height=y,u.drawImage(h,0,0,h.width,h.height,0,0,d,y),n(s.toDataURL())},c.src=t}else r()})}GoogleLogin(){let t=new Co.auth.GoogleAuthProvider;Co.auth().signInWithRedirect(t)}signOut(){Co.auth().signOut().then(()=>{location.reload()}).catch(t=>{})}render(){return de.default.createElement("div",{id:"home"},de.default.createElement("nav",null,de.default.createElement(ot,{to:"/"},de.default.createElement("img",{className:"logo",src:"./assets/collectio.svg",alt:"Collectio"}))),this.state.loading?null:this.props.user?de.default.createElement(de.default.Fragment,null,de.default.createElement("div",{className:"profile"},de.default.createElement("img",{src:this.props.user.photoURL,alt:""}),de.default.createElement("p",null,this.props.user.displayName),de.default.createElement("button",{onClick:this.signOut.bind(this)},"SignOut")),this.state.uploading?de.default.createElement("div",{className:"progress"},de.default.createElement("p",null,"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D...")):null,de.default.createElement("div",{className:"albums"},this.props.albums.map(t=>de.default.createElement(ot,{to:{pathname:"/album",state:{album:t}},key:t.title+t.date,onClick:()=>this.props.setAlbum(t)},de.default.createElement("div",{className:"album"},de.default.createElement("div",{className:"image"},de.default.createElement("h4",null,t.title),de.default.createElement("span",null,t.date),de.default.createElement("div",{className:"photos"},t.photos.map(n=>de.default.createElement("div",{key:n.image,className:"photo",style:{backgroundImage:`url(${n.image})`}})))),de.default.createElement("div",{className:"games"},t.games.map((n,r)=>de.default.createElement(ot,{to:{pathname:"/game",state:{game:n}},key:n.id,onClick:()=>this.props.setGame(n)},de.default.createElement("div",{key:"game"+r,className:"game"},n.image?de.default.createElement("img",{src:n.image,alt:n.title}):de.default.createElement("span",{className:"title"},n.title))))))))),de.default.createElement("form",{action:"",encType:"multipart/form-data"},de.default.createElement("input",{className:"file",onChange:this.createAlbum.bind(this),id:"file",type:"file",name:"file",accept:"image/*",multiple:!0,ref:this.setInputRef.bind(this)}),de.default.createElement("label",{htmlFor:"file"}))):de.default.createElement("div",{className:"login"},de.default.createElement("button",{onClick:this.GoogleLogin.bind(this)},de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512"},de.default.createElement("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})),"Google\u3067\u30ED\u30B0\u30A4\u30F3")))}},_L=bL;var Le=Ye(En());var EL=class extends Le.default.Component{constructor(t){super(t);this.state={}}render(){let t=this.props.album;if(t===null){this.props.history.push("/"),location.reload();return}return Le.default.createElement("div",{id:"album"},Le.default.createElement("nav",null,Le.default.createElement(ot,{to:"/"},Le.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),Le.default.createElement("span",null),Le.default.createElement("span",{onClick:()=>alert("\u30A2\u30EB\u30D0\u30E0\u306E\u30BF\u30A4\u30C8\u30EB\u7DE8\u96C6\u30FB\u30A2\u30EB\u30D0\u30E0\u306E\u524A\u9664\u6A5F\u80FD\u306A\u3069\u304C\u304F\u308B\u4E88\u5B9A")},Le.default.createElement("img",{src:"./assets/menu.svg",alt:"menu"}))),Le.default.createElement("div",{className:"album"},Le.default.createElement("div",{className:"hero"},Le.default.createElement("h4",null,t.title),Le.default.createElement("span",null,t.date),Le.default.createElement("div",{className:"cover",style:{backgroundImage:`url(${t.photos[0].image})`}})),Le.default.createElement("div",{className:"actions"},Le.default.createElement(ot,{to:{pathname:"/select",state:{album:t}},className:"add"},"\u904A\u3093\u3060\u30B2\u30FC\u30E0"),Le.default.createElement(ot,{to:{pathname:"/albumSelect",state:{album:t}},className:"share"},"\u30B7\u30A7\u30A2")),Le.default.createElement("div",{className:"games"},t.games.map((n,r)=>Le.default.createElement(ot,{to:{pathname:"/game",state:{game:n}},key:n.id,onClick:()=>this.props.setGame(n)},Le.default.createElement("div",{key:"game"+r,className:"game"},n.image?Le.default.createElement("img",{src:n.image,alt:n.title}):Le.default.createElement("span",{className:"title"},n.title))))),Le.default.createElement("div",{className:"photos"},t.photos.map((n,r)=>Le.default.createElement(ot,{to:{pathname:"/photo",state:{album:t,photo:n}},key:n.image},Le.default.createElement("div",{className:"photo",style:{backgroundImage:`url(${n.image})`}}))))))}},TL=dr(EL);var kn=Ye(En());var SL=class extends kn.default.Component{constructor(t){super(t);this.state={selectedImageIndex:[],selectDisabled:!1}}select(t){this.state.selectedImageIndex.indexOf(t)===-1?this.state.selectDisabled===!1&&this.state.selectedImageIndex.push(t):(this.state.selectedImageIndex.splice(this.state.selectedImageIndex.indexOf(t),1),this.setState({selectDisabled:!1})),this.state.selectedImageIndex.length>=4&&this.setState({selectDisabled:!0}),this.setState({})}share(){let{album:t}=this.props.location.state;if(this.state.selectedImageIndex.length===0)return alert("\u5199\u771F\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044");let n=t.photos.filter((r,o)=>this.state.selectedImageIndex.indexOf(o)>-1);this.props.history.push({pathname:"/share",state:{photos:n,album:t}})}render(){try{let{album:t}=this.props.location.state;return kn.default.createElement("div",{id:"albumSelect"},kn.default.createElement("nav",null,kn.default.createElement(ot,{to:{pathname:"/album",state:{album:t}}},kn.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),kn.default.createElement("span",null,"\u5199\u771F\u306E\u9078\u629E"),kn.default.createElement("span",null)),kn.default.createElement("div",{className:"album"},kn.default.createElement("div",{className:"photos"},t.photos.map((n,r)=>kn.default.createElement("div",{className:"photo"+(this.state.selectDisabled?" disabled":""),onClick:this.select.bind(this,r),style:{backgroundImage:`url(${n.image})`}},kn.default.createElement("span",{className:"select"+(this.state.selectedImageIndex.indexOf(r)>-1?" selected":"")})))),kn.default.createElement("div",{className:"bottomActions"},kn.default.createElement("span",{className:"share",onClick:this.share.bind(this)},"\u6B21\u3078"))))}catch(t){this.props.history.push("/"),location.reload()}}},IL=dr(SL);var mt=Ye(En());var xL=class extends mt.default.Component{constructor(t){super(t);this.state={}}render(){let t=this.props.game;if(t===null){this.props.history.push("/"),location.reload();return}return mt.default.createElement("div",{id:"game"},mt.default.createElement("nav",null,mt.default.createElement("a",{onClick:()=>this.props.history.goBack()},mt.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),mt.default.createElement("span",null),mt.default.createElement("span",{onClick:()=>alert("\u30A2\u30EB\u30D0\u30E0\u306E\u30BF\u30A4\u30C8\u30EB\u7DE8\u96C6\u30FB\u30A2\u30EB\u30D0\u30E0\u306E\u524A\u9664\u6A5F\u80FD\u306A\u3069\u304C\u304F\u308B\u4E88\u5B9A")},mt.default.createElement("img",{src:"./assets/menu.svg",alt:"menu"}))),mt.default.createElement("div",{className:"game"},t.image?mt.default.createElement("img",{src:t.image,alt:t.title}):mt.default.createElement("div",{className:"noimage"},t.title),mt.default.createElement("p",{className:"title"},t.title),t.year!=="0"?mt.default.createElement("p",{className:"year"},t.year):null,mt.default.createElement("div",{className:"links"},mt.default.createElement("a",{href:"https://www.amazon.co.jp/s?k="+encodeURIComponent(t.title),className:"amazon",target:"_blank"},"Amazon\u3067\u63A2\u3059"),t.bodogema?mt.default.createElement("a",{href:t.bodogema,className:"bodogema",target:"_blank"},"\u30DC\u30C9\u30B2\u30FC\u30DE"):null,t.bgg?mt.default.createElement("a",{href:t.bgg,className:"bgg",target:"_blank"},"BoardGameGeek"):null,t.bgdb?mt.default.createElement("a",{href:t.bgdb,className:"bgdb",target:"_blank"},"\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9"):null)))}},NL=dr(xL);var Mu=Ye(En());var kL=class extends Mu.default.Component{constructor(t){super(t);this.state={}}render(){let{photo:t}=this.props.location.state,{album:n}=this.props.location.state;return Mu.default.createElement("div",{id:"photo"},Mu.default.createElement("div",{style:{backgroundImage:`url(${t.image})`}}),Mu.default.createElement(ot,{to:{pathname:"/album",state:{album:n}},className:"close"},Mu.default.createElement("img",{src:"./assets/close.svg"})))}},PL=dr(kL);var vt=Ye(En());var AL=Ye(OL()),CL=class extends vt.default.Component{constructor(t){super(t);this.textInput=null;try{let{album:n}=this.props.location.state;this.state={index:0,loading:!1,album:n,suggests:[]}}catch(n){this.props.history.push("/"),location.reload()}}componentDidMount(){this.textInput&&(this.textInput.addEventListener("focus",()=>{scrollTo(0,140)}),this.textInput.focus()),fetch("https://db-api-mxiq5qapta-an.a.run.app/search")}setTextInputRef(t){this.textInput=t}hiraToKana(t){return t.replace(/[\u3041-\u3096]/g,function(n){let r=n.charCodeAt(0)+96;return String.fromCharCode(r)})}async onSearch(t){t.preventDefault();let n=this.textInput.value;if(n==="")return this.setState({suggests:[]});let r=await this.search(n);this.setState({loading:!0}),r.length===0&&(r=await this.search(this.hiraToKana(n)));let o=await this.suggest(n);this.setState({loading:!1});let s=r.concat(o);s.length===0&&(s=[{title:n}]),this.setState({suggests:s})}async search(t){let n=await fetch("https://db-api-mxiq5qapta-an.a.run.app/search?q="+encodeURIComponent(t)).then(o=>o.json()),r=[];return n.map(o=>{r.push(o)}),r}async suggest(t){let n=await(0,AL.default)("https://www.google.com/complete/search?hl=ja&client=firefox&q="+encodeURIComponent(t)).then(o=>o.json()),r=[];return n[1].map(o=>{let s={title:o};r.push(s)}),r}async selectSuggest(t){let r=(await fetch(`http://db.collectio.jp/wp-json/wp/v2/posts/${t.id}?_embed`).then(o=>o.json())).featured_image.src;r!=="http://db.collectio.jp/wp-includes/images/media/default.png"?t.image=r:t.image=null,this.state.album.games.push(t),this.setState({suggests:[]}),this.textInput.value=""}render(){return vt.default.createElement("div",{id:"select"},vt.default.createElement("nav",null,vt.default.createElement(ot,{to:{pathname:"/album",state:{album:this.state.album}},className:"back"},vt.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),vt.default.createElement(ot,{to:{pathname:"/album",state:{album:this.state.album}},className:"complete"},"\u5B8C\u4E86")),vt.default.createElement("form",{action:"",onSubmit:this.onSearch.bind(this)},vt.default.createElement("div",{className:"bg"},vt.default.createElement("input",{type:"text",ref:this.setTextInputRef.bind(this),placeholder:"\u30B2\u30FC\u30E0\u3092\u691C\u7D22",onChange:this.onSearch.bind(this)})),this.state.suggests.length===0&&this.state.loading?vt.default.createElement("div",{className:"suggests"},"\u8AAD\u307F\u8FBC\u307F\u4E2D..."):null,this.state.suggests.length>0?vt.default.createElement("div",{className:"suggests"},this.state.suggests.slice(0,100).map((t,n)=>vt.default.createElement("div",{key:"suggest"+n,onClick:this.selectSuggest.bind(this,t)},t.title))):null),this.state.album.games.length>0?vt.default.createElement("div",{className:"games"},vt.default.createElement("h3",null,"\u904A\u3093\u3060\u30B2\u30FC\u30E0"),this.state.album.games.map((t,n)=>vt.default.createElement("div",{key:"game"+n,className:"game"},t.image?vt.default.createElement("img",{src:t.image,alt:""}):vt.default.createElement("span",{className:"image"}),vt.default.createElement("span",{className:"title"},t.title)))):null)}},RL=dr(CL);var vr=Ye(En());function pG(e,t){var n=e.split(","),r=atob(n[1]),o=r.length,s=new Uint8Array(o),u,c=n[0];if(c){var f=c.match(/:(.*?);/);f&&(u=f[1])}for(;o--;)s[o]=r.charCodeAt(o);return new File([s],t,{type:u})}var DL=class extends vr.default.Component{constructor(t){super(t);this.textArea=null;try{let{photos:n}=this.props.location.state;this.state={photos:n}}catch(n){this.props.history.push("/"),location.reload()}}setTextInputRef(t){this.textArea=t}share(){let t=this.textArea.value,n=[`
`],r=[];this.state.photos.map(o=>{let s=pG(o.image,"test.jpg");r.push(s),o.game&&n.indexOf(o.game.title)===-1&&n.push("#"+o.game.title)}),t+=n.join(" "),navigator.share?navigator.share({text:t,url:"https://collectio.jp/",files:r}).then(()=>{console.log("Share was successful.")}).catch(o=>{console.log("Sharing failed",o)}):alert(`\u3053\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u306F\u30B7\u30A7\u30A2\u6A5F\u80FD\u304C\u4F7F\u3048\u307E\u305B\u3093\u3002
\u6700\u65B0\u306ESafari, Chrome\u3092\u304A\u4F7F\u3044\u304F\u3060\u3055\u3044\u3002`)}render(){let{album:t}=this.props.location.state;return vr.default.createElement("div",{id:"share"},vr.default.createElement("nav",null,vr.default.createElement(ot,{to:{pathname:"/albumSelect",state:{album:t}},className:"back"},vr.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"}))),vr.default.createElement("div",{className:"photos"},this.state.photos.map((n,r)=>vr.default.createElement("div",{className:"photo",style:{backgroundImage:`url(${n.image})`}}))),vr.default.createElement("textarea",{name:"comment",id:"comment",ref:this.setTextInputRef.bind(this),placeholder:"\u30B2\u30FC\u30E0\u3092\u904A\u3093\u3060\u611F\u60F3\u306A\u3069"}),vr.default.createElement("button",{onClick:this.share.bind(this)},vr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.067",height:"24.245",viewBox:"0 0 19.067 24.245"},vr.default.createElement("path",{d:"M.005-4.834a.855.855,0,0,0,.849-.838V-16.7L.79-18.315l.73.763,1.622,1.74a.784.784,0,0,0,.58.258.751.751,0,0,0,.784-.763.75.75,0,0,0-.247-.559l-3.631-3.5a.838.838,0,0,0-.623-.29.838.838,0,0,0-.623.29l-3.631,3.5a.76.76,0,0,0-.258.559.748.748,0,0,0,.773.763.79.79,0,0,0,.591-.258l1.633-1.74.73-.763L-.854-16.7V-5.672A.865.865,0,0,0,.005-4.834ZM-6.161,3.577H6.161c2.245,0,3.373-1.117,3.373-3.33V-10.474c0-2.213-1.128-3.33-3.373-3.33h-3v1.729H6.128a1.519,1.519,0,0,1,1.676,1.7V.15a1.519,1.519,0,0,1-1.676,1.7H-6.139A1.507,1.507,0,0,1-7.8.15V-10.377a1.507,1.507,0,0,1,1.665-1.7h2.976V-13.8h-3c-2.245,0-3.373,1.117-3.373,3.33V.247C-9.534,2.46-8.406,3.577-6.161,3.577Z",transform:"translate(9.534 20.668)"})),"\u5171\u6709\u3059\u308B"))}},LL=dr(DL);var ML=class extends Tt.default.Component{constructor(t){super(t);this.state={user:null,album:null,albums:[],game:null}}setUser(t){this.setState({user:t})}setAlbum(t){this.setState({album:t})}addAlbums(t){this.state.albums.unshift(t),this.setState({})}setGame(t){this.setState({game:t})}render(){return Tt.default.createElement(yL,null,Tt.default.createElement(vL,null,Tt.default.createElement(Ao,{exact:!0,path:"/",render:()=>Tt.default.createElement(_L,{user:this.state.user,albums:this.state.albums,setUser:this.setUser.bind(this),setAlbum:this.setAlbum.bind(this),addAlbums:this.addAlbums.bind(this),setGame:this.setGame.bind(this)})}),Tt.default.createElement(Ao,{path:"/album",render:()=>Tt.default.createElement(TL,Ci(Ci({},this.state),{setGame:this.setGame.bind(this)}))}),Tt.default.createElement(Ao,{path:"/albumSelect",render:()=>Tt.default.createElement(IL,Ci({},this.state))}),Tt.default.createElement(Ao,{path:"/game",render:()=>Tt.default.createElement(NL,Ci({},this.state))}),Tt.default.createElement(Ao,{path:"/photo",render:()=>Tt.default.createElement(PL,Ci({},this.state))}),Tt.default.createElement(Ao,{path:"/select",render:()=>Tt.default.createElement(RL,Ci({},this.state))}),Tt.default.createElement(Ao,{path:"/share",render:()=>Tt.default.createElement(LL,Ci({},this.state))})))}},jL=ML;$.initializeApp(sA);var I1=$.firestore(),vW=$.storage(),yW=$.analytics(),Co=$;FL.default.render(UL.default.createElement(jL,null),document.getElementById("app"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=index.js.map
