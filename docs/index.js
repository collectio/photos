(()=>{var b3=Object.create,Iy=Object.defineProperty,E3=Object.getPrototypeOf,_3=Object.prototype.hasOwnProperty,I3=Object.getOwnPropertyNames,T3=Object.getOwnPropertyDescriptor;var S3=e=>Iy(e,"__esModule",{value:!0});var _t=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports);var N3=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of I3(t))!_3.call(e,r)&&r!=="default"&&Iy(e,r,{get:()=>t[r],enumerable:!(n=T3(t,r))||n.enumerable});return e},Ze=e=>N3(S3(Iy(e!=null?b3(E3(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var YT=_t((oh,$T)=>{(function(e,t){typeof oh=="object"&&typeof $T!="undefined"?t(oh):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.idb={}))})(oh,function(e){"use strict";function t(b){return Array.prototype.slice.call(b)}function n(b){return new Promise(function(I,x){b.onsuccess=function(){I(b.result)},b.onerror=function(){x(b.error)}})}function r(b,I,x){var k,P=new Promise(function(C,F){k=b[I].apply(b,x),n(k).then(C,F)});return P.request=k,P}function o(b,I,x){var k=r(b,I,x);return k.then(function(P){if(!!P)return new m(P,k.request)})}function s(b,I,x){x.forEach(function(k){Object.defineProperty(b.prototype,k,{get:function(){return this[I][k]},set:function(P){this[I][k]=P}})})}function a(b,I,x,k){k.forEach(function(P){P in x.prototype&&(b.prototype[P]=function(){return r(this[I],P,arguments)})})}function l(b,I,x,k){k.forEach(function(P){P in x.prototype&&(b.prototype[P]=function(){return this[I][P].apply(this[I],arguments)})})}function f(b,I,x,k){k.forEach(function(P){P in x.prototype&&(b.prototype[P]=function(){return o(this[I],P,arguments)})})}function p(b){this._index=b}s(p,"_index",["name","keyPath","multiEntry","unique"]),a(p,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),f(p,"_index",IDBIndex,["openCursor","openKeyCursor"]);function m(b,I){this._cursor=b,this._request=I}s(m,"_cursor",["direction","key","primaryKey","value"]),a(m,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(b){b in IDBCursor.prototype&&(m.prototype[b]=function(){var I=this,x=arguments;return Promise.resolve().then(function(){return I._cursor[b].apply(I._cursor,x),n(I._request).then(function(k){if(!!k)return new m(k,I._request)})})})});function g(b){this._store=b}g.prototype.createIndex=function(){return new p(this._store.createIndex.apply(this._store,arguments))},g.prototype.index=function(){return new p(this._store.index.apply(this._store,arguments))},s(g,"_store",["name","keyPath","indexNames","autoIncrement"]),a(g,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),f(g,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),l(g,"_store",IDBObjectStore,["deleteIndex"]);function v(b){this._tx=b,this.complete=new Promise(function(I,x){b.oncomplete=function(){I()},b.onerror=function(){x(b.error)},b.onabort=function(){x(b.error)}})}v.prototype.objectStore=function(){return new g(this._tx.objectStore.apply(this._tx,arguments))},s(v,"_tx",["objectStoreNames","mode"]),l(v,"_tx",IDBTransaction,["abort"]);function _(b,I,x){this._db=b,this.oldVersion=I,this.transaction=new v(x)}_.prototype.createObjectStore=function(){return new g(this._db.createObjectStore.apply(this._db,arguments))},s(_,"_db",["name","version","objectStoreNames"]),l(_,"_db",IDBDatabase,["deleteObjectStore","close"]);function T(b){this._db=b}T.prototype.transaction=function(){return new v(this._db.transaction.apply(this._db,arguments))},s(T,"_db",["name","version","objectStoreNames"]),l(T,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(b){[g,p].forEach(function(I){b in I.prototype&&(I.prototype[b.replace("open","iterate")]=function(){var x=t(arguments),k=x[x.length-1],P=this._store||this._index,C=P[b].apply(P,x.slice(0,-1));C.onsuccess=function(){k(C.result)}})})}),[p,g].forEach(function(b){b.prototype.getAll||(b.prototype.getAll=function(I,x){var k=this,P=[];return new Promise(function(C){k.iterateCursor(I,function(F){if(!F){C(P);return}if(P.push(F.value),x!==void 0&&P.length==x){C(P);return}F.continue()})})})});function N(b,I,x){var k=r(indexedDB,"open",[b,I]),P=k.request;return P&&(P.onupgradeneeded=function(C){x&&x(new _(P.result,C.oldVersion,P.transaction))}),k.then(function(C){return new T(C)})}function E(b){return r(indexedDB,"deleteDatabase",[b])}e.openDb=N,e.deleteDb=E,Object.defineProperty(e,"__esModule",{value:!0})})});var Z0=_t((N5,BA)=>{"use strict";var qA=Object.getOwnPropertySymbols,_B=Object.prototype.hasOwnProperty,IB=Object.prototype.propertyIsEnumerable;function TB(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function SB(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(s){return!1}}BA.exports=SB()?Object.assign:function(e,t){for(var n,r=TB(e),o,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)_B.call(n,a)&&(r[a]=n[a]);if(qA){o=qA(n);for(var l=0;l<o.length;l++)IB.call(n,o[l])&&(r[o[l]]=n[o[l]])}}return r}});var iC=_t(me=>{"use strict";var ew=Z0(),ju=60103,zA=60106;me.Fragment=60107;me.StrictMode=60108;me.Profiler=60114;var HA=60109,KA=60110,GA=60112;me.Suspense=60113;var WA=60115,$A=60116;typeof Symbol=="function"&&Symbol.for&&(Zn=Symbol.for,ju=Zn("react.element"),zA=Zn("react.portal"),me.Fragment=Zn("react.fragment"),me.StrictMode=Zn("react.strict_mode"),me.Profiler=Zn("react.profiler"),HA=Zn("react.provider"),KA=Zn("react.context"),GA=Zn("react.forward_ref"),me.Suspense=Zn("react.suspense"),WA=Zn("react.memo"),$A=Zn("react.lazy"));var Zn,YA=typeof Symbol=="function"&&Symbol.iterator;function NB(e){return e===null||typeof e!="object"?null:(e=YA&&e[YA]||e["@@iterator"],typeof e=="function"?e:null)}function Yc(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XA={};function Fu(e,t,n){this.props=e,this.context=t,this.refs=XA,this.updater=n||QA}Fu.prototype.isReactComponent={};Fu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Yc(85));this.updater.enqueueSetState(this,e,t,"setState")};Fu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JA(){}JA.prototype=Fu.prototype;function tw(e,t,n){this.props=e,this.context=t,this.refs=XA,this.updater=n||QA}var nw=tw.prototype=new JA;nw.constructor=tw;ew(nw,Fu.prototype);nw.isPureReactComponent=!0;var rw={current:null},ZA=Object.prototype.hasOwnProperty,eC={key:!0,ref:!0,__self:!0,__source:!0};function tC(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)ZA.call(t,r)&&!eC.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var f=Array(l),p=0;p<l;p++)f[p]=arguments[p+2];o.children=f}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ju,type:e,key:s,ref:a,props:o,_owner:rw.current}}function xB(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iw(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function kB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nC=/\/+/g;function ow(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kB(""+e.key):t.toString(36)}function gp(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ju:case zA:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+ow(a,0):r,Array.isArray(o)?(n="",e!=null&&(n=e.replace(nC,"$&/")+"/"),gp(o,t,n,"",function(p){return p})):o!=null&&(iw(o)&&(o=xB(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(nC,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var f=r+ow(s,l);a+=gp(s,t,n,f,o)}else if(f=NB(e),typeof f=="function")for(e=f.call(e),l=0;!(s=e.next()).done;)s=s.value,f=r+ow(s,l++),a+=gp(s,t,n,f,o);else if(s==="object")throw t=""+e,Error(Yc(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function wp(e,t,n){if(e==null)return e;var r=[],o=0;return gp(e,r,"","",function(s){return t.call(n,s,o++)}),r}function AB(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var rC={current:null};function ai(){var e=rC.current;if(e===null)throw Error(Yc(321));return e}var CB={ReactCurrentDispatcher:rC,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:rw,IsSomeRendererActing:{current:!1},assign:ew};me.Children={map:wp,forEach:function(e,t,n){wp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wp(e,function(){t++}),t},toArray:function(e){return wp(e,function(t){return t})||[]},only:function(e){if(!iw(e))throw Error(Yc(143));return e}};me.Component=Fu;me.PureComponent=tw;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CB;me.cloneElement=function(e,t,n){if(e==null)throw Error(Yc(267,e));var r=ew({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=rw.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(f in t)ZA.call(t,f)&&!eC.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&l!==void 0?l[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){l=Array(f);for(var p=0;p<f;p++)l[p]=arguments[p+2];r.children=l}return{$$typeof:ju,type:e.type,key:o,ref:s,props:r,_owner:a}};me.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:KA,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:HA,_context:e},e.Consumer=e};me.createElement=tC;me.createFactory=function(e){var t=tC.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:GA,render:e}};me.isValidElement=iw;me.lazy=function(e){return{$$typeof:$A,_payload:{_status:-1,_result:e},_init:AB}};me.memo=function(e,t){return{$$typeof:WA,type:e,compare:t===void 0?null:t}};me.useCallback=function(e,t){return ai().useCallback(e,t)};me.useContext=function(e,t){return ai().useContext(e,t)};me.useDebugValue=function(){};me.useEffect=function(e,t){return ai().useEffect(e,t)};me.useImperativeHandle=function(e,t,n){return ai().useImperativeHandle(e,t,n)};me.useLayoutEffect=function(e,t){return ai().useLayoutEffect(e,t)};me.useMemo=function(e,t){return ai().useMemo(e,t)};me.useReducer=function(e,t,n){return ai().useReducer(e,t,n)};me.useRef=function(e){return ai().useRef(e)};me.useState=function(e){return ai().useState(e)};me.version="17.0.2"});var Fn=_t((k5,oC)=>{"use strict";oC.exports=iC()});var fC=_t(Ee=>{"use strict";var Vu,Qc,bp,sw;typeof performance=="object"&&typeof performance.now=="function"?(sC=performance,Ee.unstable_now=function(){return sC.now()}):(uw=Date,uC=uw.now(),Ee.unstable_now=function(){return uw.now()-uC});var sC,uw,uC;typeof window=="undefined"||typeof MessageChannel!="function"?(Uu=null,aw=null,cw=function(){if(Uu!==null)try{var e=Ee.unstable_now();Uu(!0,e),Uu=null}catch(t){throw setTimeout(cw,0),t}},Vu=function(e){Uu!==null?setTimeout(Vu,0,e):(Uu=e,setTimeout(cw,0))},Qc=function(e,t){aw=setTimeout(e,t)},bp=function(){clearTimeout(aw)},Ee.unstable_shouldYield=function(){return!1},sw=Ee.unstable_forceFrameRate=function(){}):(aC=window.setTimeout,cC=window.clearTimeout,typeof console!="undefined"&&(lC=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof lC!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Xc=!1,Jc=null,Ep=-1,lw=5,fw=0,Ee.unstable_shouldYield=function(){return Ee.unstable_now()>=fw},sw=function(){},Ee.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lw=0<e?Math.floor(1e3/e):5},hw=new MessageChannel,_p=hw.port2,hw.port1.onmessage=function(){if(Jc!==null){var e=Ee.unstable_now();fw=e+lw;try{Jc(!0,e)?_p.postMessage(null):(Xc=!1,Jc=null)}catch(t){throw _p.postMessage(null),t}}else Xc=!1},Vu=function(e){Jc=e,Xc||(Xc=!0,_p.postMessage(null))},Qc=function(e,t){Ep=aC(function(){e(Ee.unstable_now())},t)},bp=function(){cC(Ep),Ep=-1});var Uu,aw,cw,aC,cC,lC,Xc,Jc,Ep,lw,fw,hw,_p;function pw(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(o!==void 0&&0<Ip(o,t))e[r]=t,e[n]=o,n=r;else break e}}function _r(e){return e=e[0],e===void 0?null:e}function Tp(e){var t=e[0];if(t!==void 0){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var s=2*(r+1)-1,a=e[s],l=s+1,f=e[l];if(a!==void 0&&0>Ip(a,n))f!==void 0&&0>Ip(f,a)?(e[r]=f,e[l]=n,r=l):(e[r]=a,e[s]=n,r=s);else if(f!==void 0&&0>Ip(f,n))e[r]=f,e[l]=n,r=l;else break e}}return t}return null}function Ip(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}var Ur=[],Yi=[],OB=1,er=null,Ut=3,Sp=!1,as=!1,Zc=!1;function dw(e){for(var t=_r(Yi);t!==null;){if(t.callback===null)Tp(Yi);else if(t.startTime<=e)Tp(Yi),t.sortIndex=t.expirationTime,pw(Ur,t);else break;t=_r(Yi)}}function mw(e){if(Zc=!1,dw(e),!as)if(_r(Ur)!==null)as=!0,Vu(vw);else{var t=_r(Yi);t!==null&&Qc(mw,t.startTime-e)}}function vw(e,t){as=!1,Zc&&(Zc=!1,bp()),Sp=!0;var n=Ut;try{for(dw(t),er=_r(Ur);er!==null&&(!(er.expirationTime>t)||e&&!Ee.unstable_shouldYield());){var r=er.callback;if(typeof r=="function"){er.callback=null,Ut=er.priorityLevel;var o=r(er.expirationTime<=t);t=Ee.unstable_now(),typeof o=="function"?er.callback=o:er===_r(Ur)&&Tp(Ur),dw(t)}else Tp(Ur);er=_r(Ur)}if(er!==null)var s=!0;else{var a=_r(Yi);a!==null&&Qc(mw,a.startTime-t),s=!1}return s}finally{er=null,Ut=n,Sp=!1}}var PB=sw;Ee.unstable_IdlePriority=5;Ee.unstable_ImmediatePriority=1;Ee.unstable_LowPriority=4;Ee.unstable_NormalPriority=3;Ee.unstable_Profiling=null;Ee.unstable_UserBlockingPriority=2;Ee.unstable_cancelCallback=function(e){e.callback=null};Ee.unstable_continueExecution=function(){as||Sp||(as=!0,Vu(vw))};Ee.unstable_getCurrentPriorityLevel=function(){return Ut};Ee.unstable_getFirstCallbackNode=function(){return _r(Ur)};Ee.unstable_next=function(e){switch(Ut){case 1:case 2:case 3:var t=3;break;default:t=Ut}var n=Ut;Ut=t;try{return e()}finally{Ut=n}};Ee.unstable_pauseExecution=function(){};Ee.unstable_requestPaint=PB;Ee.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Ut;Ut=e;try{return t()}finally{Ut=n}};Ee.unstable_scheduleCallback=function(e,t,n){var r=Ee.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:OB++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,pw(Yi,e),_r(Ur)===null&&e===_r(Yi)&&(Zc?bp():Zc=!0,Qc(mw,n-r))):(e.sortIndex=o,pw(Ur,e),as||Sp||(as=!0,Vu(vw))),e};Ee.unstable_wrapCallback=function(e){var t=Ut;return function(){var n=Ut;Ut=t;try{return e.apply(this,arguments)}finally{Ut=n}}}});var pC=_t((C5,hC)=>{"use strict";hC.exports=fC()});var eD=_t(tr=>{"use strict";var Np=Fn(),Me=Z0(),gt=pC();function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Np)throw Error(B(227));var dC=new Set,el={};function cs(e,t){Bu(e,t),Bu(e+"Capture",t)}function Bu(e,t){for(el[e]=t,e=0;e<t.length;e++)dC.add(t[e])}var ci=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),DB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mC=Object.prototype.hasOwnProperty,vC={},yC={};function RB(e){return mC.call(yC,e)?!0:mC.call(vC,e)?!1:DB.test(e)?yC[e]=!0:(vC[e]=!0,!1)}function LB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MB(e,t,n,r){if(t===null||typeof t=="undefined"||LB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function an(e,t,n,r,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new an(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new an(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new an(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new an(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new an(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new an(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new an(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new an(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new an(e,5,!1,e.toLowerCase(),null,!1,!1)});var yw=/[\-:]([a-z])/g;function gw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yw,gw);kt[t]=new an(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yw,gw);kt[t]=new an(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yw,gw);kt[t]=new an(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new an(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new an(e,1,!1,e.toLowerCase(),null,!0,!0)});function ww(e,t,n,r){var o=kt.hasOwnProperty(t)?kt[t]:null,s=o!==null?o.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(MB(t,n,o,r)&&(n=null),r||o===null?RB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ls=Np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=60103,fs=60106,Qi=60107,bw=60108,nl=60114,Ew=60109,_w=60110,xp=60112,rl=60113,kp=60120,Ap=60115,Iw=60116,Tw=60121,Sw=60128,gC=60129,Nw=60130,xw=60131;typeof Symbol=="function"&&Symbol.for&&(ft=Symbol.for,tl=ft("react.element"),fs=ft("react.portal"),Qi=ft("react.fragment"),bw=ft("react.strict_mode"),nl=ft("react.profiler"),Ew=ft("react.provider"),_w=ft("react.context"),xp=ft("react.forward_ref"),rl=ft("react.suspense"),kp=ft("react.suspense_list"),Ap=ft("react.memo"),Iw=ft("react.lazy"),Tw=ft("react.block"),ft("react.scope"),Sw=ft("react.opaque.id"),gC=ft("react.debug_trace_mode"),Nw=ft("react.offscreen"),xw=ft("react.legacy_hidden"));var ft,wC=typeof Symbol=="function"&&Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=wC&&e[wC]||e["@@iterator"],typeof e=="function"?e:null)}var kw;function ol(e){if(kw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kw=t&&t[1]||""}return`
`+kw+e}var Aw=!1;function Cp(e,t){if(!e||Aw)return"";Aw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),s=r.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l])return`
`+o[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{Aw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ol(e):""}function jB(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=Cp(e.type,!1),e;case 11:return e=Cp(e.type.render,!1),e;case 22:return e=Cp(e.type._render,!1),e;case 1:return e=Cp(e.type,!0),e;default:return""}}function qu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case fs:return"Portal";case nl:return"Profiler";case bw:return"StrictMode";case rl:return"Suspense";case kp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _w:return(e.displayName||"Context")+".Consumer";case Ew:return(e._context.displayName||"Context")+".Provider";case xp:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Ap:return qu(e.type);case Tw:return qu(e._render);case Iw:t=e._payload,e=e._init;try{return qu(e(t))}catch(n){}}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FB(e){var t=bC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Op(e){e._valueTracker||(e._valueTracker=FB(e))}function EC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pp(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Cw(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function _C(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function IC(e,t){t=t.checked,t!=null&&ww(e,"checked",t,!1)}function Pw(e,t){IC(e,t);var n=Xi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ow(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ow(e,t.type,Xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function TC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ow(e,t,n){(t!=="number"||Pp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function VB(e){var t="";return Np.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Dw(e,t){return e=Me({children:void 0},t),(t=VB(t.children))&&(e.children=t),e}function zu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xi(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Rw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xi(n)}}function NC(e,t){var n=Xi(t.value),r=Xi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Lw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function kC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dp,AC=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!==Lw.svg||"innerHTML"in e)e.innerHTML=t;else{for(Dp=Dp||document.createElement("div"),Dp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ul={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UB=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(e){UB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ul[t]=ul[e]})});function CC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ul.hasOwnProperty(e)&&ul[e]?(""+t).trim():t+"px"}function OC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=CC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var BB=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jw(e,t){if(t){if(BB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Fw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Vw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uw=null,Hu=null,Ku=null;function PC(e){if(e=al(e)){if(typeof Uw!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Rp(t),Uw(e.stateNode,e.type,t))}}function DC(e){Hu?Ku?Ku.push(e):Ku=[e]:Hu=e}function RC(){if(Hu){var e=Hu,t=Ku;if(Ku=Hu=null,PC(e),t)for(e=0;e<t.length;e++)PC(t[e])}}function Bw(e,t){return e(t)}function LC(e,t,n,r,o){return e(t,n,r,o)}function qw(){}var MC=Bw,hs=!1,zw=!1;function Hw(){(Hu!==null||Ku!==null)&&(qw(),RC())}function qB(e,t,n){if(zw)return e(t,n);zw=!0;try{return MC(e,t,n)}finally{zw=!1,Hw()}}function cl(e,t){var n=e.stateNode;if(n===null)return null;var r=Rp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Kw=!1;if(ci)try{Gu={},Object.defineProperty(Gu,"passive",{get:function(){Kw=!0}}),window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch(e){Kw=!1}var Gu;function zB(e,t,n,r,o,s,a,l,f){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(m){this.onError(m)}}var ll=!1,Lp=null,Mp=!1,Gw=null,HB={onError:function(e){ll=!0,Lp=e}};function KB(e,t,n,r,o,s,a,l,f){ll=!1,Lp=null,zB.apply(HB,arguments)}function GB(e,t,n,r,o,s,a,l,f){if(KB.apply(this,arguments),ll){if(ll){var p=Lp;ll=!1,Lp=null}else throw Error(B(198));Mp||(Mp=!0,Gw=p)}}function ps(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!=0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FC(e){if(ps(e)!==e)throw Error(B(188))}function WB(e){var t=e.alternate;if(!t){if(t=ps(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return FC(o),e;if(s===r)return FC(o),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function VC(e){if(e=WB(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function UC(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var BC,Ww,qC,zC,$w=!1,Br=[],Ji=null,Zi=null,eo=null,fl=new Map,hl=new Map,pl=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function KC(e,t){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function dl(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e=Yw(t,n,r,o,s),t!==null&&(t=al(t),t!==null&&Ww(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $B(e,t,n,r,o){switch(t){case"focusin":return Ji=dl(Ji,e,t,n,r,o),!0;case"dragenter":return Zi=dl(Zi,e,t,n,r,o),!0;case"mouseover":return eo=dl(eo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return fl.set(s,dl(fl.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,hl.set(s,dl(hl.get(s)||null,e,t,n,r,o)),!0}return!1}function YB(e){var t=ds(e.target);if(t!==null){var n=ps(t);if(n!==null){if(t=n.tag,t===13){if(t=jC(n),t!==null){e.blockedOn=t,zC(e.lanePriority,function(){gt.unstable_runWithPriority(e.priority,function(){qC(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=al(n),t!==null&&Ww(t),e.blockedOn=n,!1;t.shift()}return!0}function GC(e,t,n){jp(e)&&n.delete(t)}function QB(){for($w=!1;0<Br.length;){var e=Br[0];if(e.blockedOn!==null){e=al(e.blockedOn),e!==null&&BC(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Br.shift()}Ji!==null&&jp(Ji)&&(Ji=null),Zi!==null&&jp(Zi)&&(Zi=null),eo!==null&&jp(eo)&&(eo=null),fl.forEach(GC),hl.forEach(GC)}function ml(e,t){e.blockedOn===t&&(e.blockedOn=null,$w||($w=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,QB)))}function WC(e){function t(o){return ml(o,e)}if(0<Br.length){ml(Br[0],e);for(var n=1;n<Br.length;n++){var r=Br[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ji!==null&&ml(Ji,e),Zi!==null&&ml(Zi,e),eo!==null&&ml(eo,e),fl.forEach(t),hl.forEach(t),n=0;n<pl.length;n++)r=pl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pl.length&&(n=pl[0],n.blockedOn===null);)YB(n),n.blockedOn===null&&pl.shift()}function Fp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wu={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},Xw={},$C={};ci&&($C=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function Vp(e){if(Xw[e])return Xw[e];if(!Wu[e])return e;var t=Wu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $C)return Xw[e]=t[n];return e}var YC=Vp("animationend"),QC=Vp("animationiteration"),XC=Vp("animationstart"),JC=Vp("transitionend"),ZC=new Map,Jw=new Map,XB=["abort","abort",YC,"animationEnd",QC,"animationIteration",XC,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",JC,"transitionEnd","waiting","waiting"];function Zw(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Jw.set(r,t),ZC.set(r,o),cs(o,[r])}}var JB=gt.unstable_now;JB();var Ae=8;function $u(e){if((1&e)!=0)return Ae=15,1;if((2&e)!=0)return Ae=14,2;if((4&e)!=0)return Ae=13,4;var t=24&e;return t!==0?(Ae=12,t):(e&32)!=0?(Ae=11,32):(t=192&e,t!==0?(Ae=10,t):(e&256)!=0?(Ae=9,256):(t=3584&e,t!==0?(Ae=8,t):(e&4096)!=0?(Ae=7,4096):(t=4186112&e,t!==0?(Ae=6,t):(t=62914560&e,t!==0?(Ae=5,t):e&67108864?(Ae=4,67108864):(e&134217728)!=0?(Ae=3,134217728):(t=805306368&e,t!==0?(Ae=2,t):(1073741824&e)!=0?(Ae=1,1073741824):(Ae=8,e))))))}function ZB(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function eq(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(B(358,e))}}function vl(e,t){var n=e.pendingLanes;if(n===0)return Ae=0;var r=0,o=0,s=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(s!==0)r=s,o=Ae=15;else if(s=n&134217727,s!==0){var f=s&~a;f!==0?(r=$u(f),o=Ae):(l&=s,l!==0&&(r=$u(l),o=Ae))}else s=n&~a,s!==0?(r=$u(s),o=Ae):l!==0&&(r=$u(l),o=Ae);if(r===0)return 0;if(r=31-to(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&a)==0){if($u(t),o<=Ae)return t;Ae=o}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-to(t),o=1<<n,r|=e[n],t&=~o;return r}function eO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Up(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Yu(24&~t),e===0?Up(10,t):e;case 10:return e=Yu(192&~t),e===0?Up(8,t):e;case 8:return e=Yu(3584&~t),e===0&&(e=Yu(4186112&~t),e===0&&(e=512)),e;case 2:return t=Yu(805306368&~t),t===0&&(t=268435456),t}throw Error(B(358,e))}function Yu(e){return e&-e}function eb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bp(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-to(t),e[t]=n}var to=Math.clz32?Math.clz32:tq,nq=Math.log,rq=Math.LN2;function tq(e){return e===0?32:31-(nq(e)/rq|0)|0}var iq=gt.unstable_UserBlockingPriority,oq=gt.unstable_runWithPriority,qp=!0;function sq(e,t,n,r){hs||qw();var o=tb,s=hs;hs=!0;try{LC(o,e,t,n,r)}finally{(hs=s)||Hw()}}function uq(e,t,n,r){oq(iq,tb.bind(null,e,t,n,r))}function tb(e,t,n,r){if(qp){var o;if((o=(t&4)==0)&&0<Br.length&&-1<HC.indexOf(e))e=Yw(null,e,t,n,r),Br.push(e);else{var s=Qw(e,t,n,r);if(s===null)o&&KC(e,r);else{if(o){if(-1<HC.indexOf(e)){e=Yw(s,e,t,n,r),Br.push(e);return}if($B(s,e,t,n,r))return;KC(e,r)}tO(e,t,r,null,n)}}}}function Qw(e,t,n,r){var o=Vw(r);if(o=ds(o),o!==null){var s=ps(o);if(s===null)o=null;else{var a=s.tag;if(a===13){if(o=jC(s),o!==null)return o;o=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return tO(e,t,r,o,n),null}var no=null,nb=null,zp=null;function nO(){if(zp)return zp;var e,t=nb,n=t.length,r,o="value"in no?no.value:no.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[s-r];r++);return zp=o.slice(e,1<r?1-r:void 0)}function Hp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kp(){return!0}function rO(){return!1}function Vn(e){function t(n,r,o,s,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kp:rO,this.isPropagationStopped=rO,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kp)},persist:function(){},isPersistent:Kp}),t}var Qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rb=Vn(Qu),yl=Me({},Qu,{view:0,detail:0}),aq=Vn(yl),ib,ob,gl,Gp=Me({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(ib=e.screenX-gl.screenX,ob=e.screenY-gl.screenY):ob=ib=0,gl=e),ib)},movementY:function(e){return"movementY"in e?e.movementY:ob}}),iO=Vn(Gp),cq=Me({},Gp,{dataTransfer:0}),lq=Vn(cq),fq=Me({},yl,{relatedTarget:0}),ub=Vn(fq),hq=Me({},Qu,{animationName:0,elapsedTime:0,pseudoElement:0}),pq=Vn(hq),dq=Me({},Qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mq=Vn(dq),vq=Me({},Qu,{data:0}),oO=Vn(vq),yq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wq[e])?!!t[e]:!1}function sb(){return bq}var Eq=Me({},yl,{key:function(e){if(e.key){var t=yq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sb,charCode:function(e){return e.type==="keypress"?Hp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_q=Vn(Eq),Iq=Me({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sO=Vn(Iq),Tq=Me({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sb}),Sq=Vn(Tq),Nq=Me({},Qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),xq=Vn(Nq),kq=Me({},Gp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aq=Vn(kq),Cq=[9,13,27,32],ab=ci&&"CompositionEvent"in window,wl=null;ci&&"documentMode"in document&&(wl=document.documentMode);var Oq=ci&&"TextEvent"in window&&!wl,uO=ci&&(!ab||wl&&8<wl&&11>=wl),aO=String.fromCharCode(32),cO=!1;function lO(e,t){switch(e){case"keyup":return Cq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xu=!1;function Pq(e,t){switch(e){case"compositionend":return fO(t);case"keypress":return t.which!==32?null:(cO=!0,aO);case"textInput":return e=t.data,e===aO&&cO?null:e;default:return null}}function Dq(e,t){if(Xu)return e==="compositionend"||!ab&&lO(e,t)?(e=nO(),zp=nb=no=null,Xu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uO&&t.locale!=="ko"?null:t.data;default:return null}}var Rq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rq[e.type]:t==="textarea"}function pO(e,t,n,r){DC(r),t=Wp(t,"onChange"),0<t.length&&(n=new rb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bl=null,El=null;function Lq(e){dO(e,0)}function $p(e){var t=Ju(e);if(EC(t))return e}function Mq(e,t){if(e==="change")return t}var mO=!1;ci&&(ci?(Qp="oninput"in document,Qp||(cb=document.createElement("div"),cb.setAttribute("oninput","return;"),Qp=typeof cb.oninput=="function"),Yp=Qp):Yp=!1,mO=Yp&&(!document.documentMode||9<document.documentMode));var Yp,Qp,cb;function yO(){bl&&(bl.detachEvent("onpropertychange",vO),El=bl=null)}function vO(e){if(e.propertyName==="value"&&$p(El)){var t=[];if(pO(t,El,e,Vw(e)),e=Lq,hs)e(t);else{hs=!0;try{Bw(e,t)}finally{hs=!1,Hw()}}}}function jq(e,t,n){e==="focusin"?(yO(),bl=t,El=n,bl.attachEvent("onpropertychange",vO)):e==="focusout"&&yO()}function Fq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $p(El)}function Vq(e,t){if(e==="click")return $p(t)}function Uq(e,t){if(e==="input"||e==="change")return $p(t)}function Bq(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:Bq,qq=Object.prototype.hasOwnProperty;function _l(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!qq.call(t,n[r])||!nr(e[n[r]],t[n[r]]))return!1;return!0}function gO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wO(e,t){var n=gO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gO(n)}}function bO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function EO(){for(var e=window,t=Pp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=Pp(e.document)}return t}function lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zq=ci&&"documentMode"in document&&11>=document.documentMode,Zu=null,fb=null,Il=null,hb=!1;function _O(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hb||Zu==null||Zu!==Pp(r)||(r=Zu,"selectionStart"in r&&lb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Il&&_l(Il,r)||(Il=r,r=Wp(fb,"onSelect"),0<r.length&&(t=new rb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zu)))}Zw("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Zw("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Zw(XB,2);for(var IO="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),pb=0;pb<IO.length;pb++)Jw.set(IO[pb],0);Bu("onMouseEnter",["mouseout","mouseover"]);Bu("onMouseLeave",["mouseout","mouseover"]);Bu("onPointerEnter",["pointerout","pointerover"]);Bu("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function SO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,GB(r,t,void 0,e),e.currentTarget=null}function dO(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],f=l.instance,p=l.currentTarget;if(l=l.listener,f!==s&&o.isPropagationStopped())break e;SO(o,l,p),s=f}else for(a=0;a<r.length;a++){if(l=r[a],f=l.instance,p=l.currentTarget,l=l.listener,f!==s&&o.isPropagationStopped())break e;SO(o,l,p),s=f}}}if(Mp)throw e=Gw,Mp=!1,Gw=null,e}function Oe(e,t){var n=xO(t),r=e+"__bubble";n.has(r)||(NO(t,e,2,!1),n.add(r))}var kO="_reactListening"+Math.random().toString(36).slice(2);function CO(e){e[kO]||(e[kO]=!0,dC.forEach(function(t){TO.has(t)||AO(t,!1,e,null),AO(t,!0,e,null)}))}function AO(e,t,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&TO.has(e)){if(e!=="scroll")return;o|=2,s=r}var a=xO(s),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(o|=4),NO(s,e,o,t),a.add(l))}function NO(e,t,n,r){var o=Jw.get(t);switch(o===void 0?2:o){case 0:o=sq;break;case 1:o=uq;break;default:o=tb}n=o.bind(null,t,n,e),o=void 0,!Kw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function tO(e,t,n,r,o){var s=r;if((t&1)==0&&(t&2)==0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;a=a.return}for(;l!==null;){if(a=ds(l),a===null)return;if(f=a.tag,f===5||f===6){r=s=a;continue e}l=l.parentNode}}r=r.return}qB(function(){var p=s,m=Vw(n),g=[];e:{var v=ZC.get(e);if(v!==void 0){var _=rb,T=e;switch(e){case"keypress":if(Hp(n)===0)break e;case"keydown":case"keyup":_=_q;break;case"focusin":T="focus",_=ub;break;case"focusout":T="blur",_=ub;break;case"beforeblur":case"afterblur":_=ub;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=iO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=lq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Sq;break;case YC:case QC:case XC:_=pq;break;case JC:_=xq;break;case"scroll":_=aq;break;case"wheel":_=Aq;break;case"copy":case"cut":case"paste":_=mq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=sO}var N=(t&4)!=0,E=!N&&e==="scroll",b=N?v!==null?v+"Capture":null:v;N=[];for(var I=p,x;I!==null;){x=I;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,b!==null&&(k=cl(I,b),k!=null&&N.push(Sl(I,k,x)))),E)break;I=I.return}0<N.length&&(v=new _(v,T,null,n,m),g.push({event:v,listeners:N}))}}if((t&7)==0){e:{if(v=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",v&&(t&16)==0&&(T=n.relatedTarget||n.fromElement)&&(ds(T)||T[ta]))break e;if((_||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,_?(T=n.relatedTarget||n.toElement,_=p,T=T?ds(T):null,T!==null&&(E=ps(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(_=null,T=p),_!==T)){if(N=iO,k="onMouseLeave",b="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(N=sO,k="onPointerLeave",b="onPointerEnter",I="pointer"),E=_==null?v:Ju(_),x=T==null?v:Ju(T),v=new N(k,I+"leave",_,n,m),v.target=E,v.relatedTarget=x,k=null,ds(m)===p&&(N=new N(b,I+"enter",T,n,m),N.target=x,N.relatedTarget=E,k=N),E=k,_&&T)t:{for(N=_,b=T,I=0,x=N;x;x=ea(x))I++;for(x=0,k=b;k;k=ea(k))x++;for(;0<I-x;)N=ea(N),I--;for(;0<x-I;)b=ea(b),x--;for(;I--;){if(N===b||b!==null&&N===b.alternate)break t;N=ea(N),b=ea(b)}N=null}else N=null;_!==null&&OO(g,v,_,N,!1),T!==null&&E!==null&&OO(g,E,T,N,!0)}}e:{if(v=p?Ju(p):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var P=Mq;else if(hO(v))if(mO)P=Uq;else{P=Fq;var C=jq}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=Vq);if(P&&(P=P(e,p))){pO(g,P,n,m);break e}C&&C(e,v,p),e==="focusout"&&(C=v._wrapperState)&&C.controlled&&v.type==="number"&&Ow(v,"number",v.value)}switch(C=p?Ju(p):window,e){case"focusin":(hO(C)||C.contentEditable==="true")&&(Zu=C,fb=p,Il=null);break;case"focusout":Il=fb=Zu=null;break;case"mousedown":hb=!0;break;case"contextmenu":case"mouseup":case"dragend":hb=!1,_O(g,n,m);break;case"selectionchange":if(zq)break;case"keydown":case"keyup":_O(g,n,m)}var F;if(ab)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Xu?lO(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(uO&&n.locale!=="ko"&&(Xu||z!=="onCompositionStart"?z==="onCompositionEnd"&&Xu&&(F=nO()):(no=m,nb="value"in no?no.value:no.textContent,Xu=!0)),C=Wp(p,z),0<C.length&&(z=new oO(z,e,null,n,m),g.push({event:z,listeners:C}),F?z.data=F:(F=fO(n),F!==null&&(z.data=F)))),(F=Oq?Pq(e,n):Dq(e,n))&&(p=Wp(p,"onBeforeInput"),0<p.length&&(m=new oO("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:p}),m.data=F))}dO(g,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wp(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=cl(e,n),s!=null&&r.unshift(Sl(e,s,o)),s=cl(e,t),s!=null&&r.push(Sl(e,s,o))),e=e.return}return r}function ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function OO(e,t,n,r,o){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,f=l.alternate,p=l.stateNode;if(f!==null&&f===r)break;l.tag===5&&p!==null&&(l=p,o?(f=cl(n,s),f!=null&&a.unshift(Sl(n,f,l))):o||(f=cl(n,s),f!=null&&a.push(Sl(n,f,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}function Xp(){}var db=null,mb=null;function PO(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vb(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var DO=typeof setTimeout=="function"?setTimeout:void 0,Hq=typeof clearTimeout=="function"?clearTimeout:void 0;function yb(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function RO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gb=0;function Kq(e){return{$$typeof:Sw,toString:e,valueOf:e}}var Jp=Math.random().toString(36).slice(2),ro="__reactFiber$"+Jp,Zp="__reactProps$"+Jp,ta="__reactContainer$"+Jp,LO="__reactEvents$"+Jp;function ds(e){var t=e[ro];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ta]||n[ro]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=RO(e);e!==null;){if(n=e[ro])return n;e=RO(e)}return t}e=n,n=e.parentNode}return null}function al(e){return e=e[ro]||e[ta],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ju(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Rp(e){return e[Zp]||null}function xO(e){var t=e[LO];return t===void 0&&(t=e[LO]=new Set),t}var wb=[],ra=-1;function io(e){return{current:e}}function Pe(e){0>ra||(e.current=wb[ra],wb[ra]=null,ra--)}function qe(e,t){ra++,wb[ra]=e.current,e.current=t}var oo={},Bt=io(oo),gn=io(!1),ms=oo;function ia(e,t){var n=e.type.contextTypes;if(!n)return oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wn(e){return e=e.childContextTypes,e!=null}function ed(){Pe(gn),Pe(Bt)}function MO(e,t,n){if(Bt.current!==oo)throw Error(B(168));qe(Bt,t),qe(gn,n)}function jO(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(B(108,qu(t)||"Unknown",o));return Me({},n,r)}function td(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oo,ms=Bt.current,qe(Bt,e),qe(gn,gn.current),!0}function FO(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=jO(e,t,ms),r.__reactInternalMemoizedMergedChildContext=e,Pe(gn),Pe(Bt),qe(Bt,e)):Pe(gn),qe(gn,n)}var bb=null,vs=null,Gq=gt.unstable_runWithPriority,Eb=gt.unstable_scheduleCallback,_b=gt.unstable_cancelCallback,Wq=gt.unstable_shouldYield,VO=gt.unstable_requestPaint,Ib=gt.unstable_now,$q=gt.unstable_getCurrentPriorityLevel,nd=gt.unstable_ImmediatePriority,UO=gt.unstable_UserBlockingPriority,BO=gt.unstable_NormalPriority,qO=gt.unstable_LowPriority,zO=gt.unstable_IdlePriority,Tb={},Yq=VO!==void 0?VO:function(){},li=null,rd=null,Sb=!1,HO=Ib(),qt=1e4>HO?Ib:function(){return Ib()-HO};function oa(){switch($q()){case nd:return 99;case UO:return 98;case BO:return 97;case qO:return 96;case zO:return 95;default:throw Error(B(332))}}function KO(e){switch(e){case 99:return nd;case 98:return UO;case 97:return BO;case 96:return qO;case 95:return zO;default:throw Error(B(332))}}function ys(e,t){return e=KO(e),Gq(e,t)}function Nl(e,t,n){return e=KO(e),Eb(e,t,n)}function qr(){if(rd!==null){var e=rd;rd=null,_b(e)}GO()}function GO(){if(!Sb&&li!==null){Sb=!0;var e=0;try{var t=li;ys(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),li=null}catch(n){throw li!==null&&(li=li.slice(e+1)),Eb(nd,qr),n}finally{Sb=!1}}}var Qq=ls.ReactCurrentBatchConfig;function Ir(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var id=io(null),od=null,sa=null,sd=null;function Nb(){sd=sa=od=null}function xb(e){var t=id.current;Pe(id),e.type._context._currentValue=t}function WO(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function ua(e,t){od=e,sd=sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!=0&&(Tr=!0),e.firstContext=null)}function rr(e,t){if(sd!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(sd=e,t=1073741823),t={context:e,observedBits:t,next:null},sa===null){if(od===null)throw Error(B(308));sa=t,od.dependencies={lanes:0,firstContext:t,responders:null}}else sa=sa.next=t;return e._currentValue}var so=!1;function kb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function $O(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function YO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kl(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var f=l,p=f.next;f.next=null,a===null?s=p:a.next=p,a=f;var m=e.alternate;if(m!==null){m=m.updateQueue;var g=m.lastBaseUpdate;g!==a&&(g===null?m.firstBaseUpdate=p:g.next=p,m.lastBaseUpdate=f)}}if(s!==null){g=o.baseState,a=0,m=p=f=null;do{l=s.lane;var v=s.eventTime;if((r&l)===l){m!==null&&(m=m.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=e,T=s;switch(l=t,v=n,T.tag){case 1:if(_=T.payload,typeof _=="function"){g=_.call(v,g,l);break e}g=_;break e;case 3:_.flags=_.flags&-4097|64;case 0:if(_=T.payload,l=typeof _=="function"?_.call(v,g,l):_,l==null)break e;g=Me({},g,l);break e;case 2:so=!0}}s.callback!==null&&(e.flags|=32,l=o.effects,l===null?o.effects=[s]:l.push(s))}else v={eventTime:v,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},m===null?(p=m=v,f=g):m=m.next=v,a|=l;if(s=s.next,s===null){if(l=o.shared.pending,l===null)break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}while(1);m===null&&(f=g),o.baseState=f,o.firstBaseUpdate=p,o.lastBaseUpdate=m,xl|=a,e.lanes=a,e.memoizedState=g}}function QO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var XO=new Np.Component().refs;function ud(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ad={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Un(),o=co(e),s=uo(r,o);s.payload=t,n!=null&&(s.callback=n),ao(e,s),lo(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Un(),o=co(e),s=uo(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),ao(e,s),lo(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Un(),r=co(e),o=uo(n,r);o.tag=2,t!=null&&(o.callback=t),ao(e,o),lo(e,r,n)}};function JO(e,t,n,r,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!_l(n,r)||!_l(o,s):!0}function ZO(e,t,n){var r=!1,o=oo,s=t.contextType;return typeof s=="object"&&s!==null?s=rr(s):(o=wn(t)?ms:Bt.current,r=t.contextTypes,s=(r=r!=null)?ia(e,o):oo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ad,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function eP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ad.enqueueReplaceState(t,t.state,null)}function Ab(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=XO,kb(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=rr(s):(s=wn(t)?ms:Bt.current,o.context=ia(e,s)),kl(e,n,o,r),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ud(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ad.enqueueReplaceState(o,o.state,null),kl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var cd=Array.isArray;function Al(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=r.refs;a===XO&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function ld(e,t){if(e.type!=="textarea")throw Error(B(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function tP(e){function t(E,b){if(e){var I=E.lastEffect;I!==null?(I.nextEffect=b,E.lastEffect=b):E.firstEffect=E.lastEffect=b,b.nextEffect=null,b.flags=8}}function n(E,b){if(!e)return null;for(;b!==null;)t(E,b),b=b.sibling;return null}function r(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function o(E,b){return E=fo(E,b),E.index=0,E.sibling=null,E}function s(E,b,I){return E.index=I,e?(I=E.alternate,I!==null?(I=I.index,I<b?(E.flags=2,b):I):(E.flags=2,b)):b}function a(E){return e&&E.alternate===null&&(E.flags=2),E}function l(E,b,I,x){return b===null||b.tag!==6?(b=Cb(I,E.mode,x),b.return=E,b):(b=o(b,I),b.return=E,b)}function f(E,b,I,x){return b!==null&&b.elementType===I.type?(x=o(b,I.props),x.ref=Al(E,b,I),x.return=E,x):(x=fd(I.type,I.key,I.props,null,E.mode,x),x.ref=Al(E,b,I),x.return=E,x)}function p(E,b,I,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=Ob(I,E.mode,x),b.return=E,b):(b=o(b,I.children||[]),b.return=E,b)}function m(E,b,I,x,k){return b===null||b.tag!==7?(b=aa(I,E.mode,x,k),b.return=E,b):(b=o(b,I),b.return=E,b)}function g(E,b,I){if(typeof b=="string"||typeof b=="number")return b=Cb(""+b,E.mode,I),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tl:return I=fd(b.type,b.key,b.props,null,E.mode,I),I.ref=Al(E,null,b),I.return=E,I;case fs:return b=Ob(b,E.mode,I),b.return=E,b}if(cd(b)||il(b))return b=aa(b,E.mode,I,null),b.return=E,b;ld(E,b)}return null}function v(E,b,I,x){var k=b!==null?b.key:null;if(typeof I=="string"||typeof I=="number")return k!==null?null:l(E,b,""+I,x);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case tl:return I.key===k?I.type===Qi?m(E,b,I.props.children,x,k):f(E,b,I,x):null;case fs:return I.key===k?p(E,b,I,x):null}if(cd(I)||il(I))return k!==null?null:m(E,b,I,x,null);ld(E,I)}return null}function _(E,b,I,x,k){if(typeof x=="string"||typeof x=="number")return E=E.get(I)||null,l(b,E,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tl:return E=E.get(x.key===null?I:x.key)||null,x.type===Qi?m(b,E,x.props.children,k,x.key):f(b,E,x,k);case fs:return E=E.get(x.key===null?I:x.key)||null,p(b,E,x,k)}if(cd(x)||il(x))return E=E.get(I)||null,m(b,E,x,k,null);ld(b,x)}return null}function T(E,b,I,x){for(var k=null,P=null,C=b,F=b=0,z=null;C!==null&&F<I.length;F++){C.index>F?(z=C,C=null):z=C.sibling;var M=v(E,C,I[F],x);if(M===null){C===null&&(C=z);break}e&&C&&M.alternate===null&&t(E,C),b=s(M,b,F),P===null?k=M:P.sibling=M,P=M,C=z}if(F===I.length)return n(E,C),k;if(C===null){for(;F<I.length;F++)C=g(E,I[F],x),C!==null&&(b=s(C,b,F),P===null?k=C:P.sibling=C,P=C);return k}for(C=r(E,C);F<I.length;F++)z=_(C,E,F,I[F],x),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?F:z.key),b=s(z,b,F),P===null?k=z:P.sibling=z,P=z);return e&&C.forEach(function(he){return t(E,he)}),k}function N(E,b,I,x){var k=il(I);if(typeof k!="function")throw Error(B(150));if(I=k.call(I),I==null)throw Error(B(151));for(var P=k=null,C=b,F=b=0,z=null,M=I.next();C!==null&&!M.done;F++,M=I.next()){C.index>F?(z=C,C=null):z=C.sibling;var he=v(E,C,M.value,x);if(he===null){C===null&&(C=z);break}e&&C&&he.alternate===null&&t(E,C),b=s(he,b,F),P===null?k=he:P.sibling=he,P=he,C=z}if(M.done)return n(E,C),k;if(C===null){for(;!M.done;F++,M=I.next())M=g(E,M.value,x),M!==null&&(b=s(M,b,F),P===null?k=M:P.sibling=M,P=M);return k}for(C=r(E,C);!M.done;F++,M=I.next())M=_(C,E,F,M.value,x),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?F:M.key),b=s(M,b,F),P===null?k=M:P.sibling=M,P=M);return e&&C.forEach(function(A){return t(E,A)}),k}return function(E,b,I,x){var k=typeof I=="object"&&I!==null&&I.type===Qi&&I.key===null;k&&(I=I.props.children);var P=typeof I=="object"&&I!==null;if(P)switch(I.$$typeof){case tl:e:{for(P=I.key,k=b;k!==null;){if(k.key===P){switch(k.tag){case 7:if(I.type===Qi){n(E,k.sibling),b=o(k,I.props.children),b.return=E,E=b;break e}break;default:if(k.elementType===I.type){n(E,k.sibling),b=o(k,I.props),b.ref=Al(E,k,I),b.return=E,E=b;break e}}n(E,k);break}else t(E,k);k=k.sibling}I.type===Qi?(b=aa(I.props.children,E.mode,x,I.key),b.return=E,E=b):(x=fd(I.type,I.key,I.props,null,E.mode,x),x.ref=Al(E,b,I),x.return=E,E=x)}return a(E);case fs:e:{for(k=I.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){n(E,b.sibling),b=o(b,I.children||[]),b.return=E,E=b;break e}else{n(E,b);break}else t(E,b);b=b.sibling}b=Ob(I,E.mode,x),b.return=E,E=b}return a(E)}if(typeof I=="string"||typeof I=="number")return I=""+I,b!==null&&b.tag===6?(n(E,b.sibling),b=o(b,I),b.return=E,E=b):(n(E,b),b=Cb(I,E.mode,x),b.return=E,E=b),a(E);if(cd(I))return T(E,b,I,x);if(il(I))return N(E,b,I,x);if(P&&ld(E,I),typeof I=="undefined"&&!k)switch(E.tag){case 1:case 22:case 0:case 11:case 15:throw Error(B(152,qu(E.type)||"Component"))}return n(E,b)}}var hd=tP(!0),nP=tP(!1),Cl={},zr=io(Cl),Ol=io(Cl),Pl=io(Cl);function gs(e){if(e===Cl)throw Error(B(174));return e}function Pb(e,t){switch(qe(Pl,t),qe(Ol,e),qe(zr,Cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mw(t,e)}Pe(zr),qe(zr,t)}function ca(){Pe(zr),Pe(Ol),Pe(Pl)}function rP(e){gs(Pl.current);var t=gs(zr.current),n=Mw(t,e.type);t!==n&&(qe(Ol,e),qe(zr,n))}function Db(e){Ol.current===e&&(Pe(zr),Pe(Ol))}var ze=io(0);function pd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fi=null,ho=null,Hr=!1;function iP(e,t){var n=ir(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Rb(e){if(Hr){var t=ho;if(t){var n=t;if(!oP(e,t)){if(t=na(n.nextSibling),!t||!oP(e,t)){e.flags=e.flags&-1025|2,Hr=!1,fi=e;return}iP(fi,n)}fi=e,ho=na(t.firstChild)}else e.flags=e.flags&-1025|2,Hr=!1,fi=e}}function sP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fi=e}function dd(e){if(e!==fi)return!1;if(!Hr)return sP(e),Hr=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!vb(t,e.memoizedProps))for(t=ho;t;)iP(e,t),t=na(t.nextSibling);if(sP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ho=na(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ho=null}}else ho=fi?na(e.stateNode.nextSibling):null;return!0}function Lb(){ho=fi=null,Hr=!1}var la=[];function Mb(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var Dl=ls.ReactCurrentDispatcher,or=ls.ReactCurrentBatchConfig,Rl=0,Ye=null,zt=null,At=null,md=!1,Ll=!1;function bn(){throw Error(B(321))}function jb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function Fb(e,t,n,r,o,s){if(Rl=s,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?Xq:Jq,e=n(r,o),Ll){s=0;do{if(Ll=!1,!(25>s))throw Error(B(301));s+=1,At=zt=null,t.updateQueue=null,Dl.current=Zq,e=n(r,o)}while(Ll)}if(Dl.current=vd,t=zt!==null&&zt.next!==null,Rl=0,At=zt=Ye=null,md=!1,t)throw Error(B(300));return e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ye.memoizedState=At=e:At=At.next=e,At}function bs(){if(zt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=At===null?Ye.memoizedState:At.next;if(t!==null)At=t,zt=e;else{if(e===null)throw Error(B(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},At===null?Ye.memoizedState=At=e:At=At.next=e}return At}function Kr(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=bs(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=zt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var l=a=s=null,f=o;do{var p=f.lane;if((Rl&p)===p)l!==null&&(l=l.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),r=f.eagerReducer===e?f.eagerState:e(r,f.action);else{var m={lane:p,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};l===null?(a=l=m,s=r):l=l.next=m,Ye.lanes|=p,xl|=p}f=f.next}while(f!==null&&f!==o);l===null?s=r:l.next=a,nr(r,t.memoizedState)||(Tr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function jl(e){var t=bs(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);nr(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function uP(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(o!==null?e=o===r:(e=e.mutableReadLanes,(e=(Rl&e)===e)&&(t._workInProgressVersionPrimary=r,la.push(t))),e)return n(t._source);throw la.push(t),Error(B(350))}function aP(e,t,n,r){var o=cn;if(o===null)throw Error(B(349));var s=t._getVersion,a=s(t._source),l=Dl.current,f=l.useState(function(){return uP(o,t,n)}),p=f[1],m=f[0];f=At;var g=e.memoizedState,v=g.refs,_=v.getSnapshot,T=g.source;g=g.subscribe;var N=Ye;return e.memoizedState={refs:v,source:t,subscribe:r},l.useEffect(function(){v.getSnapshot=n,v.setSnapshot=p;var E=s(t._source);if(!nr(a,E)){E=n(t._source),nr(m,E)||(p(E),E=co(N),o.mutableReadLanes|=E&o.pendingLanes),E=o.mutableReadLanes,o.entangledLanes|=E;for(var b=o.entanglements,I=E;0<I;){var x=31-to(I),k=1<<x;b[x]|=E,I&=~k}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var E=v.getSnapshot,b=v.setSnapshot;try{b(E(t._source));var I=co(N);o.mutableReadLanes|=I&o.pendingLanes}catch(x){b(function(){throw x})}})},[t,r]),nr(_,n)&&nr(T,t)&&nr(g,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:m},e.dispatch=p=Vb.bind(null,Ye,e),f.queue=e,f.baseQueue=null,m=uP(o,t,n),f.memoizedState=f.baseState=m),m}function cP(e,t,n){var r=bs();return aP(r,e,t,n)}function Fl(e){var t=ws();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},e=e.dispatch=Vb.bind(null,Ye,e),[t.memoizedState,e]}function yd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lP(e){var t=ws();return e={current:e},t.memoizedState=e}function gd(){return bs().memoizedState}function Ub(e,t,n,r){var o=ws();Ye.flags|=e,o.memoizedState=yd(1|t,n,void 0,r===void 0?null:r)}function Bb(e,t,n,r){var o=bs();r=r===void 0?null:r;var s=void 0;if(zt!==null){var a=zt.memoizedState;if(s=a.destroy,r!==null&&jb(r,a.deps)){yd(t,n,s,r);return}}Ye.flags|=e,o.memoizedState=yd(1|t,n,s,r)}function fP(e,t){return Ub(516,4,e,t)}function wd(e,t){return Bb(516,4,e,t)}function hP(e,t){return Bb(4,2,e,t)}function pP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dP(e,t,n){return n=n!=null?n.concat([e]):null,Bb(4,2,pP.bind(null,t,e),n)}function qb(){}function mP(e,t){var n=bs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vP(e,t){var n=bs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function e6(e,t){var n=oa();ys(98>n?98:n,function(){e(!0)}),ys(97<n?97:n,function(){var r=or.transition;or.transition=1;try{e(!1),t()}finally{or.transition=r}})}function Vb(e,t,n){var r=Un(),o=co(e),s={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===Ye||a!==null&&a===Ye)Ll=md=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,f=a(l,n);if(s.eagerReducer=a,s.eagerState=f,nr(f,l))return}catch(p){}finally{}lo(e,o,r)}}var vd={readContext:rr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useOpaqueIdentifier:bn,unstable_isNewReconciler:!1},Xq={readContext:rr,useCallback:function(e,t){return ws().memoizedState=[e,t===void 0?null:t],e},useContext:rr,useEffect:fP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ub(4,2,pP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ub(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Vb.bind(null,Ye,e),[r.memoizedState,e]},useRef:lP,useState:Fl,useDebugValue:qb,useDeferredValue:function(e){var t=Fl(e),n=t[0],r=t[1];return fP(function(){var o=or.transition;or.transition=1;try{r(e)}finally{or.transition=o}},[e]),n},useTransition:function(){var e=Fl(!1),t=e[0];return e=e6.bind(null,e[1]),lP(e),[e,t]},useMutableSource:function(e,t,n){var r=ws();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},aP(r,e,t,n)},useOpaqueIdentifier:function(){if(Hr){var e=!1,t=Kq(function(){throw e||(e=!0,n("r:"+(gb++).toString(36))),Error(B(355))}),n=Fl(t)[1];return(Ye.mode&2)==0&&(Ye.flags|=516,yd(5,function(){n("r:"+(gb++).toString(36))},void 0,null)),t}return t="r:"+(gb++).toString(36),Fl(t),t},unstable_isNewReconciler:!1},Jq={readContext:rr,useCallback:mP,useContext:rr,useEffect:wd,useImperativeHandle:dP,useLayoutEffect:hP,useMemo:vP,useReducer:Ml,useRef:gd,useState:function(){return Ml(Kr)},useDebugValue:qb,useDeferredValue:function(e){var t=Ml(Kr),n=t[0],r=t[1];return wd(function(){var o=or.transition;or.transition=1;try{r(e)}finally{or.transition=o}},[e]),n},useTransition:function(){var e=Ml(Kr)[0];return[gd().current,e]},useMutableSource:cP,useOpaqueIdentifier:function(){return Ml(Kr)[0]},unstable_isNewReconciler:!1},Zq={readContext:rr,useCallback:mP,useContext:rr,useEffect:wd,useImperativeHandle:dP,useLayoutEffect:hP,useMemo:vP,useReducer:jl,useRef:gd,useState:function(){return jl(Kr)},useDebugValue:qb,useDeferredValue:function(e){var t=jl(Kr),n=t[0],r=t[1];return wd(function(){var o=or.transition;or.transition=1;try{r(e)}finally{or.transition=o}},[e]),n},useTransition:function(){var e=jl(Kr)[0];return[gd().current,e]},useMutableSource:cP,useOpaqueIdentifier:function(){return jl(Kr)[0]},unstable_isNewReconciler:!1},t6=ls.ReactCurrentOwner,Tr=!1;function En(e,t,n,r){t.child=e===null?nP(t,null,n,r):hd(t,e.child,n,r)}function yP(e,t,n,r,o){n=n.render;var s=t.ref;return ua(t,o),r=Fb(e,t,n,r,s,o),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,hi(e,t,o)):(t.flags|=1,En(e,t,r,o),t.child)}function wP(e,t,n,r,o,s){if(e===null){var a=n.type;return typeof a=="function"&&!zb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,gP(e,t,a,r,o,s)):(e=fd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(o&s)==0&&(o=a.memoizedProps,n=n.compare,n=n!==null?n:_l,n(o,r)&&e.ref===t.ref)?hi(e,t,s):(t.flags|=1,e=fo(a,r),e.ref=t.ref,e.return=t,t.child=e)}function gP(e,t,n,r,o,s){if(e!==null&&_l(e.memoizedProps,r)&&e.ref===t.ref)if(Tr=!1,(s&o)!=0)(e.flags&16384)!=0&&(Tr=!0);else return t.lanes=e.lanes,hi(e,t,s);return Hb(e,t,n,r,s)}function Kb(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)==0)t.memoizedState={baseLanes:0},bd(t,n);else if((n&1073741824)!=0)t.memoizedState={baseLanes:0},bd(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bd(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,bd(t,r);return En(e,t,o,n),t.child}function bP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function Hb(e,t,n,r,o){var s=wn(n)?ms:Bt.current;return s=ia(t,s),ua(t,o),n=Fb(e,t,n,r,s,o),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,hi(e,t,o)):(t.flags|=1,En(e,t,n,o),t.child)}function EP(e,t,n,r,o){if(wn(n)){var s=!0;td(t)}else s=!1;if(ua(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),ZO(t,n,r),Ab(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var f=a.context,p=n.contextType;typeof p=="object"&&p!==null?p=rr(p):(p=wn(n)?ms:Bt.current,p=ia(t,p));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||f!==p)&&eP(t,a,r,p),so=!1;var v=t.memoizedState;a.state=v,kl(t,r,a,o),f=t.memoizedState,l!==r||v!==f||gn.current||so?(typeof m=="function"&&(ud(t,n,m,r),f=t.memoizedState),(l=so||JO(t,n,l,r,v,f,p))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=p,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,$O(e,t),l=t.memoizedProps,p=t.type===t.elementType?l:Ir(t.type,l),a.props=p,g=t.pendingProps,v=a.context,f=n.contextType,typeof f=="object"&&f!==null?f=rr(f):(f=wn(n)?ms:Bt.current,f=ia(t,f));var _=n.getDerivedStateFromProps;(m=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||v!==f)&&eP(t,a,r,f),so=!1,v=t.memoizedState,a.state=v,kl(t,r,a,o);var T=t.memoizedState;l!==g||v!==T||gn.current||so?(typeof _=="function"&&(ud(t,n,_,r),T=t.memoizedState),(p=so||JO(t,n,p,r,v,T,f))?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=T),a.props=r,a.state=T,a.context=f,r=p):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),r=!1)}return Gb(e,t,n,r,s,o)}function Gb(e,t,n,r,o,s){bP(e,t);var a=(t.flags&64)!=0;if(!r&&!a)return o&&FO(t,n,!1),hi(e,t,s);r=t.stateNode,t6.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=hd(t,e.child,null,s),t.child=hd(t,null,l,s)):En(e,t,l,s),t.memoizedState=r.state,o&&FO(t,n,!0),t.child}function _P(e){var t=e.stateNode;t.pendingContext?MO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&MO(e,t.context,!1),Pb(e,t.containerInfo)}var Ed={dehydrated:null,retryLane:0};function NP(e,t,n){var r=t.pendingProps,o=ze.current,s=!1,a;return(a=(t.flags&64)!=0)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!=0),a?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),qe(ze,o&1),e===null?(r.fallback!==void 0&&Rb(t),e=r.children,o=r.fallback,s?(e=IP(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ed,e):typeof r.unstable_expectedLoadTime=="number"?(e=IP(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ed,t.lanes=33554432,e):(n=Wb({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=SP(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ed,r):(n=TP(e,t,r.children,n),t.memoizedState=null,n):s?(r=SP(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ed,r):(n=TP(e,t,r.children,n),t.memoizedState=null,n)}function IP(e,t,n,r){var o=e.mode,s=e.child;return t={mode:"hidden",children:t},(o&2)==0&&s!==null?(s.childLanes=0,s.pendingProps=t):s=Wb(t,o,0,null),n=aa(n,o,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function TP(e,t,n,r){var o=e.child;return e=o.sibling,n=fo(o,{mode:"visible",children:n}),(t.mode&2)==0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function SP(e,t,n,r,o){var s=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return(s&2)==0&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=fo(a,l),e!==null?r=fo(e,r):(r=aa(r,s,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function xP(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),WO(e.return,t)}function $b(e,t,n,r,o,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=s)}function kP(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(En(e,t,r.children,n),r=ze.current,(r&2)!=0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!=0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xP(e,n);else if(e.tag===19)xP(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qe(ze,r),(t.mode&2)==0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&pd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$b(t,!1,o,n,s,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&pd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$b(t,!0,n,null,s,t.lastEffect);break;case"together":$b(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xl|=t.lanes,(n&t.childLanes)!=0){if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var AP,Yb,CP,OP;AP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yb=function(){};CP=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,gs(zr.current);var s=null;switch(n){case"input":o=Cw(e,o),r=Cw(e,r),s=[];break;case"option":o=Dw(e,o),r=Dw(e,r),s=[];break;case"select":o=Me({},o,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":o=Rw(e,o),r=Rw(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xp)}jw(n,r);var a;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var l=o[p];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(el.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var f=r[p];if(l=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&f!==l&&(f!=null||l!=null))if(p==="style")if(l){for(a in l)!l.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&l[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(s||(s=[]),s.push(p,n)),n=f;else p==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(s=s||[]).push(p,f)):p==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(p,""+f):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(el.hasOwnProperty(p)?(f!=null&&p==="onScroll"&&Oe("scroll",e),s||l===f||(s=[])):typeof f=="object"&&f!==null&&f.$$typeof===Sw?f.toString():(s=s||[]).push(p,f))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};OP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vl(e,t){if(!Hr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function n6(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wn(t.type)&&ed(),null;case 3:return ca(),Pe(gn),Pe(Bt),Mb(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dd(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Yb(t),null;case 5:Db(t);var o=gs(Pl.current);if(n=t.type,e!==null&&t.stateNode!=null)CP(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(B(166));return null}if(e=gs(zr.current),dd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ro]=t,r[Zp]=s,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(e=0;e<Tl.length;e++)Oe(Tl[e],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":_C(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":SC(r,s),Oe("invalid",r)}jw(n,s),e=null;for(var a in s)s.hasOwnProperty(a)&&(o=s[a],a==="children"?typeof o=="string"?r.textContent!==o&&(e=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(e=["children",""+o]):el.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Oe("scroll",r));switch(n){case"input":Op(r),TC(r,s,!0);break;case"textarea":Op(r),xC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xp)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=o.nodeType===9?o:o.ownerDocument,e===Lw.html&&(e=kC(n)),e===Lw.html?n==="script"?(e=a.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ro]=t,e[Zp]=r,AP(e,t,!1,!1),t.stateNode=e,a=Fw(n,r),n){case"dialog":Oe("cancel",e),Oe("close",e),o=r;break;case"iframe":case"object":case"embed":Oe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tl.length;o++)Oe(Tl[o],e);o=r;break;case"source":Oe("error",e),o=r;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),o=r;break;case"details":Oe("toggle",e),o=r;break;case"input":_C(e,r),o=Cw(e,r),Oe("invalid",e);break;case"option":o=Dw(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Me({},r,{value:void 0}),Oe("invalid",e);break;case"textarea":SC(e,r),o=Rw(e,r),Oe("invalid",e);break;default:o=r}jw(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];s==="style"?OC(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&AC(e,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&sl(e,f):typeof f=="number"&&sl(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(el.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Oe("scroll",e):f!=null&&ww(e,s,f,a))}switch(n){case"input":Op(e),TC(e,r,!1);break;case"textarea":Op(e),xC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?zu(e,!!r.multiple,s,!1):r.defaultValue!=null&&zu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Xp)}PO(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)OP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));n=gs(Pl.current),gs(zr.current),dd(t)?(r=t.stateNode,n=t.memoizedProps,r[ro]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ro]=t,t.stateNode=r)}return null;case 13:return Pe(ze),r=t.memoizedState,(t.flags&64)!=0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&dd(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!=0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(ze.current&1)!=0?Ct===0&&(Ct=3):((Ct===0||Ct===3)&&(Ct=4),cn===null||(xl&134217727)==0&&(fa&134217727)==0||ha(cn,Ht))),(r||n)&&(t.flags|=4),null);case 4:return ca(),Yb(t),e===null&&CO(t.stateNode.containerInfo),null;case 10:return xb(t),null;case 17:return wn(t.type)&&ed(),null;case 19:if(Pe(ze),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!=0,a=r.rendering,a===null)if(s)Vl(r,!1);else{if(Ct!==0||e!==null&&(e.flags&64)!=0)for(e=t.child;e!==null;){if(a=pd(e),a!==null){for(t.flags|=64,Vl(r,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(ze,ze.current&1|2),t.child}e=e.sibling}r.tail!==null&&qt()>Qb&&(t.flags|=64,s=!0,Vl(r,!1),t.lanes=33554432)}else{if(!s)if(e=pd(a),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Hr)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*qt()-r.renderingStartTime>Qb&&n!==1073741824&&(t.flags|=64,s=!0,Vl(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qt(),n.sibling=null,t=ze.current,qe(ze,s?t&1|2:t&1),n):null;case 23:case 24:return Xb(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(B(156,t.tag))}function r6(e){switch(e.tag){case 1:wn(e.type)&&ed();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(ca(),Pe(gn),Pe(Bt),Mb(),t=e.flags,(t&64)!=0)throw Error(B(285));return e.flags=t&-4097|64,e;case 5:return Db(e),null;case 13:return Pe(ze),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Pe(ze),null;case 4:return ca(),null;case 10:return xb(e),null;case 23:case 24:return Xb(),null;default:return null}}function Jb(e,t){try{var n="",r=t;do n+=jB(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o}}function Zb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var i6=typeof WeakMap=="function"?WeakMap:Map;function PP(e,t,n){n=uo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_d||(_d=!0,e1=r),Zb(e,t)},n}function DP(e,t,n){n=uo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return Zb(e,t),r(o)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this),Zb(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}var o6=typeof WeakSet=="function"?WeakSet:Set;function RP(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){po(e,n)}else t.current=null}function s6(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Ir(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&yb(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(B(163))}function a6(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)==3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var o=e;r=o.next,o=o.tag,(o&4)!=0&&(o&1)!=0&&(LP(n,e),u6(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ir(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&QO(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}QO(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&PO(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&WC(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(B(163))}function MP(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=CC("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function FP(e,t){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(bb,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if((r&4)!=0)LP(t,n);else{r=t;try{o()}catch(s){po(r,s)}}n=n.next}while(n!==e)}break;case 1:if(RP(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){po(t,s)}break;case 5:RP(t);break;case 4:jP(e,t)}}function VP(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function UP(e){return e.tag===5||e.tag===3||e.tag===4}function BP(e){e:{for(var t=e.return;t!==null;){if(UP(t))break e;t=t.return}throw Error(B(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(B(161))}n.flags&16&&(sl(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||UP(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?t1(e,n,t):n1(e,n,t)}function t1(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xp));else if(r!==4&&(e=e.child,e!==null))for(t1(e,t,n),e=e.sibling;e!==null;)t1(e,t,n),e=e.sibling}function n1(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(n1(e,t,n),e=e.sibling;e!==null;)n1(e,t,n),e=e.sibling}function jP(e,t){for(var n=t,r=!1,o,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(B(160));switch(o=r.stateNode,r.tag){case 5:s=!1;break e;case 3:o=o.containerInfo,s=!0;break e;case 4:o=o.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=e,l=n,f=l;;)if(FP(a,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s?(a=o,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(FP(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function i1(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)==3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var o=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[Zp]=r,e==="input"&&r.type==="radio"&&r.name!=null&&IC(n,r),Fw(e,o),t=Fw(e,r),o=0;o<s.length;o+=2){var a=s[o],l=s[o+1];a==="style"?OC(n,l):a==="dangerouslySetInnerHTML"?AC(n,l):a==="children"?sl(n,l):ww(n,a,l,t)}switch(e){case"input":Pw(n,r);break;case"textarea":NC(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?zu(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?zu(n,!!r.multiple,r.defaultValue,!0):zu(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(B(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,WC(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(r1=qt(),MP(t.child,!0)),qP(t);return;case 19:qP(t);return;case 17:return;case 23:case 24:MP(t,t.memoizedState!==null);return}throw Error(B(163))}function qP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o6),t.forEach(function(r){var o=c6.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function l6(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var f6=Math.ceil,Id=ls.ReactCurrentDispatcher,o1=ls.ReactCurrentOwner,re=0,cn=null,ht=null,Ht=0,Es=0,s1=io(0),Ct=0,Td=null,pa=0,xl=0,fa=0,u1=0,a1=null,r1=0,Qb=Infinity;function da(){Qb=qt()+500}var K=null,_d=!1,e1=null,Gr=null,mo=!1,Ul=null,Bl=90,c1=[],l1=[],pi=null,ql=0,f1=null,Sd=-1,di=0,Nd=0,zl=null,xd=!1;function Un(){return(re&48)!=0?qt():Sd!==-1?Sd:Sd=qt()}function co(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return oa()===99?1:2;if(di===0&&(di=pa),Qq.transition!==0){Nd!==0&&(Nd=a1!==null?a1.pendingLanes:0),e=di;var t=4186112&~Nd;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=oa(),(re&4)!=0&&e===98?e=Up(12,di):(e=ZB(e),e=Up(e,di)),e}function lo(e,t,n){if(50<ql)throw ql=0,f1=null,Error(B(185));if(e=kd(e,t),e===null)return null;Bp(e,t,n),e===cn&&(fa|=t,Ct===4&&ha(e,Ht));var r=oa();t===1?(re&8)!=0&&(re&48)==0?h1(e):(sr(e,n),re===0&&(da(),qr())):((re&4)==0||r!==98&&r!==99||(pi===null?pi=new Set([e]):pi.add(e)),sr(e,n)),a1=e}function kd(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function sr(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-to(a),f=1<<l,p=s[l];if(p===-1){if((f&r)==0||(f&o)!=0){p=t,$u(f);var m=Ae;s[l]=10<=m?p+250:6<=m?p+5e3:-1}}else p<=t&&(e.expiredLanes|=f);a&=~f}if(r=vl(e,e===cn?Ht:0),t=Ae,r===0)n!==null&&(n!==Tb&&_b(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==Tb&&_b(n)}t===15?(n=h1.bind(null,e),li===null?(li=[n],rd=Eb(nd,GO)):li.push(n),n=Tb):t===14?n=Nl(99,h1.bind(null,e)):(n=eq(t),n=Nl(n,zP.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function zP(e){if(Sd=-1,Nd=di=0,(re&48)!=0)throw Error(B(327));var t=e.callbackNode;if(vo()&&e.callbackNode!==t)return null;var n=vl(e,e===cn?Ht:0);if(n===0)return null;var r=n,o=re;re|=16;var s=KP();(cn!==e||Ht!==r)&&(da(),ma(e,r));do try{h6();break}catch(l){HP(e,l)}while(1);if(Nb(),Id.current=s,re=o,ht!==null?r=0:(cn=null,Ht=0,r=Ct),(pa&fa)!=0)ma(e,0);else if(r!==0){if(r===2&&(re|=64,e.hydrate&&(e.hydrate=!1,yb(e.containerInfo)),n=eO(e),n!==0&&(r=Hl(e,n))),r===1)throw t=Td,ma(e,0),ha(e,n),sr(e,qt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(B(345));case 2:_s(e);break;case 3:if(ha(e,n),(n&62914560)===n&&(r=r1+500-qt(),10<r)){if(vl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Un(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=DO(_s.bind(null,e),r);break}_s(e);break;case 4:if(ha(e,n),(n&4186112)===n)break;for(r=e.eventTimes,o=-1;0<n;){var a=31-to(n);s=1<<a,a=r[a],a>o&&(o=a),n&=~s}if(n=o,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f6(n/1960))-n,10<n){e.timeoutHandle=DO(_s.bind(null,e),n);break}_s(e);break;case 5:_s(e);break;default:throw Error(B(329))}}return sr(e,qt()),e.callbackNode===t?zP.bind(null,e):null}function ha(e,t){for(t&=~u1,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-to(t),r=1<<n;e[n]=-1,t&=~r}}function h1(e){if((re&48)!=0)throw Error(B(327));if(vo(),e===cn&&(e.expiredLanes&Ht)!=0){var t=Ht,n=Hl(e,t);(pa&fa)!=0&&(t=vl(e,t),n=Hl(e,t))}else t=vl(e,0),n=Hl(e,t);if(e.tag!==0&&n===2&&(re|=64,e.hydrate&&(e.hydrate=!1,yb(e.containerInfo)),t=eO(e),t!==0&&(n=Hl(e,t))),n===1)throw n=Td,ma(e,0),ha(e,t),sr(e,qt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e),sr(e,qt()),null}function p6(){if(pi!==null){var e=pi;pi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,sr(t,qt())})}qr()}function GP(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(da(),qr())}}function WP(e,t){var n=re;re&=-2,re|=8;try{return e(t)}finally{re=n,re===0&&(da(),qr())}}function bd(e,t){qe(s1,Es),Es|=t,pa|=t}function Xb(){Es=s1.current,Pe(s1)}function ma(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hq(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:ca(),Pe(gn),Pe(Bt),Mb();break;case 5:Db(r);break;case 4:ca();break;case 13:Pe(ze);break;case 19:Pe(ze);break;case 10:xb(r);break;case 23:case 24:Xb()}n=n.return}cn=e,ht=fo(e.current,null),Ht=Es=pa=t,Ct=0,Td=null,u1=fa=xl=0}function HP(e,t){do{var n=ht;try{if(Nb(),Dl.current=vd,md){for(var r=Ye.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}md=!1}if(Rl=0,At=zt=Ye=null,Ll=!1,o1.current=null,n===null||n.return===null){Ct=1,Td=t,ht=null;break}e:{var s=e,a=n.return,l=n,f=t;if(t=Ht,l.flags|=2048,l.firstEffect=l.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var p=f;if((l.mode&2)==0){var m=l.alternate;m?(l.updateQueue=m.updateQueue,l.memoizedState=m.memoizedState,l.lanes=m.lanes):(l.updateQueue=null,l.memoizedState=null)}var g=(ze.current&1)!=0,v=a;do{var _;if(_=v.tag===13){var T=v.memoizedState;if(T!==null)_=T.dehydrated!==null;else{var N=v.memoizedProps;_=N.fallback===void 0?!1:N.unstable_avoidThisFallback!==!0?!0:!g}}if(_){var E=v.updateQueue;if(E===null){var b=new Set;b.add(p),v.updateQueue=b}else E.add(p);if((v.mode&2)==0){if(v.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var I=uo(-1,1);I.tag=2,ao(l,I)}l.lanes|=1;break e}f=void 0,l=t;var x=s.pingCache;if(x===null?(x=s.pingCache=new i6,f=new Set,x.set(p,f)):(f=x.get(p),f===void 0&&(f=new Set,x.set(p,f))),!f.has(l)){f.add(l);var k=d6.bind(null,s,p,l);p.then(k,k)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);f=Error((qu(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ct!==5&&(Ct=2),f=Jb(f,l),v=a;do{switch(v.tag){case 3:s=f,v.flags|=4096,t&=-t,v.lanes|=t;var P=PP(v,s,t);YO(v,P);break e;case 1:s=f;var C=v.type,F=v.stateNode;if((v.flags&64)==0&&(typeof C.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Gr===null||!Gr.has(F)))){v.flags|=4096,t&=-t,v.lanes|=t;var z=DP(v,s,t);YO(v,z);break e}}v=v.return}while(v!==null)}$P(n)}catch(M){t=M,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function KP(){var e=Id.current;return Id.current=vd,e===null?vd:e}function Hl(e,t){var n=re;re|=16;var r=KP();cn===e&&Ht===t||ma(e,t);do try{m6();break}catch(o){HP(e,o)}while(1);if(Nb(),re=n,Id.current=r,ht!==null)throw Error(B(261));return cn=null,Ht=0,Ct}function m6(){for(;ht!==null;)YP(ht)}function h6(){for(;ht!==null&&!Wq();)YP(ht)}function YP(e){var t=QP(e.alternate,e,Es);e.memoizedProps=e.pendingProps,t===null?$P(e):ht=t,o1.current=null}function $P(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)==0){if(n=n6(n,t,Es),n!==null){ht=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(Es&1073741824)!=0||(n.mode&4)==0){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=r6(t),n!==null){n.flags&=2047,ht=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);Ct===0&&(Ct=5)}function _s(e){var t=oa();return ys(99,v6.bind(null,e,t)),null}function v6(e,t){do vo();while(Ul!==null);if((re&48)!=0)throw Error(B(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,s=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var f=31-to(s),p=1<<f;o[f]=0,a[f]=-1,l[f]=-1,s&=~p}if(pi!==null&&(r&24)==0&&pi.has(e)&&pi.delete(e),e===cn&&(ht=cn=null,Ht=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=re,re|=32,o1.current=null,db=qp,a=EO(),lb(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(p=l.getSelection&&l.getSelection())&&p.rangeCount!==0){l=p.anchorNode,s=p.anchorOffset,f=p.focusNode,p=p.focusOffset;try{l.nodeType,f.nodeType}catch(M){l=null;break e}var m=0,g=-1,v=-1,_=0,T=0,N=a,E=null;t:for(;;){for(var b;N!==l||s!==0&&N.nodeType!==3||(g=m+s),N!==f||p!==0&&N.nodeType!==3||(v=m+p),N.nodeType===3&&(m+=N.nodeValue.length),(b=N.firstChild)!==null;)E=N,N=b;for(;;){if(N===a)break t;if(E===l&&++_===s&&(g=m),E===f&&++T===p&&(v=m),(b=N.nextSibling)!==null)break;N=E,E=N.parentNode}N=b}l=g===-1||v===-1?null:{start:g,end:v}}else l=null;l=l||{start:0,end:0}}else l=null;mb={focusedElem:a,selectionRange:l},qp=!1,zl=null,xd=!1,K=r;do try{y6()}catch(M){if(K===null)throw Error(B(330));po(K,M),K=K.nextEffect}while(K!==null);zl=null,K=r;do try{for(a=e;K!==null;){var I=K.flags;if(I&16&&sl(K.stateNode,""),I&128){var x=K.alternate;if(x!==null){var k=x.ref;k!==null&&(typeof k=="function"?k(null):k.current=null)}}switch(I&1038){case 2:BP(K),K.flags&=-3;break;case 6:BP(K),K.flags&=-3,i1(K.alternate,K);break;case 1024:K.flags&=-1025;break;case 1028:K.flags&=-1025,i1(K.alternate,K);break;case 4:i1(K.alternate,K);break;case 8:l=K,jP(a,l);var P=l.alternate;VP(l),P!==null&&VP(P)}K=K.nextEffect}}catch(M){if(K===null)throw Error(B(330));po(K,M),K=K.nextEffect}while(K!==null);if(k=mb,x=EO(),I=k.focusedElem,a=k.selectionRange,x!==I&&I&&I.ownerDocument&&bO(I.ownerDocument.documentElement,I)){for(a!==null&&lb(I)&&(x=a.start,k=a.end,k===void 0&&(k=x),"selectionStart"in I?(I.selectionStart=x,I.selectionEnd=Math.min(k,I.value.length)):(k=(x=I.ownerDocument||document)&&x.defaultView||window,k.getSelection&&(k=k.getSelection(),l=I.textContent.length,P=Math.min(a.start,l),a=a.end===void 0?P:Math.min(a.end,l),!k.extend&&P>a&&(l=a,a=P,P=l),l=wO(I,P),s=wO(I,a),l&&s&&(k.rangeCount!==1||k.anchorNode!==l.node||k.anchorOffset!==l.offset||k.focusNode!==s.node||k.focusOffset!==s.offset)&&(x=x.createRange(),x.setStart(l.node,l.offset),k.removeAllRanges(),P>a?(k.addRange(x),k.extend(s.node,s.offset)):(x.setEnd(s.node,s.offset),k.addRange(x)))))),x=[],k=I;k=k.parentNode;)k.nodeType===1&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<x.length;I++)k=x[I],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}qp=!!db,mb=db=null,e.current=n,K=r;do try{for(I=e;K!==null;){var C=K.flags;if(C&36&&a6(I,K.alternate,K),C&128){x=void 0;var F=K.ref;if(F!==null){var z=K.stateNode;switch(K.tag){case 5:x=z;break;default:x=z}typeof F=="function"?F(x):F.current=x}}K=K.nextEffect}}catch(M){if(K===null)throw Error(B(330));po(K,M),K=K.nextEffect}while(K!==null);K=null,Yq(),re=o}else e.current=n;if(mo)mo=!1,Ul=e,Bl=t;else for(K=r;K!==null;)t=K.nextEffect,K.nextEffect=null,K.flags&8&&(C=K,C.sibling=null,C.stateNode=null),K=t;if(r=e.pendingLanes,r===0&&(Gr=null),r===1?e===f1?ql++:(ql=0,f1=e):ql=0,n=n.stateNode,vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(bb,n,void 0,(n.current.flags&64)==64)}catch(M){}if(sr(e,qt()),_d)throw _d=!1,e=e1,e1=null,e;return(re&8)!=0||qr(),null}function y6(){for(;K!==null;){var e=K.alternate;xd||zl===null||((K.flags&8)!=0?UC(K,zl)&&(xd=!0):K.tag===13&&l6(e,K)&&UC(K,zl)&&(xd=!0));var t=K.flags;(t&256)!=0&&s6(e,K),(t&512)==0||mo||(mo=!0,Nl(97,function(){return vo(),null})),K=K.nextEffect}}function vo(){if(Bl!==90){var e=97<Bl?97:Bl;return Bl=90,ys(e,g6)}return!1}function u6(e,t){c1.push(t,e),mo||(mo=!0,Nl(97,function(){return vo(),null}))}function LP(e,t){l1.push(t,e),mo||(mo=!0,Nl(97,function(){return vo(),null}))}function g6(){if(Ul===null)return!1;var e=Ul;if(Ul=null,(re&48)!=0)throw Error(B(331));var t=re;re|=32;var n=l1;l1=[];for(var r=0;r<n.length;r+=2){var o=n[r],s=n[r+1],a=o.destroy;if(o.destroy=void 0,typeof a=="function")try{a()}catch(f){if(s===null)throw Error(B(330));po(s,f)}}for(n=c1,c1=[],r=0;r<n.length;r+=2){o=n[r],s=n[r+1];try{var l=o.create;o.destroy=l()}catch(f){if(s===null)throw Error(B(330));po(s,f)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return re=t,qr(),!0}function XP(e,t,n){t=Jb(n,t),t=PP(e,t,1),ao(e,t),t=Un(),e=kd(e,1),e!==null&&(Bp(e,1,t),sr(e,t))}function po(e,t){if(e.tag===3)XP(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){XP(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gr===null||!Gr.has(r))){e=Jb(t,e);var o=DP(n,e,1);if(ao(n,o),o=Un(),n=kd(n,1),n!==null)Bp(n,1,o),sr(n,o);else if(typeof r.componentDidCatch=="function"&&(Gr===null||!Gr.has(r)))try{r.componentDidCatch(t,e)}catch(s){}break}}n=n.return}}function d6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Un(),e.pingedLanes|=e.suspendedLanes&n,cn===e&&(Ht&n)===n&&(Ct===4||Ct===3&&(Ht&62914560)===Ht&&500>qt()-r1?ma(e,0):u1|=n),sr(e,t)}function c6(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)==0?t=1:(t&4)==0?t=oa()===99?1:2:(di===0&&(di=pa),t=Yu(62914560&~di),t===0&&(t=4194304))),n=Un(),e=kd(e,t),e!==null&&(Bp(e,t,n),sr(e,n))}var QP;QP=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)Tr=!0;else if((n&r)!=0)Tr=(e.flags&16384)!=0;else{switch(Tr=!1,t.tag){case 3:_P(t),Lb();break;case 5:rP(t);break;case 1:wn(t.type)&&td(t);break;case 4:Pb(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;qe(id,o._currentValue),o._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!=0?NP(e,t,n):(qe(ze,ze.current&1),t=hi(e,t,n),t!==null?t.sibling:null);qe(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!=0,(e.flags&64)!=0){if(r)return kP(e,t,n);t.flags|=64}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),qe(ze,ze.current),r)break;return null;case 23:case 24:return t.lanes=0,Kb(e,t,n)}return hi(e,t,n)}else Tr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=ia(t,Bt.current),ua(t,n),o=Fb(null,t,r,e,o,n),t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)){var s=!0;td(t)}else s=!1;t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,kb(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&ud(t,r,a,e),o.updater=ad,t.stateNode=o,o._reactInternals=t,Ab(t,r,e,n),t=Gb(null,t,r,!0,s,n)}else t.tag=0,En(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=w6(o),e=Ir(o,e),s){case 0:t=Hb(null,t,o,e,n);break e;case 1:t=EP(null,t,o,e,n);break e;case 11:t=yP(null,t,o,e,n);break e;case 14:t=wP(null,t,o,Ir(o.type,e),r,n);break e}throw Error(B(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ir(r,o),Hb(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ir(r,o),EP(e,t,r,o,n);case 3:if(_P(t),r=t.updateQueue,e===null||r===null)throw Error(B(282));if(r=t.pendingProps,o=t.memoizedState,o=o!==null?o.element:null,$O(e,t),kl(t,r,null,n),r=t.memoizedState.element,r===o)Lb(),t=hi(e,t,n);else{if(o=t.stateNode,(s=o.hydrate)&&(ho=na(t.stateNode.containerInfo.firstChild),fi=t,s=Hr=!0),s){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)s=e[o],s._workInProgressVersionPrimary=e[o+1],la.push(s);for(n=nP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else En(e,t,r,n),Lb();t=t.child}return t;case 5:return rP(t),e===null&&Rb(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,vb(r,o)?a=null:s!==null&&vb(r,s)&&(t.flags|=16),bP(e,t),En(e,t,a,n),t.child;case 6:return e===null&&Rb(t),null;case 13:return NP(e,t,n);case 4:return Pb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hd(t,null,r,n):En(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ir(r,o),yP(e,t,r,o,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value;var l=t.type._context;if(qe(id,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=nr(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===o.children&&!gn.current){t=hi(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){a=l.child;for(var p=f.firstContext;p!==null;){if(p.context===r&&(p.observedBits&s)!=0){l.tag===1&&(p=uo(-1,n&-n),p.tag=2,ao(l,p)),l.lanes|=n,p=l.alternate,p!==null&&(p.lanes|=n),WO(l.return,n),f.lanes|=n;break}p=p.next}}else a=l.tag===10&&l.type===t.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}En(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps,r=s.children,ua(t,n),o=rr(o,s.unstable_observedBits),r=r(o),t.flags|=1,En(e,t,r,n),t.child;case 14:return o=t.type,s=Ir(o,t.pendingProps),s=Ir(o.type,s),wP(e,t,o,s,r,n);case 15:return gP(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ir(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,wn(r)?(e=!0,td(t)):e=!1,ua(t,n),ZO(t,r,o),Ab(t,r,o,n),Gb(null,t,r,!0,e,n);case 19:return kP(e,t,n);case 23:return Kb(e,t,n);case 24:return Kb(e,t,n)}throw Error(B(156,t.tag))};function b6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,n,r){return new b6(e,t,n,r)}function zb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w6(e){if(typeof e=="function")return zb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xp)return 11;if(e===Ap)return 14}return 2}function fo(e,t){var n=e.alternate;return n===null?(n=ir(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fd(e,t,n,r,o,s){var a=2;if(r=e,typeof e=="function")zb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qi:return aa(n.children,o,s,t);case gC:a=8,o|=16;break;case bw:a=8,o|=1;break;case nl:return e=ir(12,n,t,o|8),e.elementType=nl,e.type=nl,e.lanes=s,e;case rl:return e=ir(13,n,t,o),e.type=rl,e.elementType=rl,e.lanes=s,e;case kp:return e=ir(19,n,t,o),e.elementType=kp,e.lanes=s,e;case Nw:return Wb(n,o,s,t);case xw:return e=ir(24,n,t,o),e.elementType=xw,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ew:a=10;break e;case _w:a=9;break e;case xp:a=11;break e;case Ap:a=14;break e;case Iw:a=16,r=null;break e;case Tw:a=22;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=ir(a,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function aa(e,t,n,r){return e=ir(7,e,r,t),e.lanes=n,e}function Wb(e,t,n,r){return e=ir(23,e,r,t),e.elementType=Nw,e.lanes=n,e}function Cb(e,t,n){return e=ir(6,e,null,t),e.lanes=n,e}function Ob(e,t,n){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E6(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=eb(0),this.expirationTimes=eb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eb(0),this.mutableSourceEagerHydrationData=null}function _6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ad(e,t,n,r){var o=t.current,s=Un(),a=co(o);e:if(n){n=n._reactInternals;t:{if(ps(n)!==n||n.tag!==1)throw Error(B(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(wn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(B(171))}if(n.tag===1){var f=n.type;if(wn(f)){n=jO(n,f,l);break e}}n=l}else n=oo;return t.context===null?t.context=n:t.pendingContext=n,t=uo(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),ao(o,t),lo(o,a,s),a}function p1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function d1(e,t){JP(e,t),(e=e.alternate)&&JP(e,t)}function I6(){return null}function m1(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new E6(e,t,n!=null&&n.hydrate===!0),t=ir(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,kb(t),e[ta]=n.current,CO(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var o=t._getVersion;o=o(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}m1.prototype.render=function(e){Ad(e,this._internalRoot,null,null)};m1.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ad(null,e,null,function(){t[ta]=null})};function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function T6(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new m1(e,0,t?{hydrate:!0}:void 0)}function Cd(e,t,n,r,o){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof o=="function"){var l=o;o=function(){var p=p1(a);l.call(p)}}Ad(t,a,e,o)}else{if(s=n._reactRootContainer=T6(n,r),a=s._internalRoot,typeof o=="function"){var f=o;o=function(){var p=p1(a);f.call(p)}}WP(function(){Ad(t,a,e,o)})}return p1(a)}BC=function(e){if(e.tag===13){var t=Un();lo(e,4,t),d1(e,4)}};Ww=function(e){if(e.tag===13){var t=Un();lo(e,67108864,t),d1(e,67108864)}};qC=function(e){if(e.tag===13){var t=Un(),n=co(e);lo(e,n,t),d1(e,n)}};zC=function(e,t){return t()};Uw=function(e,t,n){switch(t){case"input":if(Pw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Rp(r);if(!o)throw Error(B(90));EC(r),Pw(r,o)}}}break;case"textarea":NC(e,n);break;case"select":t=n.value,t!=null&&zu(e,!!n.multiple,t,!1)}};Bw=GP;LC=function(e,t,n,r,o){var s=re;re|=4;try{return ys(98,e.bind(null,t,n,r,o))}finally{re=s,re===0&&(da(),qr())}};qw=function(){(re&49)==0&&(p6(),vo())};MC=function(e,t){var n=re;re|=2;try{return e(t)}finally{re=n,re===0&&(da(),qr())}};function ZP(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(t))throw Error(B(200));return _6(e,t,null,n)}var S6={Events:[al,Ju,Rp,DC,RC,vo,{current:!1}]},Gl={findFiberByHostInstance:ds,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},N6={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VC(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||I6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Wl.isDisabled&&Wl.supportsFiber))try{bb=Wl.inject(N6),vs=Wl}catch(e){}var Wl;tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S6;tr.createPortal=ZP;tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):Error(B(268,Object.keys(e)));return e=VC(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e,t){var n=re;if((n&48)!=0)return e(t);re|=1;try{if(e)return ys(99,e.bind(null,t))}finally{re=n,qr()}};tr.hydrate=function(e,t,n){if(!Kl(t))throw Error(B(200));return Cd(null,e,t,!0,n)};tr.render=function(e,t,n){if(!Kl(t))throw Error(B(200));return Cd(null,e,t,!1,n)};tr.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(B(40));return e._reactRootContainer?(WP(function(){Cd(null,null,e,!1,function(){e._reactRootContainer=null,e[ta]=null})}),!0):!1};tr.unstable_batchedUpdates=GP;tr.unstable_createPortal=function(e,t){return ZP(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};tr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Cd(e,t,n,!1,r)};tr.version="17.0.2"});var rD=_t((P5,tD)=>{"use strict";function nD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nD)}catch(e){console.error(e)}}nD(),tD.exports=eD()});var oD=_t((M5,iD)=>{"use strict";var x6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";iD.exports=x6});var cD=_t((j5,sD)=>{"use strict";var k6=oD();function uD(){}function aD(){}aD.resetWarningCache=uD;sD.exports=function(){function e(r,o,s,a,l,f){if(f!==k6){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:aD,resetWarningCache:uD};return n.PropTypes=n,n}});var Od=_t((U5,lD)=>{lD.exports=cD()();var F5,V5});var AD=_t((Z5,kD)=>{kD.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}});var DD=_t((eH,va)=>{var Dd=AD();va.exports=CD;va.exports.parse=_1;va.exports.compile=G6;va.exports.tokensToFunction=OD;va.exports.tokensToRegExp=PD;var W6=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function _1(e,t){for(var n=[],r=0,o=0,s="",a=t&&t.delimiter||"/",l;(l=W6.exec(e))!=null;){var f=l[0],p=l[1],m=l.index;if(s+=e.slice(o,m),o=m+f.length,p){s+=p[1];continue}var g=e[o],v=l[2],_=l[3],T=l[4],N=l[5],E=l[6],b=l[7];s&&(n.push(s),s="");var I=v!=null&&g!=null&&g!==v,x=E==="+"||E==="*",k=E==="?"||E==="*",P=l[2]||a,C=T||N;n.push({name:_||r++,prefix:v||"",delimiter:P,optional:k,repeat:x,partial:I,asterisk:!!b,pattern:C?$6(C):b?".*":"[^"+Rd(P)+"]+?"})}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function G6(e,t){return OD(_1(e,t),t)}function Y6(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Q6(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function OD(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",I1(t)));return function(o,s){for(var a="",l=o||{},f=s||{},p=f.pretty?Y6:encodeURIComponent,m=0;m<e.length;m++){var g=e[m];if(typeof g=="string"){a+=g;continue}var v=l[g.name],_;if(v==null)if(g.optional){g.partial&&(a+=g.prefix);continue}else throw new TypeError('Expected "'+g.name+'" to be defined');if(Dd(v)){if(!g.repeat)throw new TypeError('Expected "'+g.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to not be empty')}for(var T=0;T<v.length;T++){if(_=p(v[T]),!n[m].test(_))throw new TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but received `'+JSON.stringify(_)+"`");a+=(T===0?g.prefix:g.delimiter)+_}continue}if(_=g.asterisk?Q6(v):p(v),!n[m].test(_))throw new TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but received "'+_+'"');a+=g.prefix+_}return a}}function Rd(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function $6(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function T1(e,t){return e.keys=t,e}function I1(e){return e&&e.sensitive?"":"i"}function X6(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return T1(e,t)}function J6(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(CD(e[o],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",I1(n));return T1(s,t)}function Z6(e,t,n){return PD(_1(e,n),t,n)}function PD(e,t,n){Dd(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,o=n.end!==!1,s="",a=0;a<e.length;a++){var l=e[a];if(typeof l=="string")s+=Rd(l);else{var f=Rd(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+f+p+")*"),l.optional?l.partial?p=f+"("+p+")?":p="(?:"+f+"("+p+"))?":p=f+"("+p+")",s+=p}}var m=Rd(n.delimiter||"/"),g=s.slice(-m.length)===m;return r||(s=(g?s.slice(0,-m.length):s)+"(?:"+m+"(?=$))?"),o?s+="$":s+=r&&g?"":"(?="+m+"|$)",T1(new RegExp("^"+s,I1(n)),t)}function CD(e,t,n){return Dd(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?X6(e,t):Dd(e)?J6(e,t,n):Z6(e,t,n)}});var LD=_t(Te=>{"use strict";var wt=typeof Symbol=="function"&&Symbol.for,S1=wt?Symbol.for("react.element"):60103,N1=wt?Symbol.for("react.portal"):60106,Ld=wt?Symbol.for("react.fragment"):60107,Md=wt?Symbol.for("react.strict_mode"):60108,jd=wt?Symbol.for("react.profiler"):60114,Fd=wt?Symbol.for("react.provider"):60109,Vd=wt?Symbol.for("react.context"):60110,x1=wt?Symbol.for("react.async_mode"):60111,Ud=wt?Symbol.for("react.concurrent_mode"):60111,Bd=wt?Symbol.for("react.forward_ref"):60112,qd=wt?Symbol.for("react.suspense"):60113,ez=wt?Symbol.for("react.suspense_list"):60120,zd=wt?Symbol.for("react.memo"):60115,Hd=wt?Symbol.for("react.lazy"):60116,tz=wt?Symbol.for("react.block"):60121,nz=wt?Symbol.for("react.fundamental"):60117,rz=wt?Symbol.for("react.responder"):60118,iz=wt?Symbol.for("react.scope"):60119;function qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case S1:switch(e=e.type,e){case x1:case Ud:case Ld:case jd:case Md:case qd:return e;default:switch(e=e&&e.$$typeof,e){case Vd:case Bd:case Hd:case zd:case Fd:return e;default:return t}}case N1:return t}}}function RD(e){return qn(e)===Ud}Te.AsyncMode=x1;Te.ConcurrentMode=Ud;Te.ContextConsumer=Vd;Te.ContextProvider=Fd;Te.Element=S1;Te.ForwardRef=Bd;Te.Fragment=Ld;Te.Lazy=Hd;Te.Memo=zd;Te.Portal=N1;Te.Profiler=jd;Te.StrictMode=Md;Te.Suspense=qd;Te.isAsyncMode=function(e){return RD(e)||qn(e)===x1};Te.isConcurrentMode=RD;Te.isContextConsumer=function(e){return qn(e)===Vd};Te.isContextProvider=function(e){return qn(e)===Fd};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S1};Te.isForwardRef=function(e){return qn(e)===Bd};Te.isFragment=function(e){return qn(e)===Ld};Te.isLazy=function(e){return qn(e)===Hd};Te.isMemo=function(e){return qn(e)===zd};Te.isPortal=function(e){return qn(e)===N1};Te.isProfiler=function(e){return qn(e)===jd};Te.isStrictMode=function(e){return qn(e)===Md};Te.isSuspense=function(e){return qn(e)===qd};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ld||e===Ud||e===jd||e===Md||e===qd||e===ez||typeof e=="object"&&e!==null&&(e.$$typeof===Hd||e.$$typeof===zd||e.$$typeof===Fd||e.$$typeof===Vd||e.$$typeof===Bd||e.$$typeof===nz||e.$$typeof===rz||e.$$typeof===iz||e.$$typeof===tz)};Te.typeOf=qn});var k1=_t((nH,MD)=>{"use strict";MD.exports=LD()});var zD=_t((iH,jD)=>{"use strict";var A1=k1(),oz={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sz={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C1={};C1[A1.ForwardRef]=uz;C1[A1.Memo]=FD;function VD(e){return A1.isMemo(e)?FD:C1[e.$$typeof]||oz}var az=Object.defineProperty,cz=Object.getOwnPropertyNames,UD=Object.getOwnPropertySymbols,lz=Object.getOwnPropertyDescriptor,fz=Object.getPrototypeOf,BD=Object.prototype;function qD(e,t,n){if(typeof t!="string"){if(BD){var r=fz(t);r&&r!==BD&&qD(e,r,n)}var o=cz(t);UD&&(o=o.concat(UD(t)));for(var s=VD(e),a=VD(t),l=0;l<o.length;++l){var f=o[l];if(!sz[f]&&!(n&&n[f])&&!(a&&a[f])&&!(s&&s[f])){var p=lz(t,f);try{az(e,f,p)}catch(m){}}}}return e}jD.exports=qD});var aR=_t((Wd,L1)=>{(function(e,t){if(typeof define=="function"&&define.amd)define(["exports","module"],t);else if(typeof Wd!="undefined"&&typeof L1!="undefined")t(Wd,L1);else{var n={exports:{}};t(n.exports,n),e.fetchJsonp=n.exports}})(Wd,function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function o(l){try{delete window[l]}catch(f){window[l]=void 0}}function s(l){var f=document.getElementById(l);f&&document.getElementsByTagName("head")[0].removeChild(f)}function a(l){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],p=l,m=f.timeout||n.timeout,g=f.jsonpCallback||n.jsonpCallback,v=void 0;return new Promise(function(_,T){var N=f.jsonpCallbackFunction||r(),E=g+"_"+N;window[N]=function(I){_({ok:!0,json:function(){return Promise.resolve(I)}}),v&&clearTimeout(v),s(E),o(N)},p+=p.indexOf("?")===-1?"?":"&";var b=document.createElement("script");b.setAttribute("src",""+p+g+"="+N),f.charset&&b.setAttribute("charset",f.charset),b.id=E,document.getElementsByTagName("head")[0].appendChild(b),v=setTimeout(function(){T(new Error("JSONP request to "+l+" timed out")),o(N),s(E),window[N]=function(){o(N)}},m),b.onerror=function(){T(new Error("JSONP request to "+l+" failed")),o(N),s(E),v&&clearTimeout(v)}})}t.exports=a})});var tc=function(){return tc=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},tc.apply(this,arguments)};var Ty=function(e,t){return Ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ty(e,t)};function NT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ty(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var x3=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},k3=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Az={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,m=s>>2,g=(s&3)<<4|l>>4,v=(l&15)<<2|p>>6,_=p&63;f||(_=64,a||(v=64)),r.push(n[m],n[g],n[v],n[_])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(x3(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):k3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var m=o<e.length,g=m?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||g==null)throw Error();var v=s<<2|l>>4;if(r.push(v),p!==64){var _=l<<4&240|p>>2;if(r.push(_),g!==64){var T=p<<6&192|g;r.push(T)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function xT(e){return Ys(void 0,e)}function Ys(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!A3(r)||(e[r]=Ys(e[r],t[r]));return e}function A3(e){return e!=="__proto__"}var kT=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();function Ti(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AT(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ti())}function CT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(e){return!1}}function OT(){return typeof self=="object"&&self.self===self}function nc(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function PT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DT(){return Ti().indexOf("Electron/")>=0}function RT(){var e=Ti();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function LT(){return Ti().indexOf("MSAppHost/")>=0}function Sy(){return"indexedDB"in self&&indexedDB!=null}function Ny(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function xy(){return!(!navigator||!navigator.cookieEnabled)}var C3="FirebaseError",rc=function(e){NT(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=C3,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Si.prototype.create),s}return t}(Error),Si=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?O3(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new rc(s,f,o);return p},e}();function O3(e,t){return e.replace(P3,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var P3=/\{\$([^}]+)}/g;function ky(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Cz=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var o=0;o<16;o++)r[o]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var o=0;o<16;o++)r[o]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var o=16;o<80;o++){var s=r[o-3]^r[o-8]^r[o-14]^r[o-16];r[o]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,v,o=0;o<80;o++){o<40?o<20?(g=p^l&(f^p),v=1518500249):(g=l^f^p,v=1859775393):o<60?(g=l&f|p&(l|f),v=2400959708):(g=l^f^p,v=3395469782);var s=(a<<5|a>>>27)+g+m+v+r[o]&4294967295;m=p,p=f,f=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,o=0,s=this.buf_,a=this.inbuf_;o<n;){if(a===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<n;)if(s[a]=t.charCodeAt(o),++a,++o,a===this.blockSize){this.compress_(s),a=0;break}}else for(;o<n;)if(s[a]=t[o],++a,++o,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var o=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[o]=this.chain_[r]>>s&255,++o;return t},e}();function MT(e,t){var n=new D3(e,t);return n.subscribe.bind(n)}var D3=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R3(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Ay),s.error===void 0&&(s.error=Ay),s.complete===void 0&&(s.complete=Ay);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch(l){}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console!="undefined"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function R3(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Ay(){}var L3=1e3,M3=2,j3=4*60*60*1e3,F3=.5;function Cy(e,t,n){t===void 0&&(t=L3),n===void 0&&(n=M3);var r=t*Math.pow(n,e),o=Math.round(F3*r*(Math.random()-.5)*2);return Math.min(j3,r+o)}function We(e){return e&&e._delegate?e._delegate:e}var nh=function(){return nh=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nh.apply(this,arguments)};function jT(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(m){try{p(r.next(m))}catch(g){a(g)}}function f(m){try{p(r.throw(m))}catch(g){a(g)}}function p(m){m.done?s(m.value):o(m.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function FT(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(m){p=[6,m],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Oy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Py(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var vr=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();var Ni="[DEFAULT]";var B3=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Ni);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new kT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(s){}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=nh({identifier:Ni,optional:!1},t),r=n.identifier,o=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(U3(t))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch(g){}try{for(var o=Oy(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=ic(s.value,2),l=a[0],f=a[1],p=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:p});f.resolve(m)}catch(g){}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ni),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return jT(this,void 0,void 0,function(){var t;return FT(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Py(Py([],ic(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),ic(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ni),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.instanceIdentifier,s=o===void 0?Ni:o,a=t.options,l=a===void 0?{}:a,f=this.normalizeInstanceIdentifier(s);if(this.isInitialized(f))throw Error(this.name+"("+f+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var p=this.getOrInitializeService({instanceIdentifier:f,options:l});try{for(var m=Oy(this.instancesDeferred.entries()),g=m.next();!g.done;g=m.next()){var v=ic(g.value,2),_=v[0],T=v[1],N=this.normalizeInstanceIdentifier(_);f===N&&T.resolve(p)}}catch(E){n={error:E}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}return p},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:V3(n),options:o}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Ni:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function V3(e){return e===Ni?void 0:e}function U3(e){return e.instantiationMode==="EAGER"}var VT=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new B3(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function yr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r}var Uo,Dy=[],de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));var UT={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},q3=de.INFO,z3=(Uo={},Uo[de.DEBUG]="log",Uo[de.VERBOSE]="log",Uo[de.INFO]="info",Uo[de.WARN]="warn",Uo[de.ERROR]="error",Uo),H3=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=z3[t];if(s)console[s].apply(console,yr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Qs=function(){function e(t){this.name=t,this._logLevel=q3,this._logHandler=H3,this._userLogHandler=null,Dy.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in de))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?UT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,de.DEBUG],t)),this._logHandler.apply(this,yr([this,de.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,de.VERBOSE],t)),this._logHandler.apply(this,yr([this,de.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,de.INFO],t)),this._logHandler.apply(this,yr([this,de.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,de.WARN],t)),this._logHandler.apply(this,yr([this,de.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,de.ERROR],t)),this._logHandler.apply(this,yr([this,de.ERROR],t))},e}();function BT(e){Dy.forEach(function(t){t.setLogLevel(e)})}function qT(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=UT[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,p){for(var m=[],g=2;g<arguments.length;g++)m[g-2]=arguments[g];var v=m.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch(T){return null}}).filter(function(_){return _}).join(" ");p>=(l!=null?l:f.logLevel)&&e({level:de[p].toLowerCase(),message:v,args:m,type:f.name})}},r=0,o=Dy;r<o.length;r++){var s=o[r];n(s)}}var xi,K3=(xi={},xi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xi["bad-app-name"]="Illegal App name: '{$appName}",xi["duplicate-app"]="Firebase App named '{$appName}' already exists",xi["app-deleted"]="Firebase App named '{$appName}' already deleted",xi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xi),Xs=new Si("app","Firebase",K3),zT="@firebase/app",G3="0.6.20",W3="@firebase/analytics",$3="@firebase/auth",Y3="@firebase/database",Q3="@firebase/functions",X3="@firebase/installations",J3="@firebase/messaging",Z3="@firebase/performance",ej="@firebase/remote-config",tj="@firebase/storage",nj="@firebase/firestore",rj="firebase-wrapper";var Jt,rh="[DEFAULT]",ij=(Jt={},Jt[zT]="fire-core",Jt[W3]="fire-analytics",Jt[$3]="fire-auth",Jt[Y3]="fire-rtdb",Jt[Q3]="fire-fn",Jt[X3]="fire-iid",Jt[J3]="fire-fcm",Jt[Z3]="fire-perf",Jt[ej]="fire-rc",Jt[tj]="fire-gcs",Jt[nj]="fire-fst",Jt["fire-js"]="fire-js",Jt[rj]="fire-js-all",Jt);var Js=new Qs("@firebase/app");var ih=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=xT(t),this.container=new VT(n.name),this._addComponent(new vr("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=rh),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=rh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Js.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Xs.create("app-deleted",{appName:this.name_})},e}();ih.prototype.name&&ih.prototype.options||ih.prototype.delete||console.log("dc");var oj="8.4.0";function sj(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:p,setLogLevel:BT,onLog:m,apps:null,SDK_VERSION:oj,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(v){delete t[v]}function s(v){if(v=v||rh,!ky(t,v))throw Xs.create("no-app",{appName:v});return t[v]}s.App=e;function a(v,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var T=_;_={name:T}}var N=_;N.name===void 0&&(N.name=rh);var E=N.name;if(typeof E!="string"||!E)throw Xs.create("bad-app-name",{appName:String(E)});if(ky(t,E))throw Xs.create("duplicate-app",{appName:E});var b=new e(v,N,r);return t[E]=b,b}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var _=v.name;if(n.has(_))return Js.debug("There were multiple attempts to register component "+_+"."),v.type==="PUBLIC"?r[_]:null;if(n.set(_,v),v.type==="PUBLIC"){var T=function(I){if(I===void 0&&(I=s()),typeof I[_]!="function")throw Xs.create("invalid-app-argument",{appName:_});return I[_]()};v.serviceProps!==void 0&&Ys(T,v.serviceProps),r[_]=T,e.prototype[_]=function(){for(var I=[],x=0;x<arguments.length;x++)I[x]=arguments[x];var k=this._getService.bind(this,_);return k.apply(this,v.multipleInstances?I:[])}}for(var N=0,E=Object.keys(t);N<E.length;N++){var b=E[N];t[b]._addComponent(v)}return v.type==="PUBLIC"?r[_]:null}function p(v,_,T){var N,E=(N=ij[v])!==null&&N!==void 0?N:v;T&&(E+="-"+T);var b=E.match(/\s|\//),I=_.match(/\s|\//);if(b||I){var x=['Unable to register library "'+E+'" with version "'+_+'":'];b&&x.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),b&&I&&x.push("and"),I&&x.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),Js.warn(x.join(" "));return}f(new vr(E+"-version",function(){return{library:E,version:_}},"VERSION"))}function m(v,_){if(v!==null&&typeof v!="function")throw Xs.create("invalid-log-argument");qT(v,_)}function g(v,_){if(_==="serverAuth")return null;var T=_;return T}return r}function HT(){var e=sj(ih);e.INTERNAL=tc(tc({},e.INTERNAL),{createFirebaseNamespace:HT,extendNamespace:t,createSubscribe:MT,ErrorFactory:Si,deepExtend:Ys});function t(n){Ys(e,n)}return e}var Ry=HT();var aj=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(uj(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function uj(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}function cj(e,t){e.INTERNAL.registerComponent(new vr("platform-logger",function(n){return new aj(n)},"PRIVATE")),e.registerVersion(zT,G3,t),e.registerVersion("fire-js","")}OT()&&self.firebase!==void 0&&(Js.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),Ly=self.firebase.SDK_VERSION,Ly&&Ly.indexOf("LITE")>=0&&Js.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));var Ly,lj=Ry.initializeApp;Ry.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return CT()&&Js.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),lj.apply(void 0,e)};var KT=Ry;cj(KT);var J=KT;var fj="firebase",hj="8.4.2";J.registerVersion(fj,hj,"app");var oc=function(){return oc=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},oc.apply(this,arguments)};function Ot(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(m){try{p(r.next(m))}catch(g){a(g)}}function f(m){try{p(r.throw(m))}catch(g){a(g)}}function p(m){m.done?s(m.value):o(m.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function Pt(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(m){p=[6,m],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var gr=function(){return gr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gr.apply(this,arguments)};function ut(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(m){try{p(r.next(m))}catch(g){a(g)}}function f(m){try{p(r.throw(m))}catch(g){a(g)}}function p(m){m.done?s(m.value):o(m.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function at(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(m){p=[6,m],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function My(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function GT(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function WT(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var QT=Ze(YT()),pj="@firebase/installations",XT="0.4.25";var JT=1e4,ZT="w:"+XT,eS="FIS_v2",dj="https://firebaseinstallations.googleapis.com/v1",mj=60*60*1e3,vj="installations",yj="Installations";var ki,gj=(ki={},ki["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ki["not-registered"]="Firebase Installation is not registered.",ki["installation-not-found"]="Firebase Installation not found.",ki["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ki["app-offline"]="Could not process request. Application offline.",ki["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ki),ti=new Si(vj,yj,gj);function tS(e){return e instanceof rc&&e.code.includes("request-failed")}function jy(e){var t=e.projectId;return dj+"/projects/"+t+"/installations"}function nS(e){return{token:e.token,requestStatus:2,expiresIn:wj(e.expiresIn),creationTime:Date.now()}}function Fy(e,t){return ut(this,void 0,void 0,function(){var n,r;return at(this,function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,ti.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function rS(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iS(e,t){var n=t.refreshToken,r=rS(e);return r.append("Authorization",bj(n)),r}function Vy(e){return ut(this,void 0,void 0,function(){var t;return at(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function wj(e){return Number(e.replace("s","000"))}function bj(e){return eS+" "+e}function Ej(e,t){var n=t.fid;return ut(this,void 0,void 0,function(){var r,o,s,a,l,f,p;return at(this,function(m){switch(m.label){case 0:return r=jy(e),o=rS(e),s={fid:n,authVersion:eS,appId:e.appId,sdkVersion:ZT},a={method:"POST",headers:o,body:JSON.stringify(s)},[4,Vy(function(){return fetch(r,a)})];case 1:return l=m.sent(),l.ok?[4,l.json()]:[3,3];case 2:return f=m.sent(),p={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:nS(f.authToken)},[2,p];case 3:return[4,Fy("Create Installation",l)];case 4:throw m.sent()}})})}function oS(e){return new Promise(function(t){setTimeout(t,e)})}function _j(e){var t=btoa(String.fromCharCode.apply(String,WT([],GT(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var Ij=/^[cdef][\w-]{21}$/,Uy="";function Sj(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=Tj(e);return Ij.test(n)?n:Uy}catch(r){return Uy}}function Tj(e){var t=_j(e);return t.substr(0,22)}function Zs(e){return e.appName+"!"+e.appId}var eu=new Map;function uS(e,t){var n=Zs(e);sS(n,t),Nj(n,t)}function xj(e,t){aS();var n=Zs(e),r=eu.get(n);r||(r=new Set,eu.set(n,r)),r.add(t)}function kj(e,t){var n=Zs(e),r=eu.get(n);!r||(r.delete(t),r.size===0&&eu.delete(n),cS())}function sS(e,t){var n,r,o=eu.get(e);if(!!o)try{for(var s=My(o),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function Nj(e,t){var n=aS();n&&n.postMessage({key:e,fid:t}),cS()}var Bo=null;function aS(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=function(e){sS(e.data.key,e.data.fid)}),Bo}function cS(){eu.size===0&&Bo&&(Bo.close(),Bo=null)}var Aj="firebase-installations-database",Cj=1,qo="firebase-installations-store",By=null;function qy(){return By||(By=(0,QT.openDb)(Aj,Cj,function(e){switch(e.oldVersion){case 0:e.createObjectStore(qo)}})),By}function sh(e,t){return ut(this,void 0,void 0,function(){var n,r,o,s,a;return at(this,function(l){switch(l.label){case 0:return n=Zs(e),[4,qy()];case 1:return r=l.sent(),o=r.transaction(qo,"readwrite"),s=o.objectStore(qo),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,o.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&uS(e,t.fid),[2,t]}})})}function zy(e){return ut(this,void 0,void 0,function(){var t,n,r;return at(this,function(o){switch(o.label){case 0:return t=Zs(e),[4,qy()];case 1:return n=o.sent(),r=n.transaction(qo,"readwrite"),[4,r.objectStore(qo).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}})})}function sc(e,t){return ut(this,void 0,void 0,function(){var n,r,o,s,a,l;return at(this,function(f){switch(f.label){case 0:return n=Zs(e),[4,qy()];case 1:return r=f.sent(),o=r.transaction(qo,"readwrite"),s=o.objectStore(qo),[4,s.get(n)];case 2:return a=f.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return f.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),l&&(!a||a.fid!==l.fid)&&uS(e,l.fid),[2,l]}})})}function Hy(e){return ut(this,void 0,void 0,function(){var t,n,r;return at(this,function(o){switch(o.label){case 0:return[4,sc(e,function(s){var a=Oj(s),l=Pj(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=o.sent(),n.fid!==Uy?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function Oj(e){var t=e||{fid:Sj(),registrationStatus:0};return lS(t)}function Pj(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ti.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=Dj(e,r);return{installationEntry:r,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Rj(e)}:{installationEntry:t}}function Dj(e,t){return ut(this,void 0,void 0,function(){var n,r;return at(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,Ej(e,t)];case 1:return n=o.sent(),[2,sh(e,n)];case 2:return r=o.sent(),tS(r)&&r.customData.serverCode===409?[4,zy(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,sh(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}})})}function Rj(e){return ut(this,void 0,void 0,function(){var t,n,r,o;return at(this,function(s){switch(s.label){case 0:return[4,fS(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,oS(100)];case 3:return s.sent(),[4,fS(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,Hy(e)];case 6:return n=s.sent(),r=n.installationEntry,o=n.registrationPromise,o?[2,o]:[2,r];case 7:return[2,t]}})})}function fS(e){return sc(e,function(t){if(!t)throw ti.create("installation-not-found");return lS(t)})}function lS(e){return Lj(e)?{fid:e.fid,registrationStatus:0}:e}function Lj(e){return e.registrationStatus===1&&e.registrationTime+JT<Date.now()}function jj(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return ut(this,void 0,void 0,function(){var o,s,a,l,f,p,m,g;return at(this,function(v){switch(v.label){case 0:return o=Mj(n,t),s=iS(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:ZT}},f={method:"POST",headers:s,body:JSON.stringify(l)},[4,Vy(function(){return fetch(o,f)})];case 1:return p=v.sent(),p.ok?[4,p.json()]:[3,3];case 2:return m=v.sent(),g=nS(m),[2,g];case 3:return[4,Fy("Generate Auth Token",p)];case 4:throw v.sent()}})})}function Mj(e,t){var n=t.fid;return jy(e)+"/"+n+"/authTokens:generate"}function Ky(e,t){return t===void 0&&(t=!1),ut(this,void 0,void 0,function(){var n,r,o,s;return at(this,function(a){switch(a.label){case 0:return[4,sc(e.appConfig,function(l){if(!hS(l))throw ti.create("not-registered");var f=l.authToken;if(!t&&Uj(f))return l;if(f.requestStatus===1)return n=Fj(e,t),l;if(!navigator.onLine)throw ti.create("app-offline");var p=Bj(l);return n=Vj(e,p),p})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return o=s,[2,o]}})})}function Fj(e,t){return ut(this,void 0,void 0,function(){var n,r;return at(this,function(o){switch(o.label){case 0:return[4,pS(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,oS(100)];case 3:return o.sent(),[4,pS(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,Ky(e,t)]:[2,r]}})})}function pS(e){return sc(e,function(t){if(!hS(t))throw ti.create("not-registered");var n=t.authToken;return qj(n)?gr(gr({},t),{authToken:{requestStatus:0}}):t})}function Vj(e,t){return ut(this,void 0,void 0,function(){var n,r,o,r;return at(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,jj(e,t)];case 1:return n=s.sent(),r=gr(gr({},t),{authToken:n}),[4,sh(e.appConfig,r)];case 2:return s.sent(),[2,n];case 3:return o=s.sent(),tS(o)&&(o.customData.serverCode===401||o.customData.serverCode===404)?[4,zy(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return r=gr(gr({},t),{authToken:{requestStatus:0}}),[4,sh(e.appConfig,r)];case 6:s.sent(),s.label=7;case 7:throw o;case 8:return[2]}})})}function hS(e){return e!==void 0&&e.registrationStatus===2}function Uj(e){return e.requestStatus===2&&!zj(e)}function zj(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mj}function Bj(e){var t={requestStatus:1,requestTime:Date.now()};return gr(gr({},e),{authToken:t})}function qj(e){return e.requestStatus===1&&e.requestTime+JT<Date.now()}function Hj(e){return ut(this,void 0,void 0,function(){var t,n,r;return at(this,function(o){switch(o.label){case 0:return[4,Hy(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):Ky(e).catch(console.error),[2,n.fid]}})})}function Gj(e,t){return t===void 0&&(t=!1),ut(this,void 0,void 0,function(){var n;return at(this,function(r){switch(r.label){case 0:return[4,Kj(e.appConfig)];case 1:return r.sent(),[4,Ky(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function Kj(e){return ut(this,void 0,void 0,function(){var t;return at(this,function(n){switch(n.label){case 0:return[4,Hy(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function $j(e,t){return ut(this,void 0,void 0,function(){var n,r,o,s;return at(this,function(a){switch(a.label){case 0:return n=Wj(e,t),r=iS(e,t),o={method:"DELETE",headers:r},[4,Vy(function(){return fetch(n,o)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,Fy("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function Wj(e,t){var n=t.fid;return jy(e)+"/"+n}function Yj(e){return ut(this,void 0,void 0,function(){var t,n;return at(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,sc(t,function(o){if(!(o&&o.registrationStatus===0))return o})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ti.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ti.create("app-offline");case 3:return[4,$j(t,n)];case 4:return r.sent(),[4,zy(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function Qj(e,t){var n=e.appConfig;return xj(n,t),function(){kj(n,t)}}function Xj(e){var t,n;if(!e||!e.options)throw Gy("App Configuration");if(!e.name)throw Gy("App Name");var r=["projectId","apiKey","appId"];try{for(var o=My(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(!e.options[a])throw Gy(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Gy(e){return ti.create("missing-app-config-values",{valueName:e})}function Jj(e){var t="installations";e.INTERNAL.registerComponent(new vr(t,function(n){var r=n.getProvider("app").getImmediate(),o=Xj(r),s=n.getProvider("platform-logger"),a={appConfig:o,platformLoggerProvider:s},l={app:r,getId:function(){return Hj(a)},getToken:function(f){return Gj(a,f)},delete:function(){return Yj(a)},onIdChange:function(f){return Qj(a,f)}};return l},"PUBLIC")),e.registerVersion(pj,XT)}Jj(J);var Zj="firebase_id",eF="origin",tF=60*1e3,nF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dS="https://www.googletagmanager.com/gtag/js",Dt;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Dt||(Dt={}));var Wy;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Wy||(Wy={}));function rF(e,t,n,r,o){return Ot(this,void 0,void 0,function(){var s,a;return Pt(this,function(l){switch(l.label){case 0:return o&&o.global?(e(Dt.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=oc(oc({},r),{send_to:s}),e(Dt.EVENT,n,a),l.label=3;case 3:return[2]}})})}function iF(e,t,n,r){return Ot(this,void 0,void 0,function(){var o;return Pt(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Dt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=s.sent(),e(Dt.CONFIG,o,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function oF(e,t,n,r){return Ot(this,void 0,void 0,function(){var o;return Pt(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Dt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=s.sent(),e(Dt.CONFIG,o,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function sF(e,t,n,r){return Ot(this,void 0,void 0,function(){var o,s,a,l,f;return Pt(this,function(p){switch(p.label){case 0:if(!(r&&r.global))return[3,1];for(o={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],o["user_properties."+l]=n[l];return e(Dt.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:f=p.sent(),e(Dt.CONFIG,f,{update:!0,user_properties:n}),p.label=3;case 3:return[2]}})})}function uF(e,t){return Ot(this,void 0,void 0,function(){var n;return Pt(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}var It=new Qs("@firebase/analytics");function aF(e,t){var n=document.createElement("script");n.src=dS+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function cF(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function lF(e,t,n,r,o,s){return Ot(this,void 0,void 0,function(){var a,l,f,p;return Pt(this,function(m){switch(m.label){case 0:a=r[o],m.label=1;case 1:return m.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return m.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=m.sent(),f=l.find(function(g){return g.measurementId===o}),f?[4,t[f.appId]]:[3,6];case 5:m.sent(),m.label=6;case 6:return[3,8];case 7:return p=m.sent(),It.error(p),[3,8];case 8:return e(Dt.CONFIG,o,s),[2]}})})}function fF(e,t,n,r,o){return Ot(this,void 0,void 0,function(){var s,a,l,f,p,m,g,v,_;return Pt(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),s=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=T.sent(),f=function(N){var E=l.find(function(I){return I.measurementId===N}),b=E&&t[E.appId];if(b)s.push(b);else return s=[],"break"},p=0,m=a;p<m.length&&(g=m[p],v=f(g),v!=="break");p++);T.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return T.sent(),e(Dt.EVENT,r,o||{}),[3,5];case 4:return _=T.sent(),It.error(_),[3,5];case 5:return[2]}})})}function hF(e,t,n,r){function o(s,a,l){return Ot(this,void 0,void 0,function(){var f;return Pt(this,function(p){switch(p.label){case 0:return p.trys.push([0,6,,7]),s!==Dt.EVENT?[3,2]:[4,fF(e,t,n,a,l)];case 1:return p.sent(),[3,5];case 2:return s!==Dt.CONFIG?[3,4]:[4,lF(e,t,n,r,a,l)];case 3:return p.sent(),[3,5];case 4:e(Dt.SET,a),p.label=5;case 5:return[3,7];case 6:return f=p.sent(),It.error(f),[3,7];case 7:return[2]}})})}return o}function pF(e,t,n,r,o){var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(s=window[o]),window[o]=hF(s,e,t,n),{gtagCore:s,wrappedGtag:window[o]}}function dF(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(dS))return r}return null}var wr,mF=(wr={},wr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",wr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",wr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",wr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",wr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",wr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',wr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',wr),Yn=new Si("analytics","Analytics",mF);var vF=30,yF=1e3,gF=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=yF),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),mS=new gF;function wF(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function bF(e){var t;return Ot(this,void 0,void 0,function(){var n,r,o,s,a,l,f,p;return Pt(this,function(m){switch(m.label){case 0:return n=e.appId,r=e.apiKey,o={method:"GET",headers:wF(r)},s=nF.replace("{app-id}",n),[4,fetch(s,o)];case 1:if(a=m.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",m.label=2;case 2:return m.trys.push([2,4,,5]),[4,a.json()];case 3:return f=m.sent(),((t=f.error)===null||t===void 0?void 0:t.message)&&(l=f.error.message),[3,5];case 4:return p=m.sent(),[3,5];case 5:throw Yn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function _F(e,t,n){return t===void 0&&(t=mS),Ot(this,void 0,void 0,function(){var r,o,s,a,l,f,p=this;return Pt(this,function(m){if(r=e.options,o=r.appId,s=r.apiKey,a=r.measurementId,!o)throw Yn.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:o}];throw Yn.create("no-api-key")}return l=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new EF,setTimeout(function(){return Ot(p,void 0,void 0,function(){return Pt(this,function(g){return f.abort(),[2]})})},n!==void 0?n:tF),[2,vS({appId:o,apiKey:s,measurementId:a},l,f,t)]})})}function vS(e,t,n,r){var o=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=mS),Ot(this,void 0,void 0,function(){var a,l,f,p,m,g,v;return Pt(this,function(_){switch(_.label){case 0:a=e.appId,l=e.measurementId,_.label=1;case 1:return _.trys.push([1,3,,4]),[4,IF(n,o)];case 2:return _.sent(),[3,4];case 3:if(f=_.sent(),l)return It.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]")),[2,{appId:a,measurementId:l}];throw f;case 4:return _.trys.push([4,6,,7]),[4,bF(e)];case 5:return p=_.sent(),r.deleteThrottleMetadata(a),[2,p];case 6:if(m=_.sent(),!TF(m)){if(r.deleteThrottleMetadata(a),l)return It.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+m.message+"]")),[2,{appId:a,measurementId:l}];throw m}return g=Number(m.customData.httpStatus)===503?Cy(s,r.intervalMillis,vF):Cy(s,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1},r.setThrottleMetadata(a,v),It.debug("Calling attemptFetch again in "+g+" millis"),[2,vS(e,v,n,r)];case 7:return[2]}})})}function IF(e,t){return new Promise(function(n,r){var o=Math.max(t-Date.now(),0),s=setTimeout(n,o);e.addEventListener(function(){clearTimeout(s),r(Yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function TF(e){if(!(e instanceof rc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var EF=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();function SF(){return Ot(this,void 0,void 0,function(){var e;return Pt(this,function(t){switch(t.label){case 0:return Sy()?[3,1]:(It.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Ny()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),It.warn(Yn.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function NF(e,t,n,r,o,s){return Ot(this,void 0,void 0,function(){var a,l,f,p,m,g,v;return Pt(this,function(_){switch(_.label){case 0:return a=_F(e),a.then(function(T){n[T.measurementId]=T.appId,e.options.measurementId&&T.measurementId!==e.options.measurementId&&It.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+T.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(T){return It.error(T)}),t.push(a),l=SF().then(function(T){if(T)return r.getId()}),[4,Promise.all([a,l])];case 1:return f=_.sent(),p=f[0],m=f[1],dF()||aF(s,p.measurementId),o("js",new Date),g=(v={},v[eF]="firebase",v.update=!0,v),m!=null&&(g[Zj]=m),o(Dt.CONFIG,p.measurementId,g),[2,p.measurementId]}})})}var ni={},yS=[],gS={},uh="dataLayer",wS="gtag",bS,uc,$y=!1;function xF(e){if($y)throw Yn.create("already-initialized");e.dataLayerName&&(uh=e.dataLayerName),e.gtagName&&(wS=e.gtagName)}function kF(){var e=[];if(nc()&&e.push("This is a browser extension environment."),xy()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,o){return"("+(o+1)+") "+r}).join(" "),n=Yn.create("invalid-analytics-context",{errorInfo:t});It.warn(n.message)}}function AF(e,t){kF();var n=e.options.appId;if(!n)throw Yn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)It.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Yn.create("no-api-key");if(ni[n]!=null)throw Yn.create("already-exists",{id:n});if(!$y){cF(uh);var r=pF(ni,yS,gS,uh,wS),o=r.wrappedGtag,s=r.gtagCore;uc=o,bS=s,$y=!0}ni[n]=NF(e,yS,gS,t,bS,uh);var a={app:e,logEvent:function(l,f,p){rF(uc,ni[n],l,f,p).catch(function(m){return It.error(m)})},setCurrentScreen:function(l,f){iF(uc,ni[n],l,f).catch(function(p){return It.error(p)})},setUserId:function(l,f){oF(uc,ni[n],l,f).catch(function(p){return It.error(p)})},setUserProperties:function(l,f){sF(uc,ni[n],l,f).catch(function(p){return It.error(p)})},setAnalyticsCollectionEnabled:function(l){uF(ni[n],l).catch(function(f){return It.error(f)})},INTERNAL:{delete:function(){return delete ni[n],Promise.resolve()}}};return a}var CF="@firebase/analytics",OF="0.6.9",ES="analytics";function DF(e){e.INTERNAL.registerComponent(new vr(ES,function(n){var r=n.getProvider("app").getImmediate(),o=n.getProvider("installations").getImmediate();return AF(r,o)},"PUBLIC").setServiceProps({settings:xF,EventName:Wy,isSupported:PF})),e.INTERNAL.registerComponent(new vr("analytics-internal",t,"PRIVATE")),e.registerVersion(CF,OF);function t(n){try{var r=n.getProvider(ES).getImmediate();return{logEvent:r.logEvent}}catch(o){throw Yn.create("interop-component-reg-failed",{reason:o})}}}DF(J);function PF(){return Ot(this,void 0,void 0,function(){var e,t;return Pt(this,function(n){switch(n.label){case 0:if(nc())return[2,!1];if(!xy())return[2,!1];if(!Sy())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Ny()];case 2:return e=n.sent(),[2,e];case 3:return t=n.sent(),[2,!1];case 4:return[2]}})})}(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,c){i!=Array.prototype&&i!=Object.prototype&&(i[u]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var u=0;u<i.length;++u){var c=i[u];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,u){if(u){var c=r;i=i.split(".");for(var h=0;h<i.length-1;h++){var d=i[h];d in c||(c[d]={}),c=c[d]}i=i[i.length-1],h=c[i],u=u(h),u!=h&&u!=null&&t(c,i,{configurable:!0,writable:!0,value:u})}}function s(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}function a(i){var u=typeof Symbol!="undefined"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:s(i)}}o("Promise",function(i){function u(w){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{w(S.resolve,S.reject)}catch(D){S.reject(D)}}function c(){this.a=null}function h(w){return w instanceof u?w:new u(function(S){S(w)})}if(i)return i;c.prototype.b=function(w){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(w)};var d=r.setTimeout;c.prototype.c=function(w){d(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var S=0;S<w.length;++S){var D=w[S];w[S]=null;try{D()}catch(j){this.f(j)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(j){return function(ne){D||(D=!0,j.call(S,ne))}}var S=this,D=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var S=w!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(w):this.h(w)}},u.prototype.v=function(w){var S=void 0;try{S=w.then}catch(D){this.g(D);return}typeof S=="function"?this.u(S,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,S){if(this.b!=0)throw Error("Cannot settle("+w+", "+S+"): Promise already settled in state"+this.b);this.b=w,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return u.prototype.s=function(w){var S=this.f();w.Qa(S.resolve,S.reject)},u.prototype.u=function(w,S){var D=this.f();try{w.call(S,D.resolve,D.reject)}catch(j){D.reject(j)}},u.prototype.then=function(w,S){function D(ye,vt){return typeof ye=="function"?function(ei){try{j(ye(ei))}catch(_y){ne(_y)}}:vt}var j,ne,_e=new u(function(ye,vt){j=ye,ne=vt});return this.Qa(D(w,j),D(S,ne)),_e},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,S){function D(){switch(j.b){case 1:w(j.c);break;case 2:S(j.c);break;default:throw Error("Unexpected state: "+j.b)}}var j=this;this.a==null?y.b(D):this.a.push(D)},u.resolve=h,u.reject=function(w){return new u(function(S,D){D(w)})},u.race=function(w){return new u(function(S,D){for(var j=a(w),ne=j.next();!ne.done;ne=j.next())h(ne.value).Qa(S,D)})},u.all=function(w){var S=a(w),D=S.next();return D.done?h([]):new u(function(j,ne){function _e(ei){return function(_y){ye[ei]=_y,vt--,vt==0&&j(ye)}}var ye=[],vt=0;do ye.push(void 0),vt++,h(D.value).Qa(_e(ye.length-1),ne),D=S.next();while(!D.done)})},u});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,m=null;function g(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function v(){}function _(i){var u=typeof i;return u!="object"?u:i?Array.isArray(i)?"array":u:"null"}function T(i){var u=_(i);return u=="array"||u=="object"&&typeof i.length=="number"}function N(i){return _(i)=="function"}function E(i){var u=typeof i;return u=="object"&&i!=null||u=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,I)&&i[I]||(i[I]=++x)}var I="closure_uid_"+(1e9*Math.random()>>>0),x=0;function k(i,u,c){return i.call.apply(i.bind,arguments)}function P(i,u,c){if(!i)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,h),i.apply(u,d)}}return function(){return i.apply(u,arguments)}}function C(i,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C=k:C=P,C.apply(null,arguments)}function F(i,u){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),i.apply(this,h)}}var z=Date.now;function M(i,u){function c(){}c.prototype=u.prototype,i.ab=u.prototype,i.prototype=new c,i.prototype.constructor=i}function he(i){return i}function A(i,u,c){this.code=Tn+i,this.message=u||Sn[i]||"",this.a=c||null}M(A,Error),A.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},A.prototype.toJSON=function(){return this.w()};function Gt(i){var u=i&&i.code;return u?new A(u.substring(Tn.length),i.message,i.serverResponse):null}var Tn="auth/",Sn={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},dt={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function zn(i){for(var u in dt)if(dt[u].id===i)return i=dt[u],{firebaseEndpoint:i.Ta,secureTokenEndpoint:i.Za,identityPlatformEndpoint:i.Wa};return null}var Hn;Hn=zn("__EID__")?"__EID__":void 0;function Wt(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch(u){return!1}}function ie(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ie);else{var u=Error().stack;u&&(this.stack=u)}i&&(this.message=String(i))}M(ie,Error),ie.prototype.name="CustomError";function we(i,u){i=i.split("%s");for(var c="",h=i.length-1,d=0;d<h;d++)c+=i[d]+(d<u.length?u[d]:"%s");ie.call(this,c+i[h])}M(we,ie),we.prototype.name="AssertionError";function Q(i,u){throw new we("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function oe(i,u){this.c=i,this.f=u,this.b=0,this.a=null}oe.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function ve(i,u){i.f(u),100>i.b&&(i.b++,u.next=i.a,i.a=u)}function xe(){this.b=this.a=null}var $t=new oe(function(){return new mt},function(i){i.reset()});xe.prototype.add=function(i,u){var c=$t.get();c.set(i,u),this.b?this.b.next=c:this.a=c,this.b=c};function Yt(){var i=uE,u=null;return i.a&&(u=i.a,i.a=i.a.next,i.a||(i.b=null),u.next=null),u}function mt(){this.next=this.b=this.a=null}mt.prototype.set=function(i,u){this.a=i,this.b=u,this.next=null},mt.prototype.reset=function(){this.next=this.b=this.a=null};var $r=Array.prototype.indexOf?function(i,u){return Array.prototype.indexOf.call(i,u,void 0)}:function(i,u){if(typeof i=="string")return typeof u!="string"||u.length!=1?-1:i.indexOf(u,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===u)return c;return-1},Se=Array.prototype.forEach?function(i,u,c){Array.prototype.forEach.call(i,u,c)}:function(i,u,c){for(var h=i.length,d=typeof i=="string"?i.split(""):i,y=0;y<h;y++)y in d&&u.call(c,d[y],y,i)};function Zl(i,u){for(var c=typeof i=="string"?i.split(""):i,h=i.length-1;0<=h;--h)h in c&&u.call(void 0,c[h],h,i)}var gR=Array.prototype.filter?function(i,u){return Array.prototype.filter.call(i,u,void 0)}:function(i,u){for(var c=i.length,h=[],d=0,y=typeof i=="string"?i.split(""):i,w=0;w<c;w++)if(w in y){var S=y[w];u.call(void 0,S,w,i)&&(h[d++]=S)}return h},ef=Array.prototype.map?function(i,u){return Array.prototype.map.call(i,u,void 0)}:function(i,u){for(var c=i.length,h=Array(c),d=typeof i=="string"?i.split(""):i,y=0;y<c;y++)y in d&&(h[y]=u.call(void 0,d[y],y,i));return h},wR=Array.prototype.some?function(i,u){return Array.prototype.some.call(i,u,void 0)}:function(i,u){for(var c=i.length,h=typeof i=="string"?i.split(""):i,d=0;d<c;d++)if(d in h&&u.call(void 0,h[d],d,i))return!0;return!1};function bR(i){e:{for(var u=ZL,c=i.length,h=typeof i=="string"?i.split(""):i,d=0;d<c;d++)if(d in h&&u.call(void 0,h[d],d,i)){u=d;break e}u=-1}return 0>u?null:typeof i=="string"?i.charAt(u):i[u]}function Yr(i,u){return 0<=$r(i,u)}function tf(i,u){u=$r(i,u);var c;return(c=0<=u)&&Array.prototype.splice.call(i,u,1),c}function cr(i,u){var c=0;Zl(i,function(h,d){u.call(void 0,h,d,i)&&Array.prototype.splice.call(i,d,1).length==1&&c++})}function $d(i){return Array.prototype.concat.apply([],arguments)}function wo(i){var u=i.length;if(0<u){for(var c=Array(u),h=0;h<u;h++)c[h]=i[h];return c}return[]}var M1=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ER=/&/g,_R=/</g,IR=/>/g,TR=/"/g,SR=/'/g,NR=/\x00/g,xR=/[\x00&<>"']/;function ke(i,u){return i.indexOf(u)!=-1}function Yd(i,u){return i<u?-1:i>u?1:0}var Ts;e:{var j1=f.navigator;if(j1){var F1=j1.userAgent;if(F1){Ts=F1;break e}}Ts=""}function ot(i){return ke(Ts,i)}function V1(i,u){for(var c in i)u.call(void 0,i[c],c,i)}function bo(i){for(var u in i)return!1;return!0}function mi(i){var u={},c;for(c in i)u[c]=i[c];return u}var U1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fn(i,u){for(var c,h,d=1;d<arguments.length;d++){h=arguments[d];for(c in h)i[c]=h[c];for(var y=0;y<U1.length;y++)c=U1[y],Object.prototype.hasOwnProperty.call(h,c)&&(i[c]=h[c])}}function B1(i,u){e:{try{var c=i&&i.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var d=h;break e}}catch(w){}d=null}if(d&&typeof d[u]!="undefined"&&(!i||!(i instanceof d[u])&&(i instanceof d.Location||i instanceof d.Element))){if(E(i))try{var y=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch(w){y="<object could not be stringified>"}else y=i===void 0?"undefined":i===null?"null":typeof i;Q("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,y)}}function Nr(i,u){this.a=i===nf&&u||"",this.b=q1}Nr.prototype.sa=!0,Nr.prototype.ra=function(){return this.a},Nr.prototype.toString=function(){return"Const{"+this.a+"}"};function Qd(i){return i instanceof Nr&&i.constructor===Nr&&i.b===q1?i.a:(Q("expected object of type Const, got '"+i+"'"),"type_error:Const")}var q1={},nf={},rf;function z1(){if(rf===void 0){var i=null,u=f.trustedTypes;if(u&&u.createPolicy){try{i=u.createPolicy("goog#html",{createHTML:he,createScript:he,createScriptURL:he})}catch(c){f.console&&f.console.error(c.message)}rf=i}else rf=i}return rf}function Ss(i,u){this.a=u===K1?i:""}Ss.prototype.sa=!0,Ss.prototype.ra=function(){return this.a.toString()},Ss.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function H1(i){return i instanceof Ss&&i.constructor===Ss?i.a:(Q("expected object of type TrustedResourceUrl, got '"+i+"' of type "+_(i)),"type_error:TrustedResourceUrl")}function Xd(i,u){var c=Qd(i);if(!AR.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(kR,function(h,d){if(!Object.prototype.hasOwnProperty.call(u,d))throw Error('Found marker, "'+d+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[d],h instanceof Nr?Qd(h):encodeURIComponent(String(h))}),CR(i)}var kR=/%{(\w+)}/g,AR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,K1={};function CR(i){var u=z1();return i=u?u.createScriptURL(i):i,new Ss(i,K1)}function hn(i,u){this.a=u===wa?i:""}hn.prototype.sa=!0,hn.prototype.ra=function(){return this.a.toString()},hn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function of(i){return i instanceof hn&&i.constructor===hn?i.a:(Q("expected object of type SafeUrl, got '"+i+"' of type "+_(i)),"type_error:SafeUrl")}var OR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,PR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,G1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function W1(i){if(i instanceof hn)return i;if(i=typeof i=="object"&&i.sa?i.ra():String(i),G1.test(i))i=new hn(i,wa);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var u=i.match(PR);i=u&&OR.test(u[1])?new hn(i,wa):null}return i}function $1(i){return i instanceof hn?i:(i=typeof i=="object"&&i.sa?i.ra():String(i),G1.test(i)||(i="about:invalid#zClosurez"),new hn(i,wa))}var wa={},Y1=new hn("about:invalid#zClosurez",wa);function Ns(i,u,c){this.a=c===Q1?i:""}Ns.prototype.sa=!0,Ns.prototype.ra=function(){return this.a.toString()},Ns.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function DR(i){return i instanceof Ns&&i.constructor===Ns?i.a:(Q("expected object of type SafeHtml, got '"+i+"' of type "+_(i)),"type_error:SafeHtml")}var Q1={};function RR(i,u){B1(i,"HTMLScriptElement"),i.src=H1(u),(u=i.ownerDocument&&i.ownerDocument.defaultView)&&u!=f?u=g(u.document):(m===null&&(m=g(f.document)),u=m),u&&i.setAttribute("nonce",u)}function X1(i,u,c,h){return i=i instanceof hn?i:$1(i),u=u||f,c=c instanceof Nr?Qd(c):c||"",u.open(of(i),c,h,void 0)}function J1(i,u){for(var c=i.split("%s"),h="",d=Array.prototype.slice.call(arguments,1);d.length&&1<c.length;)h+=c.shift()+d.shift();return h+c.join("%s")}function Jd(i){return xR.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ER,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(_R,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(IR,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(TR,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(SR,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(NR,"&#0;"))),i}function Zd(i){return Zd[" "](i),i}Zd[" "]=v;function LR(i,u){var c=VR;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=u(i)}var MR=ot("Opera"),lr=ot("Trident")||ot("MSIE"),Z1=ot("Edge"),jR=Z1||lr,eE=ot("Gecko")&&!(ke(Ts.toLowerCase(),"webkit")&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),FR=ke(Ts.toLowerCase(),"webkit")&&!ot("Edge");function tE(){var i=f.document;return i?i.documentMode:void 0}var sf;e:{var em="",tm=function(){var i=Ts;if(eE)return/rv:([^\);]+)(\)|;)/.exec(i);if(Z1)return/Edge\/([\d\.]+)/.exec(i);if(lr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(FR)return/WebKit\/(\S+)/.exec(i);if(MR)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(tm&&(em=tm?tm[1]:""),lr){var nm=tE();if(nm!=null&&nm>parseFloat(em)){sf=String(nm);break e}}sf=em}var VR={};function nE(i){return LR(i,function(){for(var u=0,c=M1(String(sf)).split("."),h=M1(String(i)).split("."),d=Math.max(c.length,h.length),y=0;u==0&&y<d;y++){var w=c[y]||"",S=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],w[0].length==0&&S[0].length==0)break;u=Yd(w[1].length==0?0:parseInt(w[1],10),S[1].length==0?0:parseInt(S[1],10))||Yd(w[2].length==0,S[2].length==0)||Yd(w[2],S[2]),w=w[3],S=S[3]}while(u==0)}return 0<=u})}var rm;if(f.document&&lr){var rE=tE();rm=rE||parseInt(sf,10)||void 0}else rm=void 0;var vi=rm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(i){}var UR=!lr||9<=Number(vi);function ba(i){var u=document;return typeof i=="string"?u.getElementById(i):i}function iE(i,u){V1(u,function(c,h){c&&typeof c=="object"&&c.sa&&(c=c.ra()),h=="style"?i.style.cssText=c:h=="class"?i.className=c:h=="for"?i.htmlFor=c:oE.hasOwnProperty(h)?i.setAttribute(oE[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?i.setAttribute(h,c):i[h]=c})}var oE={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function BR(i,u,c){var h=arguments,d=document,y=String(h[0]),w=h[1];if(!UR&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',Jd(w.name),'"'),w.type){y.push(' type="',Jd(w.type),'"');var S={};fn(S,w),delete S.type,w=S}y.push(">"),y=y.join("")}return y=uf(d,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):iE(y,w)),2<h.length&&qR(d,y,h),y}function qR(i,u,c){function h(S){S&&u.appendChild(typeof S=="string"?i.createTextNode(S):S)}for(var d=2;d<c.length;d++){var y=c[d];if(!T(y)||E(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(E(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(N(y)){w=typeof y.item=="function";break e}}w=!1}Se(w?wo(y):y,h)}}}function uf(i,u){return u=String(u),i.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),i.createElement(u)}function sE(i){f.setTimeout(function(){throw i},0)}var im;function zR(){var i=f.MessageChannel;if(typeof i=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(i=function(){var d=uf(document,"IFRAME");d.style.display="none",document.documentElement.appendChild(d);var y=d.contentWindow;d=y.document,d.open(),d.close();var w="callImmediate"+Math.random(),S=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;d=C(function(D){(S=="*"||D.origin==S)&&D.data==w&&this.port1.onmessage()},this),y.addEventListener("message",d,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,S)}}}),typeof i!="undefined"&&!ot("Trident")&&!ot("MSIE")){var u=new i,c={},h=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var d=c.Gb;c.Gb=null,d()}},function(d){h.next={Gb:d},h=h.next,u.port2.postMessage(0)}}return function(d){f.setTimeout(d,0)}}function af(i,u){cf||HR(),om||(cf(),om=!0),uE.add(i,u)}var cf;function HR(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);cf=function(){i.then(aE)}}else cf=function(){var u=aE;!N(f.setImmediate)||f.Window&&f.Window.prototype&&!ot("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(im||(im=zR()),im(u)):f.setImmediate(u)}}var om=!1,uE=new xe;function aE(){for(var i;i=Yt();){try{i.a.call(i.b)}catch(u){sE(u)}ve($t,i)}om=!1}function ce(i,u){if(this.a=Eo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=v)try{var c=this;i.call(u,function(h){_o(c,Ea,h)},function(h){if(!(h instanceof xs))try{throw h instanceof Error?h:Error("Promise rejected.")}catch(d){}_o(c,Qr,h)})}catch(h){_o(this,Qr,h)}}var Eo=0,Ea=2,Qr=3;function cE(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}cE.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var lE=new oe(function(){return new cE},function(i){i.reset()});function sm(i,u,c){var h=lE.get();return h.g=i,h.b=u,h.f=c,h}function Z(i){if(i instanceof ce)return i;var u=new ce(v);return _o(u,Ea,i),u}function De(i){return new ce(function(u,c){c(i)})}function fE(i,u,c){mE(i,u,c,null)||af(F(u,i))}function KR(i){return new ce(function(u,c){var h=i.length,d=[];if(h)for(var y=function(j,ne){h--,d[j]=ne,h==0&&u(d)},w=function(j){c(j)},S=0,D;S<i.length;S++)D=i[S],fE(D,F(y,S),w);else u(d)})}function hE(i){return new ce(function(u){var c=i.length,h=[];if(c)for(var d=function(S,D,j){c--,h[S]=D?{Pb:!0,value:j}:{Pb:!1,reason:j},c==0&&u(h)},y=0,w;y<i.length;y++)w=i[y],fE(w,F(d,y,!0),F(d,y,!1));else u(h)})}ce.prototype.then=function(i,u,c){return dE(this,N(i)?i:null,N(u)?u:null,c)},ce.prototype.$goog_Thenable=!0,e=ce.prototype,e.oa=function(i,u){return i=sm(i,i,u),i.c=!0,um(this,i),this},e.o=function(i,u){return dE(this,null,i,u)},e.cancel=function(i){if(this.a==Eo){var u=new xs(i);af(function(){pE(this,u)},this)}};function pE(i,u){if(i.a==Eo)if(i.c){var c=i.c;if(c.b){for(var h=0,d=null,y=null,w=c.b;w&&(w.c||(h++,w.a==i&&(d=w),!(d&&1<h)));w=w.next)d||(y=w);d&&(c.a==Eo&&h==1?pE(c,u):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):yE(c),gE(c,d,Qr,u)))}i.c=null}else _o(i,Qr,u)}function um(i,u){i.b||i.a!=Ea&&i.a!=Qr||vE(i),i.f?i.f.next=u:i.b=u,i.f=u}function dE(i,u,c,h){var d=sm(null,null,null);return d.a=new ce(function(y,w){d.g=u?function(S){try{var D=u.call(h,S);y(D)}catch(j){w(j)}}:y,d.b=c?function(S){try{var D=c.call(h,S);D===void 0&&S instanceof xs?w(S):y(D)}catch(j){w(j)}}:w}),d.a.c=i,um(i,d),d.a}e.$c=function(i){this.a=Eo,_o(this,Ea,i)},e.ad=function(i){this.a=Eo,_o(this,Qr,i)};function _o(i,u,c){i.a==Eo&&(i===c&&(u=Qr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,mE(c,i.$c,i.ad,i)||(i.i=c,i.a=u,i.c=null,vE(i),u!=Qr||c instanceof xs||WR(i,c)))}function mE(i,u,c,h){if(i instanceof ce)return um(i,sm(u||v,c||null,h)),!0;if(Wt(i))return i.then(u,c,h),!0;if(E(i))try{var d=i.then;if(N(d))return GR(i,d,u,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function GR(i,u,c,h,d){function y(D){S||(S=!0,h.call(d,D))}function w(D){S||(S=!0,c.call(d,D))}var S=!1;try{u.call(i,w,y)}catch(D){y(D)}}function vE(i){i.h||(i.h=!0,af(i.gc,i))}function yE(i){var u=null;return i.b&&(u=i.b,i.b=u.next,u.next=null),i.b||(i.f=null),u}e.gc=function(){for(var i;i=yE(this);)gE(this,i,this.a,this.i);this.h=!1};function gE(i,u,c,h){if(c==Qr&&u.b&&!u.c)for(;i&&i.g;i=i.c)i.g=!1;if(u.a)u.a.c=null,wE(u,c,h);else try{u.c?u.g.call(u.f):wE(u,c,h)}catch(d){bE.call(null,d)}ve(lE,u)}function wE(i,u,c){u==Ea?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function WR(i,u){i.g=!0,af(function(){i.g&&bE.call(null,u)})}var bE=sE;function xs(i){ie.call(this,i)}M(xs,ie),xs.prototype.name="cancel";function lf(){am!=0&&(EE[b(this)]=this),this.xa=this.xa,this.pa=this.pa}var am=0,EE={};lf.prototype.xa=!1;function _E(i){if(!i.xa&&(i.xa=!0,i.Da(),am!=0)){var u=b(i);if(am!=0&&i.pa&&0<i.pa.length)throw Error(i+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete EE[u]}}lf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $R=Object.freeze||function(i){return i},IE=!lr||9<=Number(vi),YR=lr&&!nE("9"),QR=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,u=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",v,u),f.removeEventListener("test",v,u)}catch(c){}return i}();function pn(i,u){this.type=i,this.b=this.target=u,this.defaultPrevented=!1}pn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Io(i,u){if(pn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=u,u=i.relatedTarget){if(eE){e:{try{Zd(u.nodeName);var d=!0;break e}catch(y){}d=!1}d||(u=null)}}else c=="mouseover"?u=i.fromElement:c=="mouseout"&&(u=i.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:XR[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}M(Io,pn);var XR=$R({2:"touch",3:"pen",4:"mouse"});Io.prototype.preventDefault=function(){Io.ab.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,YR)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch(u){}},Io.prototype.g=function(){return this.a};var _a="closure_listenable_"+(1e6*Math.random()|0),JR=0;function ZR(i,u,c,h,d){this.listener=i,this.proxy=null,this.src=u,this.type=c,this.capture=!!h,this.Va=d,this.key=++JR,this.va=this.Pa=!1}function ff(i){i.va=!0,i.listener=null,i.proxy=null,i.src=null,i.Va=null}function hf(i){this.src=i,this.a={},this.b=0}hf.prototype.add=function(i,u,c,h,d){var y=i.toString();i=this.a[y],i||(i=this.a[y]=[],this.b++);var w=lm(i,u,h,d);return-1<w?(u=i[w],c||(u.Pa=!1)):(u=new ZR(u,this.src,y,!!h,d),u.Pa=c,i.push(u)),u};function cm(i,u){var c=u.type;c in i.a&&tf(i.a[c],u)&&(ff(u),i.a[c].length==0&&(delete i.a[c],i.b--))}function lm(i,u,c,h){for(var d=0;d<i.length;++d){var y=i[d];if(!y.va&&y.listener==u&&y.capture==!!c&&y.Va==h)return d}return-1}var fm="closure_lm_"+(1e6*Math.random()|0),hm={},TE=0;function Kn(i,u,c,h,d){if(h&&h.once)pm(i,u,c,h,d);else if(Array.isArray(u))for(var y=0;y<u.length;y++)Kn(i,u[y],c,h,d);else c=mm(c),i&&i[_a]?CE(i,u,c,E(h)?!!h.capture:!!h,d):SE(i,u,c,!1,h,d)}function SE(i,u,c,h,d,y){if(!u)throw Error("Invalid event type");var w=E(d)?!!d.capture:!!d,S=pf(i);if(S||(i[fm]=S=new hf(i)),c=S.add(u,c,h,w,y),!c.proxy){if(h=eL(),c.proxy=h,h.src=i,h.listener=c,i.addEventListener)QR||(d=w),d===void 0&&(d=!1),i.addEventListener(u.toString(),h,d);else if(i.attachEvent)i.attachEvent(xE(u.toString()),h);else if(i.addListener&&i.removeListener)i.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");TE++}}function eL(){var i=tL,u=IE?function(c){return i.call(u.src,u.listener,c)}:function(c){if(c=i.call(u.src,u.listener,c),!c)return c};return u}function pm(i,u,c,h,d){if(Array.isArray(u))for(var y=0;y<u.length;y++)pm(i,u[y],c,h,d);else c=mm(c),i&&i[_a]?vm(i,u,c,E(h)?!!h.capture:!!h,d):SE(i,u,c,!0,h,d)}function Nn(i,u,c,h,d){if(Array.isArray(u))for(var y=0;y<u.length;y++)Nn(i,u[y],c,h,d);else h=E(h)?!!h.capture:!!h,c=mm(c),i&&i[_a]?(i=i.v,u=String(u).toString(),u in i.a&&(y=i.a[u],c=lm(y,c,h,d),-1<c&&(ff(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete i.a[u],i.b--)))):i&&(i=pf(i))&&(u=i.a[u.toString()],i=-1,u&&(i=lm(u,c,h,d)),(c=-1<i?u[i]:null)&&NE(c))}function NE(i){if(typeof i!="number"&&i&&!i.va){var u=i.src;if(u&&u[_a])cm(u.v,i);else{var c=i.type,h=i.proxy;u.removeEventListener?u.removeEventListener(c,h,i.capture):u.detachEvent?u.detachEvent(xE(c),h):u.addListener&&u.removeListener&&u.removeListener(h),TE--,(c=pf(u))?(cm(c,i),c.b==0&&(c.src=null,u[fm]=null)):ff(i)}}}function xE(i){return i in hm?hm[i]:hm[i]="on"+i}function kE(i,u,c,h){var d=!0;if((i=pf(i))&&(u=i.a[u.toString()]))for(u=u.concat(),i=0;i<u.length;i++){var y=u[i];y&&y.capture==c&&!y.va&&(y=AE(y,h),d=d&&y!==!1)}return d}function AE(i,u){var c=i.listener,h=i.Va||i.src;return i.Pa&&NE(i),c.call(h,u)}function tL(i,u){if(i.va)return!0;if(!IE){if(!u)e:{u=["window","event"];for(var c=f,h=0;h<u.length;h++)if(c=c[u[h]],c==null){u=null;break e}u=c}if(h=u,u=new Io(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var d=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch(w){d=!0}(d||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],d=u.b;d;d=d.parentNode)h.push(d);for(i=i.type,d=h.length-1;0<=d;d--){u.b=h[d];var y=kE(h[d],i,!0,u);c=c&&y}for(d=0;d<h.length;d++)u.b=h[d],y=kE(h[d],i,!1,u),c=c&&y}return c}return AE(i,new Io(u,this))}function pf(i){return i=i[fm],i instanceof hf?i:null}var dm="__closure_events_fn_"+(1e9*Math.random()>>>0);function mm(i){return N(i)?i:(i[dm]||(i[dm]=function(u){return i.handleEvent(u)}),i[dm])}function Qt(){lf.call(this),this.v=new hf(this),this.ac=this,this.gb=null}M(Qt,lf),Qt.prototype[_a]=!0,Qt.prototype.addEventListener=function(i,u,c,h){Kn(this,i,u,c,h)},Qt.prototype.removeEventListener=function(i,u,c,h){Nn(this,i,u,c,h)},Qt.prototype.dispatchEvent=function(i){var u,c=this.gb;if(c)for(u=[];c;c=c.gb)u.push(c);c=this.ac;var h=i.type||i;if(typeof i=="string")i=new pn(i,c);else if(i instanceof pn)i.target=i.target||c;else{var d=i;i=new pn(h,c),fn(i,d)}if(d=!0,u)for(var y=u.length-1;0<=y;y--){var w=i.b=u[y];d=df(w,h,!0,i)&&d}if(w=i.b=c,d=df(w,h,!0,i)&&d,d=df(w,h,!1,i)&&d,u)for(y=0;y<u.length;y++)w=i.b=u[y],d=df(w,h,!1,i)&&d;return d},Qt.prototype.Da=function(){if(Qt.ab.Da.call(this),this.v){var i=this.v,u=0,c;for(c in i.a){for(var h=i.a[c],d=0;d<h.length;d++)++u,ff(h[d]);delete i.a[c],i.b--}}this.gb=null};function CE(i,u,c,h,d){i.v.add(String(u),c,!1,h,d)}function vm(i,u,c,h,d){i.v.add(String(u),c,!0,h,d)}function df(i,u,c,h){if(u=i.v.a[String(u)],!u)return!0;u=u.concat();for(var d=!0,y=0;y<u.length;++y){var w=u[y];if(w&&!w.va&&w.capture==c){var S=w.listener,D=w.Va||w.src;w.Pa&&cm(i.v,w),d=S.call(D,h)!==!1&&d}}return d&&!h.defaultPrevented}function ym(i,u,c){if(N(i))c&&(i=C(i,c));else if(i&&typeof i.handleEvent=="function")i=C(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(i,u||0)}function ks(i){var u=null;return new ce(function(c,h){u=ym(function(){c(void 0)},i),u==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function OE(i){if(i.W&&typeof i.W=="function")return i.W();if(typeof i=="string")return i.split("");if(T(i)){for(var u=[],c=i.length,h=0;h<c;h++)u.push(i[h]);return u}u=[],c=0;for(h in i)u[c++]=i[h];return u}function PE(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.W||typeof i.W!="function"){if(T(i)||typeof i=="string"){var u=[];i=i.length;for(var c=0;c<i;c++)u.push(c);return u}u=[],c=0;for(var h in i)u[c++]=h;return u}}function nL(i,u){if(i.forEach&&typeof i.forEach=="function")i.forEach(u,void 0);else if(T(i)||typeof i=="string")Se(i,u,void 0);else for(var c=PE(i),h=OE(i),d=h.length,y=0;y<d;y++)u.call(void 0,h[y],c&&c[y],i)}function As(i,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(i)if(i instanceof As)for(c=i.Y(),h=0;h<c.length;h++)this.set(c[h],i.get(c[h]));else for(h in i)this.set(h,i[h])}e=As.prototype,e.W=function(){gm(this);for(var i=[],u=0;u<this.a.length;u++)i.push(this.b[this.a[u]]);return i},e.Y=function(){return gm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function gm(i){if(i.c!=i.a.length){for(var u=0,c=0;u<i.a.length;){var h=i.a[u];To(i.b,h)&&(i.a[c++]=h),u++}i.a.length=c}if(i.c!=i.a.length){var d={};for(c=u=0;u<i.a.length;)h=i.a[u],To(d,h)||(i.a[c++]=h,d[h]=1),u++;i.a.length=c}}e.get=function(i,u){return To(this.b,i)?this.b[i]:u},e.set=function(i,u){To(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=u},e.forEach=function(i,u){for(var c=this.Y(),h=0;h<c.length;h++){var d=c[h],y=this.get(d);i.call(u,y,d,this)}};function To(i,u){return Object.prototype.hasOwnProperty.call(i,u)}var DE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rL(i,u){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var h=i[c].indexOf("="),d=null;if(0<=h){var y=i[c].substring(0,h);d=i[c].substring(h+1)}else y=i[c];u(y,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function yi(i,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof yi?(this.i=u!==void 0?u:i.i,Ia(this,i.c),this.l=i.l,this.a=i.a,Ta(this,i.g),this.f=i.f,wm(this,jE(i.b)),this.h=i.h):i&&(c=String(i).match(DE))?(this.i=!!u,Ia(this,c[1]||"",!0),this.l=Sa(c[2]||""),this.a=Sa(c[3]||"",!0),Ta(this,c[4]),this.f=Sa(c[5]||"",!0),wm(this,c[6]||"",!0),this.h=Sa(c[7]||"")):(this.i=!!u,this.b=new So(null,this.i))}yi.prototype.toString=function(){var i=[],u=this.c;u&&i.push(Na(u,RE,!0),":");var c=this.a;return(c||u=="file")&&(i.push("//"),(u=this.l)&&i.push(Na(u,RE,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(Na(c,c.charAt(0)=="/"?sL:oL,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",Na(c,aL)),i.join("")},yi.prototype.resolve=function(i){var u=new yi(this),c=!!i.c;c?Ia(u,i.c):c=!!i.l,c?u.l=i.l:c=!!i.a,c?u.a=i.a:c=i.g!=null;var h=i.f;if(c)Ta(u,i.g);else if(c=!!i.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var d=u.f.lastIndexOf("/");d!=-1&&(h=u.f.substr(0,d+1)+h)}if(d=h,d==".."||d==".")h="";else if(ke(d,"./")||ke(d,"/.")){h=d.lastIndexOf("/",0)==0,d=d.split("/");for(var y=[],w=0;w<d.length;){var S=d[w++];S=="."?h&&w==d.length&&y.push(""):S==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==d.length&&y.push("")):(y.push(S),h=!0)}h=y.join("/")}else h=d}return c?u.f=h:c=i.b.toString()!=="",c?wm(u,jE(i.b)):c=!!i.h,c&&(u.h=i.h),u};function Ia(i,u,c){i.c=c?Sa(u,!0):u,i.c&&(i.c=i.c.replace(/:$/,""))}function Ta(i,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);i.g=u}else i.g=null}function wm(i,u,c){u instanceof So?(i.b=u,cL(i.b,i.i)):(c||(u=Na(u,uL)),i.b=new So(u,i.i))}function He(i,u,c){i.b.set(u,c)}function Gn(i,u){return i.b.get(u)}function dn(i){return i instanceof yi?new yi(i):new yi(i,void 0)}function mf(i,u,c,h){var d=new yi(null,void 0);return i&&Ia(d,i),u&&(d.a=u),c&&Ta(d,c),h&&(d.f=h),d}function Sa(i,u){return i?u?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Na(i,u,c){return typeof i=="string"?(i=encodeURI(i).replace(u,iL),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function iL(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var RE=/[#\/\?@]/g,oL=/[#\?:]/g,sL=/[#\?]/g,uL=/[#\?@]/g,aL=/#/g;function So(i,u){this.b=this.a=null,this.c=i||null,this.f=!!u}function gi(i){i.a||(i.a=new As,i.b=0,i.c&&rL(i.c,function(u,c){i.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function LE(i){var u=PE(i);if(typeof u=="undefined")throw Error("Keys are undefined");var c=new So(null,void 0);i=OE(i);for(var h=0;h<u.length;h++){var d=u[h],y=i[h];Array.isArray(y)?ME(c,d,y):c.add(d,y)}return c}e=So.prototype,e.add=function(i,u){gi(this),this.c=null,i=Cs(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(u),this.b+=1,this};function xr(i,u){gi(i),u=Cs(i,u),To(i.a.b,u)&&(i.c=null,i.b-=i.a.get(u).length,i=i.a,To(i.b,u)&&(delete i.b[u],i.c--,i.a.length>2*i.c&&gm(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function bm(i,u){return gi(i),u=Cs(i,u),To(i.a.b,u)}e.forEach=function(i,u){gi(this),this.a.forEach(function(c,h){Se(c,function(d){i.call(u,d,h,this)},this)},this)},e.Y=function(){gi(this);for(var i=this.a.W(),u=this.a.Y(),c=[],h=0;h<u.length;h++)for(var d=i[h],y=0;y<d.length;y++)c.push(u[h]);return c},e.W=function(i){gi(this);var u=[];if(typeof i=="string")bm(this,i)&&(u=$d(u,this.a.get(Cs(this,i))));else{i=this.a.W();for(var c=0;c<i.length;c++)u=$d(u,i[c])}return u},e.set=function(i,u){return gi(this),this.c=null,i=Cs(this,i),bm(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[u]),this.b+=1,this},e.get=function(i,u){return i?(i=this.W(i),0<i.length?String(i[0]):u):u};function ME(i,u,c){xr(i,u),0<c.length&&(i.c=null,i.a.set(Cs(i,u),wo(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],u=this.a.Y(),c=0;c<u.length;c++){var h=u[c],d=encodeURIComponent(String(h));h=this.W(h);for(var y=0;y<h.length;y++){var w=d;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),i.push(w)}}return this.c=i.join("&")};function jE(i){var u=new So;return u.c=i.c,i.a&&(u.a=new As(i.a),u.b=i.b),u}function Cs(i,u){return u=String(u),i.f&&(u=u.toLowerCase()),u}function cL(i,u){u&&!i.f&&(gi(i),i.c=null,i.a.forEach(function(c,h){var d=h.toLowerCase();h!=d&&(xr(this,h),ME(this,d,c))},i)),i.f=u}function FE(i){var u=[];return Em(new lL,i,u),u.join("")}function lL(){}function Em(i,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,c.push("[");for(var d="",y=0;y<u;y++)c.push(d),Em(i,h[y],c),d=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),d="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(y=u[h],typeof y!="function"&&(c.push(d),UE(h,c),c.push(":"),Em(i,y,c),d=","));c.push("}");return}}switch(typeof u){case"string":UE(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var VE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},fL=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function UE(i,u){u.push('"',i.replace(fL,function(c){var h=VE[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),VE[c]=h),h}),'"')}function _m(){var i=Et();return lr&&!!vi&&vi==11||/Edge\/\d+/.test(i)}function xa(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function BE(i,u){u=u||f.window;var c="about:blank";i&&(c=of(W1(i)||Y1)),u.location.href=c}function qE(i,u){var c=[],h;for(h in i)h in u?typeof i[h]!=typeof u[h]?c.push(h):typeof i[h]=="object"&&i[h]!=null&&u[h]!=null?0<qE(i[h],u[h]).length&&c.push(h):i[h]!==u[h]&&c.push(h):c.push(h);for(h in u)h in i||c.push(h);return c}function hL(){var i=Et();return i=Os(i)!=GE?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!lr||!vi||9<vi}function zE(i){return i=(i||Et()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function No(i){i=i||f.window;try{i.close()}catch(u){}}function HE(i,u,c){var h=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var d=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<d?d:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Et().toLowerCase(),h&&(u.target=h,ke(c,"crios/")&&(u.target="_blank")),Os(Et())==Sm&&(i=i||"http://localhost",u.scrollbars=!0),c=i||"",(i=u)||(i={}),h=window,u=c instanceof hn?c:W1(typeof c.href!="undefined"?c.href:String(c))||Y1,c=i.target||c.target,d=[];for(w in i)switch(w){case"width":case"height":case"top":case"left":d.push(w+"="+i[w]);break;case"target":case"noopener":case"noreferrer":break;default:d.push(w+"="+(i[w]?1:0))}var w=d.join(",");if((ot("iPhone")&&!ot("iPod")&&!ot("iPad")||ot("iPad")||ot("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=uf(document,"A"),B1(w,"HTMLAnchorElement"),u=u instanceof hn?u:$1(u),w.href=of(u),w.setAttribute("target",c),i.noreferrer&&w.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(i),w={}):i.noreferrer?(w=X1("",h,c,w),i=of(u),w&&(jR&&ke(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),w.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Jd(i)+'">',i=(h=z1())?h.createHTML(i):i,i=new Ns(i,null,Q1),h=w.document)&&(h.write(DR(i)),h.close())):(w=X1(u,h,c,w))&&i.noopener&&(w.opener=null),w)try{w.focus()}catch(S){}return w}function pL(i){return new ce(function(u){function c(){ks(2e3).then(function(){if(!i||i.closed)u();else return c()})}return c()})}var dL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mL=/^[^@]+@[^@]+$/;function vf(){var i=null;return new ce(function(u){f.document.readyState=="complete"?u():(i=function(){u()},pm(window,"load",i))}).o(function(u){throw Nn(window,"load",i),u})}function vL(){return Im(void 0)?vf().then(function(){return new ce(function(i,u){var c=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),i()},!1)})}):De(Error("Cordova must run in an Android or iOS file scheme."))}function Im(i){return i=i||Et(),!(Ds()!=="file:"&&Ds()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tm(){var i=f.window;try{return!(!i||i==i.top)}catch(u){return!1}}function fr(){return typeof f.WorkerGlobalScope!="undefined"&&typeof f.importScripts=="function"}function kr(){return J.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":J.INTERNAL.hasOwnProperty("node")?"Node":fr()?"Worker":"Browser"}function KE(){var i=kr();return i==="ReactNative"||i==="Node"}function yL(){for(var i=50,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}var Sm="Firefox",GE="Chrome";function Os(i){var u=i.toLowerCase();if(ke(u,"opera/")||ke(u,"opr/")||ke(u,"opios/"))return"Opera";if(ke(u,"iemobile"))return"IEMobile";if(ke(u,"msie")||ke(u,"trident/"))return"IE";if(ke(u,"edge/"))return"Edge";if(ke(u,"firefox/"))return Sm;if(ke(u,"silk/"))return"Silk";if(ke(u,"blackberry"))return"Blackberry";if(ke(u,"webos"))return"Webos";if(!ke(u,"safari/")||ke(u,"chrome/")||ke(u,"crios/")||ke(u,"android"))if(!ke(u,"chrome/")&&!ke(u,"crios/")||ke(u,"edge/")){if(ke(u,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return GE;else return"Safari";return"Other"}var WE={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ps(i,u){u=u||[];var c=[],h={},d;for(d in WE)h[WE[d]]=!0;for(d=0;d<u.length;d++)typeof h[u[d]]!="undefined"&&(delete h[u[d]],c.push(u[d]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=kr(),c==="Browser"?(h=Et(),c=Os(h)):c==="Worker"&&(h=Et(),c=Os(h)+"-"+c),c+"/JsCore/"+i+"/"+u.join(",")}function Et(){return f.navigator&&f.navigator.userAgent||""}function Re(i,u){i=i.split("."),u=u||f;for(var c=0;c<i.length&&typeof u=="object"&&u!=null;c++)u=u[i[c]];return c!=i.length&&(u=void 0),u}function Nm(){try{var i=f.localStorage,u=ko();if(i)return i.setItem(u,"1"),i.removeItem(u),_m()?!!f.indexedDB:!0}catch(c){return fr()&&!!f.indexedDB}return!1}function xo(){return(yf()||Ds()==="chrome-extension:"||Im())&&!KE()&&Nm()&&!fr()}function yf(){return Ds()==="http:"||Ds()==="https:"}function Ds(){return f.location&&f.location.protocol||null}function ka(i){return i=i||Et(),!(zE(i)||Os(i)==Sm)}function Aa(i){return typeof i=="undefined"?null:FE(i)}function $E(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(u[c]=i[c]);return u}function Rs(i){if(i!==null)return JSON.parse(i)}function ko(i){return i||Math.floor(1e9*Math.random()).toString()}function YE(i){return i=i||Et(),!(Os(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function QE(){var i=f.___jsl;if(i&&i.H){for(var u in i.H)if(i.H[u].r=i.H[u].r||[],i.H[u].L=i.H[u].L||[],i.H[u].r=i.H[u].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function wi(i,u){if(i>u)throw Error("Short delay should be less than long delay!");this.a=i,this.c=u,i=Et(),u=kr(),this.b=zE(i)||u==="ReactNative"}wi.prototype.get=function(){var i=f.navigator;return(i&&typeof i.onLine=="boolean"&&(yf()||Ds()==="chrome-extension:"||typeof i.connection!="undefined")?i.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};function xm(){var i=f.document;return i&&typeof i.visibilityState!="undefined"?i.visibilityState=="visible":!0}function gL(){var i=f.document,u=null;return xm()||!i?Z():new ce(function(c){u=function(){xm()&&(i.removeEventListener("visibilitychange",u,!1),c())},i.addEventListener("visibilitychange",u,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",u,!1),c})}function Ca(i){try{var u=new Date(parseInt(i,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(i))return u.toUTCString()}catch(c){}return null}function XE(){return!(!Re("fireauth.oauthhelper",f)&&!Re("fireauth.iframe",f))}function wL(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function bL(){var i=f.navigator;return i&&i.serviceWorker?Z().then(function(){return i.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Z(null)}var JE={};function km(i){JE[i]||(JE[i]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(i))}var Am;try{var Cm={};Object.defineProperty(Cm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Cm,"abcd",{configurable:!0,enumerable:!0,value:2}),Am=Cm.abcd==2}catch(i){Am=!1}function W(i,u,c){Am?Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:c}):i[u]=c}function Xt(i,u){if(u)for(var c in u)u.hasOwnProperty(c)&&W(i,c,u[c])}function Ar(i){var u={};return Xt(u,i),u}function EL(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&(u[c]=i[c]);return u}function _L(i,u){if(!u||!u.length)return!0;if(!i)return!1;for(var c=0;c<u.length;c++){var h=i[u[c]];if(h==null||h==="")return!1}return!0}function Om(i){var u=i;if(typeof i=="object"&&i!=null){u="length"in i?[]:{};for(var c in i)W(u,c,Om(i[c]))}return u}function Pm(i){var u=i&&(i[Mm]?"phone":null);if(u&&i&&i[Lm]){W(this,"uid",i[Lm]),W(this,"displayName",i[ZE]||null);var c=null;i[Rm]&&(c=new Date(i[Rm]).toUTCString()),W(this,"enrollmentTime",c),W(this,"factorId",u)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}Pm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Dm(i){try{var u=new Oa(i)}catch(c){u=null}return u}var ZE="displayName",Rm="enrolledAt",Lm="mfaEnrollmentId",Mm="phoneInfo";function Oa(i){Pm.call(this,i),W(this,"phoneNumber",i[Mm])}M(Oa,Pm),Oa.prototype.w=function(){var i=Oa.ab.w.call(this);return i.phoneNumber=this.phoneNumber,i};function IL(i){var u={},c=i[TL],h=i[NL],d=i[xL];if(i=Dm(i[SL]),!d||d!=gf&&d!=Pa&&!c||d==Pa&&!h||d==jm&&!i)throw Error("Invalid checkActionCode response!");d==Pa?(u[t_]=c||null,u[n_]=c||null,u[e_]=h):(u[t_]=h||null,u[n_]=h||null,u[e_]=c||null),u[kL]=i||null,W(this,CL,d),W(this,AL,Om(u))}var jm="REVERT_SECOND_FACTOR_ADDITION",gf="EMAIL_SIGNIN",Pa="VERIFY_AND_CHANGE_EMAIL",TL="email",SL="mfaInfo",NL="newEmail",xL="requestType",e_="email",t_="fromEmail",kL="multiFactorInfo",n_="previousEmail",AL="data",CL="operation";function Fm(i){i=dn(i);var u=Gn(i,r_)||null,c=Gn(i,i_)||null,h=Gn(i,o_)||null;if(h=h&&RL[h]||null,!u||!c||!h)throw new A("argument-error",r_+", "+i_+"and "+o_+" are required in a valid action code URL.");Xt(this,{apiKey:u,operation:h,code:c,continueUrl:Gn(i,OL)||null,languageCode:Gn(i,PL)||null,tenantId:Gn(i,DL)||null})}var r_="apiKey",i_="oobCode",OL="continueUrl",PL="languageCode",o_="mode",DL="tenantId",RL={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:jm,signIn:gf,verifyAndChangeEmail:Pa,verifyEmail:"VERIFY_EMAIL"};function s_(i){try{return new Fm(i)}catch(u){return null}}function wf(i){var u=i[LL];if(typeof u=="undefined")throw new A("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new A("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=i[u_];if(c&&typeof c=="object"){u=c[h_];var h=c[l_];if(c=c[f_],typeof u=="string"&&u.length){if(this.a=u,typeof h!="undefined"&&typeof h!="boolean")throw new A("argument-error",l_+" property must be a boolean when specified.");if(this.g=!!h,typeof c!="undefined"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",f_+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u!="undefined")throw new A("argument-error",h_+" property must be a non empty string when specified.");if(typeof h!="undefined"||typeof c!="undefined")throw new A("missing-android-pkg-name")}}else if(typeof c!="undefined")throw new A("argument-error",u_+" property must be a non null object when specified.");if(this.f=null,(u=i[c_])&&typeof u=="object"){if(u=u[p_],typeof u=="string"&&u.length)this.f=u;else if(typeof u!="undefined")throw new A("argument-error",p_+" property must be a non empty string when specified.")}else if(typeof u!="undefined")throw new A("argument-error",c_+" property must be a non null object when specified.");if(u=i[Vm],typeof u!="undefined"&&typeof u!="boolean")throw new A("argument-error",Vm+" property must be a boolean when specified.");if(this.c=!!u,i=i[a_],typeof i!="undefined"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new A("argument-error",a_+" property must be a non empty string when specified.");this.i=i||null}var u_="android",a_="dynamicLinkDomain",Vm="handleCodeInApp",c_="iOS",LL="url",l_="installApp",f_="minimumVersion",h_="packageName",p_="bundleId";function bf(i){var u={};u.continueUrl=i.h,u.canHandleCodeInApp=i.c,(u.androidPackageName=i.a)&&(u.androidMinimumVersion=i.b,u.androidInstallApp=i.g),u.iOSBundleId=i.f,u.dynamicLinkDomain=i.i;for(var c in u)u[c]===null&&delete u[c];return u}function ML(i){return ef(i,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Da=null;function jL(i){var u=[];return FL(i,function(c){u.push(c)}),u}function FL(i,u){function c(D){for(;h<i.length;){var j=i.charAt(h++),ne=Da[j];if(ne!=null)return ne;if(!/^[\s\xa0]*$/.test(j))throw Error("Unknown base64 encoding at char: "+j)}return D}VL();for(var h=0;;){var d=c(-1),y=c(0),w=c(64),S=c(64);if(S===64&&d===-1)break;u(d<<2|y>>4),w!=64&&(u(y<<4&240|w>>2),S!=64&&u(w<<6&192|S))}}function VL(){if(!Da){Da={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=i.concat(u[c].split("")),d=0;d<h.length;d++){var y=h[d];Da[y]===void 0&&(Da[y]=d)}}}function Ef(i){var u=d_(i);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=i,this.a=u.exp,this.i=u.sub,i=Date.now()/1e3,this.g=u.iat||(i>this.a?this.a:i),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Ef.prototype.T=function(){return this.f},Ef.prototype.l=function(){return this.c},Ef.prototype.toString=function(){return this.h};function _f(i){try{return new Ef(i)}catch(u){return null}}function d_(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var u=(4-i.length%4)%4,c=0;c<u;c++)i+=".";try{var h=jL(i);for(i=[],c=u=0;u<h.length;){var d=h[u++];if(128>d)i[c++]=String.fromCharCode(d);else if(191<d&&224>d){var y=h[u++];i[c++]=String.fromCharCode((d&31)<<6|y&63)}else if(239<d&&365>d){y=h[u++];var w=h[u++],S=h[u++],D=((d&7)<<18|(y&63)<<12|(w&63)<<6|S&63)-65536;i[c++]=String.fromCharCode(55296+(D>>10)),i[c++]=String.fromCharCode(56320+(D&1023))}else y=h[u++],w=h[u++],i[c++]=String.fromCharCode((d&15)<<12|(y&63)<<6|w&63)}return JSON.parse(i.join(""))}catch(j){}return null}var m_="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),If=["client_id","response_type","scope","redirect_uri","state"],Um={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:If},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:If},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:If},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:m_},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Bm(i){for(var u in Um)if(Um[u].fa==i)return Um[u];return null}function v_(i){var u={};u["facebook.com"]=g_,u["google.com"]=b_,u["github.com"]=w_,u["twitter.com"]=E_;var c=i&&i[y_];try{if(c)return u[c]?new u[c](i):new Cr(i);if(typeof i[qm]!="undefined")return new zm(i)}catch(h){}return null}var qm="idToken",y_="providerId";function zm(i){var u=i[y_];if(!u&&i[qm]){var c=_f(i[qm]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof i.isNewUser!="undefined"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),W(this,"providerId",u),W(this,"isNewUser",c)}function Cr(i){zm.call(this,i),i=Rs(i.rawUserInfo||"{}"),W(this,"profile",Om(i||{}))}M(Cr,zm);function g_(i){if(Cr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(g_,Cr);function w_(i){if(Cr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");W(this,"username",this.profile&&this.profile.login||null)}M(w_,Cr);function b_(i){if(Cr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(b_,Cr);function E_(i){if(Cr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");W(this,"username",i.screenName||null)}M(E_,Cr);function __(i){var u=dn(i),c=Gn(u,"link"),h=Gn(dn(c),"link");return u=Gn(u,"deep_link_id"),Gn(dn(u),"link")||u||h||c||i}function Tf(i,u){if(!i&&!u)throw new A("internal-error","Internal assert: no raw session string available");if(i&&u)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=u||null,this.type=this.a?Ra:Sf}var Ra="enroll",Sf="signin";Tf.prototype.Ha=function(){return this.a?Z(this.a):Z(this.b)},Tf.prototype.w=function(){return this.type==Ra?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ls(){}Ls.prototype.ka=function(){},Ls.prototype.b=function(){},Ls.prototype.c=function(){},Ls.prototype.w=function(){};function Ms(i,u){return i.then(function(c){if(c[dr]){var h=_f(c[dr]);if(!h||u!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==Tn+"user-not-found"?new A("user-mismatch"):c})}function Ao(i,u){if(u)this.a=u;else throw new A("internal-error","failed to construct a credential");W(this,"providerId",i),W(this,"signInMethod",i)}Ao.prototype.ka=function(i){return pv(i,Hm(this))},Ao.prototype.b=function(i,u){var c=Hm(this);return c.idToken=u,dv(i,c)},Ao.prototype.c=function(i,u){return Ms(mv(i,Hm(this)),u)};function Hm(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function UL(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Ao(i.providerId,i.pendingToken)}catch(u){}return null}function Xr(i,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&W(this,"idToken",u.idToken),u.accessToken&&W(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&W(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)W(this,"accessToken",u.oauthToken),W(this,"secret",u.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");W(this,"providerId",i),W(this,"signInMethod",c)}Xr.prototype.ka=function(i){return pv(i,Km(this))},Xr.prototype.b=function(i,u){var c=Km(this);return c.idToken=u,dv(i,c)},Xr.prototype.c=function(i,u){var c=Km(this);return Ms(mv(i,c),u)};function Km(i){var u={};return i.idToken&&(u.id_token=i.idToken),i.accessToken&&(u.access_token=i.accessToken),i.secret&&(u.oauth_token_secret=i.secret),u.providerId=i.providerId,i.nonce&&!i.a&&(u.nonce=i.nonce),u={postBody:LE(u).toString(),requestUri:"http://localhost"},i.a&&(delete u.postBody,u.pendingToken=i.a),u}Xr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function BL(i){if(i&&i.providerId&&i.signInMethod){var u={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Xr(i.providerId,u,i.signInMethod)}catch(c){}}return null}function Co(i,u){this.Qc=u||[],Xt(this,{providerId:i,isOAuthProvider:!0}),this.Ib={},this.pb=(Bm(i)||{}).Ja||null,this.ob=null}Co.prototype.Ka=function(i){return this.Ib=mi(i),this};function I_(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Co.call(this,i,[])}M(I_,Co);function xn(i){Co.call(this,i,If),this.a=[]}M(xn,Co),xn.prototype.Ca=function(i){return Yr(this.a,i)||this.a.push(i),this},xn.prototype.Qb=function(){return wo(this.a)},xn.prototype.credential=function(i,u){var c;if(E(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xr(this.providerId,c,this.providerId)};function Oo(){xn.call(this,"facebook.com")}M(Oo,xn),W(Oo,"PROVIDER_ID","facebook.com"),W(Oo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function T_(i){if(!i)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return E(i)&&(u=i.accessToken),new Oo().credential({accessToken:u})}function Po(){xn.call(this,"github.com")}M(Po,xn),W(Po,"PROVIDER_ID","github.com"),W(Po,"GITHUB_SIGN_IN_METHOD","github.com");function S_(i){if(!i)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return E(i)&&(u=i.accessToken),new Po().credential({accessToken:u})}function Do(){xn.call(this,"google.com"),this.Ca("profile")}M(Do,xn),W(Do,"PROVIDER_ID","google.com"),W(Do,"GOOGLE_SIGN_IN_METHOD","google.com");function N_(i,u){var c=i;return E(i)&&(c=i.idToken,u=i.accessToken),new Do().credential({idToken:c,accessToken:u})}function js(){Co.call(this,"twitter.com",m_)}M(js,Co),W(js,"PROVIDER_ID","twitter.com"),W(js,"TWITTER_SIGN_IN_METHOD","twitter.com");function x_(i,u){var c=i;if(E(c)||(c={oauthToken:i,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xr("twitter.com",c,"twitter.com")}function bi(i,u,c){this.a=i,this.f=u,W(this,"providerId","password"),W(this,"signInMethod",c===Wn.EMAIL_LINK_SIGN_IN_METHOD?Wn.EMAIL_LINK_SIGN_IN_METHOD:Wn.EMAIL_PASSWORD_SIGN_IN_METHOD)}bi.prototype.ka=function(i){return this.signInMethod==Wn.EMAIL_LINK_SIGN_IN_METHOD?le(i,N2,{email:this.a,oobCode:this.f}):le(i,tI,{email:this.a,password:this.f})},bi.prototype.b=function(i,u){return this.signInMethod==Wn.EMAIL_LINK_SIGN_IN_METHOD?le(i,x2,{idToken:u,email:this.a,oobCode:this.f}):le(i,eI,{idToken:u,email:this.a,password:this.f})},bi.prototype.c=function(i,u){return Ms(this.ka(i),u)},bi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function qL(i){return i&&i.email&&i.password?new bi(i.email,i.password,i.signInMethod):null}function Wn(){Xt(this,{providerId:"password",isOAuthProvider:!1})}function k_(i,u){if(u=Gm(u),!u)throw new A("argument-error","Invalid email link!");return new bi(i,u.code,Wn.EMAIL_LINK_SIGN_IN_METHOD)}function Gm(i){return i=__(i),(i=s_(i))&&i.operation===gf?i:null}Xt(Wn,{PROVIDER_ID:"password"}),Xt(Wn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xt(Wn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ei(i){if(!(i.eb&&i.cb||i.La&&i.ea))throw new A("internal-error");this.a=i,W(this,"providerId","phone"),this.fa="phone",W(this,"signInMethod","phone")}Ei.prototype.ka=function(i){return i.fb(La(this))},Ei.prototype.b=function(i,u){var c=La(this);return c.idToken=u,le(i,W2,c)},Ei.prototype.c=function(i,u){var c=La(this);return c.operation="REAUTH",i=le(i,$2,c),Ms(i,u)},Ei.prototype.w=function(){var i={providerId:"phone"};return this.a.eb&&(i.verificationId=this.a.eb),this.a.cb&&(i.verificationCode=this.a.cb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function zL(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var u={};return Se(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(u[c]=i[c])}),new Ei(u)}return null}function La(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.eb,code:i.a.cb}}function Jr(i){try{this.a=i||J.auth()}catch(u){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xt(this,{providerId:"phone",isOAuthProvider:!1})}Jr.prototype.fb=function(i,u){var c=this.a.a;return Z(u.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var d=E(i)?i.session:null,y=E(i)?i.phoneNumber:i,w;return d&&d.type==Ra?w=d.Ha().then(function(S){return y2(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):d&&d.type==Sf?w=d.Ha().then(function(S){return g2(c,{mfaPendingCredential:S,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=v2(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function A_(i,u){if(!i)throw new A("missing-verification-id");if(!u)throw new A("missing-verification-code");return new Ei({eb:i,cb:u})}Xt(Jr,{PROVIDER_ID:"phone"}),Xt(Jr,{PHONE_SIGN_IN_METHOD:"phone"});function Wm(i){if(i.temporaryProof&&i.phoneNumber)return new Ei({La:i.temporaryProof,ea:i.phoneNumber});var u=i&&i.providerId;if(!u||u==="password")return null;var c=i&&i.oauthAccessToken,h=i&&i.oauthTokenSecret,d=i&&i.nonce,y=i&&i.oauthIdToken,w=i&&i.pendingToken;try{switch(u){case"google.com":return N_(y,c);case"facebook.com":return T_(c);case"github.com":return S_(c);case"twitter.com":return x_(c,h);default:return c||h||y||w?w?u.indexOf("saml.")==0?new Ao(u,w):new Xr(u,{pendingToken:w,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},u):new xn(u).credential({idToken:y,accessToken:c,rawNonce:d}):null}}catch(S){return null}}function $m(i){if(!i.isOAuthProvider)throw new A("invalid-oauth-provider")}function hr(i,u,c,h,d,y,w){if(this.c=i,this.b=u||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=d||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}hr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},hr.prototype.T=function(){return this.h},hr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function C_(i){return i=i||{},i.type?new hr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Gt(i.error),i.postBody,i.tenantId):null}function HL(){this.b=null,this.a=[]}var Ym=null;function KL(i){var u=Ym;u.a.push(i),u.b||(u.b=function(c){for(var h=0;h<u.a.length;h++)u.a[h](c)},i=Re("universalLinks.subscribe",f),typeof i=="function"&&i(null,u.b))}function Qm(i){var u="unauthorized-domain",c=void 0,h=dn(i);i=h.a,h=h.c,h=="chrome-extension"?c=J1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):h=="http"||h=="https"?c=J1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):u="operation-not-supported-in-this-environment",A.call(this,u,c)}M(Qm,A);function Ma(i,u,c){A.call(this,i,c),i=u||{},i.Jb&&W(this,"email",i.Jb),i.ea&&W(this,"phoneNumber",i.ea),i.credential&&W(this,"credential",i.credential),i.Zb&&W(this,"tenantId",i.Zb)}M(Ma,A),Ma.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&fn(i,u),i},Ma.prototype.toJSON=function(){return this.w()};function Nf(i){if(i.code){var u=i.code||"";u.indexOf(Tn)==0&&(u=u.substring(Tn.length));var c={credential:Wm(i),Zb:i.tenantId};if(i.email)c.Jb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new A(u,i.message||void 0);return new Ma(u,c,i.message)}return null}function ja(){}ja.prototype.c=null;function O_(i){return i.c||(i.c=i.b())}var Xm;function xf(){}M(xf,ja),xf.prototype.a=function(){var i=P_(this);return i?new ActiveXObject(i):new XMLHttpRequest},xf.prototype.b=function(){var i={};return P_(this)&&(i[0]=!0,i[1]=!0),i};function P_(i){if(!i.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var h=u[c];try{return new ActiveXObject(h),i.f=h}catch(d){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Xm=new xf;function kf(){}M(kf,ja),kf.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest!="undefined")return new D_;throw Error("Unsupported browser")},kf.prototype.b=function(){return{}};function D_(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.qc,this),this.a.onerror=C(this.Sb,this),this.a.onprogress=C(this.rc,this),this.a.ontimeout=C(this.vc,this)}e=D_.prototype,e.open=function(i,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,u)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jm(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Jm(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Jm(this,1)};function Jm(i,u){i.readyState=u,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Zm(i,u,c){this.reset(i,u,c,void 0,void 0)}Zm.prototype.a=null;var GL=0;Zm.prototype.reset=function(i,u,c,h,d){typeof d=="number"||GL++,h||z(),delete this.a};function ev(i){this.f=i,this.b=this.c=this.a=null}function Fa(i,u){this.name=i,this.value=u}Fa.prototype.toString=function(){return this.name};var R_=new Fa("SEVERE",1e3),tv=new Fa("WARNING",900),WL=new Fa("CONFIG",700),$L=new Fa("FINE",500);function L_(i){return i.c?i.c:i.a?L_(i.a):(Q("Root logger has no level set."),null)}ev.prototype.log=function(i,u,c){if(i.value>=L_(this).value)for(N(u)&&(u=u()),i=new Zm(i,String(u),this.f),c&&(i.a=c),c=this;c;)c=c.a};var nv={},Af=null;function rv(i){Af||(Af=new ev(""),nv[""]=Af,Af.c=WL);var u;if(!(u=nv[i])){u=new ev(i);var c=i.lastIndexOf("."),h=i.substr(c+1);c=rv(i.substr(0,c)),c.b||(c.b={}),c.b[h]=u,u.a=c,nv[i]=u}return u}function $n(i,u){i&&i.log($L,u,void 0)}function Cf(i){this.f=i}M(Cf,ja),Cf.prototype.a=function(){return new Of(this.f)},Cf.prototype.b=function(i){return function(){return i}}({});function Of(i){Qt.call(this),this.u=i,this.h=void 0,this.readyState=iv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=rv("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Of,Qt);var iv=0;e=Of.prototype,e.open=function(i,u){if(this.readyState!=iv)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=u,this.readyState=1,Ua(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(u.body=i),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Va(this)),this.readyState=iv},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,Ua(this)),this.a&&(this.readyState=3,Ua(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof f.ReadableStream!="undefined"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,M_(this)):i.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function M_(i){i.c.read().then(i.pc.bind(i)).catch(i.Ua.bind(i))}e.pc=function(i){if(this.a){var u=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});u&&(this.response=this.responseText+=u),i.done?Va(this):Ua(this),this.readyState==3&&M_(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Va(this))},e.sc=function(i){this.a&&(this.response=i,Va(this))},e.Ua=function(i){var u=this.i;u&&u.log(tv,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Va(this)};function Va(i){i.readyState=4,i.g=null,i.c=null,i.m=null,Ua(i)}e.setRequestHeader=function(i,u){this.l.append(i,u)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(tv,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(tv,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=u.next();return i.join(`\r
`)};function Ua(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Of.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Ba(i){Qt.call(this),this.headers=new As,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=j_,this.u=this.S=!1}M(Ba,Qt);var j_="";Ba.prototype.b=rv("goog.net.XhrIo");var YL=/^https?$/i,QL=["POST","PUT"];function XL(i,u,c,h,d){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+u);c=c?c.toUpperCase():"GET",i.l=u,i.h="",i.R=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Xm.a(),i.C=i.D?O_(i.D):O_(Xm),i.a.onreadystatechange=C(i.Vb,i);try{$n(i.b,Zr(i,"Opening Xhr")),i.O=!0,i.a.open(c,String(u),!0),i.O=!1}catch(w){$n(i.b,Zr(i,"Error opening Xhr: "+w.message)),F_(i,w);return}u=h||"";var y=new As(i.headers);d&&nL(d,function(w,S){y.set(S,w)}),d=bR(y.Y()),h=f.FormData&&u instanceof f.FormData,!Yr(QL,c)||d||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,S){this.a.setRequestHeader(S,w)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{B_(i),0<i.g&&(i.u=JL(i.a),$n(i.b,Zr(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=C(i.Ma,i)):i.s=ym(i.Ma,i.g,i)),$n(i.b,Zr(i,"Sending request")),i.i=!0,i.a.send(u),i.i=!1}catch(w){$n(i.b,Zr(i,"Send error: "+w.message)),F_(i,w)}}function JL(i){return lr&&nE(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function ZL(i){return i.toLowerCase()=="content-type"}e=Ba.prototype,e.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",$n(this.b,Zr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function F_(i,u){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=u,V_(i),Pf(i)}function V_(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&($n(this.b,Zr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pf(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pf(this,!0)),Ba.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?U_(this):this.Jc())},e.Jc=function(){U_(this)};function U_(i){if(i.c&&typeof l!="undefined"){if(i.C[1]&&qa(i)==4&&Df(i)==2)$n(i.b,Zr(i,"Local request error detected and ignored"));else if(i.i&&qa(i)==4)ym(i.Vb,0,i);else if(i.dispatchEvent("readystatechange"),qa(i)==4){$n(i.b,Zr(i,"Request complete")),i.c=!1;try{var u=Df(i);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var d;if(d=u===0){var y=String(i.l).match(DE)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}d=!YL.test(y?y.toLowerCase():"")}h=d}if(h)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var S=2<qa(i)?i.a.statusText:""}catch(D){$n(i.b,"Can not get status: "+D.message),S=""}i.h=S+" ["+Df(i)+"]",V_(i)}}finally{Pf(i)}}}}function Pf(i,u){if(i.a){B_(i);var c=i.a,h=i.C[0]?v:null;i.a=null,i.C=null,u||i.dispatchEvent("ready");try{c.onreadystatechange=h}catch(d){(i=i.b)&&i.log(R_,"Problem encountered resetting onreadystatechange: "+d.message,void 0)}}}function B_(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function qa(i){return i.a?i.a.readyState:0}function Df(i){try{return 2<qa(i)?i.a.status:-1}catch(u){return-1}}function e2(i){try{return i.a?i.a.responseText:""}catch(u){return $n(i.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case j_:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(R_,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return $n(this.b,"Can not get response: "+u.message),null}};function Zr(i,u){return u+" ["+i.R+" "+i.l+" "+Df(i)+"]"}function Ro(i){var u=r2;this.g=[],this.u=u,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ro.prototype.cancel=function(i){if(this.a)this.c instanceof Ro&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,i?u.cancel(i):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new Ha(this),Rf(this),za(this,!1,i))}},Ro.prototype.m=function(i,u){this.i=!1,za(this,i,u)};function za(i,u,c){i.a=!0,i.c=c,i.f=!u,z_(i)}function Rf(i){if(i.a){if(!i.v)throw new Lf(i);i.v=!1}}function t2(i,u){ov(i,null,u,void 0)}function ov(i,u,c,h){i.g.push([u,c,h]),i.a&&z_(i)}Ro.prototype.then=function(i,u,c){var h,d,y=new ce(function(w,S){h=w,d=S});return ov(this,h,function(w){w instanceof Ha?y.cancel():d(w)}),y.then(i,u,c)},Ro.prototype.$goog_Thenable=!0;function q_(i){return wR(i.g,function(u){return N(u[1])})}function z_(i){if(i.h&&i.a&&q_(i)){var u=i.h,c=Mf[u];c&&(f.clearTimeout(c.a),delete Mf[u]),i.h=0}i.b&&(i.b.l--,delete i.b),u=i.c;for(var h=c=!1;i.g.length&&!i.i;){var d=i.g.shift(),y=d[0],w=d[1];if(d=d[2],y=i.f?w:y)try{var S=y.call(d||i.s,u);S!==void 0&&(i.f=i.f&&(S==u||S instanceof Error),i.c=u=S),(Wt(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,i.i=!0)}catch(D){u=D,i.f=!0,q_(i)||(c=!0)}}i.c=u,h&&(S=C(i.m,i,!0),h=C(i.m,i,!1),u instanceof Ro?(ov(u,S,h),u.C=!0):u.then(S,h)),c&&(u=new H_(u),Mf[u.a]=u,i.h=u.a)}function Lf(){ie.call(this)}M(Lf,ie),Lf.prototype.message="Deferred has already fired",Lf.prototype.name="AlreadyCalledError";function Ha(){ie.call(this)}M(Ha,ie),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError";function H_(i){this.a=f.setTimeout(C(this.c,this),0),this.b=i}H_.prototype.c=function(){throw delete Mf[this.a],this.b};var Mf={};function sv(i){var u={},c=u.document||document,h=H1(i).toString(),d=uf(document,"SCRIPT"),y={Wb:d,Ma:void 0},w=new Ro(y),S=null,D=u.timeout!=null?u.timeout:5e3;return 0<D&&(S=window.setTimeout(function(){jf(d,!0);var j=new uv(o2,"Timeout reached for loading script "+h);Rf(w),za(w,!1,j)},D),y.Ma=S),d.onload=d.onreadystatechange=function(){d.readyState&&d.readyState!="loaded"&&d.readyState!="complete"||(jf(d,u.xd||!1,S),Rf(w),za(w,!0,null))},d.onerror=function(){jf(d,!0,S);var j=new uv(i2,"Error while loading script "+h);Rf(w),za(w,!1,j)},y=u.attributes||{},fn(y,{type:"text/javascript",charset:"UTF-8"}),iE(d,y),RR(d,i),n2(c).appendChild(d),w}function n2(i){var u;return(u=(i||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:i.documentElement}function r2(){if(this&&this.Wb){var i=this.Wb;i&&i.tagName=="SCRIPT"&&jf(i,!0,this.Ma)}}function jf(i,u,c){c!=null&&f.clearTimeout(c),i.onload=v,i.onerror=v,i.onreadystatechange=v,u&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var i2=0,o2=1;function uv(i,u){var c="Jsloader error (code #"+i+")";u&&(c+=": "+u),ie.call(this,c),this.code=i}M(uv,ie);function Ff(i){this.f=i}M(Ff,ja),Ff.prototype.a=function(){return new this.f},Ff.prototype.b=function(){return{}};function pr(i,u,c){if(this.c=i,i=u||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||s2,this.g=mi(i.secureTokenHeaders||u2),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||a2,this.a=mi(i.firebaseHeaders||c2),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=kr()=="Node",c=f.XMLHttpRequest||c&&J.INTERNAL.node&&J.INTERNAL.node.XMLHttpRequest,!c&&!fr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,fr()?this.f=new Cf(self):KE()?this.f=new Ff(c):this.f=new kf,this.b=null}var av,dr="idToken",s2=new wi(3e4,6e4),u2={"Content-Type":"application/x-www-form-urlencoded"},a2=new wi(3e4,6e4),c2={"Content-Type":"application/json"};function K_(i,u){u?i.a["X-Firebase-Locale"]=u:delete i.a["X-Firebase-Locale"]}function Fs(i,u){u&&(i.l=cv("https://securetoken.googleapis.com/v1/token",u),i.h=cv("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),i.i=cv("https://identitytoolkit.googleapis.com/v2/",u))}function cv(i,u){return i=dn(i),u=dn(u.url),i.f=i.a+i.f,Ia(i,u.c),i.a=u.a,Ta(i,u.g),i.toString()}function G_(i,u){u?(i.a["X-Client-Version"]=u,i.g["X-Client-Version"]=u):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}pr.prototype.T=function(){return this.b};function W_(i,u,c,h,d,y,w){hL()||fr()?i=C(i.u,i):(av||(av=new ce(function(S,D){f2(S,D)})),i=C(i.s,i)),i(u,c,h,d,y,w)}pr.prototype.u=function(i,u,c,h,d,y){if(fr()&&(typeof f.fetch=="undefined"||typeof f.Headers=="undefined"||typeof f.Request=="undefined"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Ba(this.f);if(y){w.g=Math.max(0,y);var S=setTimeout(function(){w.dispatchEvent("timeout")},y)}CE(w,"complete",function(){S&&clearTimeout(S);var D=null;try{D=JSON.parse(e2(this))||null}catch(j){D=null}u&&u(D)}),vm(w,"ready",function(){S&&clearTimeout(S),_E(this)}),vm(w,"timeout",function(){S&&clearTimeout(S),_E(this),u&&u(null)}),XL(w,i,c,h,d)};var l2=new Nr(nf,"https://apis.google.com/js/client.js?onload=%{onload}"),$_="__fcb"+Math.floor(1e6*Math.random()).toString();function f2(i,u){if(((window.gapi||{}).client||{}).request)i();else{f[$_]=function(){((window.gapi||{}).client||{}).request?i():u(Error("CORS_UNSUPPORTED"))};var c=Xd(l2,{onload:$_});t2(sv(c),function(){u(Error("CORS_UNSUPPORTED"))})}}pr.prototype.s=function(i,u,c,h,d){var y=this;av.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:h,headers:d,authType:"none",callback:function(S){window.gapi.auth.setToken(w),u&&u(S)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function h2(i,u){return new ce(function(c,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?W_(i,i.l+"?key="+encodeURIComponent(i.c),function(d){d?d.error?h(yv(d)):d.access_token&&d.refresh_token?c(d):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",LE(u).toString(),i.g,i.m.get()):h(new A("internal-error"))})}function Y_(i,u,c,h,d,y,w){var S=dn(u+c);He(S,"key",i.c),w&&He(S,"cb",Date.now().toString());var D=h=="GET";if(D)for(var j in d)d.hasOwnProperty(j)&&He(S,j,d[j]);return new ce(function(ne,_e){W_(i,S.toString(),function(ye){ye?ye.error?_e(yv(ye,y||{})):ne(ye):_e(new A("network-request-failed"))},h,D?void 0:FE($E(d)),i.a,i.v.get())})}function Lo(i){if(i=i.email,typeof i!="string"||!mL.test(i))throw new A("invalid-email")}function Q_(i){"email"in i&&Lo(i)}function p2(i,u){return le(i,I2,{identifier:u,continueUri:yf()?xa():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function d2(i){return le(i,L2,{}).then(function(u){return u.authorizedDomains||[]})}function mn(i){if(!i[dr])throw i.mfaPendingCredential?new A("multi-factor-auth-required",null,mi(i)):new A("internal-error")}function lv(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new A("internal-error")}else{if(!i.sessionInfo)throw new A("missing-verification-id");if(!i.code)throw new A("missing-verification-code")}}pr.prototype.zb=function(){return le(this,V2,{})},pr.prototype.Bb=function(i,u){return le(this,Z_,{idToken:i,email:u})},pr.prototype.Cb=function(i,u){return le(this,eI,{idToken:i,password:u})};var m2={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=pr.prototype,e.Db=function(i,u){var c={idToken:i},h=[];return V1(m2,function(d,y){var w=u[y];w===null?h.push(d):y in u&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),le(this,Z_,c)},e.vb=function(i,u){return i={requestType:"PASSWORD_RESET",email:i},fn(i,u),le(this,R2,i)},e.wb=function(i,u){return i={requestType:"EMAIL_SIGNIN",email:i},fn(i,u),le(this,O2,i)},e.ub=function(i,u){return i={requestType:"VERIFY_EMAIL",idToken:i},fn(i,u),le(this,P2,i)},e.Eb=function(i,u,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:u},fn(i,c),le(this,D2,i)};function v2(i,u){return le(i,F2,u)}e.fb=function(i){return le(this,G2,i)};function y2(i,u){return le(i,U2,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function X_(i){if(!i.phoneVerificationInfo)throw new A("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new A("missing-verification-code")}function g2(i,u){return le(i,B2,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function w2(i,u,c){return le(i,S2,{idToken:u,deleteProvider:c})}function fv(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new A("internal-error")}function hv(i,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(i.sessionId?u.nonce=i.sessionId:i.postBody&&(i=new So(i.postBody),bm(i,"nonce")&&(u.nonce=i.get("nonce")))),u}function J_(i){var u=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",u=Nf(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",u=Nf(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",u=Nf(i)):i.errorMessage&&(u=nI(i.errorMessage)),u)throw u;mn(i)}function pv(i,u){return u.returnIdpCredential=!0,le(i,q2,u)}function dv(i,u){return u.returnIdpCredential=!0,le(i,H2,u)}function mv(i,u){return u.returnIdpCredential=!0,u.autoCreate=!1,le(i,z2,u)}function vv(i){if(!i.oobCode)throw new A("invalid-action-code")}e.nb=function(i,u){return le(this,j2,{oobCode:i,newPassword:u})},e.Ra=function(i){return le(this,E2,{oobCode:i})},e.jb=function(i){return le(this,b2,{oobCode:i})};var b2={endpoint:"setAccountInfo",A:vv,Z:"email",B:!0},E2={endpoint:"resetPassword",A:vv,G:function(i){var u=i.requestType;if(!u||!i.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},_2={endpoint:"signupNewUser",A:function(i){if(Lo(i),!i.password)throw new A("weak-password")},G:mn,V:!0,B:!0},I2={endpoint:"createAuthUri",B:!0},T2={endpoint:"deleteAccount",N:["idToken"]},S2={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new A("internal-error")}},N2={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Lo,G:mn,V:!0,B:!0},x2={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Lo,G:mn,V:!0},k2={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:X_,G:mn,B:!0,Na:!0},A2={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:X_,G:mn,B:!0,Na:!0},C2={endpoint:"getAccountInfo"},O2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new A("internal-error");Lo(i)},Z:"email",B:!0},P2={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},D2={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},R2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new A("internal-error");Lo(i)},Z:"email",B:!0},L2={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},M2={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new A("internal-error")}},j2={endpoint:"resetPassword",A:vv,Z:"email",B:!0},F2={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Z_={endpoint:"setAccountInfo",N:["idToken"],A:Q_,V:!0},eI={endpoint:"setAccountInfo",N:["idToken"],A:function(i){if(Q_(i),!i.password)throw new A("weak-password")},G:mn,V:!0},V2={endpoint:"signupNewUser",G:mn,V:!0,B:!0},U2={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new A("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},B2={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},q2={endpoint:"verifyAssertion",A:fv,Ya:hv,G:J_,V:!0,B:!0},z2={endpoint:"verifyAssertion",A:fv,Ya:hv,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(i.errorMessage)throw nI(i.errorMessage);mn(i)},V:!0,B:!0},H2={endpoint:"verifyAssertion",A:function(i){if(fv(i),!i.idToken)throw new A("internal-error")},Ya:hv,G:J_,V:!0},K2={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new A("invalid-custom-token")},G:mn,V:!0,B:!0},tI={endpoint:"verifyPassword",A:function(i){if(Lo(i),!i.password)throw new A("wrong-password")},G:mn,V:!0,B:!0},G2={endpoint:"verifyPhoneNumber",A:lv,G:mn,B:!0},W2={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new A("internal-error");lv(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Nf(i);mn(i)}},$2={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:lv,G:mn,B:!0},Y2={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[dr]^!!i.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function le(i,u,c){if(!_L(c,u.N))return De(new A("internal-error"));var h=!!u.Na,d=u.Ub||"POST",y;return Z(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&i.b&&typeof c.tenantId=="undefined"&&(c.tenantId=i.b),h?Y_(i,i.i,u.endpoint,d,c,u.Hb,u.lb||!1):Y_(i,i.h,u.endpoint,d,c,u.Hb,u.lb||!1)}).then(function(w){return y=w,u.Ya?u.Ya(c,y):y}).then(u.G).then(function(){if(!u.Z)return y;if(!(u.Z in y))throw new A("internal-error");return y[u.Z]})}function nI(i){return yv({error:{errors:[{message:i}],code:400,message:i}})}function yv(i,u){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=i.error&&i.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},fn(h,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var d in h)if(c.indexOf(d)===0)return new A(h[d],u);return!u&&i&&(u=Aa(i)),new A("internal-error",u)}function Q2(i){this.b=i,this.a=null,this.rb=X2(this)}function X2(i){return rM().then(function(){return new ce(function(u,c){Re("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Re("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function d(){clearTimeout(y),u()}i.a=h,i.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},nM.get());h.ping(d).then(d,function(){c(Error("Network Error"))})})})})}function J2(i,u){return i.rb.then(function(){return new ce(function(c){i.a.send(u.type,u,c,Re("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Z2(i,u){i.rb.then(function(){i.a.register("authEvent",u,Re("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var eM=new Nr(nf,"https://apis.google.com/js/api.js?onload=%{onload}"),tM=new wi(3e4,6e4),nM=new wi(5e3,15e3),Vf=null;function rM(){return Vf||(Vf=new ce(function(i,u){function c(){QE(),Re("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){QE(),u(Error("Network Error"))},timeout:tM.get()})}if(Re("gapi.iframes.Iframe"))i();else if(Re("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){Re("gapi.load")?c():u(Error("Network Error"))},h=Xd(eM,{onload:h}),Z(sv(h)).o(function(){u(Error("Network Error"))})}}).o(function(i){throw Vf=null,i}))}function rI(i,u,c,h){this.l=i,this.h=u,this.i=c,this.g=h,this.f=null,this.g?(i=dn(this.g.url),i=mf(i.c,i.a,i.g,"/emulator/auth/iframe")):i=mf("https",this.l,null,"/__/auth/iframe"),this.a=i,He(this.a,"apiKey",this.h),He(this.a,"appName",this.i),this.b=null,this.c=[]}rI.prototype.toString=function(){return this.f?He(this.a,"v",this.f):xr(this.a.b,"v"),this.b?He(this.a,"eid",this.b):xr(this.a.b,"eid"),this.c.length?He(this.a,"fw",this.c.join(",")):xr(this.a.b,"fw"),this.a.toString()};function gv(i,u,c,h,d,y){this.u=i,this.s=u,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=d,this.h=this.f=null}gv.prototype.yb=function(i){return this.h=i,this},gv.prototype.toString=function(){if(this.v){var i=dn(this.v.url);i=mf(i.c,i.a,i.g,"/emulator/auth/handler")}else i=mf("https",this.u,null,"/__/auth/handler");if(He(i,"apiKey",this.s),He(i,"appName",this.c),He(i,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=J.app(this.c).auth().la()}catch(S){c=null}u.ob=c,He(i,"providerId",this.a.providerId),c=this.a,u=$E(c.Ib);for(var h in u)u[h]=u[h].toString();h=c.Qc,u=mi(u);for(var d=0;d<h.length;d++){var y=h[d];y in u&&delete u[y]}c.pb&&c.ob&&!u[c.pb]&&(u[c.pb]=c.ob),bo(u)||He(i,"customParameters",Aa(u))}if(typeof this.a.Qb=="function"&&(c=this.a.Qb(),c.length&&He(i,"scopes",c.join(","))),this.l?He(i,"redirectUrl",this.l):xr(i.b,"redirectUrl"),this.g?He(i,"eventId",this.g):xr(i.b,"eventId"),this.i?He(i,"v",this.i):xr(i.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Gn(i,w)&&He(i,w,this.b[w]);return this.h?He(i,"tid",this.h):xr(i.b,"tid"),this.f?He(i,"eid",this.f):xr(i.b,"eid"),w=wv(this.c),w.length&&He(i,"fw",w.join(",")),i.toString()};function wv(i){try{return J.app(i).auth().Ga()}catch(u){return[]}}function iI(i,u,c,h,d,y){this.s=i,this.g=u,this.b=c,this.f=y,this.c=h||null,this.i=d||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function oI(i){var u=xa();return d2(i).then(function(c){e:{var h=dn(u),d=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],S=h,D=d;if(w.indexOf("chrome-extension://")==0?S=dn(w).a==S&&D=="chrome-extension":D!="http"&&D!="https"?S=!1:dL.test(w)?S=S==w:(w=w.split(".").join("\\."),S=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new Qm(xa())})}function sI(i){return i.m||(i.m=vf().then(function(){if(!i.u){var u=i.c,c=i.i,h=wv(i.b),d=new rI(i.s,i.g,i.b,i.f);d.f=u,d.b=c,d.c=wo(h||[]),i.u=d.toString()}i.v=new Q2(i.u),iM(i)})),i.m}e=iI.prototype,e.Ob=function(i,u,c){var h=new A("popup-closed-by-user"),d=new A("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){oM(y).then(function(S){S||(i&&No(i),u(d),w=!0)})}).o(function(){}).then(function(){if(!w)return pL(i)}).then(function(){if(!w)return ks(c).then(function(){u(h)})})},e.Xb=function(){var i=Et();return!ka(i)&&!YE(i)},e.Tb=function(){return!1},e.Mb=function(i,u,c,h,d,y,w,S){if(!i)return De(new A("popup-blocked"));if(w&&!ka())return this.ma().o(function(j){No(i),d(j)}),h(),Z();this.a||(this.a=oI(uI(this)));var D=this;return this.a.then(function(){var j=D.ma().o(function(ne){throw No(i),d(ne),ne});return h(),j}).then(function(){if($m(c),!w){var j=Ka(D.s,D.g,D.b,u,c,null,y,D.c,void 0,D.i,S,D.f);BE(j,i)}}).o(function(j){throw j.code=="auth/network-request-failed"&&(D.a=null),j})};function uI(i){return i.l||(i.C=i.c?Ps(i.c,wv(i.b)):null,i.l=new pr(i.g,zn(i.i),i.C),i.f&&Fs(i.l,i.f)),i.l}e.Nb=function(i,u,c,h){this.a||(this.a=oI(uI(this)));var d=this;return this.a.then(function(){$m(u);var y=Ka(d.s,d.g,d.b,i,u,xa(),c,d.c,void 0,d.i,h,d.f);BE(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(d.a=null),y})},e.ma=function(){var i=this;return sI(this).then(function(){return i.v.rb}).o(function(){throw i.a=null,new A("network-request-failed")})},e.$b=function(){return!0};function Ka(i,u,c,h,d,y,w,S,D,j,ne,_e){return i=new gv(i,u,c,h,d,_e),i.l=y,i.g=w,i.i=S,i.b=mi(D||null),i.f=j,i.yb(ne).toString()}function iM(i){if(!i.v)throw Error("IfcHandler must be initialized!");Z2(i.v,function(u){var c={};if(u&&u.authEvent){var h=!1;for(u=C_(u.authEvent),c=0;c<i.h.length;c++)h=i.h[c](u)||h;return c={},c.status=h?"ACK":"ERROR",Z(c)}return c.status="ERROR",Z(c)})}function oM(i){var u={type:"webStorageSupport"};return sI(i).then(function(){return J2(i.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport!="undefined")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Sa=function(i){cr(this.h,function(u){return u==i})};function aI(i){if(this.a=i||J.INTERNAL.reactNative&&J.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=aI.prototype,e.get=function(i){return Z(this.a.getItem(i)).then(function(u){return u&&Rs(u)})},e.set=function(i,u){return Z(this.a.setItem(i,Aa(u)))},e.U=function(i){return Z(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function cI(i){this.b=i,this.a={},this.f=C(this.c,this)}var lI=[];function sM(){var i=fr()?self:null;if(Se(lI,function(c){c.b==i&&(u=c)}),!u){var u=new cI(i);lI.push(u)}return u}cI.prototype.c=function(i){var u=i.data.eventType,c=i.data.eventId,h=this.a[u];if(h&&0<h.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var d=[];Se(h,function(y){d.push(Z().then(function(){return y(i.origin,i.data.data)}))}),hE(d).then(function(y){var w=[];Se(y,function(S){w.push({fulfilled:S.Pb,value:S.value,reason:S.reason?S.reason.message:void 0})}),Se(w,function(S){for(var D in S)typeof S[D]=="undefined"&&delete S[D]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:w})})}};function fI(i,u,c){bo(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[u]=="undefined"&&(i.a[u]=[]),i.a[u].push(c)}function hI(i){this.a=i}hI.prototype.postMessage=function(i,u){this.a.postMessage(i,u)};function pI(i){this.c=i,this.b=!1,this.a=[]}function dI(i,u,c,h){var d,y=c||{},w,S,D,j=null;if(i.b)return De(Error("connection_unavailable"));var ne=h?800:50,_e=typeof MessageChannel!="undefined"?new MessageChannel:null;return new ce(function(ye,vt){_e?(d=Math.floor(Math.random()*Math.pow(10,20)).toString(),_e.port1.start(),S=setTimeout(function(){vt(Error("unsupported_event"))},ne),w=function(ei){ei.data.eventId===d&&(ei.data.status==="ack"?(clearTimeout(S),D=setTimeout(function(){vt(Error("timeout"))},3e3)):ei.data.status==="done"?(clearTimeout(D),typeof ei.data.response!="undefined"?ye(ei.data.response):vt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(D),vt(Error("invalid_response"))))},j={messageChannel:_e,onMessage:w},i.a.push(j),_e.port1.addEventListener("message",w),i.c.postMessage({eventType:u,eventId:d,data:y},[_e.port2])):vt(Error("connection_unavailable"))}).then(function(ye){return bv(i,j),ye}).o(function(ye){throw bv(i,j),ye})}function bv(i,u){if(u){var c=u.messageChannel,h=u.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),cr(i.a,function(d){return d==u})}}pI.prototype.close=function(){for(;0<this.a.length;)bv(this,this.a[0]);this.b=!0};function mI(){if(!Iv())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;fr()&&self?(this.v=sM(),fI(this.v,"keyChanged",function(u,c){return gI(i).then(function(h){return 0<h.length&&Se(i.a,function(d){d(h)}),{keyProcessed:Yr(h,c.key)}})}),fI(this.v,"ping",function(){return Z(["keyChanged"])})):bL().then(function(u){(i.h=u)&&(i.g=new pI(new hI(u)),dI(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&Yr(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Ev;function uM(i){return new ce(function(u,c){var h=i.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(d){c(Error(d.target.error))}})}function vI(i){return new ce(function(u,c){var h=i.m.open("firebaseLocalStorageDb",1);h.onerror=function(d){try{d.preventDefault()}catch(y){}c(Error(d.target.error))},h.onupgradeneeded=function(d){d=d.target.result;try{d.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(d){d=d.target.result,d.objectStoreNames.contains("firebaseLocalStorage")?u(d):uM(i).then(function(){return vI(i)}).then(function(y){u(y)}).o(function(y){c(y)})}})}function _v(i){return i.i||(i.i=vI(i)),i.i}function Uf(i,u){function c(d,y){_v(i).then(u).then(d).o(function(w){if(3<++h)y(w);else return _v(i).then(function(S){return S.close(),i.i=void 0,c(d,y)}).o(function(S){y(S)})})}var h=0;return new ce(c)}function Iv(){try{return!!f.indexedDB}catch(i){return!1}}function Ga(i){return i.objectStore("firebaseLocalStorage")}function Wa(i,u){return i.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Vs(i){return new ce(function(u,c){i.onsuccess=function(h){h&&h.target?u(h.target.result):u()},i.onerror=function(h){c(h.target.error)}})}e=mI.prototype,e.set=function(i,u){var c=this,h=!1;return Uf(this,function(d){return d=Ga(Wa(d,!0)),Vs(d.get(i))}).then(function(d){return Uf(c,function(y){if(y=Ga(Wa(y,!0)),d)return d.value=u,Vs(y.put(d));c.b++,h=!0;var w={};return w.fbase_key=i,w.value=u,Vs(y.add(w))})}).then(function(){return c.c[i]=u,yI(c,i)}).oa(function(){h&&c.b--})};function yI(i,u){return i.g&&i.h&&wL()===i.h?dI(i.g,"keyChanged",{key:u},i.s).then(function(){}).o(function(){}):Z()}e.get=function(i){return Uf(this,function(u){return Vs(Ga(Wa(u,!1)).get(i))}).then(function(u){return u&&u.value})},e.U=function(i){var u=this,c=!1;return Uf(this,function(h){return c=!0,u.b++,Vs(Ga(Wa(h,!0)).delete(i))}).then(function(){return delete u.c[i],yI(u,i)}).oa(function(){c&&u.b--})};function gI(i){return _v(i).then(function(u){var c=Ga(Wa(u,!1));return c.getAll?Vs(c.getAll()):new ce(function(h,d){var y=[],w=c.openCursor();w.onsuccess=function(S){(S=S.target.result)?(y.push(S.value),S.continue()):h(y)},w.onerror=function(S){d(S.target.error)}})}).then(function(u){var c={},h=[];if(i.b==0){for(h=0;h<u.length;h++)c[u[h].fbase_key]=u[h].value;h=qE(i.c,c),i.c=c}return h})}e.ca=function(i){this.a.length==0&&aM(this),this.a.push(i)},e.ia=function(i){cr(this.a,function(u){return u==i}),this.a.length==0&&wI(this)};function aM(i){function u(){i.f=setTimeout(function(){i.l=gI(i).then(function(c){0<c.length&&Se(i.a,function(h){h(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}wI(i),u()}function wI(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function bI(i){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Z().then(function(){if(Iv()){var h=ko(),d="__sak"+h;return Ev||(Ev=new mI),c=Ev,c.set(d,h).then(function(){return c.get(d)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(d)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(d){Se(u.a,function(y){y(d)})}),h})}e=bI.prototype,e.get=function(i){return this.b.then(function(u){return u.get(i)})},e.set=function(i,u){return this.b.then(function(c){return c.set(i,u)})},e.U=function(i){return this.b.then(function(u){return u.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){cr(this.a,function(u){return u==i})};function $a(){this.a={},this.type="inMemory"}e=$a.prototype,e.get=function(i){return Z(this.a[i])},e.set=function(i,u){return this.a[i]=u,Z()},e.U=function(i){return delete this.a[i],Z()},e.ca=function(){},e.ia=function(){};function Bf(){if(!cM())throw kr()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=EI()||J.INTERNAL.node.localStorage,this.type="localStorage"}function EI(){try{var i=f.localStorage,u=ko();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch(c){return null}}function cM(){var i=kr()=="Node";if(i=EI()||i&&J.INTERNAL.node&&J.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(u){return!1}}e=Bf.prototype,e.get=function(i){var u=this;return Z().then(function(){var c=u.a.getItem(i);return Rs(c)})},e.set=function(i,u){var c=this;return Z().then(function(){var h=Aa(u);h===null?c.U(i):c.a.setItem(i,h)})},e.U=function(i){var u=this;return Z().then(function(){u.a.removeItem(i)})},e.ca=function(i){f.window&&Kn(f.window,"storage",i)},e.ia=function(i){f.window&&Nn(f.window,"storage",i)};function Tv(){this.type="nullStorage"}e=Tv.prototype,e.get=function(){return Z(null)},e.set=function(){return Z()},e.U=function(){return Z()},e.ca=function(){},e.ia=function(){};function Sv(){if(!lM())throw kr()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=_I()||J.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function _I(){try{var i=f.sessionStorage,u=ko();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch(c){return null}}function lM(){var i=kr()=="Node";if(i=_I()||i&&J.INTERNAL.node&&J.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch(u){return!1}}e=Sv.prototype,e.get=function(i){var u=this;return Z().then(function(){var c=u.a.getItem(i);return Rs(c)})},e.set=function(i,u){var c=this;return Z().then(function(){var h=Aa(u);h===null?c.U(i):c.a.setItem(i,h)})},e.U=function(i){var u=this;return Z().then(function(){u.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function fM(){var i={};i.Browser=hM,i.Node=pM,i.ReactNative=dM,i.Worker=mM,this.a=i[kr()]}var Nv,hM={F:Bf,bb:Sv},pM={F:Bf,bb:Sv},dM={F:aI,bb:Tv},mM={F:Bf,bb:Tv},Us={rd:"local",NONE:"none",td:"session"};function vM(i){var u=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");e:{for(h in Us)if(Us[h]==i){var h=!0;break e}h=!1}if(!h||typeof i!="string")throw u;switch(kr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Iv()&&i!=="none")throw c;break;default:if(!Nm()&&i!=="none")throw c}}function II(){var i=!!(!YE(Et())&&Tm()),u=ka(),c=Nm();this.m=i,this.h=u,this.l=c,this.a={},Nv||(Nv=new fM),i=Nv;try{this.g=!_m()&&XE()||!f.indexedDB?new i.a.F:new bI(fr()?new $a:new i.a.F)}catch(h){this.g=new $a,this.h=!0}try{this.i=new i.a.bb}catch(h){this.i=new $a}this.v=new $a,this.f=C(this.Yb,this),this.b={}}var xv;function Ya(){return xv||(xv=new II),xv}function Mo(i,u){switch(u){case"session":return i.i;case"none":return i.v;default:return i.g}}function Bs(i,u){return"firebase:"+i.name+(u?":"+u:"")}function yM(i,u,c){var h=Bs(u,c),d=Mo(i,u.F);return i.get(u,c).then(function(y){var w=null;try{w=Rs(f.localStorage.getItem(h))}catch(S){}if(w&&!y)return f.localStorage.removeItem(h),i.set(u,w,c);w&&y&&d.type!="localStorage"&&f.localStorage.removeItem(h)})}e=II.prototype,e.get=function(i,u){return Mo(this,i.F).get(Bs(i,u))};function qs(i,u,c){return c=Bs(u,c),u.F=="local"&&(i.b[c]=null),Mo(i,u.F).U(c)}e.set=function(i,u,c){var h=Bs(i,c),d=this,y=Mo(this,i.F);return y.set(h,u).then(function(){return y.get(h)}).then(function(w){i.F=="local"&&(d.b[h]=w)})},e.addListener=function(i,u,c){i=Bs(i,u),this.l&&(this.b[i]=f.localStorage.getItem(i)),bo(this.a)&&(Mo(this,"local").ca(this.f),this.h||(_m()||!XE())&&f.indexedDB||!this.l||gM(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,u,c){i=Bs(i,u),this.a[i]&&(cr(this.a[i],function(h){return h==c}),this.a[i].length==0&&delete this.a[i]),bo(this.a)&&(Mo(this,"local").ia(this.f),kv(this))};function gM(i){kv(i),i.c=setInterval(function(){for(var u in i.a){var c=f.localStorage.getItem(u),h=i.b[u];c!=h&&(i.b[u]=c,c=new Io({type:"storage",key:u,target:window,oldValue:h,newValue:c,a:!0}),i.Yb(c))}},1e3)}function kv(i){i.c&&(clearInterval(i.c),i.c=null)}e.Yb=function(i){if(i&&i.g){var u=i.a.key;if(u==null)for(var c in this.a){var h=this.b[c];typeof h=="undefined"&&(h=null);var d=f.localStorage.getItem(c);d!==h&&(this.b[c]=d,this.mb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof i.a.a!="undefined"?Mo(this,"local").ia(this.f):kv(this),this.m){if(c=f.localStorage.getItem(u),h=i.a.newValue,h!==c)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof i.a.a=="undefined")return}var y=this;c=function(){(typeof i.a.a!="undefined"||y.b[u]!==f.localStorage.getItem(u))&&(y.b[u]=f.localStorage.getItem(u),y.mb(u))},lr&&vi&&vi==10&&f.localStorage.getItem(u)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else Se(i,C(this.mb,this))},e.mb=function(i){this.a[i]&&Se(this.a[i],function(u){u()})};function wM(i){this.a=i,this.b=Ya()}var Av={name:"authEvent",F:"local"};function bM(i){return i.b.get(Av,i.a).then(function(u){return C_(u)})}function EM(){this.a=Ya()}function _M(){this.b=-1}function qf(i,u){this.b=TI,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),zf===void 0&&(f.Int32Array?zf=new Int32Array(xI):zf=xI),this.reset()}var zf;M(qf,_M);for(var TI=64,IM=TI-1,SI=[],Cv=0;Cv<IM;Cv++)SI[Cv]=0;var NI=$d(128,SI);qf.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):wo(this.h)};function Ov(i){for(var u=i.f,c=i.l,h=0,d=0;d<u.length;)c[h++]=u[d]<<24|u[d+1]<<16|u[d+2]<<8|u[d+3],d=4*h;for(u=16;64>u;u++){d=c[u-15]|0,h=c[u-2]|0;var y=(c[u-16]|0)+((d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3)|0,w=(c[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[u]=y+w|0}h=i.a[0]|0,d=i.a[1]|0;var S=i.a[2]|0,D=i.a[3]|0,j=i.a[4]|0,ne=i.a[5]|0,_e=i.a[6]|0;for(y=i.a[7]|0,u=0;64>u;u++){var ye=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&d^h&S^d&S)|0;w=j&ne^~j&_e,y=y+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0,w=w+(zf[u]|0)|0,w=y+(w+(c[u]|0)|0)|0,y=_e,_e=ne,ne=j,j=D+w|0,D=S,S=d,d=h,h=w+ye|0}i.a[0]=i.a[0]+h|0,i.a[1]=i.a[1]+d|0,i.a[2]=i.a[2]+S|0,i.a[3]=i.a[3]+D|0,i.a[4]=i.a[4]+j|0,i.a[5]=i.a[5]+ne|0,i.a[6]=i.a[6]+_e|0,i.a[7]=i.a[7]+y|0}function Pv(i,u,c){c===void 0&&(c=u.length);var h=0,d=i.c;if(typeof u=="string")for(;h<c;)i.f[d++]=u.charCodeAt(h++),d==i.b&&(Ov(i),d=0);else if(T(u))for(;h<c;){var y=u[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");i.f[d++]=y,d==i.b&&(Ov(i),d=0)}else throw Error("message must be string or array");i.c=d,i.g+=c}var xI=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function kI(){qf.call(this,8,TM)}M(kI,qf);var TM=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function AI(i,u,c,h,d,y){this.v=i,this.i=u,this.l=c,this.m=h||null,this.u=d||null,this.s=y,this.h=u+":"+c,this.C=new EM,this.g=new wM(this.h),this.f=null,this.b=[],this.a=this.c=null}function Hf(i){return new A("invalid-cordova-configuration",i)}e=AI.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=vL().then(function(){if(typeof Re("universalLinks.subscribe",f)!="function")throw Hf("cordova-universal-links-plugin-fix is not installed");if(typeof Re("BuildInfo.packageName",f)=="undefined")throw Hf("cordova-plugin-buildinfo is not installed");if(typeof Re("cordova.plugins.browsertab.openUrl",f)!="function")throw Hf("cordova-plugin-browsertab is not installed");if(typeof Re("cordova.InAppBrowser.open",f)!="function")throw Hf("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function SM(){for(var i=20,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}function NM(i){var u=new kI;Pv(u,i),i=[];var c=8*u.g;56>u.c?Pv(u,NI,56-u.c):Pv(u,NI,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=c&255,c/=256;for(Ov(u),h=c=0;h<u.i;h++)for(var d=24;0<=d;d-=8)i[c++]=u.a[h]>>d&255;return ML(i)}e.Ob=function(i,u){return u(new A("operation-not-supported-in-this-environment")),Z()},e.Mb=function(){return De(new A("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(i,u,c,h){if(this.c)return De(new A("redirect-operation-pending"));var d=this,y=f.document,w=null,S=null,D=null,j=null;return this.c=Z().then(function(){return $m(u),OI(d)}).then(function(){return xM(d,i,u,c,h)}).then(function(){return new ce(function(ne,_e){S=function(){var ye=Re("cordova.plugins.browsertab.close",f);return ne(),typeof ye=="function"&&ye(),d.a&&typeof d.a.close=="function"&&(d.a.close(),d.a=null),!1},d.Ea(S),D=function(){w||(w=ks(2e3).then(function(){_e(new A("redirect-cancelled-by-user"))}))},j=function(){xm()&&D()},y.addEventListener("resume",D,!1),Et().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",j,!1)}).o(function(ne){return Dv(d).then(function(){throw ne})})}).oa(function(){D&&y.removeEventListener("resume",D,!1),j&&y.removeEventListener("visibilitychange",j,!1),w&&w.cancel(),S&&d.Sa(S),d.c=null})};function xM(i,u,c,h,d){var y=SM(),w=new hr(u,h,null,y,new A("no-auth-event"),null,d),S=Re("BuildInfo.packageName",f);if(typeof S!="string")throw new A("invalid-cordova-configuration");var D=Re("BuildInfo.displayName",f),j={};if(Et().toLowerCase().match(/iphone|ipad|ipod/))j.ibi=S;else if(Et().toLowerCase().match(/android/))j.apn=S;else return De(new A("operation-not-supported-in-this-environment"));D&&(j.appDisplayName=D),y=NM(y),j.sessionId=y;var ne=Ka(i.v,i.i,i.l,u,c,null,h,i.m,j,i.u,d,i.s);return i.ma().then(function(){var _e=i.h;return i.C.a.set(Av,w.w(),_e)}).then(function(){var _e=Re("cordova.plugins.browsertab.isAvailable",f);if(typeof _e!="function")throw new A("invalid-cordova-configuration");var ye=null;_e(function(vt){if(vt){if(ye=Re("cordova.plugins.browsertab.openUrl",f),typeof ye!="function")throw new A("invalid-cordova-configuration");ye(ne)}else{if(ye=Re("cordova.InAppBrowser.open",f),typeof ye!="function")throw new A("invalid-cordova-configuration");vt=Et(),i.a=ye(ne,vt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||vt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function CI(i,u){for(var c=0;c<i.b.length;c++)try{i.b[c](u)}catch(h){}}function OI(i){return i.f||(i.f=i.ma().then(function(){return new ce(function(u){function c(h){return u(h),i.Sa(c),!1}i.Ea(c),kM(i)})})),i.f}function Dv(i){var u=null;return bM(i.g).then(function(c){return u=c,c=i.g,qs(c.b,Av,c.a)}).then(function(){return u})}function kM(i){function u(w){h=!0,d&&d.cancel(),Dv(i).then(function(S){var D=c;if(S&&w&&w.url){var j=null;D=__(w.url),D.indexOf("/__/auth/callback")!=-1&&(j=dn(D),j=Rs(Gn(j,"firebaseError")||null),j=(j=typeof j=="object"?Gt(j):null)?new hr(S.c,S.b,null,null,j,null,S.T()):new hr(S.c,S.b,D,S.f,null,null,S.T())),D=j||c}CI(i,D)})}var c=new hr("unknown",null,null,null,new A("no-auth-event")),h=!1,d=ks(500).then(function(){return Dv(i).then(function(){h||CI(i,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Re("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof y=="function")try{y(w)}catch(S){console.error(S)}},Ym||(Ym=new HL),KL(u)}e.Ea=function(i){this.b.push(i),OI(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new hr("unknown",null,null,null,new A("no-auth-event")),i(u))})},e.Sa=function(i){cr(this.b,function(u){return u==i})};function AM(i){this.a=i,this.b=Ya()}var Rv={name:"pendingRedirect",F:"session"};function CM(i){return i.b.set(Rv,"pending",i.a)}function Lv(i){return qs(i.b,Rv,i.a)}function OM(i){return i.b.get(Rv,i.a).then(function(u){return u=="pending"})}function Kf(i,u,c,h){this.i={},this.u=0,this.D=i,this.v=u,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=C(this.s,this),this.b=new Gf,this.C=new zI,this.g=new AM(VI(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=PI(this.D,this.v,this.m,Hn,this.J)}function PI(i,u,c,h,d){var y=J.SDK_VERSION||null;return Im()?new AI(i,u,c,y,h,d):new iI(i,u,c,y,h,d)}Kf.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=PI(this.D,this.v,this.m,null,this.J),this.i={}};function DI(i){i.f||(i.f=!0,i.a.Ea(i.l));var u=i.a;return i.a.ma().o(function(c){throw i.a==u&&i.reset(),c})}function RI(i){i.a.Xb()&&DI(i).o(function(u){var c=new hr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));jv(u)&&i.s(c)}),i.a.Tb()||BI(i.b)}function Mv(i,u){Yr(i.h,u)||i.h.push(u),i.f||OM(i.g).then(function(c){c?Lv(i.g).then(function(){DI(i).o(function(h){var d=new hr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));jv(h)&&i.s(d)})}):RI(i)}).o(function(){RI(i)})}function LI(i,u){cr(i.h,function(c){return c==u})}Kf.prototype.s=function(i){if(!i)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Fb(i.c,i.b)){(u=this.c[i.c])&&(u.h(i,h),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),u=!0;break}}return BI(this.b),u};var PM=new wi(2e3,1e4),DM=new wi(3e4,6e4);Kf.prototype.qa=function(){return this.b.qa()};function MI(i,u,c,h,d,y,w){return i.a.Mb(u,c,h,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},d,y,w)}function jv(i){return!!(i&&i.code=="auth/cordova-not-ready")}function jI(i,u,c,h,d){var y;return CM(i.g).then(function(){return i.a.Nb(u,c,h,d).o(function(w){if(jv(w))throw new A("operation-not-supported-in-this-environment");return y=w,Lv(i.g).then(function(){throw y})}).then(function(){return i.a.$b()?new ce(function(){}):Lv(i.g).then(function(){return i.qa()}).then(function(){}).o(function(){})})})}function FI(i,u,c,h,d){return i.a.Ob(h,function(y){u.na(c,null,y,d)},PM.get())}var Fv={};function VI(i,u,c){return i=i+":"+u,c&&(i=i+":"+c.url),i}function UI(i,u,c,h){var d=VI(u,c,h);return Fv[d]||(Fv[d]=new Kf(i,u,c,h)),Fv[d]}function Gf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Gf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gf.prototype.h=function(i,u){if(i){this.reset(),this.g=!0;var c=i.c,h=i.b,d=i.a&&i.a.code=="auth/web-storage-unsupported",y=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!d&&!y),c!="unknown"||d||y?i.a?(jo(this,!0,null,i.a),Z()):u.Fa(c,h)?RM(this,i,u):De(new A("invalid-auth-event")):(jo(this,!1,null,null),Z())}else De(new A("invalid-auth-event"))};function BI(i){i.g||(i.g=!0,jo(i,!1,null,null))}function Wf(i){i.g&&!i.i&&jo(i,!1,null,null)}function RM(i,u,c){c=c.Fa(u.c,u.b);var h=u.g,d=u.f,y=u.i,w=u.T(),S=!!u.c.match(/Redirect$/);c(h,d,w,y).then(function(D){jo(i,S,D,null)}).o(function(D){jo(i,S,null,D)})}function LM(i,u){if(i.b=function(){return De(u)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](u)}function qI(i,u){if(i.b=function(){return Z(u)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](u)}function jo(i,u,c,h){u?h?LM(i,h):qI(i,c):qI(i,{user:null}),i.f=[],i.c=[]}Gf.prototype.qa=function(){var i=this;return new ce(function(u,c){i.b?i.b().then(u,c):(i.f.push(u),i.c.push(c),MM(i))})};function MM(i){var u=new A("timeout");i.a&&i.a.cancel(),i.a=ks(DM.get()).then(function(){i.b||(i.g=!0,jo(i,!0,null,u))})}function zI(){}zI.prototype.h=function(i,u){if(i){var c=i.c,h=i.b;i.a?(u.na(i.c,null,i.a,i.b),Z()):u.Fa(c,h)?jM(i,u):De(new A("invalid-auth-event"))}else De(new A("invalid-auth-event"))};function jM(i,u){var c=i.b,h=i.c;u.Fa(h,c)(i.g,i.f,i.T(),i.i).then(function(d){u.na(h,d,null,c)}).o(function(d){u.na(h,null,d,c)})}function HI(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(i){this.ib=i},enumerable:!1})}function Vv(i,u){this.a=u,W(this,"verificationId",i)}Vv.prototype.confirm=function(i){return i=A_(this.verificationId,i),this.a(i)};function Uv(i,u,c,h){return new Jr(i).fb(u,c).then(function(d){return new Vv(d,h)})}function FM(i){var u=d_(i);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xt(this,{token:i,expirationTime:Ca(1e3*u.exp),authTime:Ca(1e3*u.auth_time),issuedAtTime:Ca(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Bv(i,u,c){var h=u&&u[GI];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=mi(u),this.g=c,this.c=new Tf(null,h),this.b=[];var d=this;Se(u[KI]||[],function(y){(y=Dm(y))&&d.b.push(y)}),W(this,"auth",this.a),W(this,"session",this.c),W(this,"hints",this.b)}var KI="mfaInfo",GI="mfaPendingCredential";Bv.prototype.Rc=function(i){var u=this;return i.sb(this.a.a,this.c).then(function(c){var h=mi(u.f);return delete h[KI],delete h[GI],fn(h,c),u.g(h)})};function qv(i,u,c,h){A.call(this,"multi-factor-auth-required",h,u),this.b=new Bv(i,u,c),W(this,"resolver",this.b)}M(qv,A);function WI(i,u,c){if(i&&E(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new qv(u,i.serverResponse,c,i.message)}catch(h){}return null}function $I(){}$I.prototype.sb=function(i,u,c){return u.type==Ra?VM(this,i,u,c):UM(this,i,u)};function VM(i,u,c,h){return c.Ha().then(function(d){return d={idToken:d},typeof h!="undefined"&&(d.displayName=h),fn(d,{phoneVerificationInfo:La(i.a)}),le(u,k2,d)})}function UM(i,u,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},fn(h,{phoneVerificationInfo:La(i.a)}),le(u,A2,h)})}function zv(i){W(this,"factorId",i.fa),this.a=i}M(zv,$I);function YI(i){if(zv.call(this,i),this.a.fa!=Jr.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(YI,zv);function zs(i,u){pn.call(this,i);for(var c in u)this[c]=u[c]}M(zs,pn);function Hv(i,u){this.a=i,this.b=[],this.c=C(this.yc,this),Kn(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Se(u.multiFactor.enrolledFactors,function(h){var d=null,y={};if(h){h.uid&&(y[Lm]=h.uid),h.displayName&&(y[ZE]=h.displayName),h.enrollmentTime&&(y[Rm]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Mm]=h.phoneNumber);try{d=new Oa(y)}catch(w){}h=d}else h=null;h&&c.push(h)}),$f(this,c)}function BM(i){var u=[];return Se(i.mfaInfo||[],function(c){(c=Dm(c))&&u.push(c)}),u}e=Hv.prototype,e.yc=function(i){$f(this,BM(i.hd))};function $f(i,u){i.b=u,W(i,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(i){return new Tf(i,null)})},e.fc=function(i,u){var c=this,h=this.a.a;return this.Rb().then(function(d){return i.sb(h,d,u)}).then(function(d){return Or(c.a,d),c.a.reload()})},e.bd=function(i){var u=this,c=typeof i=="string"?i:i.uid,h=this.a.a;return this.a.I().then(function(d){return le(h,Y2,{idToken:d,mfaEnrollmentId:c})}).then(function(d){var y=gR(u.b,function(w){return w.uid!=c});return $f(u,y),Or(u.a,d),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:ef(this.b,function(i){return i.w()})}}};function Kv(i,u,c){if(this.h=i,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Kv.prototype.start=function(){this.a=this.c,Gv(this,!0)};function qM(i,u){return u?(i.a=i.c,i.g()):(u=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),u)}function Gv(i,u){i.stop(),i.b=ks(qM(i,u)).then(function(){return gL()}).then(function(){return i.h()}).then(function(){Gv(i,!0)}).o(function(c){i.i(c)&&Gv(i,!1)})}Kv.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Wv(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Wv.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function QI(i,u){typeof u=="undefined"&&(i.b?(u=i.b,u=u.a-u.g):u=0),i.c=Date.now()+1e3*u}function XI(i,u){i.b=_f(u[dr]||""),i.a=u.refreshToken,u=u.expiresIn,QI(i,typeof u!="undefined"?Number(u):void 0)}function zM(i,u){i.b=u.b,i.a=u.a,i.c=u.c}function HM(i,u){return h2(i.f,u).then(function(c){return i.b=_f(c.access_token),i.a=c.refresh_token,QI(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}Wv.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?De(new A("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?HM(this,{grant_type:"refresh_token",refresh_token:this.a}):Z(null):Z({accessToken:this.b.toString(),refreshToken:this.a})};function Yf(i,u){this.a=i||null,this.b=u||null,Xt(this,{lastSignInTime:Ca(u||null),creationTime:Ca(i||null)})}function KM(i){return new Yf(i.a,i.b)}Yf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function GM(i,u,c,h,d,y){Xt(this,{uid:i,displayName:h||null,photoURL:d||null,email:c||null,phoneNumber:y||null,providerId:u})}function kn(i,u,c){this.J=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var h=J.SDK_VERSION?Ps(J.SDK_VERSION):null;this.a=new pr(this.l,zn(Hn),h),i.emulatorConfig&&Fs(this.a,i.emulatorConfig),this.b=new Wv(this.a),Zv(this,u[dr]),XI(this.b,u),W(this,"refreshToken",this.b.a),ZI(this,c||{}),Qt.call(this),this.R=!1,this.s&&xo()&&(this.i=UI(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=WM(this),this.aa=C(this.hb,this);var d=this;this.ya=null,this.Oa=function(y){d.wa(y.h)},this.ja=null,this.Aa=function(y){Fs(d.a,y.c)},this.X=null,this.$=[],this.Ba=function(y){Qa(d,y.f)},this.ba=null,this.O=new Hv(this,c),W(this,"multiFactor",this.O)}M(kn,Qt),kn.prototype.wa=function(i){this.ya=i,K_(this.a,i)},kn.prototype.la=function(){return this.ya};function $v(i,u){i.ja&&Nn(i.ja,"languageCodeChanged",i.Oa),(i.ja=u)&&Kn(u,"languageCodeChanged",i.Oa)}function Yv(i,u){i.X&&Nn(i.X,"emulatorConfigChanged",i.Aa),(i.X=u)&&Kn(u,"emulatorConfigChanged",i.Aa)}function Qa(i,u){i.$=u,G_(i.a,J.SDK_VERSION?Ps(J.SDK_VERSION,i.$):null)}kn.prototype.Ga=function(){return wo(this.$)};function Qv(i,u){i.ba&&Nn(i.ba,"frameworkChanged",i.Ba),(i.ba=u)&&Kn(u,"frameworkChanged",i.Ba)}kn.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Xv(i){try{return J.app(i.m).auth()}catch(u){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function WM(i){return new Kv(function(){return i.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=i.b.c-Date.now()-3e5;return 0<u?u:0})}function JI(i){i.D||i.u.b||(i.u.start(),Nn(i,"tokenChanged",i.aa),Kn(i,"tokenChanged",i.aa))}function Jv(i){Nn(i,"tokenChanged",i.aa),i.u.stop()}function Zv(i,u){i.za=u,W(i,"_lat",u)}function $M(i,u){cr(i.S,function(c){return c==u})}function Fo(i){for(var u=[],c=0;c<i.S.length;c++)u.push(i.S[c](i));return hE(u).then(function(){return i})}function Xa(i){i.i&&!i.R&&(i.R=!0,Mv(i.i,i))}function ZI(i,u){Xt(i,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Yf(u.createdAt,u.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}W(kn.prototype,"providerId","firebase");function eT(){}function ey(i){return Z().then(function(){if(i.D)throw new A("app-deleted")})}function ty(i){return ef(i.providerData,function(u){return u.providerId})}function ny(i,u){u&&(tT(i,u.providerId),i.providerData.push(u))}function tT(i,u){cr(i.providerData,function(c){return c.providerId==u})}function _i(i,u,c){(u!="uid"||c)&&i.hasOwnProperty(u)&&W(i,u,c)}function Qf(i,u){i!=u&&(Xt(i,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?W(i,"metadata",KM(u.metadata)):W(i,"metadata",new Yf),Se(u.providerData,function(c){ny(i,c)}),zM(i.b,u.b),W(i,"refreshToken",i.b.a),$f(i.O,u.O.b))}e=kn.prototype,e.reload=function(){var i=this;return st(this,ey(this).then(function(){return ry(i).then(function(){return Fo(i)}).then(eT)}))};function ry(i){return i.I().then(function(u){var c=i.isAnonymous;return YM(i,u).then(function(){return c||_i(i,"isAnonymous",!1),u})})}e.oc=function(i){return this.I(i).then(function(u){return new FM(u)})},e.I=function(i){var u=this;return st(this,ey(this).then(function(){return u.b.getToken(i)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=u.za&&(Zv(u,c.accessToken),u.dispatchEvent(new zs("tokenChanged"))),_i(u,"refreshToken",c.refreshToken),c.accessToken}))};function Or(i,u){u[dr]&&i.za!=u[dr]&&(XI(i.b,u),i.dispatchEvent(new zs("tokenChanged")),Zv(i,u[dr]),_i(i,"refreshToken",i.b.a))}function YM(i,u){return le(i.a,C2,{idToken:u}).then(C(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new A("internal-error");i=i[0],ZI(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var u=QM(i),c=0;c<u.length;c++)ny(this,u[c]);_i(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new zs("userReloaded",{hd:i}))};function QM(i){return(i=i.providerUserInfo)&&i.length?ef(i,function(u){return new GM(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(i){return km("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(i)},e.tb=function(i){var u=this,c=null;return st(this,i.c(this.a,this.uid).then(function(h){return Or(u,h),c=Ja(u,h,"reauthenticate"),u.h=null,u.reload()}).then(function(){return c}),!0)};function Xf(i,u){return ry(i).then(function(){if(Yr(ty(i),u))return Fo(i).then(function(){throw new A("provider-already-linked")})})}e.Cc=function(i){return km("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(i)},e.qb=function(i){var u=this,c=null;return st(this,Xf(this,i.providerId).then(function(){return u.I()}).then(function(h){return i.b(u.a,h)}).then(function(h){return c=Ja(u,h,"link"),nT(u,h)}).then(function(){return c}))},e.Dc=function(i,u){var c=this;return st(this,Xf(this,"phone").then(function(){return Uv(Xv(c),i,u,C(c.qb,c))}))},e.Mc=function(i,u){var c=this;return st(this,Z().then(function(){return Uv(Xv(c),i,u,C(c.tb,c))}),!0)};function Ja(i,u,c){var h=Wm(u);return u=v_(u),Ar({user:i,credential:h,additionalUserInfo:u,operationType:c})}function nT(i,u){return Or(i,u),i.reload().then(function(){return i})}e.Bb=function(i){var u=this;return st(this,this.I().then(function(c){return u.a.Bb(c,i)}).then(function(c){return Or(u,c),u.reload()}))},e.ed=function(i){var u=this;return st(this,this.I().then(function(c){return i.b(u.a,c)}).then(function(c){return Or(u,c),u.reload()}))},e.Cb=function(i){var u=this;return st(this,this.I().then(function(c){return u.a.Cb(c,i)}).then(function(c){return Or(u,c),u.reload()}))},e.Db=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return ey(this);var u=this;return st(this,this.I().then(function(c){return u.a.Db(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Or(u,c),_i(u,"displayName",c.displayName||null),_i(u,"photoURL",c.photoUrl||null),Se(u.providerData,function(h){h.providerId==="password"&&(W(h,"displayName",u.displayName),W(h,"photoURL",u.photoURL))}),Fo(u)}).then(eT))},e.cd=function(i){var u=this;return st(this,ry(this).then(function(c){return Yr(ty(u),i)?w2(u.a,c,[i]).then(function(h){var d={};return Se(h.providerUserInfo||[],function(y){d[y.providerId]=!0}),Se(ty(u),function(y){d[y]||tT(u,y)}),d[Jr.PROVIDER_ID]||W(u,"phoneNumber",null),Fo(u)}):Fo(u).then(function(){throw new A("no-such-provider")})}))},e.delete=function(){var i=this;return st(this,this.I().then(function(u){return le(i.a,T2,{idToken:u})}).then(function(){i.dispatchEvent(new zs("userDeleted"))})).then(function(){for(var u=0;u<i.J.length;u++)i.J[u].cancel("app-deleted");$v(i,null),Yv(i,null),Qv(i,null),i.J=[],i.D=!0,Jv(i),W(i,"refreshToken",null),i.i&&LI(i.i,i)})},e.Fb=function(i,u){return!!(i=="linkViaPopup"&&(this.g||null)==u&&this.f||i=="reauthViaPopup"&&(this.g||null)==u&&this.f||i=="linkViaRedirect"&&(this.ga||null)==u||i=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(i,u,c,h){i!="linkViaPopup"&&i!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="linkViaPopup"&&u==(this.g||null)?C(this.Kb,this):i=="reauthViaPopup"&&u==(this.g||null)?C(this.Lb,this):i=="linkViaRedirect"&&(this.ga||null)==u?C(this.Kb,this):i=="reauthViaRedirect"&&(this.ga||null)==u?C(this.Lb,this):null},e.Ec=function(i){var u=this;return rT(this,"linkViaPopup",i,function(){return Xf(u,i.providerId).then(function(){return Fo(u)})},!1)},e.Nc=function(i){return rT(this,"reauthViaPopup",i,function(){return Z()},!0)};function rT(i,u,c,h,d){if(!xo())return De(new A("operation-not-supported-in-this-environment"));if(i.h&&!d)return De(i.h);var y=Bm(c.providerId),w=ko(i.uid+":::"),S=null;(!ka()||Tm())&&i.s&&c.isOAuthProvider&&(S=Ka(i.s,i.l,i.m,u,c,null,w,J.SDK_VERSION||null,null,null,i.tenantId));var D=HE(S,y&&y.ua,y&&y.ta);return h=h().then(function(){if(oT(i),!d)return i.I().then(function(){})}).then(function(){return MI(i.i,D,u,c,w,!!S,i.tenantId)}).then(function(){return new ce(function(j,ne){i.na(u,null,new A("cancelled-popup-request"),i.g||null),i.f=j,i.C=ne,i.g=w,i.c=FI(i.i,i,u,D,w)})}).then(function(j){return D&&No(D),j?Ar(j):null}).o(function(j){throw D&&No(D),j}),st(i,h,d)}e.Fc=function(i){var u=this;return iT(this,"linkViaRedirect",i,function(){return Xf(u,i.providerId)},!1)},e.Oc=function(i){return iT(this,"reauthViaRedirect",i,function(){return Z()},!0)};function iT(i,u,c,h,d){if(!xo())return De(new A("operation-not-supported-in-this-environment"));if(i.h&&!d)return De(i.h);var y=null,w=ko(i.uid+":::");return h=h().then(function(){if(oT(i),!d)return i.I().then(function(){})}).then(function(){return i.ga=w,Fo(i)}).then(function(S){return i.ha&&(S=i.ha,S=S.b.set(iy,i.w(),S.a)),S}).then(function(){return jI(i.i,u,c,w,i.tenantId)}).o(function(S){if(y=S,i.ha)return uT(i.ha);throw y}).then(function(){if(y)throw y}),st(i,h,d)}function oT(i){if(!i.i||!i.R)throw i.i&&!i.R?new A("internal-error"):new A("auth-domain-config-required")}e.Kb=function(i,u,c,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return dv(d.a,{requestUri:i,postBody:h,sessionId:u,idToken:w})}).then(function(w){return y=Ja(d,w,"link"),nT(d,w)}).then(function(){return y}),st(this,c)},e.Lb=function(i,u,c,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Z().then(function(){return Ms(mv(d.a,{requestUri:i,sessionId:u,postBody:h,tenantId:c}),d.uid)}).then(function(S){return y=Ja(d,S,"reauthenticate"),Or(d,S),d.h=null,d.reload()}).then(function(){return y});return st(this,w,!0)},e.ub=function(i){var u=this,c=null;return st(this,this.I().then(function(h){return c=h,typeof i=="undefined"||bo(i)?{}:bf(new wf(i))}).then(function(h){return u.a.ub(c,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Eb=function(i,u){var c=this,h=null;return st(this,this.I().then(function(d){return h=d,typeof u=="undefined"||bo(u)?{}:bf(new wf(u))}).then(function(d){return c.a.Eb(h,i,d)}).then(function(d){if(c.email!=d)return c.reload()}).then(function(){}))};function st(i,u,c){var h=XM(i,u,c);return i.J.push(h),h.oa(function(){tf(i.J,h)}),h.o(function(d){var y=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(y=WI(d.w(),Xv(i),C(i.jc,i))),y||d})}e.jc=function(i){var u=null,c=this;return i=Ms(Z(i),c.uid).then(function(h){return u=Ja(c,h,"reauthenticate"),Or(c,h),c.h=null,c.reload()}).then(function(){return u}),st(this,i,!0)};function XM(i,u,c){return i.h&&!c?(u.cancel(),De(i.h)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(i.h||i.dispatchEvent(new zs("userInvalidated")),i.h=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&fn(i,this.metadata.w()),Se(this.providerData,function(u){i.providerData.push(EL(u))}),fn(i,this.O.w()),i};function sT(i){if(!i.apiKey)return null;var u={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[dr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var h=i.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var d=new kn(u,c,i);return i.providerData&&Se(i.providerData,function(y){y&&ny(d,Ar(y))}),i.redirectEventId&&(d.ga=i.redirectEventId),d}function JM(i,u,c,h){var d=new kn(i,u);return c&&(d.ha=c),h&&Qa(d,h),d.reload().then(function(){return d})}function ZM(i,u,c,h){var d=i.b,y={};return y[dr]=d.b&&d.b.toString(),y.refreshToken=d.a,u=new kn(u||{apiKey:i.l,authDomain:i.s,appName:i.m},y),c&&(u.ha=c),h&&Qa(u,h),Qf(u,i),u}function e3(i){this.a=i,this.b=Ya()}var iy={name:"redirectUser",F:"session"};function uT(i){return qs(i.b,iy,i.a)}function t3(i,u){return i.b.get(iy,i.a).then(function(c){return c&&u&&(c.authDomain=u),sT(c||{})})}function oy(i){this.a=i,this.b=Ya(),this.c=null,this.f=n3(this),this.b.addListener(Pr("local"),this.a,C(this.g,this))}oy.prototype.g=function(){var i=this,u=Pr("local");Hs(this,function(){return Z().then(function(){return i.c&&i.c.F!="local"?i.b.get(u,i.a):null}).then(function(c){if(c)return sy(i,"local").then(function(){i.c=u})})})};function sy(i,u){var c=[],h;for(h in Us)Us[h]!==u&&c.push(qs(i.b,Pr(Us[h]),i.a));return c.push(qs(i.b,uy,i.a)),KR(c)}function n3(i){var u=Pr("local"),c=Pr("session"),h=Pr("none");return yM(i.b,u,i.a).then(function(){return i.b.get(c,i.a)}).then(function(d){return d?c:i.b.get(h,i.a).then(function(y){return y?h:i.b.get(u,i.a).then(function(w){return w?u:i.b.get(uy,i.a).then(function(S){return S?Pr(S):u})})})}).then(function(d){return i.c=d,sy(i,d.F)}).o(function(){i.c||(i.c=u)})}var uy={name:"persistence",F:"session"};function Pr(i){return{name:"authUser",F:i}}oy.prototype.xb=function(i){var u=null,c=this;return vM(i),Hs(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(h){return u=h,sy(c,i)}).then(function(){if(c.c=Pr(i),u)return c.b.set(c.c,u,c.a)}):Z()})};function r3(i){return Hs(i,function(){return i.b.set(uy,i.c.F,i.a)})}function aT(i,u){return Hs(i,function(){return i.b.set(i.c,u.w(),i.a)})}function cT(i){return Hs(i,function(){return qs(i.b,i.c,i.a)})}function lT(i,u,c){return Hs(i,function(){return i.b.get(i.c,i.a).then(function(h){return h&&u&&(h.authDomain=u),h&&c&&(h.emulatorConfig=c),sT(h||{})})})}function Hs(i,u){return i.f=i.f.then(u,u),i.f}function mr(i){if(this.l=!1,W(this,"settings",new HI),W(this,"app",i),Ne(this).options&&Ne(this).options.apiKey)i=J.SDK_VERSION?Ps(J.SDK_VERSION):null,this.a=new pr(Ne(this).options&&Ne(this).options.apiKey,zn(Hn),i);else throw new A("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=J.INTERNAL.createSubscribe(C(this.zc,this)),this.X=void 0,this.bc=J.INTERNAL.createSubscribe(C(this.Ac,this)),Ks(this,null),this.i=new oy(Ne(this).options.apiKey+":"+Ne(this).name),this.D=new e3(Ne(this).options.apiKey+":"+Ne(this).name),this.$=Ue(this,c3(this)),this.h=Ue(this,l3(this)),this.ba=!1,this.ja=C(this.Zc,this),this.Ba=C(this.da,this),this.ya=C(this.mc,this),this.za=C(this.wc,this),this.Aa=C(this.xc,this),this.b=null,s3(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.Gc,this),this.u=0,Qt.call(this),o3(this),this.J=[],this.P=null}M(mr,Qt);function fT(i){pn.call(this,"languageCodeChanged"),this.h=i}M(fT,pn);function hT(i){pn.call(this,"emulatorConfigChanged"),this.c=i}M(hT,pn);function pT(i){pn.call(this,"frameworkChanged"),this.f=i}M(pT,pn),e=mr.prototype,e.xb=function(i){return i=this.i.xb(i),Ue(this,i)},e.wa=function(i){this.aa===i||this.l||(this.aa=i,K_(this.a,this.aa),this.dispatchEvent(new fT(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.wa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,u){if(!this.P){if(!/^https?:\/\//.test(i))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,i3(u),this.P={url:i,ec:u},this.settings.ib=!0,Fs(this.a,this.P),this.dispatchEvent(new hT(this.P))}};function i3(i){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&vf().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(i){this.J.push(i),G_(this.a,J.SDK_VERSION?Ps(J.SDK_VERSION,this.J):null),this.dispatchEvent(new pT(this.J))},e.Ga=function(){return wo(this.J)},e.yb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function o3(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.P){var u=dn(this.P.url);u=Ar({protocol:u.c,host:u.a,port:u.g,options:Ar({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Ne(this).options.apiKey,authDomain:Ne(this).options.authDomain,appName:Ne(this).name,currentUser:ue(this)&&ue(this).w()}};function ay(i){return i.Oa||De(new A("auth-domain-config-required"))}function s3(i){var u=Ne(i).options.authDomain,c=Ne(i).options.apiKey;u&&xo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=UI(u,c,Ne(i).name,i.P),Mv(i.b,i),ue(i)&&Xa(ue(i)),i.m){Xa(i.m);var h=i.m;h.wa(i.la()),$v(h,i),h=i.m,Qa(h,i.J),Qv(h,i),h=i.m,Fs(h.a,i.P),Yv(h,i),i.m=null}return i.b}}))}e.Fb=function(i,u){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(i,u,c,h){i=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==u&&this.f?C(this.ic,this):null},e.ic=function(i,u,c,h){var d=this,y={requestUri:i,postBody:h,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),d.$.then(function(){return Vo(d,pv(d.a,y))})},e.Xc=function(i){if(!xo())return De(new A("operation-not-supported-in-this-environment"));var u=this,c=Bm(i.providerId),h=ko(),d=null;(!ka()||Tm())&&Ne(this).options.authDomain&&i.isOAuthProvider&&(d=Ka(Ne(this).options.authDomain,Ne(this).options.apiKey,Ne(this).name,"signInViaPopup",i,null,h,J.SDK_VERSION||null,null,null,this.T(),this.P));var y=HE(d,c&&c.ua,c&&c.ta);return c=ay(this).then(function(w){return MI(w,y,"signInViaPopup",i,h,!!d,u.T())}).then(function(){return new ce(function(w,S){u.na("signInViaPopup",null,new A("cancelled-popup-request"),u.g),u.f=w,u.C=S,u.g=h,u.c=FI(u.b,u,"signInViaPopup",y,h)})}).then(function(w){return y&&No(y),w?Ar(w):null}).o(function(w){throw y&&No(y),w}),Ue(this,c)},e.Yc=function(i){if(!xo())return De(new A("operation-not-supported-in-this-environment"));var u=this,c=ay(this).then(function(){return r3(u.i)}).then(function(){return jI(u.b,"signInViaRedirect",i,void 0,u.T())});return Ue(this,c)};function dT(i){if(!xo())return De(new A("operation-not-supported-in-this-environment"));var u=ay(i).then(function(){return i.b.qa()}).then(function(c){return c?Ar(c):null});return Ue(i,u)}e.qa=function(){var i=this;return dT(this).then(function(u){return i.b&&Wf(i.b.b),u}).o(function(u){throw i.b&&Wf(i.b.b),u})},e.dd=function(i){if(!i)return De(new A("null-user"));if(this.S!=i.tenantId)return De(new A("tenant-id-mismatch"));var u=this,c={};c.apiKey=Ne(this).options.apiKey,c.authDomain=Ne(this).options.authDomain,c.appName=Ne(this).name;var h=ZM(i,c,u.D,u.Ga());return Ue(this,this.h.then(function(){if(Ne(u).options.apiKey!=i.l)return h.reload()}).then(function(){return ue(u)&&i.uid==ue(u).uid?(Qf(ue(u),i),u.da(i)):(Ks(u,h),Xa(h),u.da(h))}).then(function(){Za(u)}))};function u3(i,u){var c={};return c.apiKey=Ne(i).options.apiKey,c.authDomain=Ne(i).options.authDomain,c.appName=Ne(i).name,i.P&&(c.emulatorConfig=i.P),i.$.then(function(){return JM(c,u,i.D,i.Ga())}).then(function(h){return ue(i)&&h.uid==ue(i).uid?(Qf(ue(i),h),i.da(h)):(Ks(i,h),Xa(h),i.da(h))}).then(function(){Za(i)})}function Ks(i,u){ue(i)&&($M(ue(i),i.Ba),Nn(ue(i),"tokenChanged",i.ya),Nn(ue(i),"userDeleted",i.za),Nn(ue(i),"userInvalidated",i.Aa),Jv(ue(i))),u&&(u.S.push(i.Ba),Kn(u,"tokenChanged",i.ya),Kn(u,"userDeleted",i.za),Kn(u,"userInvalidated",i.Aa),0<i.u&&JI(u)),W(i,"currentUser",u),u&&(u.wa(i.la()),$v(u,i),Qa(u,i.J),Qv(u,i),Fs(u.a,i.P),Yv(u,i))}e.Ab=function(){var i=this,u=this.h.then(function(){return i.b&&Wf(i.b.b),ue(i)?(Ks(i,null),cT(i.i).then(function(){Za(i)})):Z()});return Ue(this,u)};function a3(i){var u=t3(i.D,Ne(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),uT(i.D)});return Ue(i,u)}function c3(i){var u=Ne(i).options.authDomain,c=a3(i).then(function(){return lT(i.i,u,i.P)}).then(function(h){return h?(h.ha=i.D,i.m&&(i.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return aT(i.i,h).then(function(){return h})}).o(function(d){return d.code=="auth/network-request-failed"?h:cT(i.i)})):null}).then(function(h){Ks(i,h||null)});return Ue(i,c)}function l3(i){return i.$.then(function(){return dT(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var u=i.i;u.b.addListener(Pr("local"),u.a,i.ja)}})}e.Zc=function(){var i=this;return lT(this.i,Ne(this).options.authDomain).then(function(u){if(!i.l){var c;if(c=ue(i)&&u){c=ue(i).uid;var h=u.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Qf(ue(i),u),ue(i).I();(ue(i)||u)&&(Ks(i,u),u&&(Xa(u),u.ha=i.D),i.b&&Mv(i.b,i),Za(i))}})},e.da=function(i){return aT(this.i,i)},e.mc=function(){Za(this),this.da(ue(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Vo(i,u){var c=null,h=null;return Ue(i,u.then(function(d){return c=Wm(d),h=v_(d),u3(i,d)},function(d){var y=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(y=WI(d.w(),i,C(i.kc,i))),y||d}).then(function(){return Ar({user:ue(i),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(i){var u=this;return this.h.then(function(){return Vo(u,Z(i))})},e.zc=function(i){var u=this;this.addAuthTokenListener(function(){i.next(ue(u))})},e.Ac=function(i){var u=this;f3(this,function(){i.next(ue(u))})},e.Ic=function(i,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(ue(h)):typeof i.next=="function"&&i.next(ue(h))}),this.hb(i,u,c)},e.Hc=function(i,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.X=h.getUid(),typeof i=="function"?i(ue(h)):typeof i.next=="function"&&i.next(ue(h))}),this.bc(i,u,c)},e.nc=function(i){var u=this,c=this.h.then(function(){return ue(u)?ue(u).I(i).then(function(h){return{accessToken:h}}):null});return Ue(this,c)},e.Tc=function(i){var u=this;return this.h.then(function(){return Vo(u,le(u.a,K2,{token:i}))}).then(function(c){var h=c.user;return _i(h,"isAnonymous",!1),u.da(h),c})},e.Uc=function(i,u){var c=this;return this.h.then(function(){return Vo(c,le(c.a,tI,{email:i,password:u}))})},e.dc=function(i,u){var c=this;return this.h.then(function(){return Vo(c,le(c.a,_2,{email:i,password:u}))})},e.$a=function(i){var u=this;return this.h.then(function(){return Vo(u,i.ka(u.a))})},e.Sc=function(i){return km("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(i)},e.zb=function(){var i=this;return this.h.then(function(){var u=ue(i);if(u&&u.isAnonymous){var c=Ar({providerId:null,isNewUser:!1});return Ar({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Vo(i,i.a.zb()).then(function(h){var d=h.user;return _i(d,"isAnonymous",!0),i.da(d),h})})};function Ne(i){return i.app}function ue(i){return i.currentUser}e.getUid=function(){return ue(this)&&ue(this).uid||null};function Jf(i){return ue(i)&&ue(i)._lat||null}function Za(i){if(i.ba){for(var u=0;u<i.s.length;u++)i.s[u]&&i.s[u](Jf(i));if(i.X!==i.getUid()&&i.O.length)for(i.X=i.getUid(),u=0;u<i.O.length;u++)i.O[u]&&i.O[u](Jf(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&ue(this)&&JI(ue(this))},e.Pc=function(i){var u=this;Se(this.s,function(c){c==i&&u.u--}),0>this.u&&(this.u=0),this.u==0&&ue(this)&&Jv(ue(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var u=this;this.s.push(i),Ue(this,this.h.then(function(){u.l||Yr(u.s,i)&&i(Jf(u))}))},e.removeAuthTokenListener=function(i){cr(this.s,function(u){return u==i})};function f3(i,u){i.O.push(u),Ue(i,i.h.then(function(){!i.l&&Yr(i.O,u)&&i.X!==i.getUid()&&(i.X=i.getUid(),u(Jf(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.R.length;i++)this.R[i].cancel("app-deleted");return this.R=[],this.i&&(i=this.i,i.b.removeListener(Pr("local"),i.a,this.ja)),this.b&&(LI(this.b,this),Wf(this.b.b)),Promise.resolve()};function Ue(i,u){return i.R.push(u),u.oa(function(){tf(i.R,u)}),u}e.hc=function(i){return Ue(this,p2(this.a,i))},e.Bc=function(i){return!!Gm(i)},e.wb=function(i,u){var c=this;return Ue(this,Z().then(function(){var h=new wf(u);if(!h.c)throw new A("argument-error",Vm+" must be true when sending sign in link to email");return bf(h)}).then(function(h){return c.a.wb(i,h)}).then(function(){}))},e.jd=function(i){return this.Ra(i).then(function(u){return u.data.email})},e.nb=function(i,u){return Ue(this,this.a.nb(i,u).then(function(){}))},e.Ra=function(i){return Ue(this,this.a.Ra(i).then(function(u){return new IL(u)}))},e.jb=function(i){return Ue(this,this.a.jb(i).then(function(){}))},e.vb=function(i,u){var c=this;return Ue(this,Z().then(function(){return typeof u=="undefined"||bo(u)?{}:bf(new wf(u))}).then(function(h){return c.a.vb(i,h)}).then(function(){}))},e.Wc=function(i,u){return Ue(this,Uv(this,i,u,C(this.$a,this)))},e.Vc=function(i,u){var c=this;return Ue(this,Z().then(function(){var h=u||xa(),d=k_(i,h);if(h=Gm(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.$a(d)}))};function ec(){}ec.prototype.render=function(){},ec.prototype.reset=function(){},ec.prototype.getResponse=function(){},ec.prototype.execute=function(){};function Gs(){this.a={},this.b=1e12}var cy=null;Gs.prototype.render=function(i,u){return this.a[this.b.toString()]=new Zf(i,u),this.b++},Gs.prototype.reset=function(i){var u=ly(this,i);i=mT(i),u&&i&&(u.delete(),delete this.a[i])},Gs.prototype.getResponse=function(i){return(i=ly(this,i))?i.getResponse():null},Gs.prototype.execute=function(i){(i=ly(this,i))&&i.execute()};function ly(i,u){return(u=mT(u))&&i.a[u]||null}function mT(i){return(i=typeof i=="undefined"?1e12:i)?i.toString():null}function Zf(i,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ba(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():Kn(this.f,"click",this.i)}Zf.prototype.getResponse=function(){return fy(this),this.b},Zf.prototype.execute=function(){fy(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=yL();var u=i.c.callback,c=i.c["expired-callback"];if(u)try{u(i.b)}catch(h){}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch(h){}i.h&&i.execute()},6e4)},500))},Zf.prototype.delete=function(){fy(this),this.g=!0,clearTimeout(this.a),this.a=null,Nn(this.f,"click",this.i)};function fy(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function hy(){}W(hy,"FACTOR_ID","phone");function py(){}py.prototype.g=function(){return cy||(cy=new Gs),Z(cy)},py.prototype.c=function(){};var dy=null;function my(){this.b=f.grecaptcha?Infinity:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var h3=new Nr(nf,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),p3=new wi(3e4,6e4);my.prototype.g=function(i){var u=this;return new ce(function(c,h){var d=setTimeout(function(){h(new A("network-request-failed"))},p3.get());if(!f.grecaptcha||i!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=i;var w=f.grecaptcha.render;f.grecaptcha.render=function(S,D){return S=w(S,D),u.b++,S},clearTimeout(d),c(f.grecaptcha)}else clearTimeout(d),h(new A("internal-error"));delete f[u.a]};var y=Xd(h3,{onload:u.a,hl:i||""});Z(sv(y)).o(function(){clearTimeout(d),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(d),c(f.grecaptcha)})},my.prototype.c=function(){this.b--};var vy=null;function yy(i,u,c,h,d,y,w){if(W(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(dy||(dy=new py),w=dy):(vy||(vy=new my),w=vy),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[gT])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[d3]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ba(u)||!this.i&&ba(u).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new pr(i,y||null,d||null),this.u=h||function(){return null};var S=this;this.l=[];var D=this.a[vT];this.a[vT]=function(ne){if(wT(S,ne),typeof D=="function")D(ne);else if(typeof D=="string"){var _e=Re(D,f);typeof _e=="function"&&_e(ne)}};var j=this.a[yT];this.a[yT]=function(){if(wT(S,null),typeof j=="function")j();else if(typeof j=="string"){var ne=Re(j,f);typeof ne=="function"&&ne()}}}var vT="callback",yT="expired-callback",gT="sitekey",d3="size";function wT(i,u){for(var c=0;c<i.l.length;c++)try{i.l[c](u)}catch(h){}}function m3(i,u){cr(i.l,function(c){return c==u})}function gy(i,u){return i.h.push(u),u.oa(function(){tf(i.h,u)}),u}e=yy.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=gy(this,Z().then(function(){if(yf()&&!fr())return vf();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(u){return i.g=u,le(i.s,M2,{})}).then(function(u){i.a[gT]=u.recaptchaSiteKey}).o(function(u){throw i.f=null,u}))},e.render=function(){eh(this);var i=this;return gy(this,this.Ia().then(function(){if(i.c===null){var u=i.v;if(!i.i){var c=ba(u);u=BR("DIV"),c.appendChild(u)}i.c=i.g.render(u,i.a)}return i.c}))},e.verify=function(){eh(this);var i=this;return gy(this,this.render().then(function(u){return new ce(function(c){var h=i.g.getResponse(u);if(h)c(h);else{var d=function(y){y&&(m3(i,d),c(y))};i.l.push(d),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){eh(this),this.c!==null&&this.g.reset(this.c)};function eh(i){if(i.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){eh(this),this.D=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=ba(this.v);for(var u;u=i.firstChild;)i.removeChild(u)}};function wy(i,u,c){var h=!1;try{this.b=c||J.app()}catch(w){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var d=this,y=null;try{y=this.b.auth().Ga()}catch(w){}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch(w){}y=J.SDK_VERSION?Ps(J.SDK_VERSION,y):null,yy.call(this,c,i,u,function(){try{var w=d.b.auth().la()}catch(S){w=null}return w},y,zn(Hn),h)}M(wy,yy);function bT(i,u,c,h){e:{c=Array.prototype.slice.call(c);for(var d=0,y=!1,w=0;w<u.length;w++)if(u[w].optional)y=!0;else{if(y)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");d++}if(y=u.length,c.length<d||y<c.length)h="Expected "+(d==y?d==1?"1 argument":d+" arguments":d+"-"+y+" arguments")+" but got "+c.length+".";else{for(d=0;d<c.length;d++)if(y=u[d].optional&&c[d]===void 0,!u[d].M(c[d])&&!y){if(u=u[d],0>d||d>=ET.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=ET[d],h=(h?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new A("argument-error",i+" failed: "+h)}var ET="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function G(i,u){return{name:i||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function by(i,u){return{name:i||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Je(i,u){return{name:i||"",K:"a valid object",optional:!!u,M:E}}function Ws(i,u){return{name:i||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Dr(i,u){return{name:i||"",K:"null",optional:!!u,M:function(c){return c===null}}}function v3(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function y3(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof mr)}}}function g3(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof J.app.App)}}}function Ii(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!i||u.providerId===i;return!(!u.ka||!c)}}}function _T(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.sb:!1}}}function $s(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Ey(i,u){return E(i)&&typeof i.type=="string"&&i.type===u&&typeof i.Ha=="function"}function IT(i){return E(i)&&typeof i.uid=="string"}function th(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Ke(i,u,c,h){return{name:c||"",K:i.K+" or "+u.K,optional:!!h,M:function(d){return i.M(d)||u.M(d)}}}function Fe(i,u){for(var c in u){var h=u[c].name;i[h]=ST(h,i[c],u[c].j)}}function TT(i,u){for(var c in u){var h=u[c].name;h!==c&&Object.defineProperty(i,h,{get:F(function(d){return this[d]},c),set:F(function(d,y,w,S){bT(d,[w],[S],!0),this[y]=S},h,c,u[c].kb),enumerable:!0})}}function Ge(i,u,c,h){i[u]=ST(u,c,h)}function ST(i,u,c){function h(){var w=Array.prototype.slice.call(arguments);return bT(d,c,w),u.apply(this,w)}if(!c)return u;var d=w3(i),y;for(y in u)h[y]=u[y];for(y in u.prototype)h.prototype[y]=u.prototype[y];return h}function w3(i){return i=i.split("."),i[i.length-1]}Fe(mr.prototype,{jb:{name:"applyActionCode",j:[G("code")]},Ra:{name:"checkActionCode",j:[G("code")]},nb:{name:"confirmPasswordReset",j:[G("code"),G("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[G("email"),G("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[G("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[G("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ke(Je(),Ws(),"nextOrObserver"),Ws("opt_error",!0),Ws("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ke(Je(),Ws(),"nextOrObserver"),Ws("opt_error",!0),Ws("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[G("email"),Ke(Je("opt_actionCodeSettings",!0),Dr(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[G("email"),Je("actionCodeSettings")]},xb:{name:"setPersistence",j:[G("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ii()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ii()]},Tc:{name:"signInWithCustomToken",j:[G("token")]},Uc:{name:"signInWithEmailAndPassword",j:[G("email"),G("password")]},Vc:{name:"signInWithEmailLink",j:[G("email"),G("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[G("phoneNumber"),th()]},Xc:{name:"signInWithPopup",j:[$s()]},Yc:{name:"signInWithRedirect",j:[$s()]},dd:{name:"updateCurrentUser",j:[Ke(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(u){return!!(u&&u instanceof kn)}}}(),Dr(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[G(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[G("url"),Je("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[G("code")]}}),TT(mr.prototype,{lc:{name:"languageCode",kb:Ke(G(),Dr(),"languageCode")},ti:{name:"tenantId",kb:Ke(G(),Dr(),"tenantId")}}),mr.Persistence=Us,mr.Persistence.LOCAL="local",mr.Persistence.SESSION="session",mr.Persistence.NONE="none",Fe(kn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[by("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[by("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ii()]},qb:{name:"linkWithCredential",j:[Ii()]},Dc:{name:"linkWithPhoneNumber",j:[G("phoneNumber"),th()]},Ec:{name:"linkWithPopup",j:[$s()]},Fc:{name:"linkWithRedirect",j:[$s()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ii()]},tb:{name:"reauthenticateWithCredential",j:[Ii()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[G("phoneNumber"),th()]},Nc:{name:"reauthenticateWithPopup",j:[$s()]},Oc:{name:"reauthenticateWithRedirect",j:[$s()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Ke(Je("opt_actionCodeSettings",!0),Dr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[G(null,!0)]},cd:{name:"unlink",j:[G("provider")]},Bb:{name:"updateEmail",j:[G("email")]},Cb:{name:"updatePassword",j:[G("password")]},ed:{name:"updatePhoneNumber",j:[Ii("phone")]},Db:{name:"updateProfile",j:[Je("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[G("email"),Ke(Je("opt_actionCodeSettings",!0),Dr(null,!0),"opt_actionCodeSettings",!0)]}}),Fe(Gs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fe(ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fe(ce.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),TT(HI.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:by("appVerificationDisabledForTesting")}}),Fe(Vv.prototype,{confirm:{name:"confirm",j:[G("verificationCode")]}}),Ge(Ls,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var u,c=[BL,qL,zL,UL],h=0;h<c.length;h++)if(u=c[h](i))return u;return null},[Ke(G(),Je(),"json")]),Ge(Wn,"credential",function(i,u){return new bi(i,u)},[G("email"),G("password")]),Fe(bi.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Fe(Oo.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),Ge(Oo,"credential",T_,[Ke(G(),Je(),"token")]),Ge(Wn,"credentialWithLink",k_,[G("email"),G("emailLink")]),Fe(Po.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),Ge(Po,"credential",S_,[Ke(G(),Je(),"token")]),Fe(Do.prototype,{Ca:{name:"addScope",j:[G("scope")]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),Ge(Do,"credential",N_,[Ke(G(),Ke(Je(),Dr()),"idToken"),Ke(G(),Dr(),"accessToken",!0)]),Fe(js.prototype,{Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),Ge(js,"credential",x_,[Ke(G(),Je(),"token"),G("secret",!0)]),Fe(xn.prototype,{Ca:{name:"addScope",j:[G("scope")]},credential:{name:"credential",j:[Ke(G(),Ke(Je(),Dr()),"optionsOrIdToken"),Ke(G(),Dr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Je("customOAuthParameters")]}}),Fe(Xr.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Fe(Ao.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Ge(Jr,"credential",A_,[G("verificationId"),G("verificationCode")]),Fe(Jr.prototype,{fb:{name:"verifyPhoneNumber",j:[Ke(G(),function(i,u){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Ey(c.session,Ra)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Ey(c.session,Sf)&&IT(c.multiFactorHint):c.session&&c.multiFactorUid?Ey(c.session,Sf)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),th()]}}),Fe(Ei.prototype,{w:{name:"toJSON",j:[G(null,!0)]}}),Fe(A.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Fe(Ma.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Fe(Qm.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Fe(qv.prototype,{toJSON:{name:"toJSON",j:[G(null,!0)]}}),Fe(Bv.prototype,{Rc:{name:"resolveSignIn",j:[_T()]}}),Fe(Hv.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[_T(),G("displayName",!0)]},bd:{name:"unenroll",j:[Ke({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:IT},G(),"multiFactorInfoIdentifier")]}}),Fe(wy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ge(Fm,"parseLink",s_,[G("link")]),Ge(hy,"assertion",function(i){return new YI(i)},[Ii("phone")]),function(){if(typeof J!="undefined"&&J.INTERNAL&&J.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:jm,VERIFY_AND_CHANGE_EMAIL:Pa,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:mr,AuthCredential:Ls,Error:A};Ge(i,"EmailAuthProvider",Wn,[]),Ge(i,"FacebookAuthProvider",Oo,[]),Ge(i,"GithubAuthProvider",Po,[]),Ge(i,"GoogleAuthProvider",Do,[]),Ge(i,"TwitterAuthProvider",js,[]),Ge(i,"OAuthProvider",xn,[G("providerId")]),Ge(i,"SAMLAuthProvider",I_,[G("providerId")]),Ge(i,"PhoneAuthProvider",Jr,[y3()]),Ge(i,"RecaptchaVerifier",wy,[Ke(G(),v3(),"recaptchaContainer"),Je("recaptchaParameters",!0),g3()]),Ge(i,"ActionCodeURL",Fm,[]),Ge(i,"PhoneMultiFactorGenerator",hy,[]),J.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new mr(u)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC"}),J.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:C(u.getUid,u),getToken:C(u.nc,u),addAuthTokenListener:C(u.cc,u),removeAuthTokenListener:C(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),J.registerVersion("@firebase/auth","0.16.5"),J.INTERNAL.extendNamespace({User:kn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Yy=function(e,t){return Yy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Yy(e,t)};function RF(e,t){Yy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function _S(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var LF=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$,Qy=Qy||{},se=LF||self;function ah(){}function Xy(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ac(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function jF(e){return Object.prototype.hasOwnProperty.call(e,Jy)&&e[Jy]||(e[Jy]=++MF)}var Jy="closure_uid_"+(1e9*Math.random()>>>0),MF=0;function FF(e,t,n){return e.call.apply(e.bind,arguments)}function VF(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Rt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Rt=FF:Rt=VF,Rt.apply(null,arguments)}function ch(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Rr(){return Date.now()}function Zt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(r,a)}}function Ai(){this.j=this.j,this.i=this.i}var UF=0;Ai.prototype.j=!1;Ai.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),UF!=0))var e=jF(this)};Ai.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var IS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},TS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function qF(e){e:{for(var t=BF,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function SS(e){return Array.prototype.concat.apply([],arguments)}function Zy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function lh(e){return/^[\s\xa0]*$/.test(e)}var NS=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function en(e,t){return e.indexOf(t)!=-1}function eg(e,t){return e<t?-1:e>t?1:0}var tn;e:{if(tg=se.navigator,tg&&(ng=tg.userAgent,ng)){tn=ng;break e}tn=""}var tg,ng;function rg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xS(e){var t={};for(var n in e)t[n]=e[n];return t}var kS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AS(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<kS.length;s++)n=kS[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ig(e){return ig[" "](e),e}ig[" "]=ah;function HF(e,t){var n=zF;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var KF=en(tn,"Opera"),Ci=en(tn,"Trident")||en(tn,"MSIE"),CS=en(tn,"Edge"),og=CS||Ci,OS=en(tn,"Gecko")&&!(en(tn.toLowerCase(),"webkit")&&!en(tn,"Edge"))&&!(en(tn,"Trident")||en(tn,"MSIE"))&&!en(tn,"Edge"),GF=en(tn.toLowerCase(),"webkit")&&!en(tn,"Edge");function PS(){var e=se.document;return e?e.documentMode:void 0}var fh;e:{if(hh="",ph=function(){var e=tn;if(OS)return/rv:([^\);]+)(\)|;)/.exec(e);if(CS)return/Edge\/([\d\.]+)/.exec(e);if(Ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(GF)return/WebKit\/(\S+)/.exec(e);if(KF)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),ph&&(hh=ph?ph[1]:""),Ci&&(dh=PS(),dh!=null&&dh>parseFloat(hh))){fh=String(dh);break e}fh=hh}var hh,ph,dh,zF={};function DS(e){return HF(e,function(){for(var t=0,n=NS(String(fh)).split("."),r=NS(String(e)).split("."),o=Math.max(n.length,r.length),s=0;t==0&&s<o;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=eg(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||eg(a[2].length==0,l[2].length==0)||eg(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var sg;se.document&&Ci?(ug=PS(),sg=ug||parseInt(fh,10)||void 0):sg=void 0;var ug,RS=sg,ag=!Ci||9<=Number(RS),WF=Ci&&!DS("9"),$F=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{se.addEventListener("test",ah,t),se.removeEventListener("test",ah,t)}catch(n){}return e}();function Lt(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Lt.prototype.b=function(){this.defaultPrevented=!0};function cc(e,t){if(Lt.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(OS){e:{try{ig(t.nodeName);var o=!0;break e}catch(s){}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:YF[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Zt(cc,Lt);var YF={2:"touch",3:"pen",4:"mouse"};cc.prototype.b=function(){cc.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,WF)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var lc="closure_listenable_"+(1e6*Math.random()|0),QF=0;function XF(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=o,this.key=++QF,this.Y=this.Z=!1}function mh(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function vh(e){this.src=e,this.a={},this.b=0}vh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=cg(e,t,r,o);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new XF(t,this.src,s,!!r,o),t.Z=n,e.push(t)),t};function lg(e,t){var n=t.type;if(n in e.a){var r=e.a[n],o=IS(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(mh(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function cg(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return o}return-1}var fg="closure_lm_"+(1e6*Math.random()|0),hg={};function pg(e,t,n,r,o){if(r&&r.once)return MS(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)pg(e,t[s],n,r,o);return null}return n=dg(n),e&&e[lc]?e.va(t,n,ac(r)?!!r.capture:!!r,o):LS(e,t,n,!1,r,o)}function LS(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var a=ac(o)?!!o.capture:!!o;if(a&&!ag)return null;var l=mg(e);if(l||(e[fg]=l=new vh(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=JF(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$F||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(jS(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JF(){var e=ZF,t=ag?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function MS(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)MS(e,t[s],n,r,o);return null}return n=dg(n),e&&e[lc]?e.wa(t,n,ac(r)?!!r.capture:!!r,o):LS(e,t,n,!0,r,o)}function FS(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)FS(e,t[s],n,r,o);else r=ac(r)?!!r.capture:!!r,n=dg(n),e&&e[lc]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=cg(s,n,r,o),-1<n&&(mh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=mg(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cg(t,n,r,o)),(n=-1<e?t[e]:null)&&vg(n))}function vg(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[lc])lg(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mg(t))?(lg(n,e),n.b==0&&(n.src=null,t[fg]=null)):mh(e)}}}function jS(e){return e in hg?hg[e]:hg[e]="on"+e}function VS(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&vg(e),n.call(r,t)}function ZF(e,t){if(e.Y)return!0;if(!ag){if(!t)e:{t=["window","event"];for(var n=se,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new cc(t,this),VS(e,t)}return VS(e,new cc(t,this))}function mg(e){return e=e[fg],e instanceof vh?e:null}var yg="__closure_events_fn_"+(1e9*Math.random()>>>0);function dg(e){return typeof e=="function"?e:(e[yg]||(e[yg]=function(t){return e.handleEvent(t)}),e[yg])}function An(){Ai.call(this),this.c=new vh(this),this.J=this,this.C=null}Zt(An,Ai);An.prototype[lc]=!0;$=An.prototype;$.addEventListener=function(e,t,n,r){pg(this,e,t,n,r)};$.removeEventListener=function(e,t,n,r){FS(this,e,t,n,r)};function Tt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Lt(t,e);else if(t instanceof Lt)t.target=t.target||e;else{var o=t;t=new Lt(r,e),AS(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];o=yh(a,r,!0,t)&&o}if(a=t.a=e,o=yh(a,r,!0,t)&&o,o=yh(a,r,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.a=n[s],o=yh(a,r,!1,t)&&o}$.G=function(){if(An.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)mh(n[r]);delete e.a[t],e.b--}}this.C=null};$.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};$.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function yh(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,f=a.ca||a.src;a.Z&&lg(e.c,a),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var gg=se.JSON.stringify;function US(){this.b=this.a=null}var BS=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new wg},function(e){e.reset()});US.prototype.add=function(e,t){var n=BS.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function e4(){var e=qS,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function wg(){this.next=this.b=this.a=null}wg.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};wg.prototype.reset=function(){this.next=this.b=this.a=null};function t4(e){se.setTimeout(function(){throw e},0)}function zS(e,t){bg||n4(),Eg||(bg(),Eg=!0),qS.add(e,t)}var bg;function n4(){var e=se.Promise.resolve(void 0);bg=function(){e.then(r4)}}var Eg=!1,qS=new US;function r4(){for(var e;e=e4();){try{e.a.call(e.b)}catch(n){t4(n)}var t=BS;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Eg=!1}function gh(e,t){An.call(this),this.b=e||1,this.a=t||se,this.f=Rt(this.Za,this),this.g=Rr()}Zt(gh,An);$=gh.prototype;$.aa=!1;$.M=null;$.Za=function(){if(this.aa){var e=Rr()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tt(this,"tick"),this.aa&&(_g(this),this.start()))}};$.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Rr())};function _g(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}$.G=function(){gh.X.G.call(this),_g(this),delete this.a};function Ig(e,t,n){if(typeof e=="function")n&&(e=Rt(e,n));else if(e&&typeof e.handleEvent=="function")e=Rt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:se.setTimeout(e,t||0)}function HS(e){e.a=Ig(function(){e.a=null,e.c&&(e.c=!1,HS(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var i4=function(e){RF(t,e);function t(n,r){var o=e.call(this)||this;return o.g=n,o.h=r,o.b=null,o.c=!1,o.a=null,o}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:HS(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(se.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Ai);function fc(e){Ai.call(this),this.b=e,this.a={}}Zt(fc,Ai);var KS=[];function GS(e,t,n,r){Array.isArray(n)||(n&&(KS[0]=n.toString()),n=KS);for(var o=0;o<n.length;o++){var s=pg(t,n[o],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function WS(e){rg(e.a,function(t,n){this.a.hasOwnProperty(n)&&vg(t)},e),e.a={}}fc.prototype.G=function(){fc.X.G.call(this),WS(this)};fc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tg(){this.a=!0}function o4(e,t,n,r,o,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var m=p[0];p=p[1];var g=m.split("_");a=2<=g.length&&g[1]=="type"?a+(m+"="+p+"&"):a+(m+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function s4(e,t,n,r,o,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function tu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+u4(e,n)+(r?" "+r:"")})}function a4(e,t){e.info(function(){return"TIMEOUT: "+t})}Tg.prototype.info=function(){};function u4(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return gg(n)}catch(l){return t}}var zo={},$S=null;function wh(){return $S=$S||new An}zo.Fa="serverreachability";function YS(e){Lt.call(this,zo.Fa,e)}Zt(YS,Lt);function hc(e){var t=wh();Tt(t,new YS(t,e))}zo.STAT_EVENT="statevent";function QS(e,t){Lt.call(this,zo.STAT_EVENT,e),this.stat=t}Zt(QS,Lt);function nn(e){var t=wh();Tt(t,new QS(t,e))}zo.Ga="timingevent";function XS(e){Lt.call(this,zo.Ga,e)}Zt(XS,Lt);function pc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){e()},t)}var bh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},JS={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ZS(){}ZS.prototype.a=null;function eN(e){var t;return(t=e.a)||(t=e.a={}),t}function tN(){}var dc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Sg(){Lt.call(this,"d")}Zt(Sg,Lt);function Ng(){Lt.call(this,"c")}Zt(Ng,Lt);var nN;function rN(){}Zt(rN,ZS);nN=new rN;function mc(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new fc(this),this.P=c4,e=og?125:void 0,this.R=new gh(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var c4=45e3,iN={},xg={};$=mc.prototype;$.setTimeout=function(e){this.P=e};function kg(e,t,n){e.H=1,e.i=Eh(ri(t)),e.j=n,e.I=!0,oN(e,null)}function oN(e,t){e.u=Rr(),vc(e),e.l=ri(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),sN(n.b,"t",r),e.D=0,e.a=uN(e.g,e.g.C?t:null),0<e.O&&(e.F=new i4(Rt(e.Ca,e,e.a),e.O)),GS(e.J,e.a,"readystatechange",e.Xa),t=e.B?xS(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),hc(1),o4(e.c,e.m,e.l,e.f,e.S,e.j)}$.Xa=function(e){e=e.target;var t=this.F;t&&Oi(e)==3?t.f():this.Ca(e)};$.Ca=function(e){try{if(e==this.a)e:{var t=Oi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!og&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?hc(3):hc(2)),_h(this);var o=this.a.W();this.N=o;var s=this.a.$();if(this.b=o==200,s4(this.c,this.m,this.l,this.f,this.S,t,o),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lh(a)){var f=a;break t}}f=null}if(f)tu(this.c,this.f,f,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ag(this,f);else{this.b=!1,this.h=3,nn(12),nu(this),Ih(this);break e}}this.I?(aN(this,t,s),og&&this.b&&t==3&&(GS(this.J,this.R,"tick",this.Wa),this.R.start())):(tu(this.c,this.f,s,null),Ag(this,s)),t==4&&nu(this),this.b&&!this.A&&(t==4?cN(this.g,this):(this.b=!1,vc(this)))}else o==400&&0<s.indexOf("Unknown SID")?(this.h=3,nn(12)):(this.h=0,nn(13)),nu(this),Ih(this)}}}catch(p){}finally{}};function aN(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var o=l4(e,n);if(o==xg){t==4&&(e.h=4,nn(14),r=!1),tu(e.c,e.f,null,"[Incomplete Response]");break}else if(o==iN){e.h=4,nn(15),tu(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else tu(e.c,e.f,o,null),Ag(e,o)}t==4&&n.length==0&&(e.h=1,nn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cg(t),t.F=!0,nn(11))):(tu(e.c,e.f,n,"[Invalid Chunked Response]"),nu(e),Ih(e))}$.Wa=function(){if(this.a){var e=Oi(this.a),t=this.a.$();this.D<t.length&&(_h(this),aN(this,e,t),this.b&&e!=4&&vc(this))}};function l4(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?xg:(n=Number(t.substring(n,r)),isNaN(n)?iN:(r+=1,r+n>t.length?xg:(t=t.substr(r,n),e.D=r+n,t)))}$.cancel=function(){this.A=!0,nu(this)};function vc(e){e.T=Rr()+e.P,lN(e,e.P)}function lN(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=pc(Rt(e.Va,e),t)}function _h(e){e.o&&(se.clearTimeout(e.o),e.o=null)}$.Va=function(){this.o=null;var e=Rr();0<=e-this.T?(a4(this.c,this.l),this.H!=2&&(hc(3),nn(17)),nu(this),this.h=2,Ih(this)):lN(this,this.T-e)};function Ih(e){e.g.v==0||e.A||cN(e.g,e)}function nu(e){_h(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,_g(e.R),WS(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Ag(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||Og(n.b,e))){if(n.I=e.N,!e.C&&Og(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch(E){r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0)e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)Nh(n),Th(n);else break e;Rg(n),nn(18)}else n.oa=o[1],0<n.oa-n.P&&37500>o[2]&&n.H&&n.o==0&&!n.m&&(n.m=pc(Rt(n.Sa,n),6e3));if(1>=fN(n.b)&&n.ea){try{n.ea()}catch(E){}n.ea=void 0}}else Ho(n,11)}else if((e.C||n.a==e)&&Nh(n),!lh(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(o=t[r],n.P=o[0],o=o[1],n.v==2)if(o[0]=="c"){n.J=o[1],n.ga=o[2];var s=o[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=o[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=o[5];if(l!=null&&typeof l=="number"&&0<l){var f=1.5*l;n.D=f,n.c.info("backChannelRequestTimeoutMs_="+f)}f=n;var p=e.a;if(p){var m=p.a?p.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var g=f.b;!g.a&&(en(m,"spdy")||en(m,"quic")||en(m,"h2"))&&(g.f=g.g,g.a=new Set,g.b&&(Pg(g,g.b),g.b=null))}if(f.A){var v=p.a?p.a.getResponseHeader("X-HTTP-Session-Id"):null;v&&(f.na=v,Le(f.B,f.A,v))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Rr()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),f=n;var _=e;if(f.la=dN(f,f.C?f.ga:null,f.fa),_.C){hN(f.b,_);var T=_,N=f.D;N&&T.setTimeout(N),T.o&&(_h(T),vc(T)),f.a=_}else pN(f);0<n.g.length&&Sh(n)}else o[0]!="stop"&&o[0]!="close"||Ho(n,7);else n.v==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Ho(n,7):Dg(n):o[0]!="noop"&&n.f&&n.f.sa(o),n.o=0)}hc(4)}catch(E){}}function f4(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(Xy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function Lg(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Xy(e)||typeof e=="string")TS(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(Xy(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=f4(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function ru(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ru)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}$=ru.prototype;$.K=function(){Mg(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};$.L=function(){return Mg(this),this.a.concat()};function Mg(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ko(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)r=e.a[t],Ko(o,r)||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}$.get=function(e,t){return Ko(this.b,e)?this.b[e]:t};$.set=function(e,t){Ko(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};$.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Ko(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var mN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function h4(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Go(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Go){this.a=t!==void 0?t:e.a,xh(this,e.f),this.j=e.j,kh(this,e.c),Ah(this,e.h),this.g=e.g,t=e.b;var n=new gc;n.c=t.c,t.a&&(n.a=new ru(t.a),n.b=t.b),vN(this,n),this.i=e.i}else e&&(n=String(e).match(mN))?(this.a=!!t,xh(this,n[1]||"",!0),this.j=yc(n[2]||""),kh(this,n[3]||"",!0),Ah(this,n[4]),this.g=yc(n[5]||"",!0),vN(this,n[6]||"",!0),this.i=yc(n[7]||"")):(this.a=!!t,this.b=new gc(null,this.a))}Go.prototype.toString=function(){var e=[],t=this.f;t&&e.push(wc(t,yN,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(wc(t,yN,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(wc(n,n.charAt(0)=="/"?d4:p4,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",wc(n,m4)),e.join("")};function ri(e){return new Go(e)}function xh(e,t,n){e.f=n?yc(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function kh(e,t,n){e.c=n?yc(t,!0):t}function Ah(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function vN(e,t,n){t instanceof gc?(e.b=t,y4(e.b,e.a)):(n||(t=wc(t,v4)),e.b=new gc(t,e.a))}function Le(e,t,n){e.b.set(t,n)}function Eh(e){return Le(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Rr()).toString(36)),e}function g4(e){return e instanceof Go?ri(e):new Go(e,void 0)}function w4(e,t,n,r){var o=new Go(null,void 0);return e&&xh(o,e),t&&kh(o,t),n&&Ah(o,n),r&&(o.g=r),o}function yc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,b4),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function b4(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var yN=/[#\/\?@]/g,p4=/[#\?:]/g,d4=/[#\?]/g,v4=/[#\?@]/g,m4=/#/g;function gc(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Pi(e){e.a||(e.a=new ru,e.b=0,e.c&&h4(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}$=gc.prototype;$.add=function(e,t){Pi(this),this.c=null,e=iu(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function gN(e,t){Pi(e),t=iu(e,t),Ko(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Ko(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Mg(e)))}function wN(e,t){return Pi(e),t=iu(e,t),Ko(e.a.b,t)}$.forEach=function(e,t){Pi(this),this.a.forEach(function(n,r){TS(n,function(o){e.call(t,o,r,this)},this)},this)};$.L=function(){Pi(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};$.K=function(e){Pi(this);var t=[];if(typeof e=="string")wN(this,e)&&(t=SS(t,this.a.get(iu(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=SS(t,e[n])}return t};$.set=function(e,t){return Pi(this),this.c=null,e=iu(this,e),wN(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};$.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function sN(e,t,n){gN(e,t),0<n.length&&(e.c=null,e.a.set(iu(e,t),Zy(n)),e.b+=n.length)}$.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=o;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function iu(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function y4(e,t){t&&!e.f&&(Pi(e),e.c=null,e.a.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(gN(this,r),sN(this,o,n))},e)),e.f=t}var E4=function(){function e(t,n){this.b=t,this.a=n}return e}();function bN(e){this.g=e||_4,se.PerformanceNavigationTiming?(e=se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(se.ia&&se.ia.ya&&se.ia.ya()&&se.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _4=10;function EN(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function fN(e){return e.b?1:e.a?e.a.size:0}function Og(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function Pg(e,t){e.a?e.a.add(t):e.b=t}function hN(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}bN.prototype.cancel=function(){var e,t;if(this.c=_N(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=_S(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function _N(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var o=_S(e.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Zy(e.c)}function jg(){}jg.prototype.stringify=function(e){return se.JSON.stringify(e,void 0)};jg.prototype.parse=function(e){return se.JSON.parse(e,void 0)};function I4(){this.a=new jg}function T4(e,t,n){var r=n||"";try{Lg(e,function(o,s){var a=o;ac(o)&&(a=gg(o)),t.push(r+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function S4(e,t){var n=new Tg;if(se.Image){var r=new Image;r.onload=ch(Ch,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ch(Ch,n,r,"TestLoadImage: error",!1,t),r.onabort=ch(Ch,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ch(Ch,n,r,"TestLoadImage: timeout",!1,t),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ch(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(s){}}var N4=se.JSON.parse;function ct(e){An.call(this),this.headers=new ru,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=x4,this.D=this.F=!1}Zt(ct,An);var x4="",k4=/^https?$/i,A4=["POST","PUT"];$=ct.prototype;$.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?eN(this.H):eN(nN),this.a.onreadystatechange=Rt(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){IN(this,s);return}e=n||"";var o=new ru(this.headers);r&&Lg(r,function(s,a){o.set(a,s)}),r=qF(o.L()),n=se.FormData&&e instanceof se.FormData,!(0<=IS(A4,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{TN(this),0<this.o&&((this.D=C4(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Rt(this.xa,this)):this.m=Ig(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){IN(this,s)}};function C4(e){return Ci&&DS(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function BF(e){return e.toLowerCase()=="content-type"}$.xa=function(){typeof Qy!="undefined"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tt(this,"timeout"),this.abort(8))};function IN(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,SN(e),Oh(e)}function SN(e){e.u||(e.u=!0,Tt(e,"complete"),Tt(e,"error"))}$.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Tt(this,"complete"),Tt(this,"abort"),Oh(this))};$.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Oh(this,!0)),ct.X.G.call(this)};$.za=function(){this.j||(this.A||this.l||this.g?NN(this):this.Ua())};$.Ua=function(){NN(this)};function NN(e){if(e.b&&typeof Qy!="undefined"&&(!e.s[1]||Oi(e)!=4||e.W()!=2)){if(e.l&&Oi(e)==4)Ig(e.za,0,e);else if(Tt(e,"readystatechange"),Oi(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.B).match(mN)[1]||null;if(!s&&se.self&&se.self.location){var a=se.self.location.protocol;s=a.substr(0,a.length-1)}o=!k4.test(s?s.toLowerCase():"")}r=o}var l=r}if(l)Tt(e,"complete"),Tt(e,"success");else{e.h=6;try{var f=2<Oi(e)?e.a.statusText:""}catch(p){f=""}e.f=f+" ["+e.W()+"]",SN(e)}}finally{Oh(e)}}}}function Oh(e,t){if(e.a){TN(e);var n=e.a,r=e.s[0]?ah:null;e.a=null,e.s=null,t||Tt(e,"ready");try{n.onreadystatechange=r}catch(o){}}}function TN(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(se.clearTimeout(e.m),e.m=null)}function Oi(e){return e.a?e.a.readyState:0}$.W=function(){try{return 2<Oi(this)?this.a.status:-1}catch(e){return-1}};$.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}};$.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),N4(t)}};$.ua=function(){return this.h};$.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function O4(e){var t="";return rg(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Fg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=O4(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Le(e,t,n))}function bc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xN(e){this.pa=0,this.g=[],this.c=new Tg,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=bc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=bc("baseRetryDelayMs",5e3,e),this.Ra=bc("retryDelaySeedMs",1e4,e),this.Ma=bc("forwardChannelMaxRetries",2,e),this.ma=bc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new bN(e&&e.concurrentRequestLimit),this.ka=new I4,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}$=xN.prototype;$.ha=8;$.v=1;function Dg(e){if(kN(e),e.v==3){var t=e.R++,n=ri(e.B);Le(n,"SID",e.J),Le(n,"RID",t),Le(n,"TYPE","terminate"),Ec(e,n),t=new mc(e,e.c,t,void 0),t.H=2,t.i=Eh(ri(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(t.i.toString(),"")),!n&&se.Image&&(new Image().src=t.i,n=!0),n||(t.a=uN(t.g,null),t.a.ba(t.i)),t.u=Rr(),vc(t)}AN(e)}function Th(e){e.a&&(Cg(e),e.a.cancel(),e.a=null)}function kN(e){Th(e),e.j&&(se.clearTimeout(e.j),e.j=null),Nh(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&se.clearTimeout(e.h),e.h=null)}function Vg(e,t){e.g.push(new E4(e.Oa++,t)),e.v==3&&Sh(e)}function Sh(e){EN(e.b)||e.h||(e.h=!0,zS(e.Ba,e),e.u=0)}function P4(e,t){return fN(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=pc(Rt(e.Ba,e,t),CN(e,e.u)),e.u++,!0)}$.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new mc(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=xS(n),AS(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var o=r=0;o<this.g.length;o++){t:{var s=this.g[o];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.g.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=PN(this,t,r),o=ri(this.B),Le(o,"RID",e),Le(o,"CVER",22),this.A&&Le(o,"X-HTTP-Session-Id",this.A),Ec(this,o),this.i&&n&&Fg(o,this.i,n),Pg(this.b,t),this.Ia&&Le(o,"TYPE","init"),this.da?(Le(o,"$req",r),Le(o,"SID","null"),t.U=!0,kg(t,o,null)):kg(t,o,r),this.v=2}}else this.v==3&&(e?ON(this,e):this.g.length==0||EN(this.b)||ON(this))};function ON(e,t){var n;t?n=t.f:n=e.R++;var r=ri(e.B);Le(r,"SID",e.J),Le(r,"RID",n),Le(r,"AID",e.P),Ec(e,r),e.i&&e.l&&Fg(r,e.i,e.l),n=new mc(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=PN(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Pg(e.b,n),kg(n,r,t)}function Ec(e,t){e.f&&Lg({},function(n,r){Le(t,r,n)})}function PN(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Rt(e.f.Ja,e.f,e):null;e:for(var o=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].b,m=o[f].a;if(p-=s,0>p)s=Math.max(0,o[f].b-100),l=!1;else try{T4(m,a,"req"+p+"_")}catch(g){r&&r(m)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function pN(e){e.a||e.j||(e.T=1,zS(e.Aa,e),e.o=0)}function Rg(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=pc(Rt(e.Aa,e),CN(e,e.o)),e.o++,!0)}$.Aa=function(){if(this.j=null,DN(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=pc(Rt(this.Ta,this),e)}};$.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,nn(10),Th(this),DN(this))};function Cg(e){e.s!=null&&(se.clearTimeout(e.s),e.s=null)}function DN(e){e.a=new mc(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=ri(e.la);Le(t,"RID","rpc"),Le(t,"SID",e.J),Le(t,"CI",e.H?"0":"1"),Le(t,"AID",e.P),Ec(e,t),Le(t,"TYPE","xmlhttp"),e.i&&e.l&&Fg(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Eh(ri(t)),n.j=null,n.I=!0,oN(n,e)}$.Sa=function(){this.m!=null&&(this.m=null,Th(this),Rg(this),nn(19))};function Nh(e){e.m!=null&&(se.clearTimeout(e.m),e.m=null)}function cN(e,t){var n=null;if(e.a==t){Nh(e),Cg(e),e.a=null;var r=2}else if(Og(e.b,t))n=t.s,hN(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Rr()-t.u;var o=e.u;r=wh(),Tt(r,new XS(r,n,t,o)),Sh(e)}else pN(e);else if(o=t.h,o==3||o==0&&0<e.I||!(r==1&&P4(e,t)||r==2&&Rg(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),o){case 1:Ho(e,5);break;case 4:Ho(e,10);break;case 3:Ho(e,6);break;default:Ho(e,2)}}}function CN(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Ho(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Rt(e.Ya,e);n||(n=new Go("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||xh(n,"https"),Eh(n)),S4(n.toString(),r)}else nn(2);e.v=0,e.f&&e.f.ra(t),AN(e),kN(e)}$.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),nn(2)):(this.c.info("Failed to ping google.com"),nn(1))};function AN(e){e.v=0,e.I=-1,e.f&&((_N(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,Zy(e.g),e.g.length=0),e.f.qa())}function dN(e,t,n){var r=g4(n);if(r.c!="")t&&kh(r,t+"."+r.c),Ah(r,r.h);else{var o=se.location;r=w4(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.V&&rg(e.V,function(s,a){Le(r,a,s)}),t=e.A,n=e.na,t&&n&&Le(r,t,n),Le(r,"VER",e.ha),Ec(e,r),r}function uN(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new ct(e.Na),t.F=e.C,t}function RN(){}$=RN.prototype;$.ta=function(){};$.sa=function(){};$.ra=function(){};$.qa=function(){};$.Ja=function(){};function Ph(){if(Ci&&!(10<=Number(RS)))throw Error("Environmental error: no available transport.")}Ph.prototype.a=function(e,t){return new Cn(e,t)};function Cn(e,t){An.call(this),this.a=new xN(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!lh(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lh(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new ou(this)}Zt(Cn,An);Cn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;nn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=dN(e,null,e.fa),Sh(e)};Cn.prototype.close=function(){Dg(this.a)};Cn.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,Vg(this.a,t)}else this.l?(t={},t.__data__=gg(e),Vg(this.a,t)):Vg(this.a,e)};Cn.prototype.G=function(){this.a.f=null,delete this.f,Dg(this.a),delete this.a,Cn.X.G.call(this)};function LN(e){Sg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Zt(LN,Sg);function MN(){Ng.call(this),this.status=1}Zt(MN,Ng);function ou(e){this.a=e}Zt(ou,RN);ou.prototype.ta=function(){Tt(this.a,"a")};ou.prototype.sa=function(e){Tt(this.a,new LN(e))};ou.prototype.ra=function(e){Tt(this.a,new MN(e))};ou.prototype.qa=function(){Tt(this.a,"b")};Ph.prototype.createWebChannel=Ph.prototype.a;Cn.prototype.send=Cn.prototype.h;Cn.prototype.open=Cn.prototype.g;Cn.prototype.close=Cn.prototype.close;bh.NO_ERROR=0;bh.TIMEOUT=8;bh.HTTP_ERROR=6;JS.COMPLETE="complete";tN.EventType=dc;dc.OPEN="a";dc.CLOSE="b";dc.ERROR="c";dc.MESSAGE="d";An.prototype.listen=An.prototype.va;ct.prototype.listenOnce=ct.prototype.wa;ct.prototype.getLastError=ct.prototype.Qa;ct.prototype.getLastErrorCode=ct.prototype.ua;ct.prototype.getStatus=ct.prototype.W;ct.prototype.getResponseJson=ct.prototype.Pa;ct.prototype.getResponseText=ct.prototype.$;ct.prototype.send=ct.prototype.ba;var jN=function(){return new Ph},FN=function(){return wh()},Dh=bh,VN=JS,UN=zo,Ug={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},_c=tN,BN=ct;var Bg=function(e,t){return Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Bg(e,t)};function ee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Bg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function L(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(m){try{p(r.next(m))}catch(g){a(g)}}function f(m){try{p(r.throw(m))}catch(g){a(g)}}function p(m){m.done?s(m.value):o(m.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function R(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(m){p=[6,m],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function $e(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var On=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();On.o=-1;var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ee(t,e),t}(Error),br=new Qs("@firebase/firestore");function qg(){return br.logLevel}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(br.logLevel<=de.DEBUG){var r=t.map(zg);br.debug.apply(br,$e(["Firestore (8.4.2): "+e],r))}}function et(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(br.logLevel<=de.ERROR){var r=t.map(zg);br.error.apply(br,$e(["Firestore (8.4.2): "+e],r))}}function Hg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(br.logLevel<=de.WARN){var r=t.map(zg);br.warn.apply(br,$e(["Firestore (8.4.2): "+e],r))}}function zg(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function Y(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+e;throw et(t),new Error(t)}function te(e,t){e||Y()}function H(e,t){return e}function D4(e){var t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var qN=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=D4(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function fe(e,t){return e<t?-1:e>t?1:0}function su(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function zN(e){return e+"\0"}var rn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new V(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new V(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new V(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ae=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new rn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function HN(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ic(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function KN(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var GN=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Y(),r===void 0?r=t.length-n:r>t.length-n&&Y(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ge=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new V(O.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(GN),R4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return R4.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,a=function(){if(o.length===0)throw new V(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new V(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new V(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new V(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(GN),uu=function(){function e(t){this.fields=t,t.sort(Qn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return su(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),on=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return fe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();on.EMPTY_BYTE_STRING=new on("");var L4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(e){if(te(!!e),typeof e=="string"){var t=0,n=L4.exec(e);if(te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:tt(e.seconds),nanos:tt(e.nanos)}}function tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function au(e){return typeof e=="string"?on.fromBase64String(e):on.fromUint8Array(e)}function Kg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function WN(e){var t=e.mapValue.fields.__previous_value__;return Kg(t)?WN(t):t}function Tc(e){var t=Di(e.mapValue.fields.__local_write_time__.timestampValue);return new rn(t.seconds,t.nanos)}function Wo(e){return e==null}function Rh(e){return e===0&&1/e==-1/0}function $N(e){return typeof e=="number"&&Number.isInteger(e)&&!Rh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var X=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ge.fromString(t))},e.fromName=function(t){return new e(ge.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ge.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ge.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ge(t.slice()))},e}();function Ri(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kg(e)?4:10:Y()}function Lr(e,t){var n=Ri(e);if(n!==Ri(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tc(e).isEqual(Tc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Di(r.timestampValue),a=Di(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return au(r.bytesValue).isEqual(au(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return tt(r.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return tt(r.integerValue)===tt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=tt(r.doubleValue),a=tt(o.doubleValue);return s===a?Rh(s)===Rh(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return su(e.arrayValue.values||[],t.arrayValue.values||[],Lr);case 10:return function(r,o){var s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(HN(s)!==HN(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Lr(s[l],a[l])))return!1;return!0}(e,t);default:return Y()}}function Sc(e,t){return(e.values||[]).find(function(n){return Lr(n,t)})!==void 0}function cu(e,t){var n=Ri(e),r=Ri(t);if(n!==r)return fe(n,r);switch(n){case 0:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=tt(o.integerValue||o.doubleValue),l=tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return YN(e.timestampValue,t.timestampValue);case 4:return YN(Tc(e),Tc(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(o,s){var a=au(o),l=au(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var p=fe(a[f],l[f]);if(p!==0)return p}return fe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=fe(tt(o.latitude),tt(s.latitude));return a!==0?a:fe(tt(o.longitude),tt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var p=cu(a[f],l[f]);if(p)return p}return fe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var m=0;m<l.length&&m<p.length;++m){var g=fe(l[m],p[m]);if(g!==0)return g;var v=cu(a[l[m]],f[p[m]]);if(v!==0)return v}return fe(l.length,p.length)}(e.mapValue,t.mapValue);default:throw Y()}}function YN(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);var n=Di(e),r=Di(t),o=fe(n.seconds,r.seconds);return o!==0?o:fe(n.nanos,r.nanos)}function Wg(e){return Gg(e)}function Gg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Di(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?au(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,X.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Gg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Gg(r.fields[f])}return o+"}"}(e.mapValue):Y();var t,n}function Lh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function $g(e){return!!e&&"integerValue"in e}function Yg(e){return!!e&&"arrayValue"in e}function QN(e){return!!e&&"nullValue"in e}function XN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qg(e){return!!e&&"mapValue"in e}var Pn=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Qn.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,o){r?n.set(o,r):n.delete(o)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return Lr(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,o=0;o<t.length-1;++o){var s=t.get(o),a=r.get(s);a instanceof Map?r=a:a&&Ri(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,o=!1,s=e.extractNestedValue(this.partialValue,t),a=Qg(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,f){if(l instanceof Map){var p=r.applyOverlay(t.child(f),l);p!=null&&(a[f]=p,o=!0)}else l!==null?(a[f]=l,o=!0):a.hasOwnProperty(f)&&(delete a[f],o=!0)}),o?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(Qn.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,o=0;o<n.length-1;++o)if(!r.mapValue.fields||!Qg(r=r.mapValue.fields[n.get(o)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function JN(e){var t=[];return Ic(e.fields||{},function(n,r){var o=new Qn([n]);if(Qg(r)){var s=JN(r.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new uu(t)}var St=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ae.min(),Pn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Pn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Pn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),M4=function(e,t,n,r,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};function ZN(e,t,n,r,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new M4(e,t,n,r,o,s,a)}function Nc(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+Wg(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),Wo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Mh(t.startAt)),t.endAt&&(n+="|ub:",n+=Mh(t.endAt)),t.h=n}return t.h}function jh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!j4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Lr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ex(e.startAt,t.startAt)&&ex(e.endAt,t.endAt)}function Fh(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Dn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return ee(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new F4(n,r,o):r==="array-contains"?new B4(n,o):r==="in"?new q4(n,o):r==="not-in"?new z4(n,o):r==="array-contains-any"?new H4(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new V4(n,o):new U4(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(cu(r,this.value)):r!==null&&Ri(this.value)===Ri(r)&&this.m(cu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Y()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),F4=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=X.fromName(o.referenceValue),s}return ee(t,e),t.prototype.matches=function(n){var r=X.comparator(n.key,this.key);return this.m(r)},t}(Dn),V4=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=tx("in",r),o}return ee(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Dn),U4=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=tx("not-in",r),o}return ee(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Dn);function tx(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return X.fromName(r.referenceValue)})}var B4=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Yg(r)&&Sc(r.arrayValue,this.value)},t}(Dn),q4=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Sc(this.value.arrayValue,r)},t}(Dn),z4=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ee(t,e),t.prototype.matches=function(n){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Sc(this.value.arrayValue,r)},t}(Dn),H4=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ee(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Yg(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Sc(r.value.arrayValue,s)})},t}(Dn),xc=function(e,t){this.position=e,this.before=t};function Mh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Wg(t)}).join(",")}var lu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function j4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nx(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(r=s.field.isKeyField()?X.comparator(X.fromName(a.referenceValue),n.key):cu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function ex(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Lr(e.position[n],t.position[n]))return!1;return!0}var ii=function(e,t,n,r,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function rx(e,t,n,r,o,s,a,l){return new ii(e,t,n,r,o,s,a,l)}function fu(e){return new ii(e)}function Vh(e){return!Wo(e.limit)&&e.limitType==="F"}function Uh(e){return!Wo(e.limit)&&e.limitType==="L"}function Xg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Jg(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Zg(e){return e.collectionGroup!==null}function hu(e){var t=H(e);if(t.p===null){t.p=[];var n=Jg(t),r=Xg(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new lu(n)),t.p.push(new lu(Qn.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new lu(Qn.keyField(),f))}}}return t.p}function Xn(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=ZN(t.path,t.collectionGroup,hu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=hu(t);r<o.length;r++){var s=o[r],a=s.dir==="desc"?"asc":"desc";n.push(new lu(s.field,a))}var l=t.endAt?new xc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new xc(t.startAt.position,!t.startAt.before):null;t.T=ZN(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function ix(e,t,n){return new ii(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kc(e,t){return jh(Xn(e),Xn(t))&&e.limitType===t.limitType}function ox(e){return Nc(Xn(e))+"|lt:"+e.limitType}function e0(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+Wg(o.value);var o}).join(", ")+"]"),Wo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Mh(t.startAt)),t.endAt&&(n+=", endAt: "+Mh(t.endAt)),"Target("+n+")"}(Xn(e))+"; limitType="+e.limitType+")"}function Ac(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):X.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!nx(n.startAt,hu(n),r))&&(!n.endAt||!nx(n.endAt,hu(n),r))}(e,t)}function sx(e){return function(t,n){for(var r=!1,o=0,s=hu(e);o<s.length;o++){var a=s[o],l=K4(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function K4(e,t,n){var r=e.field.isKeyField()?X.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?cu(l,f):Y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}function ux(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(t)?"-0":t}}function ax(e){return{integerValue:""+e}}function cx(e,t){return $N(t)?ax(t):ux(e,t)}var Bh=function(){this._=void 0};function G4(e,t,n){return e instanceof pu?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof $o?fx(e,t):e instanceof Yo?hx(e,t):function(r,o){var s=lx(r,o),a=px(s)+px(r.A);return $g(s)&&$g(r.A)?ax(a):ux(r.R,a)}(e,t)}function W4(e,t,n){return e instanceof $o?fx(e,t):e instanceof Yo?hx(e,t):n}function lx(e,t){return e instanceof du?$g(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var pu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t}(Bh),$o=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ee(t,e),t}(Bh);function fx(e,t){for(var n=dx(t),r=function(a){n.some(function(l){return Lr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Yo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ee(t,e),t}(Bh);function hx(e,t){for(var n=dx(t),r=function(a){n=n.filter(function(l){return!Lr(l,a)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var du=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return ee(t,e),t}(Bh);function px(e){return tt(e.integerValue||e.doubleValue)}function dx(e){return Yg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Cc=function(e,t){this.field=e,this.transform=t},$4=function(e,t){this.version=e,this.transformResults=t},Mt=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function qh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var zh=function(){};function Y4(e,t,n){e instanceof Oc?function(r,o,s){var a=r.value.clone(),l=vx(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Li?function(r,o,s){if(qh(r.precondition,o)){var a=vx(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(mx(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function t0(e,t,n){e instanceof Oc?function(r,o,s){if(qh(r.precondition,o)){var a=r.value.clone(),l=gx(r.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(yx(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Li?function(r,o,s){if(qh(r.precondition,o)){var a=gx(r.fieldTransforms,s,o),l=o.data;l.setAll(mx(r)),l.setAll(a),o.convertToFoundDocument(yx(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){qh(r.precondition,o)&&o.convertToNoDocument(ae.min())}(e,t)}function Q4(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],a=t.data.field(s.field),l=lx(s.transform,a||null);l!=null&&(n==null&&(n=Pn.empty()),n.set(s.field,l))}return n||null}function wx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&su(n,r,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,p){return f instanceof $o&&p instanceof $o||f instanceof Yo&&p instanceof Yo?su(f.elements,p.elements,Lr):f instanceof du&&p instanceof du?Lr(f.A,p.A):f instanceof pu&&p instanceof pu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function yx(e){return e.isFoundDocument()?e.version:ae.min()}var Oc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return ee(t,e),t}(zh),Li=function(e){function t(n,r,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return ee(t,e),t}(zh);function mx(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function vx(e,t,n){var r=new Map;te(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);r.set(s.field,W4(a,l,n[o]))}return r}function gx(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);r.set(a.field,G4(l,f,t))}return r}var nt,pe,Pc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return ee(t,e),t}(zh),n0=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return ee(t,e),t}(zh),X4=function(e){this.count=e};function bx(e){switch(e){case O.OK:return Y();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Y()}}function Ex(e){if(e===void 0)return et("GRPC error has no .code"),O.UNKNOWN;switch(e){case nt.OK:return O.OK;case nt.CANCELLED:return O.CANCELLED;case nt.UNKNOWN:return O.UNKNOWN;case nt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case nt.INTERNAL:return O.INTERNAL;case nt.UNAVAILABLE:return O.UNAVAILABLE;case nt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case nt.NOT_FOUND:return O.NOT_FOUND;case nt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case nt.ABORTED:return O.ABORTED;case nt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case nt.DATA_LOSS:return O.DATA_LOSS;default:return Y()}}(pe=nt||(nt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var jt=function(){function e(t,n){this.comparator=t,this.root=n||Mi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Hh(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Hh(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Hh(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Hh(this.root,t,this.comparator,!0)},e}(),Hh=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Mi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();var t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)},e}();Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Y()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Mi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var lt=function(){function e(t){this.comparator=t,this.data=new jt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new _x(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new _x(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),_x=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),J4=new jt(X.comparator);function Jn(){return J4}var Z4=new jt(X.comparator);function r0(){return Z4}var eV=new jt(X.comparator);function Ix(){return eV}var tV=new lt(X.comparator);function Ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=tV,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var nV=new lt(fe);function Kh(){return nV}var o0=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,i0.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ae.min(),r,Kh(),Jn(),Ie())},e}(),i0=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(on.EMPTY_BYTE_STRING,n,Ie(),Ie(),Ie())},e}(),Gh=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Tx=function(e,t){this.targetId=e,this.V=t},Sx=function(e,t,n,r){n===void 0&&(n=on.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},xx=function(){function e(){this.S=0,this.D=Nx(),this.C=on.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Ie(),n=Ie(),r=Ie();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Y()}}),new i0(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=Nx()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),rV=function(){function e(t){this.W=t,this.G=new Map,this.H=Jn(),this.J=kx(),this.Y=new lt(fe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.$(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.$(t.resumeToken);break;case 2:o.K(),o.k||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.$(t.resumeToken));break;default:Y()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Fh(s))if(r===0){var a=new X(s.path);this.tt(n,a,St.newNoDocument(a,ae.min()))}else te(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Fh(f.target)){var p=new X(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,St.newNoDocument(p,t))}a.O&&(r.set(l,a.M()),a.L())}});var o=Ie();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(p){var m=n.ot(p);return!m||m.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new o0(t,r,this.Y,this.H,o);return this.H=Jn(),this.J=kx(),this.Y=new lt(fe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new xx,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new lt(fe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new xx),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function kx(){return new jt(X.comparator)}function Nx(){return new jt(X.comparator)}var iV={asc:"ASCENDING",desc:"DESCENDING"},oV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sV=function(e,t){this.databaseId=e,this.I=t};function Dc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ax(e,t){return e.I?t.toBase64():t.toUint8Array()}function uV(e,t){return Dc(e,t.toTimestamp())}function Nt(e){return te(!!e),ae.fromTimestamp(function(t){var n=Di(t);return new rn(n.seconds,n.nanos)}(e))}function s0(e,t){return function(n){return new ge(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Ox(e){var t=ge.fromString(e);return te(Cx(t)),t}function Rc(e,t){return s0(e.databaseId,t.path)}function Mr(e,t){var n=Ox(t);if(n.get(1)!==e.databaseId.projectId)throw new V(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new V(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(Px(n))}function u0(e,t){return s0(e.databaseId,t)}function Dx(e){var t=Ox(e);return t.length===4?ge.emptyPath():Px(t)}function Lc(e){return new ge(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Px(e){return te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Rx(e,t,n){return{name:Rc(e,t),fields:n.toProto().mapValue.fields}}function Lx(e,t,n){var r=Mr(e,t.name),o=Nt(t.updateTime),s=new Pn({mapValue:{fields:t.fields}}),a=St.newFoundDocument(r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wh(e,t){var n;if(t instanceof Oc)n={update:Rx(e,t.key,t.value)};else if(t instanceof Pc)n={delete:Rc(e,t.key)};else if(t instanceof Li)n={update:Rx(e,t.key,t.data),updateMask:aV(t.fieldMask)};else{if(!(t instanceof n0))return Y();n={verify:Rc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var a=s.transform;if(a instanceof pu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $o)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof du)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Y()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:uV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(e,t.precondition)),n}function Mx(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?Mt.updateTime(Nt(p.updateTime)):p.exists!==void 0?Mt.exists(p.exists):Mt.none()}(t.currentDocument):Mt.none(),r=t.updateTransforms?t.updateTransforms.map(function(p){return function(m,g){var v=null;if("setToServerValue"in g)te(g.setToServerValue==="REQUEST_TIME"),v=new pu;else if("appendMissingElements"in g){var _=g.appendMissingElements.values||[];v=new $o(_)}else if("removeAllFromArray"in g){var T=g.removeAllFromArray.values||[];v=new Yo(T)}else"increment"in g?v=new du(m,g.increment):Y();var N=Qn.fromServerFormat(g.fieldPath);return new Cc(N,v)}(e,p)}):[];if(t.update){t.update.name;var o=Mr(e,t.update.name),s=new Pn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(p){var m=p.fieldPaths||[];return new uu(m.map(function(g){return Qn.fromServerFormat(g)}))}(t.updateMask);return new Li(o,s,a,n,r)}return new Oc(o,s,n,r)}if(t.delete){var l=Mr(e,t.delete);return new Pc(l,n)}if(t.verify){var f=Mr(e,t.verify);return new n0(f,n)}return Y()}function jx(e,t){return{documents:[u0(e,t.path)]}}function Vx(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=u0(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=u0(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(m){if(m.op==="=="){if(XN(m.value))return{unaryFilter:{field:mu(m.field),op:"IS_NAN"}};if(QN(m.value))return{unaryFilter:{field:mu(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(XN(m.value))return{unaryFilter:{field:mu(m.field),op:"IS_NOT_NAN"}};if(QN(m.value))return{unaryFilter:{field:mu(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(m.field),op:lV(m.op),value:m.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:mu(p.field),direction:cV(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||Wo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Fx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Fx(t.endAt)),n}function qx(e){var t=Dx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){te(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=Ux(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(v){return new lu(vu(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g)}));var f=null;n.limit&&(f=function(g){var v;return Wo(v=typeof g=="object"?g.value:g)?null:v}(n.limit));var p=null;n.startAt&&(p=Bx(n.startAt));var m=null;return n.endAt&&(m=Bx(n.endAt)),rx(t,o,l,a,f,"F",p,m)}function Ux(e){return e?e.unaryFilter!==void 0?[hV(e)]:e.fieldFilter!==void 0?[fV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Ux(t)}).reduce(function(t,n){return t.concat(n)}):Y():[]}function Fx(e){return{before:e.before,values:e.position}}function Bx(e){var t=!!e.before,n=e.values||[];return new xc(n,t)}function cV(e){return iV[e]}function lV(e){return oV[e]}function mu(e){return{fieldPath:e.canonicalString()}}function vu(e){return Qn.fromServerFormat(e.fieldPath)}function fV(e){return Dn.create(vu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}function hV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=vu(e.unaryFilter.field);return Dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=vu(e.unaryFilter.field);return Dn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vu(e.unaryFilter.field);return Dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=vu(e.unaryFilter.field);return Dn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Y()}}function aV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Cx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Er(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zx(t)),t=pV(e.get(n),t);return zx(t)}function pV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function zx(e){return e+""}function oi(e){var t=e.length;if(te(t>=2),t===2)return te(e.charAt(0)===""&&e.charAt(1)===""),ge.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Y(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:Y()}s=a+2}return new ge(r)}var dV=function(e,t){this.seconds=e,this.nanoseconds=t},Rn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Rn.store="owner",Rn.key="owner";var ji=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ji.store="mutationQueues",ji.keyPath="userId";var Ce=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Ce.store="mutations",Ce.keyPath="batchId",Ce.userMutationsIndex="userMutationsIndex",Ce.userMutationsKeyPath=["userId","batchId"];var Ft=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Er(n)]},e.key=function(t,n,r){return[t,Er(n),r]},e}();Ft.store="documentMutations",Ft.PLACEHOLDER=new Ft;var mV=function(e,t){this.path=e,this.readTime=t},vV=function(e,t){this.path=e,this.version=t},Be=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Be.store="remoteDocuments",Be.readTimeIndex="readTimeIndex",Be.readTimeIndexPath="readTime",Be.collectionReadTimeIndex="collectionReadTimeIndex",Be.collectionReadTimeIndexPath=["parentPath","readTime"];var jr=function(e){this.byteSize=e};jr.store="remoteDocumentGlobal",jr.key="remoteDocumentGlobalKey";var vn=function(e,t,n,r,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};vn.store="targets",vn.keyPath="targetId",vn.queryTargetsIndexName="queryTargetsIndex",vn.queryTargetsKeyPath=["canonicalId","targetId"];var xt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};xt.store="targetDocuments",xt.keyPath=["targetId","path"],xt.documentTargetsIndex="documentTargetsIndex",xt.documentTargetsKeyPath=["path","targetId"];var Ln=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ln.key="targetGlobalKey",Ln.store="targetGlobal";var Qo=function(e,t){this.collectionId=e,this.parent=t};Qo.store="collectionParents",Qo.keyPath=["collectionId","parent"];var si=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};si.store="clientMetadata",si.keyPath="clientId";var yu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};yu.store="bundles",yu.keyPath="bundleId";var gu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};gu.store="namedQueries",gu.keyPath="name";var yV=$e($e([],$e($e([],$e($e([],$e($e([],[ji.store,Ce.store,Ft.store,Be.store,vn.store,Rn.store,Ln.store,xt.store]),[si.store])),[jr.store])),[Qo.store])),[yu.store,gu.store]),Hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kx=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),sn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},U=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(o,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return r(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,a){o.push(n.call(r,s,a))}),this.waitFor(o)},e}(),Gx=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new sn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Mc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=a0(o.target.error);r.ft.reject(new Mc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Mc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new gV(n)},e}(),wu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ti())===12.2&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return q("SimpleDb","Removing database:",t),Xo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB=="undefined")return!1;if(e.gt())return!0;var t=Ti(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process!="undefined"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return L(this,void 0,void 0,function(){var n,r=this;return R(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){a(new Mc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?a(new V(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Mc(t,p))},l.onupgradeneeded=function(f){q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;r.wt.Rt(p,l.transaction,f.oldVersion,r.version).next(function(){q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return L(this,void 0,void 0,function(){var s,a,l,f,p;return R(this,function(m){switch(m.label){case 0:s=n==="readonly",a=0,l=function(){var g,v,_,T,N;return R(this,function(E){switch(E.label){case 0:++a,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),g=Gx.open(f.db,t,s?"readonly":"readwrite",r),v=o(g).catch(function(b){return g.abort(b),U.reject(b)}).toPromise(),_={},v.catch(function(){}),[4,g.dt];case 3:return[2,(_.value=(E.sent(),v),_)];case 4:return T=E.sent(),N=T.name!=="FirebaseError"&&a<3,q("SimpleDb","Transaction failed with error:",T.message,"Retrying:",N),f.close(),N?[3,5]:[2,{value:Promise.reject(T)}];case 5:return[2]}})},f=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(p=m.sent())=="object")return[2,p.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),wV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Xo(this.Pt.delete())},e}(),Mc=function(e){function t(n,r){var o=this;return(o=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return ee(t,e),t}(V);function Jo(e){return e.name==="IndexedDbTransactionError"}var gV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Xo(r)},e.prototype.add=function(t){return q("SimpleDb","ADD",this.store.name,t,t),Xo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Xo(this.store.get(t)).next(function(r){return r===void 0&&(r=null),q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return q("SimpleDb","DELETE",this.store.name,t),Xo(this.store.delete(t))},e.prototype.count=function(){return q("SimpleDb","COUNT",this.store.name),Xo(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.Ft=function(t,n){q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var o=this.cursor(r);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.$t=function(t){var n=this.cursor({});return new U(function(r,o){n.onerror=function(s){var a=a0(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new U(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new wV(l),p=n(l.primaryKey,l.value,f);if(p instanceof U){var m=p.catch(function(g){return f.done(),U.reject(g)});r.push(m)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return U.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Xo(e){return new U(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=a0(r.target.error);n(o)}})}var Wx=!1;function a0(e){var t=wu._t(Ti());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new V("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wx||(Wx=!0,setTimeout(function(){throw r},0)),r}}return e}var $x=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return ee(t,e),t}(Kx);function yn(e,t){var n=H(e);return wu.It(n.Mt,t)}var c0=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&Y4(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&t0(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&t0(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(ae.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ie())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&su(this.mutations,t.mutations,function(n,r){return wx(n,r)})&&su(this.baseMutations,t.baseMutations,function(n,r){return wx(n,r)})},e}(),bV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){te(t.mutations.length===r.length);for(var o=Ix(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,o)},e}(),$h=function(){function e(t,n,r,o,s,a,l){s===void 0&&(s=ae.min()),a===void 0&&(a=ae.min()),l===void 0&&(l=on.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Yx=function(e){this.Lt=e};function l0(e,t){if(t.document)return Lx(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=X.fromSegments(t.noDocument.path),r=bu(t.noDocument.readTime),o=St.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=X.fromSegments(t.unknownDocument.path);return r=bu(t.unknownDocument.version),St.newUnknownDocument(s,r)}return Y()}function Qx(e,t,n){var r=f0(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(g,v){return{name:Rc(g,v.key),fields:v.data.toProto().mapValue.fields,updateTime:Dc(g,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Be(null,null,s,a,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=Eu(t.version);return a=t.hasCommittedMutations,new Be(null,new mV(l,f),null,a,r,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),m=Eu(t.version);return new Be(new vV(p,m),null,null,!0,r,o)}return Y()}function f0(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xx(e){var t=new rn(e[0],e[1]);return ae.fromTimestamp(t)}function Eu(e){var t=e.toTimestamp();return new dV(t.seconds,t.nanoseconds)}function bu(e){var t=new rn(e.seconds,e.nanoseconds);return ae.fromTimestamp(t)}function _u(e,t){for(var n=(t.baseMutations||[]).map(function(f){return Mx(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(f){return Mx(e.Lt,f)}),l=rn.fromMillis(t.localWriteTimeMs);return new c0(t.batchId,l,n,a)}function jc(e){var t,n,r=bu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?bu(e.lastLimboFreeSnapshotVersion):ae.min();return e.query.documents!==void 0?(te((n=e.query).documents.length===1),t=Xn(fu(Dx(n.documents[0])))):t=function(s){return Xn(qx(s))}(e.query),new $h(t,e.targetId,0,e.lastListenSequenceNumber,r,o,on.fromBase64String(e.resumeToken))}function Jx(e,t){var n,r=Eu(t.snapshotVersion),o=Eu(t.lastLimboFreeSnapshotVersion);n=Fh(t.target)?jx(e.Lt,t.target):Vx(e.Lt,t.target);var s=t.resumeToken.toBase64();return new vn(t.targetId,Nc(t.target),r,s,t.sequenceNumber,o,n)}function h0(e){var t=qx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ix(t,t.limit,"L"):t}var EV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Zx(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:bu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return Zx(t).put({bundleId:(r=n).id,createTime:Eu(Nt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return ek(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:h0(o.bundledQuery),readTime:bu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return ek(t).put(function(r){return{name:r.name,readTime:Eu(Nt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Zx(e){return yn(e,yu.store)}function ek(e){return yn(e,gu.store)}var _V=function(){function e(){this.Bt=new p0}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),U.resolve()},e.prototype.getCollectionParents=function(t,n){return U.resolve(this.Bt.getEntries(n))},e}(),p0=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new lt(ge.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new lt(ge.comparator)).toArray()},e}(),IV=function(){function e(){this.qt=new p0}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:o,parent:Er(s)};return tk(t).put(a)}return U.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[zN(n),""],!1,!0);return tk(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;r.push(oi(f.parent))}return r})},e}();function tk(e){return yn(e,Qo.store)}var nk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function rk(e,t,n){var r=e.store(Ce.store),o=e.store(Ft.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=r.Ot({range:a},function(T,N,E){return l++,E.delete()});s.push(f.next(function(){te(l===1)}));for(var p=[],m=0,g=n.mutations;m<g.length;m++){var v=g[m],_=Ft.key(t,v.key.path,n.batchId);s.push(o.delete(_)),p.push(v.key)}return U.waitFor(s).next(function(){return p})}function Yh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Y();t=e.noDocument}return JSON.stringify(t).length}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);var TV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Qt={}}return e.Kt=function(t,n,r,o){return te(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fi(t).Ot({index:Ce.userMutationsIndex,range:r},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,a=Iu(t),l=Fi(t);return l.add({}).next(function(f){te(typeof f=="number");for(var p=new c0(f,n,r,o),m=function(b,I,x){var k=x.baseMutations.map(function(C){return Wh(b.Lt,C)}),P=x.mutations.map(function(C){return Wh(b.Lt,C)});return new Ce(I,x.batchId,x.localWriteTime.toMillis(),k,P)}(s.R,s.userId,p),g=[],v=new lt(function(b,I){return fe(b.canonicalString(),I.canonicalString())}),_=0,T=o;_<T.length;_++){var N=T[_],E=Ft.key(s.userId,N.key.path,f);v=v.add(N.key.path.popLast()),g.push(l.put(m)),g.push(a.put(E,Ft.PLACEHOLDER))}return v.forEach(function(b){g.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Qt[f]=p.keys()}),U.waitFor(g).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Fi(t).get(n).next(function(o){return o?(te(o.userId===r.userId),_u(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?U.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Fi(t).Ot({index:Ce.userMutationsIndex,range:s},function(l,f,p){f.userId===r.userId&&(te(f.batchId>=o),a=_u(r.R,f)),p.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Fi(t).Ot({index:Ce.userMutationsIndex,range:n,reverse:!0},function(o,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fi(t).Nt(Ce.userMutationsIndex,r).next(function(o){return o.map(function(s){return _u(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=Ft.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Iu(t).Ot({range:s},function(l,f,p){var m=l[0],g=l[1],v=l[2],_=oi(g);if(m===r.userId&&n.path.isEqual(_))return Fi(t).get(v).next(function(T){if(!T)throw Y();te(T.userId===r.userId),a.push(_u(r.R,T))});p.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new lt(fe),s=[];return n.forEach(function(a){var l=Ft.prefixForPath(r.userId,a.path),f=IDBKeyRange.lowerBound(l),p=Iu(t).Ot({range:f},function(m,g,v){var _=m[0],T=m[1],N=m[2],E=oi(T);_===r.userId&&a.path.isEqual(E)?o=o.add(N):v.done()});s.push(p)}),U.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,a=Ft.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new lt(fe);return Iu(t).Ot({range:l},function(p,m,g){var v=p[0],_=p[1],T=p[2],N=oi(_);v===r.userId&&o.isPrefixOf(N)?N.length===s&&(f=f.add(T)):g.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(a){s.push(Fi(t).get(a).next(function(l){if(l===null)throw Y();te(l.userId===r.userId),o.push(_u(r.R,l))}))}),U.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return rk(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),U.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return U.resolve();var o=IDBKeyRange.lowerBound(Ft.prefixForUser(n.userId)),s=[];return Iu(t).Ot({range:o},function(a,l,f){if(a[0]===n.userId){var p=oi(a[1]);s.push(p)}else f.done()}).next(function(){te(s.length===0)})})},e.prototype.containsKey=function(t,n){return ik(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return ok(t).get(this.userId).next(function(r){return r||new ji(n.userId,-1,"")})},e}();function ik(e,t,n){var r=Ft.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Iu(e).Ot({range:s,kt:!0},function(l,f,p){var m=l[0],g=l[1];l[2],m===t&&g===o&&(a=!0),p.done()}).next(function(){return a})}function Fi(e){return yn(e,Ce.store)}function Iu(e){return yn(e,Ft.store)}function ok(e){return yn(e,ji.store)}var Qh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),SV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Qh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ae.fromTimestamp(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Tu(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return te(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return Tu(t).Ot(function(l,f){var p=jc(f);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,a.push(o.removeTargetData(t,p)))}).next(function(){return U.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Tu(t).Ot(function(r,o){var s=jc(o);n(s)})},e.prototype.Xt=function(t){return sk(t).get(Ln.key).next(function(n){return te(n!==null),n})},e.prototype.Zt=function(t,n){return sk(t).put(Ln.key,n)},e.prototype.te=function(t,n){return Tu(t).put(Jx(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Nc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Tu(t).Ot({range:o,index:vn.queryTargetsIndexName},function(a,l,f){var p=jc(l);jh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],a=Vi(t);return n.forEach(function(l){var f=Er(l.path);s.push(a.put(new xt(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),U.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Vi(t);return U.forEach(n,function(a){var l=Er(a.path);return U.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Vi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Vi(t),s=Ie();return o.Ot({range:r,kt:!0},function(a,l,f){var p=oi(a[1]),m=new X(p);s=s.add(m)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Er(n.path),o=IDBKeyRange.bound([r],[zN(r)],!1,!0),s=0;return Vi(t).Ot({index:xt.documentTargetsIndex,kt:!0,range:o},function(a,l,f){var p=a[0];a[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Tu(t).get(n).next(function(r){return r?jc(r):null})},e}();function Tu(e){return yn(e,vn.store)}function sk(e){return yn(e,Ln.store)}function Vi(e){return yn(e,xt.store)}function Zo(e){return L(this,void 0,void 0,function(){return R(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==Hx)throw e;return q("LocalStore","Unexpectedly lost primary lease"),[2]})})}function uk(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],a=fe(n,o);return a===0?fe(r,s):a}var NV=function(){function e(t){this.ne=t,this.buffer=new lt(uk),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();uk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),xV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return L(n,void 0,void 0,function(){var o;return R(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Jo(o=s.sent())?(q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Zo(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),kV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return U.resolve(On.o);var o=new NV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(nk)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),nk):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,a,l,f,p,m=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>m.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+v),o=m.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),m.nthSequenceNumber(t,o)}).next(function(v){return r=v,l=Date.now(),m.removeTargets(t,r,n)}).next(function(v){return s=v,f=Date.now(),m.removeOrphanedDocuments(t,r)}).next(function(v){return p=Date.now(),qg()<=de.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(p-f)+`ms
Total Duration: `+(p-g)+"ms"),U.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:v})})},e}(),AV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new kV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Xh(t,r)},e.prototype.removeReference=function(t,n,r){return Xh(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Xh(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return ok(r).$t(function(a){return ik(r,a,o).next(function(l){return l&&(s=!0),U.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var p=r._e(t,l).next(function(m){if(!m)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Vi(t).delete([0,Er(l.path)])})});s.push(p)}}).next(function(){return U.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Xh(t,n)},e.prototype.we=function(t,n){var r,o=Vi(t),s=On.o;return o.Ot({index:xt.documentTargetsIndex},function(a,l){var f=a[0],p=(a[1],l.path),m=l.sequenceNumber;f===0?(s!==On.o&&n(new X(oi(r)),s),s=m,r=p):s=On.o}).next(function(){s!==On.o&&n(new X(oi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Xh(e,t){return Vi(e).put(function(n,r){return new xt(0,Er(n.path),r)}(t,e.currentSequenceNumber))}var Su=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Ic(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return KN(this.inner)},e}(),ak=function(){function e(){this.changes=new Su(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ae.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:St.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?U.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),OV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Ui(t).put(Jh(n),r)},e.prototype.removeEntry=function(t,n){var r=Ui(t),o=Jh(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Ui(t).get(Jh(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Ui(t).get(Jh(n)).next(function(o){return{document:r.ye(n,o),size:Yh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Jn();return this.pe(t,n,function(s,a){var l=r.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Jn(),s=new jt(X.comparator);return this.pe(t,n,function(a,l){var f=r.ye(a,l);o=o.insert(a,f),s=s.insert(a,Yh(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return U.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ui(t).Ot({range:o},function(l,f,p){for(var m=X.fromSegments(l);a&&X.comparator(a,m)<0;)r(a,null),a=s.getNext();a&&a.isEqual(m)&&(r(a,f),a=s.hasNext()?s.getNext():null),a?p.Ct(a.path.toArray()):p.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Jn(),a=n.path.length+1,l={};if(r.isEqual(ae.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),m=f0(r);l.range=IDBKeyRange.lowerBound([p,m],!0),l.index=Be.collectionReadTimeIndex}return Ui(t).Ot(l,function(g,v,_){if(g.length===a){var T=l0(o.R,v);n.path.isPrefixOf(T.key.path)?Ac(n,T)&&(s=s.insert(T.key,T)):_.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new CV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return ck(t).get(jr.key).next(function(n){return te(!!n),n})},e.prototype.me=function(t,n){return ck(t).put(jr.key,n)},e.prototype.ye=function(t,n){if(n){var r=l0(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ae.min()))return r}return St.newInvalidDocument(t)},e}(),CV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Su(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return ee(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,a=new lt(function(l,f){return fe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=r.Ae.get(l);if(f.document.isValidDocument()){var m=Qx(r.Ie.R,f.document,r.getReadTime(l));a=a.add(l.path.popLast());var g=Yh(m);s+=g-p,o.push(r.Ie.addEntry(n,l,m))}else if(s-=p,r.trackRemovals){var v=Qx(r.Ie.R,St.newNoDocument(l,ae.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,v))}else o.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),U.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(ak);function ck(e){return yn(e,jr.store)}function Ui(e){return yn(e,Be.store)}function Jh(e){return e.path.toArray()}var PV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;te(r<o&&r>=0&&o<=11);var a=new Gx("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Rn.store)}(t),function(f){f.createObjectStore(ji.store,{keyPath:ji.keyPath}),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Ft.store)}(t),lk(t),function(f){f.createObjectStore(Be.store)}(t));var l=U.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(xt.store),f.deleteObjectStore(vn.store),f.deleteObjectStore(Ln.store)}(t),lk(t)),l=l.next(function(){return function(f){var p=f.store(Ln.store),m=new Ln(0,0,ae.min().toTimestamp(),0);return p.put(Ln.key,m)}(a)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,p){return p.store(Ce.store).Nt().next(function(m){f.deleteObjectStore(Ce.store),f.createObjectStore(Ce.store,{keyPath:Ce.keyPath,autoIncrement:!0}).createIndex(Ce.userMutationsIndex,Ce.userMutationsKeyPath,{unique:!0});var g=p.store(Ce.store),v=m.map(function(_){return g.put(_)});return U.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(si.store,{keyPath:si.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(jr.store)}(t),s.be(a)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Be.store);p.createIndex(Be.readTimeIndex,Be.readTimeIndexPath,{unique:!1}),p.createIndex(Be.collectionReadTimeIndex,Be.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(yu.store,{keyPath:yu.keyPath})})(t),function(f){f.createObjectStore(gu.store,{keyPath:gu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Be.store).Ot(function(r,o){n+=Yh(o)}).next(function(){var r=new jr(n);return t.store(jr.store).put(jr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(ji.store),o=t.store(Ce.store);return r.Nt().next(function(s){return U.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(Ce.userMutationsIndex,l).next(function(f){return U.forEach(f,function(p){te(p.userId===a.userId);var m=_u(n.R,p);return rk(t,a.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(xt.store),r=t.store(Be.store);return t.store(Ln.store).get(Ln.key).next(function(o){var s=[];return r.Ot(function(a,l){var f=new ge(a),p=function(m){return[0,Er(m)]}(f);s.push(n.get(p).next(function(m){return m?U.resolve():function(g){return n.put(new xt(0,Er(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return U.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Qo.store,{keyPath:Qo.keyPath});var r=n.store(Qo.store),o=new p0,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return r.put({collectionId:l,parent:Er(f)})}};return n.store(Be.store).Ot({kt:!0},function(a,l){var f=new ge(a);return s(f.popLast())}).next(function(){return n.store(Ft.store).Ot({kt:!0},function(a,l){a[0];var f=a[1],p=(a[2],oi(f));return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(vn.store);return r.Ot(function(o,s){var a=jc(s),l=Jx(n.R,a);return r.put(l)})},e}();function lk(e){e.createObjectStore(xt.store,{keyPath:xt.keyPath}).createIndex(xt.documentTargetsIndex,xt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(vn.store,{keyPath:vn.keyPath}).createIndex(vn.queryTargetsIndexName,vn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ln.store)}var d0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",DV=function(){function e(t,n,r,o,s,a,l,f,p,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=p,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new V(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AV(this,o),this.Le=n+"main",this.R=new Yx(f),this.Be=new wu(this.Le,11,new PV(this.R)),this.qe=new SV(this.referenceDelegate,this.R),this.Ut=new IV,this.Ue=function(g,v){return new OV(g,v)}(this.R,this.Ut),this.Qe=new EV,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,m===!1&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new V(O.FAILED_PRECONDITION,d0);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new On(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return L(n,void 0,void 0,function(){return R(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return L(n,void 0,void 0,function(){return R(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return L(n,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Zh(n).put(new si(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Jo(n))return q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Fc(t).get(Rn.key).next(function(r){return U.resolve(n.tn(r))})},e.prototype.en=function(t){return Zh(t).delete(this.clientId)},e.prototype.nn=function(){return L(this,void 0,void 0,function(){var t,n,r,o,s=this;return R(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=yn(l,si.store);return f.Nt().next(function(p){var m=s.rn(p,18e5),g=p.filter(function(v){return m.indexOf(v)===-1});return U.forEach(g,function(v){return f.delete(v.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)o=r[n],this.Ke.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?U.resolve(!0):Fc(t).get(Rn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new V(O.FAILED_PRECONDITION,d0);return!1}}return!(!n.networkEnabled||!n.inForeground)||Zh(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return L(this,void 0,void 0,function(){var t=this;return R(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Rn.store,si.store],function(r){var o=new $x(r,On.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Zh(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return TV.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,yV,function(l){return s=new $x(l,o.Ne?o.Ne.next():On.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw et("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new V(O.FAILED_PRECONDITION,Hx);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Fc(t).get(Rn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new V(O.FAILED_PRECONDITION,d0)})},e.prototype.Ze=function(t){var n=new Rn(this.clientId,this.allowTabSynchronization,Date.now());return Fc(t).put(Rn.key,n)},e.yt=function(){return wu.yt()},e.prototype.Xe=function(t){var n=this,r=Fc(t);return r.get(Rn.key).next(function(o){return n.tn(o)?(q("IndexedDbPersistence","Releasing primary lease."),r.delete(Rn.key)):U.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(et("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return et("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){et("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Fc(e){return yn(e,Rn.store)}function Zh(e){return yn(e,si.store)}function m0(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var RV=function(e,t){this.progress=e,this.wn=t},fk=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Zg(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new X(n)).next(function(r){var o=r0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,a=r0();return this.Ut.getCollectionParents(t,s).next(function(l){return U.forEach(l,function(f){var p=function(m,g){return new ii(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,f.child(s));return o.An(t,p,r).next(function(m){m.forEach(function(g,v){a=a.insert(g,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var p=0,m=s;p<m.length;p++)for(var g=m[p],v=0,_=g.mutations;v<_.length;v++){var T=_[v],N=T.key,E=o.get(N);E==null&&(E=St.newInvalidDocument(N),o=o.insert(N,E)),t0(T,E,g.localWriteTime),E.isFoundDocument()||(o=o.remove(N))}})}).next(function(){return o.forEach(function(l,f){Ac(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=Ie(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var p=f[l];p instanceof Li&&r.get(p.key)===null&&(o=o.add(p.key))}var m=r;return this.Ue.getEntries(t,o).next(function(g){return g.forEach(function(v,_){_.isFoundDocument()&&(m=m.insert(v,_))}),m})},e}(),LV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=Ie(),o=Ie(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),hk=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ae.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(Vh(n)||Uh(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(qg()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),e0(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var r=new lt(sx(t));return n.forEach(function(o,s){Ac(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return qg()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",e0(n)),this.Sn.getDocumentsMatchingQuery(t,n,ae.min())},e}(),MV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.Fn=new jt(fe),this.kn=new Su(function(s){return Nc(s)},jh),this.On=ae.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new fk(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();function pk(e,t,n,r){return new MV(e,t,n,r)}function dk(e,t){return L(this,void 0,void 0,function(){var n,r,o,s;return R(this,function(a){switch(a.label){case 0:return n=H(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,r=n.persistence.getMutationQueue(t),o=new fk(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var m=[],g=[],v=Ie(),_=0,T=f;_<T.length;_++){var N=T[_];m.push(N.batchId);for(var E=0,b=N.mutations;E<b.length;E++){var I=b[E];v=v.add(I.key)}}for(var x=0,k=p;x<k.length;x++){var P=k[x];g.push(P.batchId);for(var C=0,F=P.mutations;C<F.length;C++){var z=F[C];v=v.add(z.key)}}return o.pn(l,v).next(function(M){return{Ln:M,removedBatchIds:m,addedBatchIds:g}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function jV(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,f,p){var m=f.batch,g=m.keys(),v=U.resolve();return g.forEach(function(_){v=v.next(function(){return p.getEntry(l,_)}).next(function(T){var N=f.docVersions.get(_);te(N!==null),T.version.compareTo(N)<0&&(m.applyToRemoteDocument(T,f),T.isValidDocument()&&p.addEntry(T,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,m)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function mk(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function FV(e,t){var n=H(e),r=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.$n.newChangeBuffer({trackRemovals:!0});o=n.Fn;var l=[];t.targetChanges.forEach(function(m,g){var v=o.get(g);if(v){l.push(n.qe.removeMatchingKeys(s,m.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(s,m.addedDocuments,g)}));var _=m.resumeToken;if(_.approximateByteSize()>0){var T=v.withResumeToken(_,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(g,T),function(N,E,b){return te(E.resumeToken.approximateByteSize()>0),N.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,T,m)&&l.push(n.qe.updateTargetData(s,T))}}});var f=Jn();if(t.documentUpdates.forEach(function(m,g){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(vk(s,a,t.documentUpdates,r,void 0).next(function(m){f=m})),!r.isEqual(ae.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(m){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(p)}return U.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.Fn=o,s})}function vk(e,t,n,r,o){var s=Ie();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Jn();return n.forEach(function(f,p){var m=a.get(f),g=(o==null?void 0:o.get(f))||r;p.isNoDocument()&&p.version.isEqual(ae.min())?(t.removeEntry(f,g),l=l.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(p,g),l=l.insert(f,p)):q("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),l})}function VV(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Nu(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,U.resolve(o)):n.qe.allocateTargetId(r).next(function(a){return o=new $h(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.Fn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function xu(e,t,n){return L(this,void 0,void 0,function(){var r,o,s,a;return R(this,function(l){switch(l.label){case 0:r=H(e),o=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Jo(a=l.sent()))throw a;return q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(o.target),[2]}})})}function ep(e,t,n){var r=H(e),o=ae.min(),s=Ie();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,p){var m=H(l),g=m.kn.get(p);return g!==void 0?U.resolve(m.Fn.get(g)):m.qe.getTargetData(f,p)}(r,a,Xn(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?o:ae.min(),n?s:Ie())}).next(function(l){return{documents:l,Bn:s}})})}function yk(e,t){var n=H(e),r=H(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function gk(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var a=H(r),l=Jn(),f=f0(s),p=Ui(o),m=IDBKeyRange.lowerBound(f,!0);return p.Ot({index:Be.readTimeIndex,range:m},function(g,v){var _=l0(a.R,v);l=l.insert(_.key,_),f=v.readTime}).next(function(){return{wn:l,readTime:Xx(f)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,o=n.readTime;return t.On=o,r})}function UV(e){return L(this,void 0,void 0,function(){var t;return R(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Ui(o),a=ae.min();return s.Ot({index:Be.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(a=Xx(f.readTime)),p.done()}).next(function(){return a})}(r)}).then(function(r){t.On=r})]})})}function BV(e,t,n,r){return L(this,void 0,void 0,function(){var o,s,a,l,f,p,m,g,v,_;return R(this,function(T){switch(T.label){case 0:for(o=H(e),s=Ie(),a=Jn(),l=Ix(),f=0,p=n;f<p.length;f++)m=p[f],g=t.qn(m.metadata.name),m.document&&(s=s.add(g)),a=a.insert(g,t.Un(m)),l=l.insert(g,t.Qn(m.metadata.readTime));return v=o.$n.newChangeBuffer({trackRemovals:!0}),[4,Nu(o,function(N){return Xn(fu(ge.fromString("__bundle__/docs/"+N)))}(r))];case 1:return _=T.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(N){return vk(N,v,a,ae.min(),l).next(function(E){return v.apply(N),E}).next(function(E){return o.qe.removeMatchingKeysForTargetId(N,_.targetId).next(function(){return o.qe.addMatchingKeys(N,s,_.targetId)}).next(function(){return o.Mn.En(N,E)}).next(function(){return E})})})]}})})}function qV(e,t,n){return n===void 0&&(n=Ie()),L(this,void 0,void 0,function(){var r,o;return R(this,function(s){switch(s.label){case 0:return[4,Nu(e,Xn(h0(t.bundledQuery)))];case 1:return r=s.sent(),[2,(o=H(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Nt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.Qe.saveNamedQuery(a,t);var f=r.withResumeToken(on.EMPTY_BYTE_STRING,l);return o.Fn=o.Fn.insert(f.targetId,f),o.qe.updateTargetData(a,f).next(function(){return o.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return o.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return o.Qe.saveNamedQuery(a,t)})})]}})})}var zV=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return U.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:Nt(r.createTime)}),U.resolve()},e.prototype.getNamedQuery=function(t,n){return U.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:h0(r.bundledQuery),readTime:Nt(r.readTime)}}(n)),U.resolve()},e}(),v0=function(){function e(){this.Wn=new lt(yt.Gn),this.zn=new lt(yt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new yt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new yt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new X(new ge([])),o=new yt(r,t),s=new yt(r,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new X(new ge([])),r=new yt(n,t),o=new yt(n,t+1),s=Ie();return this.zn.forEachInRange([r,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new yt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),yt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return X.comparator(t.key,n.key)||fe(t.ns,n.ns)},e.Hn=function(t,n){return fe(t.ns,n.ns)||X.comparator(t.key,n.key)},e}(),HV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new lt(yt.Gn)}return e.prototype.checkEmpty=function(t){return U.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new c0(s,n,r,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new yt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return U.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return U.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return U.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return U.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return U.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);a.push(f)}),U.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new lt(fe);return n.forEach(function(s){var a=new yt(s,0),l=new yt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),U.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));var a=new yt(new X(s),0),l=new lt(fe);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},a),U.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;te(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return U.forEach(n.mutations,function(s){var a=new yt(s.key,n.batchId);return o=o.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new yt(n,0),o=this.rs.firstAfterOrEqual(r);return U.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,U.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),GV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new jt(X.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return U.resolve(r?r.document.clone():St.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Jn();return n.forEach(function(s){var a=r.docs.get(s);o=o.insert(s,a?a.document.clone():St.newInvalidDocument(s))}),U.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Jn(),s=new X(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,p=l.value,m=p.document,g=p.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(r)<=0||Ac(n,m)&&(o=o.insert(m.key,m.clone()))}return U.resolve(o)},e.prototype.fs=function(t,n){return U.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new KV(this)},e.prototype.getSize=function(t){return U.resolve(this.size)},e}(),KV=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ee(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),U.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(ak),WV=function(){function e(t){this.persistence=t,this.ds=new Su(function(n){return Nc(n)},jh),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ws=0,this._s=new v0,this.targetCount=0,this.ys=Qh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),U.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return U.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return U.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),U.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),U.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Qh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,U.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),U.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,U.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),U.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return U.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return U.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),U.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),U.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),U.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return U.resolve(r)},e.prototype.containsKey=function(t,n){return U.resolve(this._s.containsKey(n))},e}(),YV=function(){function e(t,n){var r=this;this.gs={},this.Ne=new On(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new WV(this),this.Ut=new _V,this.Ue=function(o,s){return new GV(o,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new Yx(n),this.Qe=new zV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new HV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;q("MemoryPersistence","Starting transaction:",t);var s=new $V(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return U.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),$V=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ee(t,e),t}(Kx),QV=function(){function e(t){this.persistence=t,this.As=new v0,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Y()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),U.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),U.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),U.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.vs,function(o){var s=X.fromPath(o);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return U.or([function(){return U.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Mn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();function wk(e,t){return"firestore_clients_"+e+"_"+t}function bk(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function y0(e,t){return"firestore_targets_"+e+"_"+t}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid");var Ek=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new V(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(et("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),g0=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new V(o.error.code,o.error.message)),s?new e(t,o.state,r):(et("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),_k=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Kh(),a=0;o&&a<r.activeTargetIds.length;++a)o=$N(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(et("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),XV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(et("SharedClientState","Failed to parse online state: "+t),null)},e}(),w0=function(){function e(){this.activeTargetIds=Kh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),b0=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new jt(fe),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=wk(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new w0),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return L(this,void 0,void 0,function(){var t,n,r,o,s,a,l,f,p,m,g,v=this;return R(this,function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(wk(this.persistenceKey,o)))&&(a=_k.Vs(o,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,m=this.Os;p<m.length;p++)g=m[p],this.Fs(g);return this.Os=[],this.window.addEventListener("unload",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(y0(this.persistenceKey,t));if(r){var o=g0.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(y0(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return L(n,void 0,void 0,function(){var o,s,a,l,f,p;return R(this,function(m){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(p=function(g){var v=On.o;if(g!=null)try{var _=JSON.parse(g);te(typeof _=="number"),v=_}catch(T){et("SharedClientState","Failed to read sequence number from WebStorage",T)}return v}(r.newValue))!==On.o&&this.sequenceNumberHandler(p);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new Ek(this.currentUser,t,n,r),s=bk(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=bk(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=y0(this.persistenceKey,t),s=new g0(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return _k.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ek.Vs(new Mn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return g0.Vs(o,n)},e.prototype.js=function(t){return XV.Vs(t)},e.prototype.ii=function(t){return L(this,void 0,void 0,function(){return R(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(o),l=[],f=[];return a.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){a.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){r.ks=o})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Kh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),Ik=function(){function e(){this.li=new w0,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new w0,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),JV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Tk=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),ZV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),tU=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return ee(t,e),t.prototype.ki=function(n,r,o,s){return new Promise(function(a,l){var f=new BN;f.listenOnce(VN.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Dh.NO_ERROR:var m=f.getResponseJson();q("Connection","XHR received:",JSON.stringify(m)),a(m);break;case Dh.TIMEOUT:q("Connection",'RPC "'+n+'" timed out'),l(new V(O.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:var g=f.getStatus();if(q("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var _=function(T){var N=T.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(N)>=0?N:O.UNKNOWN}(v.status);l(new V(_,v.message))}else l(new V(O.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new V(O.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{q("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(r,"POST",p,o,15)})},t.prototype.$i=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=jN(),a=FN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),AT()||PT()||DT()||RT()||LT()||nc()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");q("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),m=!1,g=!1,v=new eU({Ei:function(T){g?q("Connection","Not sending because WebChannel is closed:",T):(m||(q("Connection","Opening WebChannel transport."),p.open(),m=!0),q("Connection","WebChannel sending:",T),p.send(T))},Ti:function(){return p.close()}}),_=function(T,N,E){T.listen(N,function(b){try{E(b)}catch(I){setTimeout(function(){throw I},0)}})};return _(p,_c.EventType.OPEN,function(){g||q("Connection","WebChannel transport opened.")}),_(p,_c.EventType.CLOSE,function(){g||(g=!0,q("Connection","WebChannel transport closed"),v.Vi())}),_(p,_c.EventType.ERROR,function(T){g||(g=!0,Hg("Connection","WebChannel transport errored:",T),v.Vi(new V(O.UNAVAILABLE,"The operation could not be completed")))}),_(p,_c.EventType.MESSAGE,function(T){var N;if(!g){var E=T.data[0];te(!!E);var b=E,I=b.error||((N=b[0])===null||N===void 0?void 0:N.error);if(I){q("Connection","WebChannel received error:",I);var x=I.status,k=function(C){var F=nt[C];if(F!==void 0)return Ex(F)}(x),P=I.message;k===void 0&&(k=O.INTERNAL,P="Unknown error status: "+x+" with message "+I.message),g=!0,v.Vi(new V(k,P)),p.close()}else q("Connection","WebChannel received:",E),v.Si(E)}}),_(a,UN.STAT_EVENT,function(T){T.stat===Ug.PROXY?q("Connection","Detected buffering proxy"):T.stat===Ug.NOPROXY&&q("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);q("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,o),this.ki(t,s,a,r).then(function(l){return q("RestConnection","Received: ",l),l},function(l){throw Hg("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Oi=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=ZV[t];return this.Di+"/v1/"+n+":"+r},e}());function Sk(){return typeof window!="undefined"?window:null}function tp(){return typeof document!="undefined"?document:null}function np(e){return new sV(e,!0)}var E0=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-o);s>0&&q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Nk=function(){function e(t,n,r,o,s,a){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new E0(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return L(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return L(this,void 0,void 0,function(){return R(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return L(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===O.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new V(O.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return L(t,void 0,void 0,function(){return R(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),nU=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,a)||this).R=s,l}return ee(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Y()}(a.targetChange.targetChangeType||"NO_CHANGE"),p=a.targetChange.targetIds||[],m=function(E,b){return E.I?(te(b===void 0||typeof b=="string"),on.fromBase64String(b||"")):(te(b===void 0||b instanceof Uint8Array),on.fromUint8Array(b||new Uint8Array))}(s,a.targetChange.resumeToken),g=(v=a.targetChange.cause)&&function(E){var b=E.code===void 0?O.UNKNOWN:Ex(E.code);return new V(b,E.message||"")}(v);l=new Sx(f,p,m,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,p=Mr(s,f.document.name),m=Nt(f.document.updateTime);var v=new Pn({mapValue:{fields:f.document.fields}}),_=(g=St.newFoundDocument(p,m,v),f.targetIds||[]),T=f.removedTargetIds||[];l=new Gh(_,T,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,p=Mr(s,f.document),m=f.readTime?Nt(f.readTime):ae.min(),v=St.newNoDocument(p,m),g=f.removedTargetIds||[],l=new Gh([],g,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,p=Mr(s,f.document),m=f.removedTargetIds||[],l=new Gh([],m,p,null);else{if(!("filter"in a))return Y();a.filter;var N=a.filter;N.targetId,f=N.count||0,p=new X4(f),m=N.targetId,l=new Tx(m,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return ae.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ae.min():a.readTime?Nt(a.readTime):ae.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=Lc(this.R),r.addTarget=function(s,a){var l,f=a.target;return(l=Fh(f)?{documents:jx(s,f)}:{query:Vx(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=Ax(s,a.resumeToken):a.snapshotVersion.compareTo(ae.min())>0&&(l.readTime=Dc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Lc(this.R),r.removeTarget=n,this.cr(r)},t}(Nk),rU=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,a)||this).R=s,l.gr=!1,l}return ee(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(te(a!==void 0),s.map(function(l){return function(f,p){var m=f.updateTime?Nt(f.updateTime):Nt(p);return m.isEqual(ae.min())&&(m=Nt(p)),new $4(m,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Nt(n.commitTime);return this.listener.Tr(o,r)}return te(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Lc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Wh(r.R,s)})};this.cr(o)},t}(Nk),iU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return ee(t,e),t.prototype.br=function(){if(this.Rr)throw new V(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new V(O.UNKNOWN,a.toString())})},t.prototype.Oi=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Oi(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new V(O.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),oU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(et(n),this.Vr=!1):q("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),sU=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return L(s,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return Bi(this)?(q("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return L(this,void 0,void 0,function(){var p;return R(this,function(m){switch(m.label){case 0:return(p=H(f)).$r.add(4),[4,ku(p)];case 1:return m.sent(),p.Br.set("Unknown"),p.$r.delete(4),[4,Vc(p)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new oU(n,r)};function Vc(e){return L(this,void 0,void 0,function(){var t,n;return R(this,function(r){switch(r.label){case 0:if(!Bi(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ku(e){return L(this,void 0,void 0,function(){var t,n;return R(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function rp(e,t){var n=H(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),T0(n)?I0(n):Au(n).er()&&_0(n,t))}function Uc(e,t){var n=H(e),r=Au(n);n.Or.delete(t),r.er()&&xk(n,t),n.Or.size===0&&(r.er()?r.ir():Bi(n)&&n.Br.set("Unknown"))}function _0(e,t){e.qr.U(t.targetId),Au(e).mr(t)}function xk(e,t){e.qr.U(t),Au(e).yr(t)}function I0(e){e.qr=new rV({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Au(e).start(),e.Br.Sr()}function T0(e){return Bi(e)&&!Au(e).tr()&&e.Or.size>0}function Bi(e){return H(e).$r.size===0}function kk(e){e.qr=void 0}function uU(e){return L(this,void 0,void 0,function(){return R(this,function(t){return e.Or.forEach(function(n,r){_0(e,n)}),[2]})})}function aU(e,t){return L(this,void 0,void 0,function(){return R(this,function(n){return kk(e),T0(e)?(e.Br.Nr(t),I0(e)):e.Br.set("Unknown"),[2]})})}function cU(e,t,n){return L(this,void 0,void 0,function(){var r,o,s;return R(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Sx&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return L(this,void 0,void 0,function(){var p,m,g,v;return R(this,function(_){switch(_.label){case 0:p=f.cause,m=0,g=f.targetIds,_.label=1;case 1:return m<g.length?(v=g[m],l.Or.has(v)?[4,l.remoteSyncer.rejectListen(v,p)]:[3,3]):[3,5];case 2:_.sent(),l.Or.delete(v),l.qr.removeTarget(v),_.label=3;case 3:_.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ip(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Gh?e.qr.X(t):t instanceof Tx?e.qr.rt(t):e.qr.et(t),n.isEqual(ae.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,mk(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(m,g){if(m.resumeToken.approximateByteSize()>0){var v=l.Or.get(g);v&&l.Or.set(g,v.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach(function(m){var g=l.Or.get(m);if(g){l.Or.set(m,g.withResumeToken(on.EMPTY_BYTE_STRING,g.snapshotVersion)),xk(l,m);var v=new $h(g.target,m,1,g.sequenceNumber);_0(l,v)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,ip(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ip(e,t,n){return L(this,void 0,void 0,function(){var r=this;return R(this,function(o){switch(o.label){case 0:if(!Jo(t))throw t;return e.$r.add(1),[4,ku(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return mk(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return L(r,void 0,void 0,function(){return R(this,function(s){switch(s.label){case 0:return q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,Vc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Ak(e,t){return t().catch(function(n){return ip(e,n,t)})}function Cu(e){return L(this,void 0,void 0,function(){var t,n,r,o,s;return R(this,function(a){switch(a.label){case 0:t=H(e),n=qi(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Bi(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,VV(t.localStore,r)];case 3:return(o=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.kr.push(f);var p=qi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,ip(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Ck(t)&&Ok(t),[2]}})})}function Ck(e){return Bi(e)&&!qi(e).tr()&&e.kr.length>0}function Ok(e){qi(e).start()}function lU(e){return L(this,void 0,void 0,function(){return R(this,function(t){return qi(e).Ar(),[2]})})}function fU(e){return L(this,void 0,void 0,function(){var t,n,r,o;return R(this,function(s){for(t=qi(e),n=0,r=e.kr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function hU(e,t,n){return L(this,void 0,void 0,function(){var r,o;return R(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),o=bV.from(r,t,n),[4,Ak(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Cu(e)];case 2:return s.sent(),[2]}})})}function pU(e,t){return L(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return t&&qi(e).pr?[4,function(r,o){return L(this,void 0,void 0,function(){var s,a;return R(this,function(l){switch(l.label){case 0:return bx(a=o.code)&&a!==O.ABORTED?(s=r.kr.shift(),qi(r).sr(),[4,Ak(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Cu(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ck(e)&&Ok(e),[2]}})})}function S0(e,t){return L(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:return n=H(e),t?(n.$r.delete(2),[4,Vc(n)]):[3,2];case 1:return o.sent(),[3,5];case 2:return(r=t)?[3,4]:(n.$r.add(2),[4,ku(n)]);case 3:o.sent(),r=n.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Au(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=H(n);return s.br(),new nU(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:uU.bind(null,e),Ri:aU.bind(null,e),_r:cU.bind(null,e)}),e.Mr.push(function(n){return L(t,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),T0(e)?I0(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),kk(e),r.label=3;case 3:return[2]}})})})),e.Ur}function qi(e){var t=this;return e.Qr||(e.Qr=function(n,r,o){var s=H(n);return s.br(),new rU(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:lU.bind(null,e),Ri:pU.bind(null,e),Ir:fU.bind(null,e),Tr:hU.bind(null,e)}),e.Mr.push(function(n){return L(t,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,Cu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(q("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var dU=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,o,s){var a=new e(t,n,Date.now()+r,o,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ou(e,t){if(et("AsyncQueue",t+": "+e),Jo(e))return new V(O.UNAVAILABLE,t+": "+e);throw e}var Pk=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||X.comparator(n.key,r.key)}:function(n,r){return X.comparator(n.key,r.key)},this.keyedMap=r0(),this.sortedSet=new jt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Dk=function(){function e(){this.Kr=new jt(X.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):Y():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),op=function(){function e(t,n,r,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,Pk.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),mU=function(){this.Wr=void 0,this.listeners=[]},vU=function(){this.queries=new Su(function(e){return ox(e)},kc),this.onlineState="Unknown",this.Gr=new Set};function x0(e,t){return L(this,void 0,void 0,function(){var n,r,o,s,a,l,f;return R(this,function(p){switch(p.label){case 0:if(n=H(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new mU),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=Ou(l,"Initialization of query '"+e0(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&N0(n),[2]}})})}function k0(e,t){return L(this,void 0,void 0,function(){var n,r,o,s,a;return R(this,function(l){return n=H(e),r=t.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function yU(e,t){for(var n=H(e),r=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var p=0,m=f.listeners;p<m.length;p++)m[p].Hr(a)&&(r=!0);f.Wr=a}}r&&N0(n)}function gU(e,t,n){var r=H(e),o=r.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function N0(e){e.Gr.forEach(function(t){t.next()})}var A0=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new op(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=op.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),wU=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Rk=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Mr(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?Lx(this.R,t.document,!1):St.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return Nt(t)},e}(),d5=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=bU(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new Rk(this.R),o=0,s=t;o<s.length;o++){var a=s[o];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),f=0,p=a.metadata.queries;f<p.length;f++){var m=p[f],g=(n.get(m)||Ie()).add(l);n.set(m,g)}}return n},e.prototype.complete=function(){return L(this,void 0,void 0,function(){var t,n,r,o,s;return R(this,function(a){switch(a.label){case 0:return[4,BV(this.localStore,new Rk(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,o=this.queries,a.label=2;case 2:return r<o.length?(s=o[r],[4,qV(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new RV(Object.assign({},this.progress),t))]}})})},e}();function bU(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Lk=function(e){this.key=e},Mk=function(e){this.key=e},jk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ie(),this.mutatedKeys=Ie(),this.lo=sx(t),this.fo=new Pk(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new Dk,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=Vh(this.query)&&s.size===this.query.limit?s.last():null,m=Uh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(v,_){var T=s.get(v),N=Ac(r.query,_)?_:null,E=!!T&&r.mutatedKeys.has(T.key),b=!!N&&(N.hasLocalMutations||r.mutatedKeys.has(N.key)&&N.hasCommittedMutations),I=!1;T&&N?T.data.isEqual(N.data)?E!==b&&(o.track({type:3,doc:N}),I=!0):r.yo(T,N)||(o.track({type:2,doc:N}),I=!0,(p&&r.lo(N,p)>0||m&&r.lo(N,m)<0)&&(f=!0)):!T&&N?(o.track({type:0,doc:N}),I=!0):T&&!N&&(o.track({type:1,doc:T}),I=!0,(p||m)&&(f=!0)),I&&(N?(l=l.add(N),a=b?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),Vh(this.query)||Uh(this.query))for(;l.size>this.query.limit;){var g=Vh(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(m,g){return function(v,_){var T=function(N){switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return T(v)-T(_)}(m.type,g.type)||o.lo(m.doc,g.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,a.length!==0||p?{snapshot:new op(this.query,t.fo,s,a,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ie(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new Mk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new Lk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ie();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return op.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),EU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},_U=function(e){this.key=e,this.bo=!1},IU=function(){function e(t,n,r,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Su(function(l){return ox(l)},kc),this.Vo=new Map,this.So=new Set,this.Do=new jt(X.comparator),this.Co=new Map,this.No=new v0,this.xo={},this.Fo=new Map,this.ko=Qh.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function TU(e,t){return L(this,void 0,void 0,function(){var n,r,o,s,a,l;return R(this,function(f){switch(f.label){case 0:return n=O0(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Nu(n.localStore,Xn(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,C0(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&rp(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function C0(e,t,n,r){return L(this,void 0,void 0,function(){var o,s,a,l,f,p;return R(this,function(m){switch(m.label){case 0:return e.$o=function(g,v,_){return function(T,N,E,b){return L(this,void 0,void 0,function(){var I,x,k;return R(this,function(P){switch(P.label){case 0:return I=N.view._o(E),I.Nn?[4,ep(T.localStore,N.query,!1).then(function(C){var F=C.documents;return N.view._o(F,I)})]:[3,2];case 1:I=P.sent(),P.label=2;case 2:return x=b&&b.targetChanges.get(N.targetId),k=N.view.applyChanges(I,T.isPrimaryClient,x),[2,(P0(T,N.targetId,k.To),k.snapshot)]}})})}(e,g,v,_)},[4,ep(e.localStore,t,!0)];case 1:return o=m.sent(),s=new jk(t,o.Bn),a=s._o(o.documents),l=i0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),P0(e,n,f.To),p=new EU(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function SU(e,t){return L(this,void 0,void 0,function(){var n,r,o;return R(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(a){return!kc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Uc(n.remoteStore,r.targetId),Pu(n,r.targetId)}).catch(Zo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Pu(n,r.targetId),[4,xu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function NU(e,t,n){return L(this,void 0,void 0,function(){var r,o,s,a;return R(this,function(l){switch(l.label){case 0:r=D0(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var m,g=H(f),v=rn.now(),_=p.reduce(function(T,N){return T.add(N.key)},Ie());return g.persistence.runTransaction("Locally write mutations","readwrite",function(T){return g.Mn.pn(T,_).next(function(N){m=N;for(var E=[],b=0,I=p;b<I.length;b++){var x=I[b],k=Q4(x,m.get(x.key));k!=null&&E.push(new Li(x.key,k,JN(k.toProto().mapValue),Mt.exists(!0)))}return g._n.addMutationBatch(T,v,E,p)})}).then(function(T){return T.applyToLocalDocumentSet(m),{batchId:T.batchId,changes:m}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){var g=f.xo[f.currentUser.toKey()];g||(g=new jt(fe)),g=g.insert(p,m),f.xo[f.currentUser.toKey()]=g}(r,o.batchId,n),[4,zi(r,o.changes)];case 3:return l.sent(),[4,Cu(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Ou(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Fk(e,t){return L(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:n=H(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,FV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?te(l.bo):s.removedDocuments.size>0&&(te(l.bo),l.bo=!1))}),[4,zi(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,Zo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Vk(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=H(s);l.onlineState=a;var f=!1;l.queries.forEach(function(p,m){for(var g=0,v=m.listeners;g<v.length;g++)v[g].zr(a)&&(f=!0)}),f&&N0(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xU(e,t,n){return L(this,void 0,void 0,function(){var r,o,s,a,l,f;return R(this,function(p){switch(p.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(a=(a=new jt(X.comparator)).insert(s,St.newNoDocument(s,ae.min())),l=Ie().add(s),f=new o0(ae.min(),new Map,new lt(fe),a,l),[4,Fk(r,f)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),R0(r),[3,4];case 2:return[4,xu(r.localStore,t,!1).then(function(){return Pu(r,t,n)}).catch(Zo)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function kU(e,t){return L(this,void 0,void 0,function(){var n,r,o;return R(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,jV(n.localStore,t)];case 2:return o=s.sent(),M0(n,r,null),L0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,zi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function AU(e,t,n){return L(this,void 0,void 0,function(){var r,o;return R(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=H(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var m;return f._n.lookupMutationBatch(p,l).next(function(g){return te(g!==null),m=g.keys(),f._n.removeMutationBatch(p,g)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,m)})})}(r.localStore,t)];case 2:return o=s.sent(),M0(r,t,n),L0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,zi(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function CU(e,t){return L(this,void 0,void 0,function(){var n,r,o,s,a;return R(this,function(l){switch(l.label){case 0:Bi((n=H(e)).remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=H(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return p._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.Fo.get(r)||[]).push(t),n.Fo.set(r,o),[3,4]);case 3:return s=l.sent(),a=Ou(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function L0(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function M0(e,t,n){var r=H(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function Pu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||Uk(e,a)})}function Uk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Uc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),R0(e))}function P0(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof Lk?(e.No.addReference(s.key,t),OU(e,s)):s instanceof Mk?(q("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Uk(e,s.key)):Y()}}function OU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(q("SyncEngine","New document in limbo: "+n),e.So.add(r),R0(e))}function R0(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new X(ge.fromString(t)),r=e.ko.next();e.Co.set(r,new _U(n)),e.Do=e.Do.insert(n,r),rp(e.remoteStore,new $h(Xn(fu(n.path)),r,2,On.o))}}function zi(e,t,n){return L(this,void 0,void 0,function(){var r,o,s,a;return R(this,function(l){switch(l.label){case 0:return r=H(e),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,p){a.push(r.$o(p,t,n).then(function(m){if(m){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,m.fromCache?"not-current":"current"),o.push(m);var g=LV.Pn(p.targetId,m);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,p){return L(this,void 0,void 0,function(){var m,g,v,_,T,N,E,b,I;return R(this,function(x){switch(x.label){case 0:m=H(f),x.label=1;case 1:return x.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return U.forEach(p,function(P){return U.forEach(P.bn,function(C){return m.persistence.referenceDelegate.addReference(k,P.targetId,C)}).next(function(){return U.forEach(P.vn,function(C){return m.persistence.referenceDelegate.removeReference(k,P.targetId,C)})})})})];case 2:return x.sent(),[3,4];case 3:if(!Jo(g=x.sent()))throw g;return q("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(v=0,_=p;v<_.length;v++)T=_[v],N=T.targetId,T.fromCache||(E=m.Fn.get(N),b=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(b),m.Fn=m.Fn.insert(N,I));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function PU(e,t){return L(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(q("SyncEngine","User change. New user:",t.toKey()),[4,dk(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(f){f.reject(new V(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,zi(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function DU(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return Ie().add(r.key);var o=Ie(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function RU(e,t){return L(this,void 0,void 0,function(){var n,r,o;return R(this,function(s){switch(s.label){case 0:return[4,ep((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&P0(n,t.targetId,o.To),o)]}})})}function LU(e){return L(this,void 0,void 0,function(){var t;return R(this,function(n){return[2,gk((t=H(e)).localStore).then(function(r){return zi(t,r)})]})})}function MU(e,t,n,r){return L(this,void 0,void 0,function(){var o,s;return R(this,function(a){switch(a.label){case 0:return[4,function(l,f){var p=H(l),m=H(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return m.jt(g,f).next(function(v){return v?p.Mn.pn(g,v):U.resolve(null)})})}((o=H(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Cu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(M0(o,t,r||null),L0(o,t),function(l,f){H(H(l)._n).Gt(f)}(o.localStore,t)):Y(),a.label=4;case 4:return[4,zi(o,s)];case 5:return a.sent(),[3,7];case 6:q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function jU(e,t){return L(this,void 0,void 0,function(){var n,r,o,s,a,l,f,p;return R(this,function(m){switch(m.label){case 0:return O0(n=H(e)),D0(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Bk(n,r.toArray())]);case 1:return o=m.sent(),n.Oo=!0,[4,S0(n.remoteStore,!0)];case 2:for(m.sent(),s=0,a=o;s<a.length;s++)l=a[s],rp(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(g,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):p=p.then(function(){return Pu(n,v),xu(n.localStore,v,!0)}),Uc(n.remoteStore,v)}),[4,p]);case 4:return m.sent(),[4,Bk(n,f)];case 5:return m.sent(),function(g){var v=H(g);v.Co.forEach(function(_,T){Uc(v.remoteStore,T)}),v.No.ts(),v.Co=new Map,v.Do=new jt(X.comparator)}(n),n.Oo=!1,[4,S0(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function Bk(e,t,n){return L(this,void 0,void 0,function(){var r,o,s,a,l,f,p,m,g,v,_,T,N,E;return R(this,function(b){switch(b.label){case 0:r=H(e),o=[],s=[],a=0,l=t,b.label=1;case 1:return a<l.length?(f=l[a],p=void 0,(m=r.Vo.get(f))&&m.length!==0?[4,Nu(r.localStore,Xn(m[0]))]:[3,7]):[3,13];case 2:p=b.sent(),g=0,v=m,b.label=3;case 3:return g<v.length?(_=v[g],T=r.Po.get(_),[4,RU(r,T)]):[3,6];case 4:(N=b.sent()).snapshot&&s.push(N.snapshot),b.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,yk(r.localStore,f)];case 8:return E=b.sent(),[4,Nu(r.localStore,E)];case 9:return p=b.sent(),[4,C0(r,qk(E),f,!1)];case 10:b.sent(),b.label=11;case 11:o.push(p),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function qk(e){return rx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function FU(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function VU(e,t,n,r){return L(this,void 0,void 0,function(){var o,s,a;return R(this,function(l){switch(l.label){case 0:return(o=H(e)).Oo?(q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,gk(o.localStore)];case 3:return s=l.sent(),a=o0.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,zi(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,xu(o.localStore,t,!0)];case 6:return l.sent(),Pu(o,t,r),[3,8];case 7:Y(),l.label=8;case 8:return[2]}})})}function UU(e,t,n){return L(this,void 0,void 0,function(){var r,o,s,a,l,f,p,m,g,v;return R(this,function(_){switch(_.label){case 0:if(!(r=O0(e)).Oo)return[3,10];o=0,s=t,_.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(q("SyncEngine","Adding an already active target "+a),[3,5]):[4,yk(r.localStore,a)]):[3,6];case 2:return l=_.sent(),[4,Nu(r.localStore,l)];case 3:return f=_.sent(),[4,C0(r,qk(l),f.targetId,!1)];case 4:_.sent(),rp(r.remoteStore,f),_.label=5;case 5:return o++,[3,1];case 6:p=function(T){return R(this,function(N){switch(N.label){case 0:return r.Vo.has(T)?[4,xu(r.localStore,T,!1).then(function(){Uc(r.remoteStore,T),Pu(r,T)}).catch(Zo)]:[3,2];case 1:N.sent(),N.label=2;case 2:return[2]}})},m=0,g=n,_.label=7;case 7:return m<g.length?(v=g[m],[5,p(v)]):[3,10];case 8:_.sent(),_.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function O0(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xU.bind(null,t),t.vo._r=yU.bind(null,t.eventManager),t.vo.Mo=gU.bind(null,t.eventManager),t}function D0(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AU.bind(null,t),t}var zk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return L(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return this.R=np(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return pk(this.persistence,new hk,t.initialUser,this.R)},e.prototype.qo=function(t){return new YV(QV.bs,this.R)},e.prototype.Bo=function(t){return new Ik},e.prototype.terminate=function(){return L(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Hk=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ee(t,e),t.prototype.initialize=function(n){return L(this,void 0,void 0,function(){return R(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,UV(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,D0(this.Ko.syncEngine)];case 4:return r.sent(),[4,Cu(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return pk(this.persistence,new hk,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new xV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=m0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new DV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,Sk(),tp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Ik},t}(zk),BU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Ko=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return ee(t,e),t.prototype.initialize=function(n){return L(this,void 0,void 0,function(){var r,o=this;return R(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof b0?(this.sharedClientState.syncEngine={ui:MU.bind(null,r),ai:VU.bind(null,r),hi:UU.bind(null,r),fn:FU.bind(null,r),ci:LU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return L(o,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return[4,jU(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Sk();if(!b0.yt(r))throw new V(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=m0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new b0(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(Hk),j0=function(){function e(){}return e.prototype.initialize=function(t,n){return L(this,void 0,void 0,function(){var r=this;return R(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return Vk(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=PU.bind(null,this.syncEngine),[4,S0(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new vU},e.prototype.createDatastore=function(t){var n,r=np(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new tU(n));return function(s,a,l){return new iU(s,a,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,a,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return Vk(l.syncEngine,f,0)},a=Tk.yt()?new Tk:new JV,new sU(n,r,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,a,l,f,p){var m=new IU(r,o,s,a,l,f);return p&&(m.Oo=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return L(this,void 0,void 0,function(){var n;return R(this,function(r){switch(r.label){case 0:return n=H(t),q("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,ku(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();var sp=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),m5=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new sn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(o){o&&o.io()?r.metadata.resolve(o.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(o==null?void 0:o.payload)))},function(o){return r.metadata.reject(o)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return L(this,void 0,void 0,function(){return R(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return L(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return L(this,void 0,void 0,function(){var t,n,r,o;return R(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return o=s.sent(),[2,new wU(JSON.parse(o),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return L(this,void 0,void 0,function(){var t,n;return R(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return L(this,void 0,void 0,function(){var n;return R(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return L(this,void 0,void 0,function(){var t,n;return R(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),qU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return L(this,void 0,void 0,function(){var n,r=this;return R(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new V(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return L(this,void 0,void 0,function(){var l,f,p,m,g,v;return R(this,function(_){switch(_.label){case 0:return l=H(s),f=Lc(l.R)+"/documents",p={documents:a.map(function(T){return Rc(l.R,T)})},[4,l.Oi("BatchGetDocuments",f,p)];case 1:return m=_.sent(),g=new Map,m.forEach(function(T){var N=function(E,b){return"found"in b?function(I,x){te(!!x.found),x.found.name,x.found.updateTime;var k=Mr(I,x.found.name),P=Nt(x.found.updateTime),C=new Pn({mapValue:{fields:x.found.fields}});return St.newFoundDocument(k,P,C)}(E,b):"missing"in b?function(I,x){te(!!x.missing),te(!!x.readTime);var k=Mr(I,x.missing),P=Nt(x.readTime);return St.newNoDocument(k,P)}(E,b):Y()}(l.R,T);g.set(N.key.toString(),N)}),v=[],[2,(a.forEach(function(T){var N=g.get(T.toString());te(!!N),v.push(N)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Pc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return L(this,void 0,void 0,function(){var t,n=this;return R(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=X.fromPath(s);n.mutations.push(new n0(a,n.precondition(a)))}),[4,function(o,s){return L(this,void 0,void 0,function(){var a,l,f;return R(this,function(p){switch(p.label){case 0:return a=H(o),l=Lc(a.R)+"/documents",f={writes:s.map(function(m){return Wh(a.R,m)})},[4,a.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Y();n=ae.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new V(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Mt.updateTime(n):Mt.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ae.min()))throw new V(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(n)}return Mt.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),zU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new E0(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return L(t,void 0,void 0,function(){var n,r,o=this;return R(this,function(s){return n=new qU(this.datastore),(r=this.sc(n))&&r.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!bx(n)}return!1},e}(),HU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Mn.UNAUTHENTICATED,this.clientId=qN.u(),this.credentialListener=function(){},this.receivedInitialUser=new sn,this.credentials.setChangeListener(function(s){q("FirestoreClient","Received user=",s.uid),o.user=s,o.credentialListener(s),o.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return L(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new V(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return L(t,void 0,void 0,function(){var r,o;return R(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Ou(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();function Kk(e,t){return L(this,void 0,void 0,function(){var n,r,o=this;return R(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return L(o,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return[4,dk(t.localStore,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Gk(e,t){return L(this,void 0,void 0,function(){var n,r;return R(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,F0(e)];case 1:return n=o.sent(),q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,l){return L(this,void 0,void 0,function(){var f,p;return R(this,function(m){switch(m.label){case 0:return(f=H(a)).asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials"),p=Bi(f),f.$r.add(3),[4,ku(f)];case 1:return m.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),f.$r.delete(3),[4,Vc(f)];case 3:return m.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function F0(e){return L(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(q("FirestoreClient","Using default OfflineComponentProvider"),[4,Kk(e,new zk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function up(e){return L(this,void 0,void 0,function(){return R(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(q("FirestoreClient","Using default OnlineComponentProvider"),[4,Gk(e,new j0)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Wk(e){return F0(e).then(function(t){return t.persistence})}function $k(e){return F0(e).then(function(t){return t.localStore})}function Yk(e){return up(e).then(function(t){return t.remoteStore})}function Qk(e){return up(e).then(function(t){return t.syncEngine})}function Du(e){return L(this,void 0,void 0,function(){var t,n;return R(this,function(r){switch(r.label){case 0:return[4,up(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=TU.bind(null,t.syncEngine),n.onUnlisten=SU.bind(null,t.syncEngine),n)]}})})}function Xk(e,t,n){var r=this;n===void 0&&(n={});var o=new sn;return e.asyncQueue.enqueueAndForget(function(){return L(r,void 0,void 0,function(){var s;return R(this,function(a){switch(a.label){case 0:return s=function(l,f,p,m,g){var v=new sp({next:function(T){f.enqueueAndForget(function(){return k0(l,_)});var N=T.docs.has(p);!N&&T.fromCache?g.reject(new V(O.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&m&&m.source==="server"?g.reject(new V(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:function(T){return g.reject(T)}}),_=new A0(fu(p.path),v,{includeMetadataChanges:!0,so:!0});return x0(l,_)},[4,Du(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function Jk(e,t,n){var r=this;n===void 0&&(n={});var o=new sn;return e.asyncQueue.enqueueAndForget(function(){return L(r,void 0,void 0,function(){var s;return R(this,function(a){switch(a.label){case 0:return s=function(l,f,p,m,g){var v=new sp({next:function(T){f.enqueueAndForget(function(){return k0(l,_)}),T.fromCache&&m.source==="server"?g.reject(new V(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:function(T){return g.reject(T)}}),_=new A0(p,v,{includeMetadataChanges:!0,so:!0});return x0(l,_)},[4,Du(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var KU=function(e,t,n,r,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a},ap=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Zk=new Map,GU=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},eA=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(Mn.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),WU=function(){function e(t){var n=this;this.oc=null,this.currentUser=Mn.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(te(typeof o.accessToken=="string"),new GU(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new Mn(t)},e}(),$U=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),YU=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new $U(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(Mn.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function V0(e,t,n){if(!n)throw new V(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function U0(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new V(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function tA(e,t,n,r){if(t===!0&&r===!0)throw new V(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function nA(e){if(!X.isDocumentKey(e))throw new V(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function rA(e){if(X.isDocumentKey(e))throw new V(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function cp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Y()}function be(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new V(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cp(e);throw new V(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function iA(e,t){if(t<=0)throw new V(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var oA=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new V(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new V(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),Bc=function(){function e(t,n){this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1,t instanceof ap?(this._databaseId=t,this._credentials=new eA):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new V(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ap(r.options.projectId)}(t),this._credentials=new WU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new V(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new V(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new eA;switch(n.type){case"gapi":var r=n.client;return te(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new YU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new V(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Zk.get(t))&&(q("ComponentProvider","Removing Datastore"),Zk.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ve=function(){function e(t,n,r){this._converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hi(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),jn=function(){function e(t,n,r){this._converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Hi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,fu(o))||this)._path=o,s.type="collection",s}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ve(this.firestore,null,new X(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(jn);function sA(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=We(e),V0("collection","path",t),e instanceof Bc)return rA(n=ge.fromString.apply(ge,$e([t],r))),new Hi(e,null,n);if(!(e instanceof Ve||e instanceof Hi))throw new V(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rA(n=ge.fromString.apply(ge,$e([e.path],r)).child(ge.fromString(t))),new Hi(e.firestore,null,n)}function lp(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=We(e),arguments.length===1&&(t=qN.u()),V0("doc","path",t),e instanceof Bc)return nA(n=ge.fromString.apply(ge,$e([t],r))),new Ve(e,null,new X(n));if(!(e instanceof Ve||e instanceof Hi))throw new V(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nA(n=e._path.child(ge.fromString.apply(ge,$e([t],r)))),new Ve(e.firestore,e instanceof Hi?e._converter:null,new X(n))}function uA(e,t){return e=We(e),t=We(t),(e instanceof Ve||e instanceof Hi)&&(t instanceof Ve||t instanceof Hi)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function aA(e,t){return e=We(e),t=We(t),e instanceof jn&&t instanceof jn&&e.firestore===t.firestore&&kc(e._query,t._query)&&e._converter===t._converter}var QU=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new E0(this,"async_queue_retry"),this.Ec=function(){var r=tp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return L(this,void 0,void 0,function(){var t,n=this;return R(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Jo(t=r.sent()))throw t;return q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(o){throw n.mc=o,n.yc=!1,et("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.yc=!1,o})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=dU.createAndSchedule(this,t,n,r,function(a){return o.Rc(a)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&Y()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return L(this,void 0,void 0,function(){var t;return R(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,o=n._c;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function Ru(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var v5=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),cA=-1,rt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._queue=new QU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ee(t,e),t.prototype._terminate=function(){return this._firestoreClient||lA(this),this._firestoreClient.terminate()},t}(Bc);function Vt(e){return e._firestoreClient||lA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lA(e){var t,n=e._freezeSettings(),r=function(o,s,a,l){return new KU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new HU(e._credentials,e._queue,r)}function fA(e,t,n){var r=this,o=new sn;return e.asyncQueue.enqueue(function(){return L(r,void 0,void 0,function(){var s;return R(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Kk(e,n)];case 1:return a.sent(),[4,Gk(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===O.FAILED_PRECONDITION||l.code===O.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function hA(e){if(e._initialized||e._terminated)throw new V(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Vr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new V(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),es=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(on.fromBase64String(t))}catch(n){throw new V(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(on.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ts=function(e){this._methodName=e},qc=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new V(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new V(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return fe(this._lat,t._lat)||fe(this._long,t._long)},e}(),XU=/^__.*__$/,JU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Li(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(t,this.data,n,this.fieldTransforms)},e}(),pA=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Li(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();function dA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var mA=function(){function e(t,n,r,o,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Fc(t),o},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Sc(),o},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return fp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(dA(this.Dc)&&XU.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),ZU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||np(t)}return e.prototype.Bc=function(t,n,r,o){return o===void 0&&(o=!1),new mA({Dc:t,methodName:n,Lc:r,path:Qn.emptyPath(),xc:!1,Mc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ns(e){var t=e._freezeSettings(),n=np(e._databaseId);return new ZU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hp(e,t,n,r,o,s){s===void 0&&(s={});var a=e.Bc(s.merge||s.mergeFields?2:0,t,n,o);B0("Data must be an object, but it was:",a,r);var l,f,p=vA(r,a);if(s.merge)l=new uu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var m=[],g=0,v=s.mergeFields;g<v.length;g++){var _=q0(t,v[g],n);if(!a.contains(_))throw new V(O.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");yA(m,_)||m.push(_)}l=new uu(m),f=a.fieldTransforms.filter(function(T){return l.covers(T.field)})}else l=null,f=a.fieldTransforms;return new JU(new Pn(p),l,f)}var z0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ts);function gA(e,t,n){return new mA({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var eB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype._toFieldTransform=function(n){return new Cc(n.path,new pu)},t.prototype.isEqual=function(n){return n instanceof t},t}(ts),tB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=gA(this,n,!0),o=this.qc.map(function(a){return rs(a,r)}),s=new $o(o);return new Cc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ts),nB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=gA(this,n,!0),o=this.qc.map(function(a){return rs(a,r)}),s=new Yo(o);return new Cc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ts),rB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Uc=r,o}return ee(t,e),t.prototype._toFieldTransform=function(n){var r=new du(n.R,cx(n.R,this.Uc));return new Cc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ts);function K0(e,t,n,r){var o=e.Bc(1,t,n);B0("Data must be an object, but it was:",o,r);var s=[],a=Pn.empty();Ic(r,function(f,p){var m=H0(t,f,n);p=We(p);var g=o.kc(m);if(p instanceof z0)s.push(m);else{var v=rs(p,g);v!=null&&(s.push(m),a.set(m,v))}});var l=new uu(s);return new pA(a,l,o.fieldTransforms)}function G0(e,t,n,r,o,s){var a=e.Bc(1,t,n),l=[q0(t,r,n)],f=[o];if(s.length%2!=0)throw new V(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(q0(t,s[p])),f.push(s[p+1]);for(var m=[],g=Pn.empty(),v=l.length-1;v>=0;--v)if(!yA(m,l[v])){var _=l[v],T=f[v];T=We(T);var N=a.kc(_);if(T instanceof z0)m.push(_);else{var E=rs(T,N);E!=null&&(m.push(_),g.set(_,E))}}var b=new uu(m);return new pA(g,b,a.fieldTransforms)}function wA(e,t,n,r){return r===void 0&&(r=!1),rs(n,e.Bc(r?4:3,t))}function rs(e,t){if(bA(e=We(e)))return B0("Unsupported field value:",t,e),vA(e,t);if(e instanceof ts)return function(n,r){if(!dA(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=rs(l[a],r.Oc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=We(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cx(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=rn.fromDate(n);return{timestampValue:Dc(r.R,o)}}if(n instanceof rn)return o=new rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Dc(r.R,o)};if(n instanceof qc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof es)return{bytesValue:Ax(r.R,n._byteString)};if(n instanceof Ve){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:s0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+cp(n))}(e,t)}function vA(e,t){var n={};return KN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ic(e,function(r,o){var s=rs(o,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof rn||e instanceof qc||e instanceof es||e instanceof Ve||e instanceof ts)}function B0(e,t,n){if(!bA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=cp(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function q0(e,t,n){if((t=We(t))instanceof Vr)return t._internalPath;if(typeof t=="string")return H0(e,t);throw fp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var iB=new RegExp("[~\\*/\\[\\]]");function H0(e,t,n){if(t.search(iB)>=0)throw fp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Vr.bind.apply(Vr,$e([void 0],t.split("."))))()._internalPath}catch(r){throw fp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function fp(e,t,n,r,o){var s=r&&!r.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+r),a&&(f+=" in document "+o),f+=")"),new V(O.INVALID_ARGUMENT,(l+=". ")+e+f)}function yA(e,t){return e.some(function(n){return n.isEqual(t)})}var zc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ve(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new oB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(pp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),oB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(zc);function pp(e,t){return typeof t=="string"?H0(e,t):t instanceof Vr?t._internalPath:t._delegate._internalPath}var is=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ui=function(e){function t(n,r,o,s,a,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return ee(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(pp("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(zc),Hc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ui),Ki=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new is(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Hc(r._firestore,r._userDataWriter,o.key,o,new is(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query._converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){var f=new Hc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new is(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query._converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Hc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new is(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query._converter),p=-1,m=-1;return l.type!==0&&(p=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(m=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:sB(l.type),doc:f,oldIndex:p,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function sB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function EA(e,t){return e instanceof ui&&t instanceof ui?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ki&&t instanceof Ki&&e._firestore===t._firestore&&aA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function _A(e){if(Uh(e)&&e.explicitOrderBy.length===0)throw new V(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kc=function(){};function Gi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var uB=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=o,s.type="where",s}return ee(t,e),t.prototype._apply=function(n){var r=ns(n.firestore),o=function(s,a,l,f,p,m,g){var v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new V(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){TA(g,m);for(var _=[],T=0,N=g;T<N.length;T++){var E=N[T];_.push(IA(f,s,E))}v={arrayValue:{values:_}}}else v=IA(f,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||TA(g,m),v=wA(l,"where",g,m==="in"||m==="not-in");var b=Dn.create(p,m,v);return function(I,x){if(x.g()){var k=Jg(I);if(k!==null&&!k.isEqual(x.field))throw new V(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+x.field.toString()+"'");var P=Xg(I);P!==null&&SA(I,x.field,P)}var C=function(F,z){for(var M=0,he=F.filters;M<he.length;M++){var A=he[M];if(z.indexOf(A.op)>=0)return A.op}return null}(I,function(F){switch(F){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(x.op));if(C!==null)throw C===x.op?new V(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+x.op.toString()+"' filter."):new V(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+x.op.toString()+"' filters with '"+C.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new jn(n.firestore,n._converter,function(s,a){var l=s.filters.concat([a]);return new ii(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Kc),aB=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Qc=n,o.Wc=r,o.type="orderBy",o}return ee(t,e),t.prototype._apply=function(n){var r=function(o,s,a){if(o.startAt!==null)throw new V(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new V(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new lu(s,a);return function(f,p){if(Xg(f)===null){var m=Jg(f);m!==null&&SA(f,m,p.field)}}(o,l),l}(n._query,this.Qc,this.Wc);return new jn(n.firestore,n._converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new ii(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Kc),NA=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=o,s}return ee(t,e),t.prototype._apply=function(n){return new jn(n.firestore,n._converter,ix(n._query,this.Gc,this.zc))},t}(Kc),kA=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return ee(t,e),t.prototype._apply=function(n){var r=xA(n,this.type,this.Hc,this.Jc);return new jn(n.firestore,n._converter,function(o,s){return new ii(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Kc),AA=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return ee(t,e),t.prototype._apply=function(n){var r=xA(n,this.type,this.Hc,this.Jc);return new jn(n.firestore,n._converter,function(o,s){return new ii(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Kc);function xA(e,t,n,r){if(n[0]=We(n[0]),n[0]instanceof zc)return function(s,a,l,f,p){if(!f)throw new V(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],g=0,v=hu(s);g<v.length;g++){var _=v[g];if(_.field.isKeyField())m.push(Lh(a,f.key));else{var T=f.data.field(_.field);if(Kg(T))throw new V(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){var N=_.field.canonicalString();throw new V(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+N+"' (used as the orderBy) does not exist.")}m.push(T)}}return new xc(m,p)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ns(e.firestore);return function(s,a,l,f,p,m){var g=s.explicitOrderBy;if(p.length>g.length)throw new V(O.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],_=0;_<p.length;_++){var T=p[_];if(g[_].field.isKeyField()){if(typeof T!="string")throw new V(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof T);if(!Zg(s)&&T.indexOf("/")!==-1)throw new V(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+T+"' contains a slash.");var N=s.path.child(ge.fromString(T));if(!X.isDocumentKey(N))throw new V(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+N+"' is not because it contains an odd number of segments.");var E=new X(N);v.push(Lh(a,E))}else{var b=wA(l,f,T);v.push(b)}}return new xc(v,m)}(e._query,e.firestore._databaseId,o,t,n,r)}function IA(e,t,n){if(typeof(n=We(n))=="string"){if(n==="")throw new V(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zg(t)&&n.indexOf("/")!==-1)throw new V(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ge.fromString(n));if(!X.isDocumentKey(r))throw new V(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lh(e,new X(r))}if(n instanceof Ve)return Lh(e,n._key);throw new V(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cp(n)+".")}function TA(e,t){if(!Array.isArray(e)||e.length===0)throw new V(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new V(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function SA(e,t,n){if(!n.isEqual(t))throw new V(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var W0=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ri(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(au(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Y()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Ic(t.fields||{},function(s,a){o[s]=r.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new qc(tt(t.latitude),tt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=WN(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Di(t);return new rn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=ge.fromString(t);te(Cx(r));var o=new ap(r.get(1),r.get(3)),s=new X(r.popFirst(5));return o.isEqual(n)||et("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();function dp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cB=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ve(this.firestore,null,r)},t}(W0),lB=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ns(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Wi(t,this._firestore),s=dp(o._converter,n,r),a=hp(this._dataReader,"WriteBatch.set",o._key,s,o._converter!==null,r);return this._mutations.push(a.toMutation(o._key,Mt.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Wi(t,this._firestore);return a=typeof(n=We(n))=="string"||n instanceof Vr?G0(this._dataReader,"WriteBatch.update",l._key,n,r,o):K0(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,Mt.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Wi(t,this._firestore);return this._mutations=this._mutations.concat(new Pc(n._key,Mt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new V(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Wi(e,t){if((e=We(e)).firestore!==t)throw new V(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var os=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new es(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ve(this.firestore,null,r)},t}(W0);function CA(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=be(e,Ve);var s=be(e.firestore,rt),a=ns(s);return Gc(s,[(typeof(t=We(t))=="string"||t instanceof Vr?G0(a,"updateDoc",e._key,t,n,r):K0(a,"updateDoc",e._key,t)).toMutation(e._key,Mt.exists(!0))])}function OA(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=We(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ru(o[l])||(a=o[l],l++);var f,p,m,g={includeMetadataChanges:a.includeMetadataChanges};if(Ru(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}if(e instanceof Ve)p=be(e.firestore,rt),m=fu(e._key.path),f={next:function(N){o[l]&&o[l]($0(p,e,N))},error:o[l+1],complete:o[l+2]};else{var _=be(e,jn);p=be(_.firestore,rt),m=_._query;var T=new os(p);f={next:function(N){o[l]&&o[l](new Ki(p,T,_,N))},error:o[l+1],complete:o[l+2]},_A(e._query)}return function(N,E,b,I){var x=this,k=new sp(I),P=new A0(E,k,b);return N.asyncQueue.enqueueAndForget(function(){return L(x,void 0,void 0,function(){var C;return R(this,function(F){switch(F.label){case 0:return C=x0,[4,Du(N)];case 1:return[2,C.apply(void 0,[F.sent(),P])]}})})}),function(){k.Wo(),N.asyncQueue.enqueueAndForget(function(){return L(x,void 0,void 0,function(){var C;return R(this,function(F){switch(F.label){case 0:return C=k0,[4,Du(N)];case 1:return[2,C.apply(void 0,[F.sent(),P])]}})})})}}(Vt(p),m,g,f)}function Gc(e,t){return function(n,r){var o=this,s=new sn;return n.asyncQueue.enqueueAndForget(function(){return L(o,void 0,void 0,function(){var a;return R(this,function(l){switch(l.label){case 0:return a=NU,[4,Qk(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Vt(e),t)}function $0(e,t,n){var r=n.docs.get(t._key),o=new os(e);return new ui(e,o,t._key,r,new is(n.hasPendingWrites,n.fromCache),t._converter)}var fB=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return ee(t,e),t.prototype.get=function(n){var r=this,o=Wi(n,this._firestore),s=new os(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ui(r._firestore,s,o._key,a._document,new is(!1,!1),o._converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ns(t)}return e.prototype.get=function(t){var n=this,r=Wi(t,this._firestore),o=new cB(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Y();var a=s[0];if(a.isFoundDocument())return new zc(n._firestore,o,a.key,a,r._converter);if(a.isNoDocument())return new zc(n._firestore,o,r._key,null,r._converter);throw Y()})},e.prototype.set=function(t,n,r){var o=Wi(t,this._firestore),s=dp(o._converter,n,r),a=hp(this._dataReader,"Transaction.set",o._key,s,o._converter!==null,r);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Wi(t,this._firestore);return a=typeof(n=We(n))=="string"||n instanceof Vr?G0(this._dataReader,"Transaction.update",l._key,n,r,o):K0(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Wi(t,this._firestore);return this._transaction.delete(n._key),this},e}());function PA(){if(typeof Uint8Array=="undefined")throw new V(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function DA(){if(typeof atob=="undefined")throw new V(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Y0=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return DA(),new e(es.fromBase64String(t))},e.fromUint8Array=function(t){return PA(),new e(es.fromUint8Array(t))},e.prototype.toBase64=function(){return DA(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return PA(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),RA=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){hA(r=be(r,rt));var s=Vt(r),a=r._freezeSettings(),l=new j0;return fA(s,l,new Hk(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){hA(n=be(n,rt));var r=Vt(n),o=n._freezeSettings(),s=new j0;return fA(r,s,new BU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new V(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new sn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return L(r,void 0,void 0,function(){var s;return R(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return L(this,void 0,void 0,function(){var f;return R(this,function(p){switch(p.label){case 0:return wu.yt()?(f=l+"main",[4,wu.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(m0(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),J0=function(){function e(t,n,r){var o=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof ap||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n){(function(r,o,s){var a=(r=be(r,Bc))._getSettings();a.host!=="firestore.googleapis.com"&&a.host!==o&&Hg("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},a),{host:o+":"+s,ssl:!1}))})(this._delegate,t,n)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return L(n,void 0,void 0,function(){var r,o;return R(this,function(s){switch(s.label){case 0:return[4,Wk(t)];case 1:return r=s.sent(),[4,Yk(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=H(a);return l.$r.delete(0),Vc(l)}(o))]}})})})}(Vt(be(this._delegate,rt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return L(n,void 0,void 0,function(){var r,o;return R(this,function(s){switch(s.label){case 0:return[4,Wk(t)];case 1:return r=s.sent(),[4,Yk(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return L(this,void 0,void 0,function(){var l;return R(this,function(f){switch(f.label){case 0:return(l=H(a)).$r.add(0),[4,ku(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(Vt(be(this._delegate,rt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&tA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new sn;return t.asyncQueue.enqueueAndForget(function(){return L(n,void 0,void 0,function(){var o;return R(this,function(s){switch(s.label){case 0:return o=CU,[4,Qk(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Vt(be(this._delegate,rt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var a=this,l=new sp(s);return o.asyncQueue.enqueueAndForget(function(){return L(a,void 0,void 0,function(){var f;return R(this,function(p){switch(p.label){case 0:return f=function(m,g){H(m).Gr.add(g),g.next()},[4,Du(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return L(a,void 0,void 0,function(){var f;return R(this,function(p){switch(p.label){case 0:return f=function(m,g){H(m).Gr.delete(g)},[4,Du(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(Vt(n=be(n,rt)),Ru(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new V(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $c(this,sA(this._delegate,t))}catch(n){throw un(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new $i(this,lp(this._delegate,t))}catch(n){throw un(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Wc(this,function(n,r){if(n=be(n,Bc),V0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new V(O.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jn(n,null,function(o){return new ii(ge.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw un(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,a){var l=this,f=new sn;return s.asyncQueue.enqueueAndForget(function(){return L(l,void 0,void 0,function(){var p;return R(this,function(m){switch(m.label){case 0:return[4,function(g){return up(g).then(function(v){return v.datastore})}(s)];case 1:return p=m.sent(),new zU(s.asyncQueue,p,a,f).run(),[2]}})})}),f.promise}(Vt(r),function(s){return o(new fB(r,s))})}(this._delegate,function(r){return t(new Q0(n,r))})},e.prototype.batch=function(){var t=this;return Vt(this._delegate),new X0(new lB(this._delegate,function(n){return Gc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new V(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new V(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),mp=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ee(t,e),t.prototype.convertBytes=function(n){return new Y0(new es(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return $i.Zc(r,this.firestore,null)},t}(W0);function LA(e){var t;t=e,br.setLogLevel(t)}var Q0=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new mp(t)}return e.prototype.get=function(t){var n=this,r=ss(t);return this._delegate.get(r).then(function(o){return new Lu(n._firestore,new ui(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r._converter))})},e.prototype.set=function(t,n,r){var o=ss(t);return r?(U0("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ss(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,$e([l,n,r],s)),this},e.prototype.delete=function(t){var n=ss(t);return this._delegate.delete(n),this},e}(),X0=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=ss(t);return r?(U0("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ss(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,$e([l,n,r],s)),this},e.prototype.delete=function(t){var n=ss(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),vp=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Hc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Mu(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new mp(t),n),o.set(n,s)),s},e}();vp.eu=new WeakMap;var $i=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new mp(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new V(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ve(n._delegate,r,new X(t)))},e.Zc=function(t,n,r){return new e(n,new Ve(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $c(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $c(this.firestore,sA(this._delegate,t))}catch(n){throw un(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=We(t))instanceof Ve&&uA(this._delegate,t)},e.prototype.set=function(t,n){n=U0("DocumentReference.set",n);try{return function(r,o,s){r=be(r,Ve);var a=be(r.firestore,rt),l=dp(r._converter,o,s);return Gc(a,[hp(ns(a),"setDoc",r._key,l,r._converter!==null,s).toMutation(r._key,Mt.none())])}(this._delegate,t,n)}catch(r){throw un(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?CA(this._delegate,t):CA.apply(void 0,$e([this._delegate,t,n],r))}catch(s){throw un(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gc(be((t=this._delegate).firestore,rt),[new Pc(t._key,Mt.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=MA(n),s=jA(n,function(a){return new Lu(t.firestore,new ui(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate._converter))});return OA(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=be(r,Ve);var o=be(r.firestore,rt),s=Vt(o),a=new os(o);return function(l,f){var p=this,m=new sn;return l.asyncQueue.enqueueAndForget(function(){return L(p,void 0,void 0,function(){var g;return R(this,function(v){switch(v.label){case 0:return g=function(_,T,N){return L(this,void 0,void 0,function(){var E,b;return R(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(x,k){var P=H(x);return P.persistence.runTransaction("read document","readonly",function(C){return P.Mn.mn(C,k)})}(_,T)];case 1:return(b=I.sent()).isFoundDocument()?N.resolve(b):b.isNoDocument()?N.resolve(null):N.reject(new V(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=I.sent(),b=Ou(E,"Failed to get document '"+T+" from cache"),N.reject(b),[3,3];case 3:return[2]}})})},[4,$k(l)];case 1:return[2,g.apply(void 0,[v.sent(),f,m])]}})})}),m.promise}(s,r._key).then(function(l){return new ui(o,a,r._key,l,new is(l!==null&&l.hasLocalMutations,!0),r._converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=be(r,Ve);var o=be(r.firestore,rt);return Xk(Vt(o),r._key,{source:"server"}).then(function(s){return $0(o,r,s)})}(this._delegate):function(r){r=be(r,Ve);var o=be(r.firestore,rt);return Xk(Vt(o),r._key).then(function(s){return $0(o,r,s)})}(this._delegate)).then(function(r){return new Lu(n.firestore,new ui(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function un(e,t,n){return e.message=e.message.replace(t,n),e}function MA(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ru(r))return r}return{}}function jA(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Ru(e[0])?e[0]:Ru(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Lu=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new $i(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return EA(this._delegate,t._delegate)},e}(),Mu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ee(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Lu),Wc=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new mp(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Gi(this._delegate,function(o,s,a){var l=s,f=pp("where",o);return new uB(f,l,a)}(t,n,r)))}catch(o){throw un(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Gi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,a=pp("orderBy",r);return new aB(a,s)}(t,n)))}catch(r){throw un(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Gi(this._delegate,function(n){return iA("limit",n),new NA("limit",n,"F")}(t)))}catch(n){throw un(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Gi(this._delegate,function(n){return iA("limitToLast",n),new NA("limitToLast",n,"L")}(t)))}catch(n){throw un(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new kA("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw un(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new kA("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw un(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new AA("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw un(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new AA("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw un(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return aA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=be(r,jn);var o=be(r.firestore,rt),s=Vt(o),a=new os(o);return function(l,f){var p=this,m=new sn;return l.asyncQueue.enqueueAndForget(function(){return L(p,void 0,void 0,function(){var g;return R(this,function(v){switch(v.label){case 0:return g=function(_,T,N){return L(this,void 0,void 0,function(){var E,b,I,x,k;return R(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,ep(_,T,!0)];case 1:return k=P.sent(),E=new jk(T,k.Bn),b=E._o(k.documents),I=E.applyChanges(b,!1),N.resolve(I.snapshot),[3,3];case 2:return x=P.sent(),k=Ou(x,"Failed to execute query '"+T+" against cache"),N.reject(k),[3,3];case 3:return[2]}})})},[4,$k(l)];case 1:return[2,g.apply(void 0,[v.sent(),f,m])]}})})}),m.promise}(s,r._query).then(function(l){return new Ki(o,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=be(r,jn);var o=be(r.firestore,rt),s=Vt(o),a=new os(o);return Jk(s,r._query,{source:"server"}).then(function(l){return new Ki(o,a,r,l)})}(this._delegate):function(r){r=be(r,jn);var o=be(r.firestore,rt),s=Vt(o),a=new os(o);return _A(r._query),Jk(s,r._query).then(function(l){return new Ki(o,a,r,l)})}(this._delegate)).then(function(r){return new yp(n.firestore,new Ki(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=MA(n),s=jA(n,function(a){return new yp(t.firestore,new Ki(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return OA(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),hB=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Mu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),yp=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Wc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Mu(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new hB(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Mu(r._firestore,o))})},e.prototype.isEqual=function(t){return EA(this._delegate,t._delegate)},e}(),$c=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return ee(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new $i(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new $i(this.firestore,n===void 0?lp(this._delegate):lp(this._delegate,n))}catch(r){throw un(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var a=be(o.firestore,rt),l=lp(o),f=dp(o._converter,s);return Gc(a,[hp(ns(o.firestore),"addDoc",l._key,f,o._converter!==null,{}).toMutation(l._key,Mt.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new $i(r.firestore,o)})},t.prototype.isEqual=function(n){return uA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(vp.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(Wc);function ss(e){return be(e,Ve)}var FA=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Vr.bind.apply(Vr,$e([void 0],t)))}return e.documentId=function(){return new e(Qn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=We(t))instanceof Vr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),VA=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new eB("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new z0("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new tB("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new nB("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new rB("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();var pB={Firestore:J0,GeoPoint:qc,Timestamp:rn,Blob:Y0,Transaction:Q0,WriteBatch:X0,DocumentReference:$i,DocumentSnapshot:Lu,Query:Wc,QueryDocumentSnapshot:Mu,QuerySnapshot:yp,CollectionReference:$c,FieldPath:FA,FieldValue:VA,setLogLevel:LA,CACHE_SIZE_UNLIMITED:cA};function dB(e){(function(t,n){t.INTERNAL.registerComponent(new vr("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pB)))})(e,function(t,n){return new J0(t,new rt(t,n),new RA)}),e.registerVersion("@firebase/firestore","2.2.5")}dB(J);var mB="AIzaSyDnb7CnJxySsm2_w1Yq1l3ZlsRsN2qe16c",vB="collectio-photo-2233e.firebaseapp.com",yB="collectio-photo-2233e",gB="collectio-photo-2233e.appspot.com",wB="590643802391",bB="1:590643802391:web:ad661fba7fb099ca018752",EB="G-X7DEP88WR5",UA={apiKey:mB,authDomain:vB,projectId:yB,storageBucket:gB,messagingSenderId:wB,appId:bB,measurementId:EB};var vR=Ze(Fn()),yR=Ze(rD());var Kt=Ze(Fn());function $l(e,t){return $l=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},$l(e,t)}function _n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$l(e,t)}var Qe=Ze(Fn()),uH=Ze(Od());function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function Pd(e){return e.charAt(0)==="/"}function v1(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}function A6(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&Pd(e),s=t&&Pd(t),a=o||s;if(e&&Pd(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l;if(r.length){var f=r[r.length-1];l=f==="."||f===".."||f===""}else l=!1;for(var p=0,m=r.length;m>=0;m--){var g=r[m];g==="."?v1(r,m):g===".."?(v1(r,m),p++):p&&(v1(r,m),p--)}if(!a)for(;p--;p)r.unshift("..");a&&r[0]!==""&&(!r[0]||!Pd(r[0]))&&r.unshift("");var v=r.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}var fD=A6;var C6=!0,hD="Invariant failed";function O6(e,t){if(!e)throw C6?new Error(hD):new Error(hD+": "+(t||""))}var Sr=O6;function Yl(e){return e.charAt(0)==="/"?e:"/"+e}function pD(e){return e.charAt(0)==="/"?e.substr(1):e}function P6(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function dD(e,t){return P6(e,t)?e.substr(t.length):e}function mD(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function D6(e){var t=e||"/",n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substr(o),t=t.substr(0,o));var s=t.indexOf("?");return s!==-1&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function Bn(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(o+=r.charAt(0)==="#"?r:"#"+r),o}function ln(e,t,n,r){var o;typeof e=="string"?(o=D6(e),o.state=t):(o=it({},e),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",t!==void 0&&o.state===void 0&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=fD(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function y1(){var e=null;function t(a){return e=a,function(){e===a&&(e=null)}}function n(a,l,f,p){if(e!=null){var m=typeof e=="function"?e(a,l):e;typeof m=="string"?typeof f=="function"?f(m,p):p(!0):p(m!==!1)}else p(!0)}var r=[];function o(a){var l=!0;function f(){l&&a.apply(void 0,arguments)}return r.push(f),function(){l=!1,r=r.filter(function(p){return p!==f})}}function s(){for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];r.forEach(function(p){return p.apply(void 0,l)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:o,notifyListeners:s}}var vD=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function yD(e,t){t(window.confirm(e))}function R6(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function L6(){return window.navigator.userAgent.indexOf("Trident")===-1}function M6(){return window.navigator.userAgent.indexOf("Firefox")===-1}function j6(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var gD="popstate",wD="hashchange";function bD(){try{return window.history.state||{}}catch(e){return{}}}function ED(e){e===void 0&&(e={}),vD||Sr(!1);var t=window.history,n=R6(),r=!L6(),o=e,s=o.forceRefresh,a=s===void 0?!1:s,l=o.getUserConfirmation,f=l===void 0?yD:l,p=o.keyLength,m=p===void 0?6:p,g=e.basename?mD(Yl(e.basename)):"";function v(ie){var we=ie||{},Q=we.key,oe=we.state,ve=window.location,xe=ve.pathname,$t=ve.search,Yt=ve.hash,mt=xe+$t+Yt;return g&&(mt=dD(mt,g)),ln(mt,oe,Q)}function _(){return Math.random().toString(36).substr(2,m)}var T=y1();function N(ie){it(Wt,ie),Wt.length=t.length,T.notifyListeners(Wt.location,Wt.action)}function E(ie){j6(ie)||x(v(ie.state))}function b(){x(v(bD()))}var I=!1;function x(ie){if(I)I=!1,N();else{var we="POP";T.confirmTransitionTo(ie,we,f,function(Q){Q?N({action:we,location:ie}):k(ie)})}}function k(ie){var we=Wt.location,Q=C.indexOf(we.key);Q===-1&&(Q=0);var oe=C.indexOf(ie.key);oe===-1&&(oe=0);var ve=Q-oe;ve&&(I=!0,he(ve))}var P=v(bD()),C=[P.key];function F(ie){return g+Bn(ie)}function z(ie,we){var Q="PUSH",oe=ln(ie,we,_(),Wt.location);T.confirmTransitionTo(oe,Q,f,function(ve){if(!!ve){var xe=F(oe),$t=oe.key,Yt=oe.state;if(n)if(t.pushState({key:$t,state:Yt},null,xe),a)window.location.href=xe;else{var mt=C.indexOf(Wt.location.key),$r=C.slice(0,mt+1);$r.push(oe.key),C=$r,N({action:Q,location:oe})}else window.location.href=xe}})}function M(ie,we){var Q="REPLACE",oe=ln(ie,we,_(),Wt.location);T.confirmTransitionTo(oe,Q,f,function(ve){if(!!ve){var xe=F(oe),$t=oe.key,Yt=oe.state;if(n)if(t.replaceState({key:$t,state:Yt},null,xe),a)window.location.replace(xe);else{var mt=C.indexOf(Wt.location.key);mt!==-1&&(C[mt]=oe.key),N({action:Q,location:oe})}else window.location.replace(xe)}})}function he(ie){t.go(ie)}function A(){he(-1)}function Gt(){he(1)}var Tn=0;function Sn(ie){Tn+=ie,Tn===1&&ie===1?(window.addEventListener(gD,E),r&&window.addEventListener(wD,b)):Tn===0&&(window.removeEventListener(gD,E),r&&window.removeEventListener(wD,b))}var dt=!1;function zn(ie){ie===void 0&&(ie=!1);var we=T.setPrompt(ie);return dt||(Sn(1),dt=!0),function(){return dt&&(dt=!1,Sn(-1)),we()}}function Hn(ie){var we=T.appendListener(ie);return Sn(1),function(){Sn(-1),we()}}var Wt={length:t.length,action:"POP",location:P,createHref:F,push:z,replace:M,go:he,goBack:A,goForward:Gt,block:zn,listen:Hn};return Wt}var _D="hashchange",F6={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+pD(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:pD,decodePath:Yl},slash:{encodePath:Yl,decodePath:Yl}};function ID(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Ql(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function V6(e){window.location.hash=e}function g1(e){window.location.replace(ID(window.location.href)+"#"+e)}function TD(e){e===void 0&&(e={}),vD||Sr(!1);var t=window.history,n=M6(),r=e,o=r.getUserConfirmation,s=o===void 0?yD:o,a=r.hashType,l=a===void 0?"slash":a,f=e.basename?mD(Yl(e.basename)):"",p=F6[l],m=p.encodePath,g=p.decodePath;function v(){var Q=g(Ql());return f&&(Q=dD(Q,f)),ln(Q)}var _=y1();function T(Q){it(we,Q),we.length=t.length,_.notifyListeners(we.location,we.action)}var N=!1,E=null;function b(Q,oe){return Q.pathname===oe.pathname&&Q.search===oe.search&&Q.hash===oe.hash}function I(){var Q=Ql(),oe=m(Q);if(Q!==oe)g1(oe);else{var ve=v(),xe=we.location;if(!N&&b(xe,ve)||E===Bn(ve))return;E=null,x(ve)}}function x(Q){if(N)N=!1,T();else{var oe="POP";_.confirmTransitionTo(Q,oe,s,function(ve){ve?T({action:oe,location:Q}):k(Q)})}}function k(Q){var oe=we.location,ve=z.lastIndexOf(Bn(oe));ve===-1&&(ve=0);var xe=z.lastIndexOf(Bn(Q));xe===-1&&(xe=0);var $t=ve-xe;$t&&(N=!0,Gt($t))}var P=Ql(),C=m(P);P!==C&&g1(C);var F=v(),z=[Bn(F)];function M(Q){var oe=document.querySelector("base"),ve="";return oe&&oe.getAttribute("href")&&(ve=ID(window.location.href)),ve+"#"+m(f+Bn(Q))}function he(Q,oe){var ve="PUSH",xe=ln(Q,void 0,void 0,we.location);_.confirmTransitionTo(xe,ve,s,function($t){if(!!$t){var Yt=Bn(xe),mt=m(f+Yt),$r=Ql()!==mt;if($r){E=Yt,V6(mt);var Se=z.lastIndexOf(Bn(we.location)),Zl=z.slice(0,Se+1);Zl.push(Yt),z=Zl,T({action:ve,location:xe})}else T()}})}function A(Q,oe){var ve="REPLACE",xe=ln(Q,void 0,void 0,we.location);_.confirmTransitionTo(xe,ve,s,function($t){if(!!$t){var Yt=Bn(xe),mt=m(f+Yt),$r=Ql()!==mt;$r&&(E=Yt,g1(mt));var Se=z.indexOf(Bn(we.location));Se!==-1&&(z[Se]=Yt),T({action:ve,location:xe})}})}function Gt(Q){t.go(Q)}function Tn(){Gt(-1)}function Sn(){Gt(1)}var dt=0;function zn(Q){dt+=Q,dt===1&&Q===1?window.addEventListener(_D,I):dt===0&&window.removeEventListener(_D,I)}var Hn=!1;function Wt(Q){Q===void 0&&(Q=!1);var oe=_.setPrompt(Q);return Hn||(zn(1),Hn=!0),function(){return Hn&&(Hn=!1,zn(-1)),oe()}}function ie(Q){var oe=_.appendListener(Q);return zn(1),function(){zn(-1),oe()}}var we={length:t.length,action:"POP",location:F,createHref:M,push:he,replace:A,go:Gt,goBack:Tn,goForward:Sn,block:Wt,listen:ie};return we}function SD(e,t,n){return Math.min(Math.max(e,t),n)}function ND(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=r===void 0?["/"]:r,s=t.initialIndex,a=s===void 0?0:s,l=t.keyLength,f=l===void 0?6:l,p=y1();function m(z){it(F,z),F.length=F.entries.length,p.notifyListeners(F.location,F.action)}function g(){return Math.random().toString(36).substr(2,f)}var v=SD(a,0,o.length-1),_=o.map(function(z){return typeof z=="string"?ln(z,void 0,g()):ln(z,void 0,z.key||g())}),T=Bn;function N(z,M){var he="PUSH",A=ln(z,M,g(),F.location);p.confirmTransitionTo(A,he,n,function(Gt){if(!!Gt){var Tn=F.index,Sn=Tn+1,dt=F.entries.slice(0);dt.length>Sn?dt.splice(Sn,dt.length-Sn,A):dt.push(A),m({action:he,location:A,index:Sn,entries:dt})}})}function E(z,M){var he="REPLACE",A=ln(z,M,g(),F.location);p.confirmTransitionTo(A,he,n,function(Gt){!Gt||(F.entries[F.index]=A,m({action:he,location:A}))})}function b(z){var M=SD(F.index+z,0,F.entries.length-1),he="POP",A=F.entries[M];p.confirmTransitionTo(A,he,n,function(Gt){Gt?m({action:he,location:A,index:M}):m()})}function I(){b(-1)}function x(){b(1)}function k(z){var M=F.index+z;return M>=0&&M<F.entries.length}function P(z){return z===void 0&&(z=!1),p.setPrompt(z)}function C(z){return p.appendListener(z)}var F={length:_.length,action:"POP",location:_[v],index:v,entries:_,createHref:T,push:N,replace:E,go:b,goBack:I,goForward:x,canGo:k,block:P,listen:C};return F}var Xl=Ze(Fn());var w1=Ze(Od());var b1=1073741823,xD=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function U6(){var e="__global_unique_id__";return xD[e]=(xD[e]||0)+1}function B6(e,t){return e===t?e!==0||1/e==1/t:e!==e&&t!==t}function q6(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(o){return o!==r})},get:function(){return e},set:function(r,o){e=r,t.forEach(function(s){return s(e,o)})}}}function z6(e){return Array.isArray(e)?e[0]:e}function H6(e,t){var n,r,o="__create-react-context-"+U6()+"__",s=function(l){_n(f,l);function f(){var m;return m=l.apply(this,arguments)||this,m.emitter=q6(m.props.value),m}var p=f.prototype;return p.getChildContext=function(){var g;return g={},g[o]=this.emitter,g},p.componentWillReceiveProps=function(g){if(this.props.value!==g.value){var v=this.props.value,_=g.value,T;B6(v,_)?T=0:(T=typeof t=="function"?t(v,_):b1,T|=0,T!==0&&this.emitter.set(g.value,T))}},p.render=function(){return this.props.children},f}(Xl.Component);s.childContextTypes=(n={},n[o]=w1.default.object.isRequired,n);var a=function(l){_n(f,l);function f(){var m;return m=l.apply(this,arguments)||this,m.state={value:m.getValue()},m.onUpdate=function(g,v){var _=m.observedBits|0;(_&v)!=0&&m.setState({value:m.getValue()})},m}var p=f.prototype;return p.componentWillReceiveProps=function(g){var v=g.observedBits;this.observedBits=v==null?b1:v},p.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var g=this.props.observedBits;this.observedBits=g==null?b1:g},p.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},p.getValue=function(){return this.context[o]?this.context[o].get():e},p.render=function(){return z6(this.props.children)(this.state.value)},f}(Xl.Component);return a.contextTypes=(r={},r[o]=w1.default.object,r),{Provider:s,Consumer:a}}var K6=Xl.default.createContext||H6,E1=K6;var HD=Ze(DD()),dH=Ze(k1());function yo(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var KD=Ze(zD()),hz=function(t){var n=E1();return n.displayName=t,n},pz=hz("Router-History"),dz=function(t){var n=E1();return n.displayName=t,n},go=dz("Router"),Jl=function(e){_n(t,e),t.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function t(r){var o;return o=e.call(this,r)||this,o.state={location:r.history.location},o._isMounted=!1,o._pendingLocation=null,r.staticContext||(o.unlisten=r.history.listen(function(s){o._isMounted?o.setState({location:s}):o._pendingLocation=s})),o}var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return Qe.default.createElement(go.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Qe.default.createElement(pz.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Qe.default.Component),yH=function(e){_n(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.history=ND(r.props),r}var n=t.prototype;return n.render=function(){return Qe.default.createElement(Jl,{history:this.history,children:this.props.children})},t}(Qe.default.Component),gH=function(e){_n(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Qe.default.Component);var GD={},mz=1e4,WD=0;function vz(e,t){var n=""+t.end+t.strict+t.sensitive,r=GD[n]||(GD[n]={});if(r[e])return r[e];var o=[],s=(0,HD.default)(e,o,t),a={regexp:s,keys:o};return WD<mz&&(r[e]=a,WD++),a}function Kd(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,s=o===void 0?!1:o,a=n.strict,l=a===void 0?!1:a,f=n.sensitive,p=f===void 0?!1:f,m=[].concat(r);return m.reduce(function(g,v){if(!v&&v!=="")return null;if(g)return g;var _=vz(v,{end:s,strict:l,sensitive:p}),T=_.regexp,N=_.keys,E=T.exec(e);if(!E)return null;var b=E[0],I=E.slice(1),x=e===b;return s&&!x?null:{path:v,url:v==="/"&&b===""?"/":b,isExact:x,params:N.reduce(function(k,P,C){return k[P.name]=I[C],k},{})}},null)}var Is=function(e){_n(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var o=this;return Qe.default.createElement(go.Consumer,null,function(s){s||Sr(!1);var a=o.props.location||s.location,l=o.props.computedMatch?o.props.computedMatch:o.props.path?Kd(a.pathname,o.props):s.match,f=it({},s,{location:a,match:l}),p=o.props,m=p.children,g=p.component,v=p.render;return Array.isArray(m)&&m.length===0&&(m=null),Qe.default.createElement(go.Provider,{value:f},f.match?m?typeof m=="function"?m(f):m:g?Qe.default.createElement(g,f):v?v(f):null:typeof m=="function"?m(f):null)})},t}(Qe.default.Component);function O1(e){return e.charAt(0)==="/"?e:"/"+e}function yz(e,t){return e?it({},t,{pathname:O1(e)+t.pathname}):t}function gz(e,t){if(!e)return t;var n=O1(e);return t.pathname.indexOf(n)!==0?t:it({},t,{pathname:t.pathname.substr(n.length)})}function $D(e){return typeof e=="string"?e:Bn(e)}function P1(e){return function(){Sr(!1)}}function YD(){}var wH=function(e){_n(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.handlePush=function(l){return r.navigateTo(l,"PUSH")},r.handleReplace=function(l){return r.navigateTo(l,"REPLACE")},r.handleListen=function(){return YD},r.handleBlock=function(){return YD},r}var n=t.prototype;return n.navigateTo=function(o,s){var a=this.props,l=a.basename,f=l===void 0?"":l,p=a.context,m=p===void 0?{}:p;m.action=s,m.location=yz(f,ln(o)),m.url=$D(m.location)},n.render=function(){var o=this.props,s=o.basename,a=s===void 0?"":s,l=o.context,f=l===void 0?{}:l,p=o.location,m=p===void 0?"/":p,g=yo(o,["basename","context","location"]),v={createHref:function(T){return O1(a+$D(T))},action:"POP",location:gz(a,ln(m)),push:this.handlePush,replace:this.handleReplace,go:P1("go"),goBack:P1("goBack"),goForward:P1("goForward"),listen:this.handleListen,block:this.handleBlock};return Qe.default.createElement(Jl,it({},g,{history:v,staticContext:f}))},t}(Qe.default.Component),QD=function(e){_n(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var o=this;return Qe.default.createElement(go.Consumer,null,function(s){s||Sr(!1);var a=o.props.location||s.location,l,f;return Qe.default.Children.forEach(o.props.children,function(p){if(f==null&&Qe.default.isValidElement(p)){l=p;var m=p.props.path||p.props.from;f=m?Kd(a.pathname,it({},p.props,{path:m})):s.match}}),f?Qe.default.cloneElement(l,{location:a,computedMatch:f}):null})},t}(Qe.default.Component);function Wr(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(o){var s=o.wrappedComponentRef,a=yo(o,["wrappedComponentRef"]);return Qe.default.createElement(go.Consumer,null,function(l){return l||Sr(!1),Qe.default.createElement(e,it({},a,l,{ref:s}))})};return n.displayName=t,n.WrappedComponent=e,(0,KD.default)(n,e)}var bH=Qe.default.useContext;var ur=Ze(Fn());var SH=Ze(Od());var CH=function(e){_n(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.history=ED(r.props),r}var n=t.prototype;return n.render=function(){return ur.default.createElement(Jl,{history:this.history,children:this.props.children})},t}(ur.default.Component),XD=function(e){_n(t,e);function t(){for(var r,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.history=TD(r.props),r}var n=t.prototype;return n.render=function(){return ur.default.createElement(Jl,{history:this.history,children:this.props.children})},t}(ur.default.Component),D1=function(t,n){return typeof t=="function"?t(n):t},JD=function(t,n){return typeof t=="string"?ln(t,null,null,n):t},R1=function(t){return t},ya=ur.default.forwardRef;typeof ya=="undefined"&&(ya=R1);function wz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var bz=ya(function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,s=yo(e,["innerRef","navigate","onClick"]),a=s.target,l=it({},s,{onClick:function(p){try{o&&o(p)}catch(m){throw p.preventDefault(),m}!p.defaultPrevented&&p.button===0&&(!a||a==="_self")&&!wz(p)&&(p.preventDefault(),r())}});return R1!==ya?l.ref=t||n:l.ref=n,ur.default.createElement("a",l)}),bt=ya(function(e,t){var n=e.component,r=n===void 0?bz:n,o=e.replace,s=e.to,a=e.innerRef,l=yo(e,["component","replace","to","innerRef"]);return ur.default.createElement(go.Consumer,null,function(f){f||Sr(!1);var p=f.history,m=JD(D1(s,f.location),f.location),g=m?p.createHref(m):"",v=it({},l,{href:g,navigate:function(){var T=D1(s,f.location),N=o?p.replace:p.push;N(T)}});return R1!==ya?v.ref=t||a:v.innerRef=a,ur.default.createElement(r,v)})});var ZD=function(t){return t},Gd=ur.default.forwardRef;typeof Gd=="undefined"&&(Gd=ZD);function Ez(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}var OH=Gd(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,o=e.activeClassName,s=o===void 0?"active":o,a=e.activeStyle,l=e.className,f=e.exact,p=e.isActive,m=e.location,g=e.sensitive,v=e.strict,_=e.style,T=e.to,N=e.innerRef,E=yo(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ur.default.createElement(go.Consumer,null,function(b){b||Sr(!1);var I=m||b.location,x=JD(D1(T,I),I),k=x.pathname,P=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=P?Kd(I.pathname,{path:P,exact:f,sensitive:g,strict:v}):null,F=!!(p?p(C,I):C),z=F?Ez(l,s):l,M=F?it({},_,{},a):_,he=it({"aria-current":F&&r||null,className:z,style:M,to:x},E);return ZD!==Gd?he.ref=t||N:he.innerRef=N,ur.default.createElement(bt,he)})});var Xe=Ze(Fn());var eR=class extends Xe.default.Component{constructor(t){super(t);if(this.state={},this.input=null,t.albums.length>0)return;let n=[];n.push({image:"https://yabumi.cc/17901ccdcd7973907b4cfd62.jpg"});let r=new Date,o={title:"\u3042\u308B\u65E5\u306E\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u4F1A",date:`${r.getFullYear()}/${r.getMonth()+1}/${r.getDate()}`,photos:n,games:[{bgdb:"http://www.gamers-jp.com/playgame/db_gamea.php?game_id=6959",bgg:"https://boardgamegeek.com/boardgame/191895",bodogema:"https://bodoge.hoobby.net/games/golovonogi",etitle:"Toddles-Bobbles Green",hasJPURL:1,id:"95735",keyword:"\u306A\u3093\u3058\u3083\u3082\u3093\u3058\u3083,\u307F\u3069\u308A,\u7DD1",maxPlayers:6,minPlayers:2,playAge:4,playingTime:15,title:"\u30CA\u30F3\u30B8\u30E3\u30E2\u30F3\u30B8\u30E3\u30FB\u30DF\u30C9\u30EA",year:"2010",image:"https://db.collectio.jp/wp-content/uploads/2019/05/95735.jpg"},{bgdb:"",bgg:"https://boardgamegeek.com/boardgame/230802",bodogema:"https://bodoge.hoobby.net/games/azul",etitle:"Azul",hasJPURL:1,id:"72660",keyword:"",maxPlayers:4,minPlayers:2,playAge:8,playingTime:45,title:"\u30A2\u30BA\u30FC\u30EB",year:"2017",image:"https://db.collectio.jp/wp-content/uploads/2019/05/72660.jpg"},{bgdb:"http://www.gamers-jp.com/playgame/db_gamea.php?game_id=4786",bgg:"https://boardgamegeek.com/boardgame/68448",bodogema:"https://bodoge.hoobby.net/games/7-wonders",etitle:"7 Wonders",hasJPURL:1,id:"81063",keyword:"\u305B\u304B\u3044\u306E\u306A\u306A\u3075\u3057\u304E \u305B\u3076\u3093\u308F\u3093\u3060\u30FC 7\u308F\u3093\u3060\u30FC",maxPlayers:"",minPlayers:"",playAge:"",playingTime:"",title:"\u4E16\u754C\u306E\u4E03\u4E0D\u601D\u8B70",year:"2010",image:"https://db.collectio.jp/wp-content/uploads/2019/05/81063.jpg"},{bgdb:null,bgg:null,bodogema:null,etitle:"",hasJPURL:1,id:"110318",keyword:"",maxPlayers:null,minPlayers:null,playAge:null,playingTime:null,title:"Escape from the Office: The exciting escape game \u2013 escape your boss",year:"0",image:null}]};t.setAlbums(o)}setInputRef(t){this.input=t}loadImage(){if(this.input&&this.input.files){let t=null,n=[];Array.from(this.input.files).map(r=>{t=new FileReader,t.onload=async o=>{var s,a;if(n.push({image:await this.resizeImage(o.target.result)}),((a=(s=this.input)==null?void 0:s.files)==null?void 0:a.length)===n.length){let l=new Date,f={title:"\u3042\u308B\u65E5\u306E\u30DC\u30FC\u30C9\u30B2\u30FC\u30E0\u4F1A",date:`${l.getFullYear()}/${l.getMonth()+1}/${l.getDate()}`,photos:n,games:[]};this.props.setAlbums(f)}},t.readAsDataURL(r)})}}resizeImage(t){return new Promise((n,r)=>{let o=640,s=document.createElement("canvas"),a=s.getContext("2d");if(a){let l=new Image;l.crossOrigin="Anonymous",l.onload=f=>{let p=f.target,m,g;p.width>p.height?(m=o,g=p.height*o/p.width):(g=o,m=p.width*o/p.height),s.width=m,s.height=g,a.drawImage(p,0,0,p.width,p.height,0,0,m,g),n(s.toDataURL())},l.src=t}else r()})}componentDidMount(){this.input&&this.input.addEventListener("change",this.loadImage.bind(this))}render(){return Xe.default.createElement("div",{id:"home"},Xe.default.createElement("nav",null,Xe.default.createElement(bt,{to:"/"},Xe.default.createElement("img",{className:"logo",src:"./assets/collectio.svg",alt:"Collectio"}))),Xe.default.createElement("div",{className:"albums"},this.props.albums.map(t=>Xe.default.createElement(bt,{to:{pathname:"/album",state:{album:t}},key:t.title+t.date},Xe.default.createElement("div",{className:"album"},Xe.default.createElement("div",{className:"image"},Xe.default.createElement("h4",null,t.title),Xe.default.createElement("span",null,t.date),Xe.default.createElement("div",{className:"photos"},t.photos.map(n=>Xe.default.createElement("div",{key:n.image,className:"photo",style:{backgroundImage:`url(${n.image})`}})))),Xe.default.createElement("div",{className:"games"},t.games.map((n,r)=>Xe.default.createElement("div",{key:"game"+r,className:"game"},n.image?Xe.default.createElement("img",{src:n.image,alt:n.title}):Xe.default.createElement("span",{className:"title"},n.title)))))))),Xe.default.createElement("form",{action:"",encType:"multipart/form-data"},Xe.default.createElement("input",{className:"file",id:"file",type:"file",name:"file",accept:"image/*",multiple:!0,ref:this.setInputRef.bind(this)}),Xe.default.createElement("label",{htmlFor:"file"})))}},tR=eR;var je=Ze(Fn());var nR=class extends je.default.Component{constructor(t){super(t);this.state={}}render(){try{let{album:t}=this.props.location.state;return je.default.createElement("div",{id:"album"},je.default.createElement("nav",null,je.default.createElement(bt,{to:"/"},je.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),je.default.createElement("span",null),je.default.createElement("span",{onClick:()=>alert("\u30A2\u30EB\u30D0\u30E0\u306E\u30BF\u30A4\u30C8\u30EB\u7DE8\u96C6\u30FB\u30A2\u30EB\u30D0\u30E0\u306E\u524A\u9664\u6A5F\u80FD\u306A\u3069\u304C\u304F\u308B\u4E88\u5B9A")},je.default.createElement("img",{src:"./assets/menu.svg",alt:"menu"}))),je.default.createElement("div",{className:"album"},je.default.createElement("div",{className:"hero"},je.default.createElement("h4",null,t.title),je.default.createElement("span",null,t.date),je.default.createElement("div",{className:"cover",style:{backgroundImage:`url(${t.photos[0].image})`}})),je.default.createElement("div",{className:"actions"},je.default.createElement(bt,{to:{pathname:"/select",state:{album:t}},className:"add"},"\u904A\u3093\u3060\u30B2\u30FC\u30E0"),je.default.createElement(bt,{to:{pathname:"/albumSelect",state:{album:t}},className:"share"},"\u30B7\u30A7\u30A2")),je.default.createElement("div",{className:"games"},t.games.map((n,r)=>je.default.createElement("div",{key:"game"+r,className:"game"},n.image?je.default.createElement("img",{src:n.image,alt:n.title}):je.default.createElement("span",{className:"title"},n.title)))),je.default.createElement("div",{className:"photos"},t.photos.map((n,r)=>je.default.createElement(bt,{to:{pathname:"/photo",state:{album:t,photo:n}},key:n.image},je.default.createElement("div",{className:"photo",style:{backgroundImage:`url(${n.image})`}}))))))}catch(t){alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`),this.props.history.push("/"),location.reload()}}},rR=Wr(nR);var In=Ze(Fn());var iR=class extends In.default.Component{constructor(t){super(t);this.state={selectedImageIndex:[],selectDisabled:!1}}select(t){this.state.selectedImageIndex.indexOf(t)===-1?this.state.selectDisabled===!1&&this.state.selectedImageIndex.push(t):(this.state.selectedImageIndex.splice(this.state.selectedImageIndex.indexOf(t),1),this.setState({selectDisabled:!1})),this.state.selectedImageIndex.length>=4&&this.setState({selectDisabled:!0}),this.setState({})}share(){let{album:t}=this.props.location.state;if(this.state.selectedImageIndex.length===0)return alert("\u5199\u771F\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044");let n=t.photos.filter((r,o)=>this.state.selectedImageIndex.indexOf(o)>-1);this.props.history.push({pathname:"/share",state:{photos:n,album:t}})}render(){try{let{album:t}=this.props.location.state;return In.default.createElement("div",{id:"albumSelect"},In.default.createElement("nav",null,In.default.createElement(bt,{to:{pathname:"/album",state:{album:t}}},In.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),In.default.createElement("span",null,"\u5199\u771F\u306E\u9078\u629E"),In.default.createElement("span",null)),In.default.createElement("div",{className:"album"},In.default.createElement("div",{className:"photos"},t.photos.map((n,r)=>In.default.createElement("div",{className:"photo"+(this.state.selectDisabled?" disabled":""),onClick:this.select.bind(this,r),style:{backgroundImage:`url(${n.image})`}},In.default.createElement("span",{className:"select"+(this.state.selectedImageIndex.indexOf(r)>-1?" selected":"")})))),In.default.createElement("div",{className:"bottomActions"},In.default.createElement("span",{className:"share",onClick:this.share.bind(this)},"\u6B21\u3078"))))}catch(t){alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`),this.props.history.push("/"),location.reload()}}},oR=Wr(iR);var ga=Ze(Fn());var sR=class extends ga.default.Component{constructor(t){super(t);this.state={}}render(){let{photo:t}=this.props.location.state,{album:n}=this.props.location.state;return ga.default.createElement("div",{id:"photo"},ga.default.createElement("div",{style:{backgroundImage:`url(${t.image})`}}),ga.default.createElement(bt,{to:{pathname:"/album",state:{album:n}},className:"close"},ga.default.createElement("img",{src:"./assets/close.svg"})))}},uR=Wr(sR);var pt=Ze(Fn());var cR=Ze(aR()),lR=class extends pt.default.Component{constructor(t){super(t);this.textInput=null;try{let{album:n}=this.props.location.state;this.state={index:0,loading:!1,album:n,suggests:[]}}catch(n){this.props.history.push("/"),location.reload(),alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`)}}componentDidMount(){this.textInput&&(this.textInput.addEventListener("focus",()=>{scrollTo(0,140)}),this.textInput.focus()),fetch("https://db-api-mxiq5qapta-an.a.run.app/search")}setTextInputRef(t){this.textInput=t}hiraToKana(t){return t.replace(/[\u3041-\u3096]/g,function(n){let r=n.charCodeAt(0)+96;return String.fromCharCode(r)})}async onSearch(t){t.preventDefault();let n=this.textInput.value;if(n==="")return this.setState({suggests:[]});let r=await this.search(n);this.setState({loading:!0}),r.length===0&&(r=await this.search(this.hiraToKana(n)));let o=await this.suggest(n);this.setState({loading:!1});let s=r.concat(o);s.length===0&&(s=[{title:n}]),this.setState({suggests:s})}async search(t){let n=await fetch("https://db-api-mxiq5qapta-an.a.run.app/search?q="+encodeURIComponent(t)).then(o=>o.json()),r=[];return n.map(o=>{r.push(o)}),r}async suggest(t){let n=await(0,cR.default)("https://www.google.com/complete/search?hl=ja&client=firefox&q="+encodeURIComponent(t)).then(o=>o.json()),r=[];return n[1].map(o=>{let s={title:o};r.push(s)}),r}async selectSuggest(t){let r=(await fetch(`http://db.collectio.jp/wp-json/wp/v2/posts/${t.id}?_embed`).then(o=>o.json())).featured_image.src;r!=="http://db.collectio.jp/wp-includes/images/media/default.png"?t.image=r:t.image=null,this.state.album.games.push(t),this.setState({suggests:[]}),this.textInput.value=""}render(){return pt.default.createElement("div",{id:"select"},pt.default.createElement("nav",null,pt.default.createElement(bt,{to:{pathname:"/album",state:{album:this.state.album}},className:"back"},pt.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"})),pt.default.createElement(bt,{to:{pathname:"/album",state:{album:this.state.album}},className:"complete"},"\u5B8C\u4E86")),pt.default.createElement("form",{action:"",onSubmit:this.onSearch.bind(this)},pt.default.createElement("div",{className:"bg"},pt.default.createElement("input",{type:"text",ref:this.setTextInputRef.bind(this),placeholder:"\u30B2\u30FC\u30E0\u3092\u691C\u7D22",onChange:this.onSearch.bind(this)})),this.state.suggests.length===0&&this.state.loading?pt.default.createElement("div",{className:"suggests"},"\u8AAD\u307F\u8FBC\u307F\u4E2D..."):null,this.state.suggests.length>0?pt.default.createElement("div",{className:"suggests"},this.state.suggests.slice(0,100).map((t,n)=>pt.default.createElement("div",{key:"suggest"+n,onClick:this.selectSuggest.bind(this,t)},t.title))):null),this.state.album.games.length>0?pt.default.createElement("div",{className:"games"},pt.default.createElement("h3",null,"\u904A\u3093\u3060\u30B2\u30FC\u30E0"),this.state.album.games.map((t,n)=>pt.default.createElement("div",{key:"game"+n,className:"game"},t.image?pt.default.createElement("img",{src:t.image,alt:""}):pt.default.createElement("span",{className:"image"}),pt.default.createElement("span",{className:"title"},t.title)))):null)}},fR=Wr(lR);var ar=Ze(Fn());function _z(e,t){var n=e.split(","),r=atob(n[1]),o=r.length,s=new Uint8Array(o),a,l=n[0];if(l){var f=l.match(/:(.*?);/);f&&(a=f[1])}for(;o--;)s[o]=r.charCodeAt(o);return new File([s],t,{type:a})}var hR=class extends ar.default.Component{constructor(t){super(t);this.textArea=null;try{let{photos:n}=this.props.location.state;this.state={photos:n}}catch(n){alert(`\u30DB\u30FC\u30E0\u306B\u623B\u308A\u307E\u3059\u3002
\u7406\u7531:\u30D6\u30E9\u30A6\u30B6\u306E\u30EA\u30ED\u30FC\u30C9\u3001\u30D5\u30EA\u30C3\u30AF\u64CD\u4F5C\u3067\u306E\u623B\u308B\u306A\u3069\u3002`),this.props.history.push("/"),location.reload()}}setTextInputRef(t){this.textArea=t}share(){let t=this.textArea.value,n=[`
`],r=[];this.state.photos.map(o=>{let s=_z(o.image,"test.jpg");r.push(s),o.game&&n.indexOf(o.game.title)===-1&&n.push("#"+o.game.title)}),t+=n.join(" "),navigator.share?navigator.share({text:t,url:"https://collectio.jp/",files:r}).then(()=>{console.log("Share was successful.")}).catch(o=>{console.log("Sharing failed",o)}):alert(`\u3053\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u306F\u30B7\u30A7\u30A2\u6A5F\u80FD\u304C\u4F7F\u3048\u307E\u305B\u3093\u3002
\u6700\u65B0\u306ESafari, Chrome\u3092\u304A\u4F7F\u3044\u304F\u3060\u3055\u3044\u3002`)}render(){let{album:t}=this.props.location.state;return ar.default.createElement("div",{id:"share"},ar.default.createElement("nav",null,ar.default.createElement(bt,{to:{pathname:"/albumSelect",state:{album:t}},className:"back"},ar.default.createElement("img",{className:"logo",src:"./assets/back.svg",alt:"\u623B\u308B"}))),ar.default.createElement("div",{className:"photos"},this.state.photos.map((n,r)=>ar.default.createElement("div",{className:"photo",style:{backgroundImage:`url(${n.image})`}}))),ar.default.createElement("textarea",{name:"comment",id:"comment",ref:this.setTextInputRef.bind(this),placeholder:"\u30B2\u30FC\u30E0\u3092\u904A\u3093\u3060\u611F\u60F3\u306A\u3069"}),ar.default.createElement("button",{onClick:this.share.bind(this)},ar.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19.067",height:"24.245",viewBox:"0 0 19.067 24.245"},ar.default.createElement("path",{d:"M.005-4.834a.855.855,0,0,0,.849-.838V-16.7L.79-18.315l.73.763,1.622,1.74a.784.784,0,0,0,.58.258.751.751,0,0,0,.784-.763.75.75,0,0,0-.247-.559l-3.631-3.5a.838.838,0,0,0-.623-.29.838.838,0,0,0-.623.29l-3.631,3.5a.76.76,0,0,0-.258.559.748.748,0,0,0,.773.763.79.79,0,0,0,.591-.258l1.633-1.74.73-.763L-.854-16.7V-5.672A.865.865,0,0,0,.005-4.834ZM-6.161,3.577H6.161c2.245,0,3.373-1.117,3.373-3.33V-10.474c0-2.213-1.128-3.33-3.373-3.33h-3v1.729H6.128a1.519,1.519,0,0,1,1.676,1.7V.15a1.519,1.519,0,0,1-1.676,1.7H-6.139A1.507,1.507,0,0,1-7.8.15V-10.377a1.507,1.507,0,0,1,1.665-1.7h2.976V-13.8h-3c-2.245,0-3.373,1.117-3.373,3.33V.247C-9.534,2.46-8.406,3.577-6.161,3.577Z",transform:"translate(9.534 20.668)"})),"\u5171\u6709\u3059\u308B"))}},pR=Wr(hR);var dR=class extends Kt.default.Component{constructor(t){super(t);this.state={albums:[]}}setAlbums(t){this.state.albums.push(t),this.setState({})}render(){return Kt.default.createElement(XD,null,Kt.default.createElement(QD,null,Kt.default.createElement(Is,{exact:!0,path:"/",render:()=>Kt.default.createElement(tR,{albums:this.state.albums,setAlbums:this.setAlbums.bind(this)})}),Kt.default.createElement(Is,{path:"/album",render:()=>Kt.default.createElement(rR,null)}),Kt.default.createElement(Is,{path:"/albumSelect",render:()=>Kt.default.createElement(oR,null)}),Kt.default.createElement(Is,{path:"/photo",render:()=>Kt.default.createElement(uR,null)}),Kt.default.createElement(Is,{path:"/select",render:()=>Kt.default.createElement(fR,null)}),Kt.default.createElement(Is,{path:"/share",render:()=>Kt.default.createElement(pR,null)})))}},mR=dR;J.initializeApp(UA);var Iz=J.firestore();(location.hostname==="localhost"||location.hostname.match(/192\.168\.0\.\w+$/))&&Iz.useEmulator("localhost",8080);var hK=J.analytics(),pK=J;yR.default.render(vR.default.createElement(mR,null),document.getElementById("app"));})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=index.js.map
